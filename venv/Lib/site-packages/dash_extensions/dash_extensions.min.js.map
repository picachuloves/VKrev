{"version":3,"sources":["webpack://dash_extensions/webpack/bootstrap","webpack://dash_extensions/external \"PropTypes\"","webpack://dash_extensions/external \"React\"","webpack://dash_extensions/./node_modules/core-js/library/modules/_core.js","webpack://dash_extensions/./node_modules/react-burger-menu/lib/menuFactory.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_global.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_descriptors.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_export.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_object-dp.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_has.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_hide.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_is-object.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_fails.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_to-iobject.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_wks.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_an-object.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_property-desc.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_object-keys.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_library.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_uid.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_object-pie.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_to-object.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_to-primitive.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_defined.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_to-integer.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_shared-key.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_shared.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_enum-bug-keys.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_object-gops.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_iterators.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_object-create.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_set-to-string-tag.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_wks-ext.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_wks-define.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_ctx.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_ie8-dom-define.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_dom-create.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_object-keys-internal.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_iobject.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_cof.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_object-gpo.js","webpack://dash_extensions/./node_modules/babel-runtime/helpers/typeof.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_iter-define.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_redefine.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_object-gopn.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_object-gopd.js","webpack://dash_extensions/./node_modules/react-burger-menu/lib/snapsvgImporter.js","webpack://dash_extensions/./node_modules/react-burger-menu/lib/utils.js","webpack://dash_extensions/./node_modules/base64-js/index.js","webpack://dash_extensions/./node_modules/react-lottie/dist/index.js","webpack://dash_extensions/./node_modules/react-burger-menu/lib/BurgerMenu.js","webpack://dash_extensions/./node_modules/babel-runtime/helpers/extends.js","webpack://dash_extensions/./node_modules/babel-runtime/core-js/object/assign.js","webpack://dash_extensions/./node_modules/core-js/library/fn/object/assign.js","webpack://dash_extensions/./node_modules/core-js/library/modules/es6.object.assign.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_a-function.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_object-assign.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_array-includes.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_to-length.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_to-absolute-index.js","webpack://dash_extensions/./node_modules/babel-runtime/core-js/object/get-prototype-of.js","webpack://dash_extensions/./node_modules/core-js/library/fn/object/get-prototype-of.js","webpack://dash_extensions/./node_modules/core-js/library/modules/es6.object.get-prototype-of.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_object-sap.js","webpack://dash_extensions/./node_modules/babel-runtime/helpers/classCallCheck.js","webpack://dash_extensions/./node_modules/babel-runtime/helpers/createClass.js","webpack://dash_extensions/./node_modules/babel-runtime/core-js/object/define-property.js","webpack://dash_extensions/./node_modules/core-js/library/fn/object/define-property.js","webpack://dash_extensions/./node_modules/core-js/library/modules/es6.object.define-property.js","webpack://dash_extensions/./node_modules/babel-runtime/helpers/possibleConstructorReturn.js","webpack://dash_extensions/./node_modules/babel-runtime/core-js/symbol/iterator.js","webpack://dash_extensions/./node_modules/core-js/library/fn/symbol/iterator.js","webpack://dash_extensions/./node_modules/core-js/library/modules/es6.string.iterator.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_string-at.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_iter-create.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_object-dps.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_html.js","webpack://dash_extensions/./node_modules/core-js/library/modules/web.dom.iterable.js","webpack://dash_extensions/./node_modules/core-js/library/modules/es6.array.iterator.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_add-to-unscopables.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_iter-step.js","webpack://dash_extensions/./node_modules/babel-runtime/core-js/symbol.js","webpack://dash_extensions/./node_modules/core-js/library/fn/symbol/index.js","webpack://dash_extensions/./node_modules/core-js/library/modules/es6.symbol.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_meta.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_enum-keys.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_is-array.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_object-gopn-ext.js","webpack://dash_extensions/./node_modules/core-js/library/modules/es7.symbol.async-iterator.js","webpack://dash_extensions/./node_modules/core-js/library/modules/es7.symbol.observable.js","webpack://dash_extensions/./node_modules/babel-runtime/helpers/inherits.js","webpack://dash_extensions/./node_modules/babel-runtime/core-js/object/set-prototype-of.js","webpack://dash_extensions/./node_modules/core-js/library/fn/object/set-prototype-of.js","webpack://dash_extensions/./node_modules/core-js/library/modules/es6.object.set-prototype-of.js","webpack://dash_extensions/./node_modules/core-js/library/modules/_set-proto.js","webpack://dash_extensions/./node_modules/babel-runtime/core-js/object/create.js","webpack://dash_extensions/./node_modules/core-js/library/fn/object/create.js","webpack://dash_extensions/./node_modules/core-js/library/modules/es6.object.create.js","webpack://dash_extensions/./node_modules/lottie-web/build/player/lottie.js","webpack://dash_extensions/./node_modules/react-burger-menu/lib/menus/slide.js","webpack://dash_extensions/external \"ReactDOM\"","webpack://dash_extensions/./node_modules/react-burger-menu/lib/baseStyles.js","webpack://dash_extensions/./node_modules/react-burger-menu/lib/BurgerIcon.js","webpack://dash_extensions/./node_modules/react-burger-menu/lib/CrossIcon.js","webpack://dash_extensions/./node_modules/react-burger-menu/lib/menus/stack.js","webpack://dash_extensions/./node_modules/react-burger-menu/lib/menus/elastic.js","webpack://dash_extensions/./node_modules/snapsvg-cjs/dist/snap.svg-cjs.js","webpack://dash_extensions/./node_modules/eve/eve.js","webpack://dash_extensions/./node_modules/react-burger-menu/lib/menus/bubble.js","webpack://dash_extensions/./node_modules/react-burger-menu/lib/menus/push.js","webpack://dash_extensions/./node_modules/react-burger-menu/lib/menus/pushRotate.js","webpack://dash_extensions/./node_modules/react-burger-menu/lib/menus/scaleDown.js","webpack://dash_extensions/./node_modules/react-burger-menu/lib/menus/scaleRotate.js","webpack://dash_extensions/./node_modules/react-burger-menu/lib/menus/fallDown.js","webpack://dash_extensions/./node_modules/react-burger-menu/lib/menus/reveal.js","webpack://dash_extensions/./src/lib/components/Download.react.js","webpack://dash_extensions/./src/lib/components/Lottie.react.js","webpack://dash_extensions/./src/lib/components/Keyboard.react.js","webpack://dash_extensions/./src/lib/components/Monitor.react.js","webpack://dash_extensions/./src/lib/components/Burger.react.js","webpack://dash_extensions/./node_modules/react-ticker/dist/index.es.js","webpack://dash_extensions/./src/lib/components/Ticker.react.js","webpack://dash_extensions/./src/lib/components/WebSocket.react.js","webpack://dash_extensions/./node_modules/react-before-after-slider/dist/index.es.js","webpack://dash_extensions/./src/lib/components/BeforeAfter.react.js","webpack://dash_extensions/./src/lib/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","core","version","__e","_extends","assign","target","arguments","length","source","_createClass","defineProperties","props","descriptor","configurable","writable","Constructor","protoProps","staticProps","_interopRequireDefault","obj","_react","_react2","_reactDom2","_propTypes2","_baseStyles2","_BurgerIcon2","_CrossIcon2","styles","Menu","_Component","instance","TypeError","_classCallCheck","this","_x3","_x4","_x5","_again","receiver","Function","desc","getOwnPropertyDescriptor","undefined","parent","getPrototypeOf","_get","state","isOpen","Error","subClass","superClass","constructor","setPrototypeOf","__proto__","_inherits","firstItem","Array","from","document","getElementsByClassName","shift","focus","lastItem","pop","crossButton","getElementById","menuButton","siblingType","activeElement","className","includes","sibling","focusOnCrossButton","focusOnLastMenuItem","focusOnFirstMenuItem","focusOnMenuItem","_this","options","noStateChange","focusOnLastItem","newState","applyWrapperStyles","setState","onStateChange","disableAutoFocus","blur","body","timeoutId","clearTimeout","setTimeout","onOpen","toggleMenu","onClose","disableOverlayClick","close","set","applyClass","el","classList","htmlClassName","querySelector","bodyClassName","pageWrap","pageWrapId","handleExternalWrapper","outerContainer","outerContainerId","id","wrapperStyles","wrapper","builtStyles","getStyle","prop","style","applyOverflow","console","error","index","inline","propName","replace","charAt","toUpperCase","output","noTransition","transition","width","formattedWidth","right","e","event","disableCloseOnEsc","focusOnMenuButton","focusOnNextMenuItem","focusOnPreviousMenuItem","onKeyDown","customOnKeyDown","listenForKeyDowns","addEventListener","removeEventListener","prevProps","morphShape","path","_this2","svg","findDOMNode","lib","select","animate","attr","pathInitial","_this3","createElement","noOverlay","overlayClassName","trim","onClick","overlayClick","getStyles","customBurgerIcon","open","customIcon","burgerButtonClassName","barClassName","burgerBarClassName","onIconStateChange","morphShapeClassName","height","viewBox","preserveAspectRatio","menuClassName","itemListElement","itemListClassName","Children","map","children","item","extraProps","itemClassName","filter","join","tabIndex","cloneElement","customCrossIcon","crossButtonClassName","crossClassName","Component","propTypes","string","oneOfType","element","oneOf","func","bool","onIconHoverChange","isRequired","number","defaultProps","global","Math","self","__g","a","ctx","hide","has","$export","type","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","P","IS_BIND","B","IS_WRAP","W","expProto","C","b","apply","virtual","R","U","anObject","IE8_DOM_DEFINE","toPrimitive","dP","f","O","Attributes","it","createDesc","exec","IObject","defined","store","uid","USE_SYMBOL","isObject","bitmap","$keys","enumBugKeys","keys","px","random","concat","toString","propertyIsEnumerable","fn","val","valueOf","ceil","floor","isNaN","shared","push","copyright","split","getOwnPropertySymbols","dPs","IE_PROTO","Empty","createDict","iframeDocument","iframe","display","appendChild","src","contentWindow","write","lt","Properties","result","def","TAG","tag","stat","LIBRARY","wksExt","$Symbol","aFunction","that","is","toIObject","arrayIndexOf","names","cof","slice","toObject","ObjectProto","_iterator2","_symbol2","_typeof","default","redefine","Iterators","$iterCreate","setToStringTag","ITERATOR","BUGGY","returnThis","Base","NAME","next","DEFAULT","IS_SET","FORCED","methods","IteratorPrototype","getMethod","kind","proto","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","entries","values","hiddenKeys","getOwnPropertyNames","pIE","gOPD","Snap","pxToNum","parseInt","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","arr","Arr","_byteLength","curByte","len","revLookup","charCodeAt","fromByteArray","uint8","extraBytes","parts","len2","encodeChunk","lookup","Uint8Array","code","indexOf","start","end","num","_extends3","_getPrototypeOf2","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_lottieWeb2","Lottie","_React$Component","_ref","_temp","_ret","_len","args","_key","handleClickToPause","anim","isPaused","play","pause","_props","eventListeners","loop","autoplay","animationData","rendererSettings","segments","container","renderer","loadAnimation","registerEvents","nextProps","deRegisterEvents","destroy","isStopped","stop","playSegments","setSpeed","setDirection","speed","direction","forEach","eventListener","eventName","callback","_this4","_props2","ariaRole","ariaLabel","isClickToPauseDisabled","title","getSize","initial","lottieStyles","overflow","margin","outline","onClickHandler","ref","role","arrayOf","slide","stack","elastic","bubble","pushRotate","scaleDown","scaleRotate","fallDown","reveal","_assign","_assign2","DESCRIPTORS","getKeys","gOPS","$assign","A","K","k","T","aLen","getSymbols","isEnum","j","toLength","toAbsoluteIndex","IS_INCLUDES","$this","fromIndex","toInteger","min","max","$getPrototypeOf","fails","KEY","exp","_defineProperty","_defineProperty2","$Object","_typeof2","_typeof3","ReferenceError","$at","String","iterated","_t","_i","point","done","TO_STRING","pos","documentElement","TO_STRING_TAG","DOMIterables","Collection","addToUnscopables","step","_k","Arguments","META","$fails","wks","wksDefine","enumKeys","isArray","_create","gOPNExt","$GOPD","$GOPS","$DP","gOPN","$JSON","JSON","_stringify","stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","USE_NATIVE","QObject","setter","findChild","setSymbolDesc","D","protoDesc","wrap","sym","isSymbol","iterator","$defineProperty","$defineProperties","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","es6Symbols","wellKnownSymbols","keyFor","useSetter","useSimple","FAILS_ON_PRIMITIVES","replacer","$replacer","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","meta","NEED","fastKey","getWeak","onFreeze","symbols","arg","windowNames","getWindowNames","_setPrototypeOf2","_create2","check","test","buggy","factory","root","svgNS","locationHref","initialDefaultFrame","subframeEnabled","expressionsPlugin","isSafari","navigator","userAgent","cachedColors","bm_rounder","round","bm_rnd","bm_pow","pow","bm_sqrt","sqrt","bm_abs","abs","bm_floor","bm_max","bm_min","blitter","BMMath","ProjectInterface","propertyNames","absArr","createSizedArray","defaultCurveSegments","degToRads","PI","roundCorner","roundValues","flag","styleDiv","position","top","left","transformOrigin","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","BMEnterFrameEvent","currentTime","totalTime","frameMultiplier","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","BMAnimationConfigErrorEvent","createElementID","_count","HSVtoRGB","h","v","g","q","RGBtoHSV","addSaturationToRGB","color","offset","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","hex","colorMap","BaseEvent","triggerEvent","_cbs","splice","createTypedArray","Uint8ClampedArray","Float32Array","Int16Array","createNS","createElementNS","createTag","DynamicPropertyContainer","addDynamicProperty","dynamicProperties","_isAnimated","iterateDynamicProperties","_mdf","getValue","initDynamicPropertyContainer","getBlendMode","blendModeEnums","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","Matrix","_cos","cos","_sin","sin","_tan","tan","_rnd","reset","rotate","angle","mCos","mSin","rotateX","rotateY","rotateZ","shear","sx","sy","skew","ax","ay","skewFromAxis","scale","sz","setTransform","translate","tx","ty","tz","transform","a2","b2","c2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_p","_identityCalculated","a1","b1","c1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","p1","isIdentity","_identity","equals","matr","clone","cloneFromProps","applyToPoint","x","y","z","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","pt","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","pt1","pt2","pt3","p0","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","pool","math","startdenom","significance","ARC4","keylen","me","count","copy","mixkey","seed","smear","stringseed","tostring","fromCharCode","shortseed","flatten","depth","typ","entropy","nodecrypto","crypto","msCrypto","getRandomValues","browser","plugins","Date","screen","autoseed","arc4","prng","int32","quick","double","pass","is_math_call","BezierFactory","ob","nm","str","beziers","bezEasing","BezierEasing","float32ArraySupported","aA1","aA2","calcBezier","aT","getSlope","points","_mSampleValues","_precomputed","mX1","mY1","mX2","mY2","_precompute","_getTForX","_calcSampleValues","aX","mSampleValues","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","extendPrototype","sources","destination","sourcePrototype","getDescriptor","createProxyFunction","ProxyFunction","bezFunction","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","getBezierLength","pt4","ptCoord","perc","ptDistance","curveSegments","addedLength","lastPoint","lengthData","bezier_length_pool","newElement","percents","lengths","BezierData","segmentLength","PointData","partial","partialLength","storedData","buildBezierData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","dir","bezier_segment_points","getSegmentsLength","shapeData","segmentsLength","segments_length_pool","closed","pathV","pathO","pathI","_length","totalLength","getNewSegment","startPerc","endPerc","t0","t1","u0","u1","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","getPointInSegment","percent","pointOnLine3D","z1","z2","z3","diffDist","dist1","dist2","dist3","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","currTime","getTime","timeToCall","bez","dataFunctionManager","completeLayers","layers","comps","fontManager","layerData","jLen","kLen","completed","tt","td","hasMask","maskProps","masksProperties","convertPathsToAbsoluteValues","findCompLayers","refId","completeShapes","shapes","completeText","__used","parse","ks","checkVersion","minimum","animVersionString","animVersion","minimumVersion","checkText","iterateLayers","textLayer","documentData","assets","checkChars","chars","pathData","paths","data","__converted","checkColors","iterateShapes","checkShapes","cl","singleShape","moduleOb","__complete","dataManager","FontManager","emptyChar","size","combinedCharacters","setUpNode","font","family","parentNode","fontFamily","node","innerHTML","fontSize","fontVariant","fontStyle","fontWeight","letterSpacing","offsetWidth","familyArray","enabledFamilies","trimFontOptions","createHelper","fontData","tHelper","setAttribute","fFamily","fStyle","fWeight","textContent","fClass","getContext","Font","fonts","typekitLoaded","isLoaded","initTime","now","setIsLoadedBinded","setIsLoaded","checkLoadedFontsBinded","checkLoadedFonts","getCombinedCharacterCodes","addChars","found","ch","addFonts","defs","list","fontArr","_pendingFonts","loadedSelector","shouldLoadFont","loaded","monoCase","sansCase","fPath","fOrigin","origin","querySelectorAll","href","rel","sc","helper","cache","getCharData","char","warn","getFontByName","fName","measureText","fontName","doubleSize","getComputedTextLength","singleSize","loadedCount","removeChild","PropertyFactory","initFrame","math_abs","interpolateValue","frameNum","caching","newValue","offsetTime","propType","pv","keyData","nextKeyData","fnc","iterationIndex","lastIndex","keyframes","endValue","nextKeyTime","keyTime","to","ti","ind","__fnct","getBezierEasing","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quat","qx","qy","qz","qw","heading","atan2","attitude","asin","bank","quaternionToEuler","omega","cosom","sinom","scale0","scale1","az","aw","bx","by","bz","bw","acos","slerp","createQuaternion","c3","s1","s2","s3","getValueAtCurrentTime","comp","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","processEffectsSequence","elem","globalData","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","ValueProperty","vel","MultiDimensionalProperty","KeyframedValueProperty","st","KeyframedMultidimensionalProperty","arrLen","getProp","TransformPropertyFactory","defaultVector","TransformProperty","pre","appliedTransformations","py","pz","rx","ry","rz","or","sk","sa","_isDirty","applyToMatrix","mat","forceRender","precalculateMatrix","autoOriented","v1","v2","frameRate","getValueAtTime","autoOrient","_addDynamicProperty","getTransformProperty","ShapePath","_maxLength","setPathData","setLength","point_pool","doubleArrayLength","setXYAt","setTripleAt","vX","vY","oX","oY","iX","iY","reverse","newPath","vertices","outPoints","inPoints","init","cnt","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","localShapeCollection","shape1","shape2","shapesEqual","shape_pool","releaseShapes","addShape","ShapeProperty","shapeCollection_pool","newShapeCollection","KeyframedShapeProperty","EllShapeProperty","cPoint","convertEllToPath","s0","_cw","_v","StarShapeProperty","ir","convertToPath","convertStarToPath","convertPolygonToPath","os","rad","roundness","perimSegment","numPts","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","currentAng","ox","oy","RectShapeProperty","convertRectToPath","v0","ShapeModifiers","modifiers","registerModifier","getModifier","ShapeModifier","TrimModifier","RoundCornersModifier","RepeaterModifier","ShapeCollection","DashProperty","dataProps","dashStr","dashArray","dashoffset","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","initModifierProperties","addShapeToModifier","shape","setAsAnimated","processKeys","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","segmentOb","shapeSegments","shapeS","shapeE","releasePathsData","release","processShapes","shapePaths","_s","totalShapeLength","edges","newShapesData","addShapes","lastShape","addPaths","newPaths","addSegment","shapePath","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","segment","rd","processPath","cloned_path","currentV","currentI","currentO","closerV","distance","newPosPerc","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","matrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","unshift","resetElements","elements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","items","itemsTransform","cont","copies","group","reloadShapes","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","op","comparePoints","buildShapeString","pathNodes","_o","shapeString","ImagePreloader","proxyImage","canvas","fillStyle","fillRect","imageLoaded","loadedAssets","totalImages","imagesLoadedCb","getAssetsPath","assetData","assetsPath","original_path","imagePath","u","_imageLoaded","images","loadAssets","cb","_createImageData","setAssetsPath","setPath","getImage","img","createImgData","crossOrigin","createImageData","setAttributeNS","setCacheType","featureSupport","maskType","filtersFactory","createFilter","filId","fil","createAlphaToLuminanceFilter","feColorMatrix","assetLoader","formatResponse","xhr","response","responseText","load","errorCallback","XMLHttpRequest","responseType","err","send","onreadystatechange","readyState","status","TextAnimatorProperty","textData","renderType","_hasMaskedPath","_frameId","_textData","_renderType","_elem","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","TextAnimatorDataProperty","animatorProps","defaultData","textAnimator_animatables","sw","fc","fh","fs","fb","TextSelectorProp","getTextSelectorProp","LetterProps","TextProperty","keysIndex","canResize","minimumFontSize","currentData","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ls","of","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","searchProperty","completeTextData","searchProperties","maskManager","getMaskProperty","getMeasures","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","prevPoint","tanAngle","mask","animators","matrixHelper","mHelper","renderedLettersCount","letters","tLength","pi","letterValue","yOff","firstLine","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterO","initPathPos","initSegmentInd","initPointInd","currentLine","letterM","letterP","defaultPropsArray","animatorJustifyOffset","animatorFirstCharOffset","justifyOffsetMult","isNewLine","getMult","anIndexes","totalChars","line","extra","an","animatorOffset","add","rot","atan","update","updated","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","buildFinalText","text","charCode","charactersArray","substr","newLineFlag","charData","anchorGrouping","currentSize","currentPos","lineWidth","maxLineWidth","toLowerCase","trackingOffset","currentHeight","boxHeight","lastSpaceIndex","currentChar","uncollapsedSpaces","animatorData","letterData","based","indexes","rn","newInd","currentInd","updateDocumentData","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","_currentTextLength","finalS","finalE","xe","ne","textProperty","easer","tot","newCharsFlag","divisor","pool_factory","initialLength","_release","_clone","pooling","cloned","shapeCollection","BaseRenderer","SVGRenderer","animationItem","config","svgElement","titleElement","titleId","description","descElement","descId","maskElement","layerElement","renderConfig","imagePreserveAspectRatio","progressiveLoad","hideOnTransparent","viewBoxOnly","viewBoxSize","focusable","filterSize","pendingElements","destroyed","rendererType","CanvasRenderer","clearCanvas","context","dpr","devicePixelRatio","currentGlobalAlpha","contextData","CVContextData","transformMat","HybridRenderer","threeDElements","camera","supports3d","MaskElement","viewData","solidPath","rect","expansor","feMorph","properties","currentMasks","layerId","maskRef","filterID","expan","lastPath","lastOperator","filterId","lastRadius","createLayerSolidPath","getShapeProp","invRect","drawPath","maskedElement","addRenderableComponent","HierarchyElement","FrameElement","TransformElement","RenderableElement","RenderableDOMElement","ProcessedElement","SVGStyleData","level","lvl","hd","pElem","msElem","SVGShapeData","transformers","caches","lStr","SVGTransformData","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGGradientFillStyleData","initGradientData","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","checkLayers","ip","buildItem","checkPendingElements","createItem","layer","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","buildAllItems","includeLayers","newLayers","setProjectInterface","pInterface","projectInterface","initItems","buildElementParenting","parentName","hierarchy","setAsParent","setHierarchy","addPendingElement","searchExtraCompositions","xt","initExpressions","registerComposition","setupGlobalData","animData","fontsContainer","getAssetData","imageLoader","imagePreloader","fr","compSize","NullElement","SVGShapeElement","SVGTextElement","IImageElement","SVGCompElement","ISolidElement","configAnimation","maskId","updateContainerSize","appendElementInPos","setMatte","checkParenting","renderFrame","currentFrame","prepareFrame","getBaseElement","nextElement","insertBefore","show","CVShapeElement","CVTextElement","CVImageElement","CVCompElement","CVSolidElement","ctxTransform","cProps","cTr","trProps","canvasContext","ctxOpacity","globalAlpha","cO","restore","save","actionFlag","cArrPos","duplicate","saved","savedOp","blendMode","popped","mozTransformOrigin","transformCanvas","isDashed","elementWidth","elementHeight","elementRel","animationRel","offsetHeight","par","fillType","beginPath","closePath","clip","clearRect","newDOMElement","ddd","addTo3dContainer","nextDOMElement","nextLayer","getThreeDContainerByPos","HShapeElement","HTextElement","HCameraElement","HImageElement","HCompElement","HSolidElement","startPos","endPos","perspectiveElem","createThreeDContainer","webkitTransform","threeDContainerData","build3dContainers","lastThreeDContainerData","currentContainer","resizerElem","setup","cWidth","cHeight","perspective","webkitPerspective","floatingContainer","isFirstFrame","finalMat","finalTransform","mProp","getMaskelement","pathString","pathShapeValue","initHierarchy","_isParent","prepareProperties","isVisible","initTransform","_matMdf","_opMdf","ao","renderTransform","globalToLocal","transforms","ptNew","initRenderable","isInRange","hidden","isTransparent","renderableComponents","component","removeRenderableComponent","prepareRenderableFrame","checkLayerLimits","checkTransparency","renderRenderable","sourceRectAtTime","getLayerSize","initElement","initBaseData","initRendererElement","createContainerElements","createRenderableComponents","createContent","baseElement","renderElement","renderInnerContent","innerElem","destroyBaseElement","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","gf","cst","opacityId","opFill","ms","ost","SVGElementsRenderer","_identityMatrix","_matrixHelper","renderContentTransform","styleData","itemData","renderPath","pathStringTransformed","redraw","iterations","lLen","renderFill","styleElem","renderGradientStroke","renderGradient","renderStroke","hasOpacity","attr1","attr2","cValues","oValues","ang","dist","createRenderFunction","ShapeTransformManager","sequences","sequenceList","transform_key_count","CVShapeData","transformsManager","styledShapes","styledShape","addTransformSequence","trNodes","BaseElement","SVGBaseElement","IShapeElement","ITextElement","ICompElement","sourceRect","tm","_placeholder","textSpans","shapesData","stylesList","shapeModifiers","itemsData","processedElements","animatedContents","SVGTintFilter","filterManager","matrixFilter","effectElements","feMergeNode","feMerge","SVGFillFilter","SVGGaussianBlurEffect","feGaussianBlur","SVGStrokeEffect","initialized","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","SVGDropShadowEffect","feOffset","feFlood","feComposite","originalNodeAdded","sequence","processSequence","processSequences","getNewKey","checkMasks","layerInterface","LayerExpressionInterface","registerMaskInterface","effectsInterface","EffectsExpressionInterface","createEffectsInterface","registerEffectsInterface","compInterface","CompExpressionInterface","shapeInterface","ShapeExpressionInterface","content","textInterface","TextExpressionInterface","setBlendMode","blendModeValue","bm","sr","effectsManager","EffectsManager","getType","matteElement","transformedElement","_sizeChanged","gg","layerElementParent","masker","maskGroup","maskGrouper","feCTr","feFunc","alphaRect","ln","cp","clipId","cpGroup","renderableEffectsManager","SVGEffects","addShapeToModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","lcEnum","ljEnum","searchProcessedElement","addProcessedElement","textAnimator","buildNewText","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","timeRemapped","setElements","elems","getElements","destroyElements","assetPath","pr","textContainer","buildTextContents","textArray","textContents","currentTextContent","tSpan","usesGlyphs","cachedSpansLength","tElement","justify","time","textBox","getBBox","bbox","renderedLetter","textSpan","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","lc","lj","ml","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","setElementStyles","render","currentTransform","modifier","processedPos","ownStyles","ownModifiers","renderShape","animatedContent","colorBlack","colorWhite","opacity","sigma","dimensions","sigmaX","sigmaY","edgeMode","initialize","groupPath","elemChildren","childNodes","removeAttribute","pathMasker","dasharrayValue","getTotalLength","lineLength","units","color1","color2","color3","tableR","tableG","tableB","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","colorValue","table","outputDelta","inputDelta","col","_svgMatteSymbols","SVGMatte3Effect","filterElem","ef","filters","CVBaseElement","CVMaskElement","hasMasks","stroke","fill","currentRender","sWidth","fValue","CVEffects","HBaseElement","shapesContainer","currentBBox","textPaths","isMasked","pe","_prevMat","HEffects","findSymbol","replaceInParent","symbolId","nextChild","useElem","setElementAsMask","symbol","newLength","currentSavedOp","createElements","globalCompositeOperation","hideElement","showElement","forceRealStack","widthCrop","heightCrop","imgW","imgH","imgRel","canvasRel","drawImage","parentMatrix","moveTo","lineTo","bezierCurveTo","transformHelper","dashResetter","preTransforms","co","wi","da","do","addTransformToStyleList","removeTransformFromStyleList","closeStyles","shouldRender","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","drawLayer","nodes","currentStyle","coOp","strokeStyle","grd","lineCap","lineJoin","miterLimit","setLineDash","lineDashOffset","isMain","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","createLinearGradient","createRadialGradient","addColorStop","hasFill","hasStroke","commands","pathArr","lastFill","lastStroke","lastStrokeW","checkBlendMode","tg","addEffects","backgroundColor","_createBaseContainerElements","_renderShapeFrame","shapeCont","getTransformedPoint","calculateShapeBoundingBox","boundingBox","vPoint","oPoint","nextIPoint","nextVPoint","checkBounds","getBoundsOfCurve","bounds","shapeBoundingBox","xMax","yMax","bottom","tempBoundingBox","p3","b2ac","t2","calculateF","calculateBoundingBox","currentBoxContains","box","changed","compW","compH","innerElemStyle","strokeWidth","lineHeight","tParent","tCont","textPath","Image","imageElem","mTransf","diffVector","mag","lookDir","lookLengthOnXZ","m_rotationX","m_rotationY","hasMatrixChanged","animationManager","registeredAnimations","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","animation","subtractPlayingCount","registerAnimation","AnimationItem","setupAnimation","setData","addPlayingCount","activate","resume","nowTime","elapsedTime","advanceTime","first","params","setParams","togglePause","searchAnimations","standalone","animElements","getElementsByTagName","div","resize","goToAndStop","isFrame","freeze","unfreeze","getRegisteredAnimations","animations","currentRawFrame","frameMult","playSpeed","playDirection","playCount","animationID","timeCompleted","segmentPos","isSubframeEnabled","_idle","_completedLoop","animType","autoloadSegments","initialSegment","lastIndexOf","fileName","trigger","wrapperAttributes","attributes","getNamedItem","prerender","completeData","loadNextSegment","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","updaFrameModifier","waitForFontsLoaded","triggerConfigError","gotoFrame","setSubframe","triggerRenderFrameError","setCurrentRawFrameValue","frameModifier","goToAndPlay","nextValue","_isComplete","checkSegments","adjustSegment","setSegment","pendingFrame","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onComplete","onSegmentStart","onDestroy","getPath","getDuration","onError","Expressions","stackCount","registers","pushExpression","popExpression","releaseInstances","registerExpressionProperty","expression","ExpressionManager","$bm_isInstanceOfArray","isNumerable","tOfV","Number","$bm_neg","tOfA","lenA","retArr","easeInBez","easeOutBez","easeInOutBez","sum","tOfB","lenB","sub","mul","mod","$bm_sum","$bm_sub","$bm_mul","$bm_div","$bm_mod","clamp","mm","radiansToDegrees","radians_to_degrees","degreesToRadians","degrees_to_radians","helperLengthArray","arr1","arr2","normalize","vec","rgbToHsl","hue2rgb","hslToRgb","linear","tMin","tMax","value1","value2","_tMin","rnd","createPath","inTangents","outTangents","inVertexPoint","outVertexPoint","arrPlaceholder","initiateExpression","needsVelocity","_needsRandom","elemType","$bm_transform","effect","thisProperty","valueAtTime","frameDuration","displayStartTime","inPoint","outPoint","loopIn","loop_in","loopOut","loop_out","smooth","toWorld","fromWorld","fromComp","toComp","fromCompToSurface","rotation","anchorPoint","thisLayer","thisComp","velocityAtTime","__expression_functions","scoped_bm_rt","xf","eval","expression_function","numKeys","active","wiggle","freq","amp","addedAmps","periods","loopInDuration","duration","loopOutDuration","getVelocityAtTime","velocity","textIndex","textTotal","selectorValue","lookAt","elem1","elem2","fVec","pitch","easeOut","val1","val2","applyEase","easeIn","ease","nearestKey","framesToTime","frames","fps","timeToFrames","seedRandom","seedrandom","randSeed","substring","posterizeTime","framesPerSecond","hasParent","executeExpression","_value","frameExpressionId","expressionHelpers","searchExpressions","getSpeedAtTime","_cachingAtTime","getStaticValueAtTime","setGroupProperty","propertyGroup","durationFlag","cycleDuration","firstKeyFrame","ret","lastKeyFrame","initV","endV","current","repeats","lastValue","nextLastValue","firstValue","nextFirstValue","samples","sampleValue","sampleFrequency","getTransformValueAtTime","getTransformStaticValueAtTime","propertyGetProp","propertyIndex","ix","ShapePropertyConstructorFunction","getConstructorFunction","KeyframedShapePropertyConstructorFunction","getKeyframedConstructorFunction","ShapeExpressions","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","tangentOnPath","normalOnPath","shapeValue","propertyGetShapeProp","trims","getExpressionValue","calculateExpression","isKeyframed","hasExpressions","iterateElements","view","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","pathInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","interfaceFunction","interfaces","_name","mn","numProperties","cix","contentsInterfaceFactory","transformInterface","_propertyGroup","skewAxis","ExpressionPropertyInterface","transformInterfaceFactory","np","_dashPropertyGroup","dashOb","addPropertyToDashOb","outerRadius","outerRoundness","innerRoundness","innerRadius","radius","_interfaceFunction","_sourceText","_thisLayerFunction","stringValue","_prevValue","toWorldMat","sampleImage","anchorPointDescriptor","TransformExpressionInterface","anchor_point","startTime","MaskManagerInterface","effects","pixelAspect","numLayers","_thisFunction","xRotation","yRotation","xPosition","yPosition","zPosition","_transformFactory","compositions","_thisProjectFunction","createGroupInterface","createValueInterface","groupInterface","enabled","en","expressionProperty","effectsData","MaskInterface","_mask","_data","_masksInterfaces","defaultUnidimensionalValue","defaultMultidimensionalValue","completeProperty","expressionValue","valueProp","speedAtTime","defaultGetter","UnidimensionalPropertyInterface","arrValue","MultidimensionalPropertyInterface","TextExpressionSelectorProp","propertyGetTextProp","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","effectItem","GroupEffect","getValueProxy","total","eff","lottie","setLocationHref","setSubframeRendering","setQuality","inBrowser","installPlugin","plugin","getFactory","checkReady","clearInterval","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","decodeURIComponent","__getFactory","scripts","myScript","setInterval","_menuFactory","_menuFactory2","overlay","zIndex","background","MozTransform","MsTransform","OTransform","WebkitTransform","menuWrap","menu","boxSizing","itemList","BurgerIcon","_x","_x2","hover","bmBurgerBarsHover","icon","bmIcon","bar","getLineStyle","bmBurgerBars","bmBurgerButton","onMouseOver","isMouseIn","onMouseOut","padding","border","cursor","CrossIcon","bmCross","getCrossStyle","bmCrossButton","nthChild","_snapsvgImporter2","_utils","pathOpen","mina","easeinout","whiteSpace","eve","requestID","requestAnimFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","idgen","idprefix","timer","sta","ds","dur","spd","stopit","pdif","frame","res","jj","easing","timeStamp","getById","easeout","easein","Q","backin","backout","bounce","nodeType","Element","glob","doc","Paper","_","win","tokenRegex","objNotationRegex","Str","toFloat","parseFloat","toInt","mmax","mmin","objectToString","colourRegExp","commaSpaces","separator","hsrg","hs","rg","pathCommand","tCommand","pathValues","ID","xlink","xmlns","hub","url","$","createTextNode","createComment","getAttributeNS","getAttribute","nodeValue","isFinite","repush","array","ii","cacher","scope","postprocessor","newf","deg","format","all","quote","quotedName","isFunc","closestPoint","distance2","dx","dy","best","bestLength","scan","scanDistance","pathNode","pathLength","precision","pathSegList","numberOfItems","bestDistance","Infinity","scanLength","getPointAtLength","before","after","beforeLength","afterLength","beforeDistance","afterDistance","snapTo","tolerance","rem","getRGB","colour","rgbtoString","toHex","red","green","blue","rgb","match","hsb2rgb","hsl2rgb","hsb","hsl","toFixed","defaultView","getComputedStyle","getPropertyValue","hsbtoString","hsltoString","prepareRGB","clr","packageRGB","rgb2hsl","rgb2hsb","X","V","L","M","parsePathString","pth","paramCounts","parseTransformString","TString","svgTransform2string","tstr","rgTransform","transform2matrix","tdata","bb","tlen","command","absolute","inver","invert","_unit2px","getSomeSVG","mgr","getW","getH","nam","contains","compareDocumentPosition","ownerSVGElement","add2group","snap","paper","tagName","nodeName","anims","pattern","method","Fragment","frag","make","ownerDocument","dom","contentDocument","getSomeDefs","pdefs","query","selectAll","nodelist","firstDefined","json","att","createDocumentFragment","full","firstChild","fragment","toJSON","jsonFiller","on","nt","css","letter","cssAttr","ajax","postData","req","pd","encodeURIComponent","setRequestHeader","once","getElementByPoint","elementFromPoint","opera","getBoundingClientRect","docElem","clientTop","clientLeft","pageYOffset","scrollTop","pageXOffset","scrollLeft","getOffset","createSVGRect","hits","getIntersectionList","elproto","unit2px","isWithoutTransform","getClientRects","removed","localMatrix","original","pathfinder","deflt","bboxwt","realPath","propString","extractTransform","doReturn","papa","getCTM","local","localString","toTransformString","globalMatrix","totalMatrix","diffMatrix","gradientTransform","patternTransform","append","appendTo","prepend","prependTo","nextSibling","insertAfter","remove","asPX","use","cloneNode","els","ids","uses","urltest","linktest","oldid","old","fixids","toDefs","toPattern","patternUnits","marker","refX","refY","cx","cy","markerWidth","markerHeight","orient","eldata","chld","removeData","outerSVG","innerSVG","toDataURL","btoa","contents","unescape","matrixproto","norm","aNew","bNew","multLeft","cNew","eNew","skewX","skewY","row","scalex","scaley","isSimple","isSuperSimple","noRotation","shorter","clipIt","reURLValue","URL","fillStroke","grad","gradient","attrs","deurl","gradrg","setFontSize","getFontSize","tokens","toAbsolute","txt","baseVal","vb","tp","tuner","chunk","tuned","textExtract","chi","internal","rgNotSpace","addClass","clazz","classes","curClasses","removeClass","hasClass","toggleClass","operators","reUnit","reAddon","getNumber","getUnit","unit","plus","evnt","atr","aUnit","bplus","circle","preload","onerror","cssText","onload","image","ellipse","vbx","vby","vbw","vbh","ptrn","vx","vy","vw","vh","polyline","polygon","Gstops","GaddStop","inserted","GgetBBox","GsetStops","addStop","gradientLinear","setStops","gradientRadial","fx","fy","gradientUnits","clear","p2s","sleep","r1","r2","r0","rectPath","pathClone","pathArray","getPointAtSegmentLength","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","bezlen","findDotsAtSegment","x4","y4","ll","getTotLen","getLengthFactory","istotal","subpath","onlystart","sp","subpaths","path2curve","getSubpathsAtLength","t13","t12","t3","mx","my","nx","ny","alpha","bezierBBox","curveDim","isPointInsideBBox","isBBoxIntersect","bbox1","bbox2","base3","Tvalues","Cvalues","ct","xbase","ybase","comb","intersect","denominator","px2","py2","interHelper","bez1","bez2","justCount","dots1","dots2","xy","di","di1","dj","dj1","ci","cj","interPathHelper","path1","path2","x1m","y1m","x2m","y2m","pj","intr","kk","segment1","segment2","pathBBox","Y","dim","xmin","ymin","ellipsePath","pathToAbsolute","pa0","pa","crz","dots","catmullRom2bezier","l2c","q2c","a2c","large_arc_flag","sweep_flag","recursive","_120","rx2","ry2","df","f2old","x2old","y2old","hx","hy","m3","m4","newres","x0","y0","sqrtb2ac","tvalues","mt","jlen","curve","attrs2","pcom","fixArc","pp","pcoms1","pcoms2","fixM","pfirst","seg","seg2","seglen","seg2len","crp","iLen","getSubpath","closest","inside","intersection","intersectionNumber","isPointInside","toRelative","lowerCase","toCubic","pathi","Set","bindings","setproto","thisArg","Animation","each","begin","handler","callbacker","aname","unbound","insertion","tail","todel","arglen","exclude","getEmpty","getViewBox","getColour","path2array","isNumeric","equal","tt1","tt2","maxlength","equaliseTransform","bUnit","supportsTouch","events","touchMap","mousedown","mousemove","mouseup","getScroll","preventTouch","originalEvent","preventDefault","stopTouch","stopPropagation","addEvent","realName","scrollY","scrollX","targetTouches","olde","clientX","clientY","drag","dragMove","dragi","touch","touches","identifier","_drag","move_scope","dragUp","unmousemove","unmouseup","end_scope","start_scope","off","unbind","f_in","f_out","scope_in","scope_out","mouseover","mouseout","unhover","unmouseover","unmouseout","draggable","onmove","onstart","onend","origTransform","undrag","unmousedown","pproto","rgurl","filstr","filterUnits","shadow","grayscale","amount","sepia","saturate","hueRotate","amount2","brightness","contrast","firstLetter","getAlign","way","align","inAnim","_attrs","_callback","curStatus","eq","fkeys","tkeys","saveColor","colors","A100","A200","A400","A700","mui","flat","pink","purple","deeppurple","indigo","lightblue","cyan","teal","lightgreen","lime","yellow","amber","orange","deeporange","brown","grey","bluegrey","turquoise","greensea","sunflower","emerland","nephritis","carrot","pumpkin","peterriver","belizehole","alizarin","pomegranate","amethyst","wisteria","clouds","silver","wetasphalt","midnightblue","concrete","asbestos","importMUIColors","current_event","comaseparator","numsort","lastDefined","objtos","ar","oldstop","listeners","indexed","queue","ce","sort","_events","nes","es","sep","RegExp","exist","subname","cur","nts","inodes","funcs","prune","steps","stepsTotal","nextStep","finalWidth","closeButton","perspectiveOrigin","visibility","burgerIcon","Download","mime_type","base64","blob","Blob","filename","msSaveOrOpenBlob","createObjectURL","download","click","revokeObjectURL","PropTypes","any","setProps","myRef","React","createRef","componentDidUpdate","nProps","Httpreq","Keyboard","keydownHandler","keyupHandler","captureKeys","keydown","eventProps","reduce","n_keydowns","keys_pressed","keyup","n_keyups","Monitor","_loop_children_recursively_inner","child","_loop_children_recursively","probes","compare_id","dlp","_dashprivate_layout","_monitor","objectOf","BurgerMenu","rbm","debounce","timeout","_arguments","functionCall","guidGenerator","S4","getHighest","highest","nextTriggerOnMount","prevOffset","getNext","_ref4","getPosition","_ref5","_ref2","getFromOffset","getFrom","_ref3","getTo","getNextOffset","getStartOffset","offsetRelative","classCallCheck","createClass","inherits","possibleConstructorReturn","toConsumableArray","TickerElement","move","isMoving","nextTriggered","elementRef","componentDidMount","setPosition","observer","MutationObserver","onMutation","observe","characterData","childList","subtree","componentWillUnmount","disconnect","prevState","prevRect","isMount","_this$props","onNext","setRect","nextOffset","nextTriggerOnMount$$1","shouldTriggerNext","triggerNext","shouldFinish","prevTimestamp","timestamp","progress","onFinish","willChange","getDefaultState","Ticker","tickerRef","dOnResize","onResize","newEl","DashWebSocket","protocols","location","host","client","WebSocket","onopen","OPEN","isTrusted","onmessage","message","onclose","CLOSED","reason","wasClean","_init_client","CONNECTING","classnames","createCommonjsModule","hasOwn","classNames","argType","_PureComponent","BlockImage","_isMounted","_reload","fallback","showPreview","loader","backgroundPosition","backgroundRepeat","backgroundSize","rest","objectWithoutProperties","bgImageStyles","loadingAndShowPreview","backgroundImage","rootStyle","onabort","insertAt","head","styleSheet","styleInject","classCallCheck$1","createClass$1","_extends$1","possibleConstructorReturn$1","BeforeAfterSlider","defaultProgress","_contentRef","_content","_onMoveWrapper","offsetX","nativeEvent","pageX","_onMoveContent","inherits$1","beforeClassName","afterClassName","beforeProps","afterProps","objectWithoutProperties$1","onTouchMove","onMouseMove","BeforeAfter"],"mappings":"mCACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QA0Df,OArDAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,K,gBClFvChC,EAAOD,QAAUkC,OAAkB,W,cCAnCjC,EAAOD,QAAUkC,OAAc,O,cCA7C,IAAIC,EAAOlC,EAAOD,QAAU,CAAEoC,QAAS,UACrB,iBAAPC,MAAiBA,IAAMF,I,6BCClCvB,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAGT,IAAImB,EAAW1B,OAAO2B,QAAU,SAAUC,GAAU,IAAK,IAAItC,EAAI,EAAGA,EAAIuC,UAAUC,OAAQxC,IAAK,CAAE,IAAIyC,EAASF,UAAUvC,GAAI,IAAK,IAAIuB,KAAOkB,EAAc/B,OAAOkB,UAAUC,eAAe1B,KAAKsC,EAAQlB,KAAQe,EAAOf,GAAOkB,EAAOlB,IAAY,OAAOe,GAEnPI,EAAe,WAAe,SAASC,EAAiBL,EAAQM,GAAS,IAAK,IAAI5C,EAAI,EAAGA,EAAI4C,EAAMJ,OAAQxC,IAAK,CAAE,IAAI6C,EAAaD,EAAM5C,GAAI6C,EAAWjC,WAAaiC,EAAWjC,aAAc,EAAOiC,EAAWC,cAAe,EAAU,UAAWD,IAAYA,EAAWE,UAAW,GAAMrC,OAAOC,eAAe2B,EAAQO,EAAWtB,IAAKsB,IAAiB,OAAO,SAAUG,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYpB,UAAWqB,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA9gB,GAInB,SAASG,EAAuBC,GAAO,OAAOA,GAAOA,EAAIhC,WAAagC,EAAM,CAAE,QAAWA,GAMzF,IAAIC,EAAS,EAAQ,GAEjBC,EAAUH,EAAuBE,GAIjCE,EAAaJ,EAFD,EAAQ,MAMpBK,EAAcL,EAFD,EAAQ,IAMrBM,EAAeN,EAFD,EAAQ,MAMtBO,EAAeP,EAFD,EAAQ,MAMtBQ,EAAcR,EAFD,EAAQ,MAIzBrD,EAAiB,QAAI,SAAU8D,GAC7B,IAAIC,EAAO,SAAWC,GAGpB,SAASD,EAAKjB,GAQZ,GAxCN,SAAyBmB,EAAUf,GAAe,KAAMe,aAAoBf,GAAgB,MAAM,IAAIgB,UAAU,qCAiC1GC,CAAgBC,KAAML,GArCjB,SAAaM,EAAKC,EAAKC,GAAqC,IAA9B,IAAIC,GAAS,EAAwBA,GAAQ,CAAE,IAAI5C,EAASyC,EAAKxC,EAAWyC,EAAKG,EAAWF,EAAKC,GAAS,EAAsB,OAAX5C,IAAiBA,EAAS8C,SAAS5C,WAAW,IAAI6C,EAAO/D,OAAOgE,yBAAyBhD,EAAQC,GAAW,QAAagD,IAATF,EAAJ,CAA6O,GAAI,UAAWA,EAAQ,OAAOA,EAAKxD,MAAgB,IAAIT,EAASiE,EAAK5D,IAAK,QAAe8D,IAAXnE,EAAwB,OAAoB,OAAOA,EAAOL,KAAKoE,GAAhW,IAAIK,EAASlE,OAAOmE,eAAenD,GAAS,GAAe,OAAXkD,EAAmB,OAA2BT,EAAMS,EAAQR,EAAMzC,EAAU0C,EAAME,EAAUD,GAAS,EAAMG,EAAOG,OAASD,GAuCzcG,CAAKpE,OAAOmE,eAAehB,EAAKjC,WAAY,cAAesC,MAAM/D,KAAK+D,KAAMtB,GAC5EsB,KAAKa,MAAQ,CACXC,QAAQ,IAGLpB,EACH,MAAM,IAAIqB,MAAM,sBAwbpB,OA/dJ,SAAmBC,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAInB,UAAU,kEAAoEmB,GAAeD,EAAStD,UAAYlB,OAAOY,OAAO6D,GAAcA,EAAWvD,UAAW,CAAEwD,YAAa,CAAEnE,MAAOiE,EAAUtE,YAAY,EAAOmC,UAAU,EAAMD,cAAc,KAAeqC,IAAYzE,OAAO2E,eAAiB3E,OAAO2E,eAAeH,EAAUC,GAAcD,EAASI,UAAYH,GA4B7dI,CAAU1B,EAAMC,GAehBpB,EAAamB,EAAM,CAAC,CAClBtC,IAAK,uBACLN,MAAO,WACL,IAAIuE,EAAYC,MAAMC,KAAKC,SAASC,uBAAuB,YAAYC,QACnEL,GACFA,EAAUM,UAGb,CACDvE,IAAK,sBACLN,MAAO,WACL,IAAI8E,EAAWN,MAAMC,KAAKC,SAASC,uBAAuB,YAAYI,MAClED,GACFA,EAASD,UAGZ,CACDvE,IAAK,qBACLN,MAAO,WACL,IAAIgF,EAAcN,SAASO,eAAe,0BACtCD,GACFA,EAAYH,UAGf,CACDvE,IAAK,oBACLN,MAAO,WACL,IAAIkF,EAAaR,SAASO,eAAe,yBACrCC,GACFA,EAAWL,UAGd,CACDvE,IAAK,kBACLN,MAAO,SAAyBmF,GAC9B,GAAIT,SAASU,cAAcC,UAAUC,SAAS,WAAY,CACxD,IAAIC,EAAUb,SAASU,cAAcD,GACjCI,EACFA,EAAQV,QAER5B,KAAKuC,yBAGa,2BAAhBL,EACFlC,KAAKwC,sBAELxC,KAAKyC,yBAIV,CACDpF,IAAK,sBACLN,MAAO,WACLiD,KAAK0C,gBAAgB,wBAEtB,CACDrF,IAAK,0BACLN,MAAO,WACLiD,KAAK0C,gBAAgB,4BAEtB,CACDrF,IAAK,aACLN,MAAO,WACL,IAAI4F,EAAQ3C,KAER4C,EAAUvE,UAAUC,QAAU,QAAsBmC,IAAjBpC,UAAU,GAAmB,GAAKA,UAAU,GAC/EyC,EAAS8B,EAAQ9B,OACjB+B,EAAgBD,EAAQC,cACxBC,EAAkBF,EAAQE,gBAE1BC,EAAW,CACbjC,YAA0B,IAAXA,EAAyBA,GAAUd,KAAKa,MAAMC,QAG/Dd,KAAKgD,qBAELhD,KAAKiD,SAASF,GAAU,YACrBF,GAAiBF,EAAMjE,MAAMwE,cAAcH,GAEvCJ,EAAMjE,MAAMyE,mBAGXJ,EAASjC,OACXgC,EAAkBH,EAAMH,sBAAwBG,EAAMF,uBAElDhB,SAASU,cACXV,SAASU,cAAciB,OAEvB3B,SAAS4B,KAAKD,QAMpBT,EAAMW,WAAaC,aAAaZ,EAAMW,WACtCX,EAAMW,UAAYE,YAAW,WAC3Bb,EAAMW,UAAY,KACbP,EAASjC,QACZ6B,EAAMK,oBAAmB,KAE1B,UAGN,CACD3F,IAAK,OACLN,MAAO,WAC4B,mBAAtBiD,KAAKtB,MAAM+E,OACpBzD,KAAKtB,MAAM+E,SAEXzD,KAAK0D,eAGR,CACDrG,IAAK,QACLN,MAAO,WAC6B,mBAAvBiD,KAAKtB,MAAMiF,QACpB3D,KAAKtB,MAAMiF,UAEX3D,KAAK0D,eAGR,CACDrG,IAAK,eACLN,MAAO,YACkC,IAAnCiD,KAAKtB,MAAMkF,qBAA0E,mBAAnC5D,KAAKtB,MAAMkF,qBAAsC5D,KAAKtB,MAAMkF,uBAGhH5D,KAAK6D,UAKR,CACDxG,IAAK,qBACLN,MAAO,WACL,IAAI+G,EAAMzF,UAAUC,QAAU,QAAsBmC,IAAjBpC,UAAU,IAA0BA,UAAU,GAE7E0F,EAAa,SAAoBC,EAAI5B,GACvC,OAAO4B,EAAGC,UAAUH,EAAM,MAAQ,UAAU1B,IAG1CpC,KAAKtB,MAAMwF,eACbH,EAAWtC,SAAS0C,cAAc,QAASnE,KAAKtB,MAAMwF,eAEpDlE,KAAKtB,MAAM0F,eACbL,EAAWtC,SAAS0C,cAAc,QAASnE,KAAKtB,MAAM0F,eAGpD1E,EAAO2E,UAAYrE,KAAKtB,MAAM4F,YAChCtE,KAAKuE,sBAAsBvE,KAAKtB,MAAM4F,WAAY5E,EAAO2E,SAAUP,GAGjEpE,EAAO8E,gBAAkBxE,KAAKtB,MAAM+F,kBACtCzE,KAAKuE,sBAAsBvE,KAAKtB,MAAM+F,iBAAkB/E,EAAO8E,eAAgBV,KAQlF,CACDzG,IAAK,wBACLN,MAAO,SAA+B2H,EAAIC,EAAeb,GACvD,IAAIc,EAAUnD,SAASO,eAAe0C,GAEtC,GAAKE,EAAL,CAKA,IAAIC,EAAc7E,KAAK8E,SAASH,GAEhC,IAAK,IAAII,KAAQF,EACXA,EAAYlH,eAAeoH,KAC7BH,EAAQI,MAAMD,GAAQjB,EAAMe,EAAYE,GAAQ,IASpD,IAAIE,EAAgB,SAAuBjB,GACzC,OAAOA,EAAGgB,MAAM,cAAgBlB,EAAM,SAAW,IAE9C9D,KAAKtB,MAAMwF,eACde,EAAcxD,SAAS0C,cAAc,SAElCnE,KAAKtB,MAAM0F,eACda,EAAcxD,SAAS0C,cAAc,cAxBrCe,QAAQC,MAAM,oBAAsBT,EAAK,iBA6B5C,CACDrH,IAAK,YACLN,MAAO,SAAmBiH,EAAIoB,EAAOC,GACnC,IAAIC,EAAW,KAAOtB,EAAGuB,QAAQvB,EAAGwB,OAAO,GAAIxB,EAAGwB,OAAO,GAAGC,eAGxDC,EAASnG,EAAsB,QAAEyE,GAAMhE,KAAK8E,SAASvF,EAAsB,QAAEyE,IAAO,GAuBxF,OApBItE,EAAOsE,KACT0B,EAASxH,EAAS,GAAIwH,EAAQ1F,KAAK8E,SAASpF,EAAOsE,GAAKoB,EAAQ,KAI9DpF,KAAKtB,MAAMgB,OAAO4F,KACpBI,EAASxH,EAAS,GAAIwH,EAAQ1F,KAAKtB,MAAMgB,OAAO4F,KAI9CD,IACFK,EAASxH,EAAS,GAAIwH,EAAQL,IAK5BrF,KAAKtB,MAAMiH,qBACND,EAAOE,WAGTF,IAER,CACDrI,IAAK,WACLN,MAAO,SAAkBiI,EAAOI,GAC9B,IAAIS,EAAQ7F,KAAKtB,MAAMmH,MAEnBC,EAAkC,iBAAVD,EAAqBA,EAAQ,KAAOA,EAChE,OAAOb,EAAMhF,KAAKa,MAAMC,OAAQgF,EAAgB9F,KAAKtB,MAAMqH,MAAOX,KAEnE,CACD/H,IAAK,oBACLN,MAAO,SAA2BiJ,GAChCA,EAAIA,GAAKlI,OAAOmI,MAUhB,GAAIjG,KAAKa,MAAMC,OACb,OAAQkF,EAAE3I,KACR,IAPS,SASF2C,KAAKtB,MAAMwH,oBACdlG,KAAK6D,QACL7D,KAAKmG,qBAEP,MACF,IAjBa,YAkBXnG,KAAKoG,sBACL,MACF,IAnBW,UAoBTpG,KAAKqG,0BACL,MACF,IAlBO,OAmBLrG,KAAKyC,uBACL,MACF,IApBM,MAqBJzC,KAAKwC,2BAKT,GAAIwD,EAAE5H,SAAWqD,SAASO,eAAe,yBACvC,OAAQgE,EAAE3I,KACR,IAlCW,YAmCX,IAjCM,QAkCN,IAhCM,IAkCJ2C,KAAK0D,aACL,MACF,IAvCS,UAyCP1D,KAAK0D,WAAW,CAAEZ,iBAAiB,OAM5C,CACDzF,IAAK,oBACLN,MAAO,WACLiD,KAAKsG,UAAYtG,KAAKtB,MAAM6H,gBAAkBvG,KAAKtB,MAAM6H,gBAAkBvG,KAAKwG,kBAAkBlJ,KAAK0C,MAGvGlC,OAAO2I,iBAAiB,UAAWzG,KAAKsG,WAGpCtG,KAAKtB,MAAMoC,QACbd,KAAK0D,WAAW,CAAE5C,QAAQ,EAAM+B,eAAe,MAGlD,CACDxF,IAAK,uBACLN,MAAO,WACLe,OAAO4I,oBAAoB,UAAW1G,KAAKsG,WAE3CtG,KAAKgD,oBAAmB,GAGxBhD,KAAKsD,WAAaC,aAAavD,KAAKsD,aAErC,CACDjG,IAAK,qBACLN,MAAO,SAA4B4J,GACjC,IAWQC,EACAC,EAZJC,EAAS9G,UAEiC,IAAtBA,KAAKtB,MAAMoC,QAA0Bd,KAAKtB,MAAMoC,SAAWd,KAAKa,MAAMC,QAAUd,KAAKtB,MAAMoC,SAAW6F,EAAU7F,OAEtId,KAAK0D,aAKHhE,EAAOqH,MAEHH,EAAavH,EAAoB,QAAE2H,YAAYF,EAAQ,kBACvDD,EAAOnH,EAAOqH,IAAIE,IAAIL,GAAYM,OAAO,QAEzCJ,EAAOjG,MAAMC,OAEfpB,EAAOqH,IAAII,QAAQN,GAGnBrD,YAAW,WACTqD,EAAKO,KAAK,IAAK1H,EAAOqH,IAAIM,eACzB,QAKV,CACDhK,IAAK,SACLN,MAAO,WACL,IAAIuK,EAAStH,KAEb,OAAOZ,EAAiB,QAAEmI,cACxB,MACA,MACCvH,KAAKtB,MAAM8I,WAAapI,EAAiB,QAAEmI,cAAc,MAAO,CAC/DnF,WAAY,cAAgBpC,KAAKtB,MAAM+I,kBAAkBC,OACzDC,QAAS,WACP,OAAOL,EAAOM,gBAEhB5C,MAAOhF,KAAK6H,UAAU,cAEQ,IAAhC7H,KAAKtB,MAAMoJ,kBAA8B1I,EAAiB,QAAEmI,cAC1D,MACA,CAAEvC,MAAOhF,KAAK6H,UAAU,eACxBzI,EAAiB,QAAEmI,cAAc/H,EAAsB,QAAG,CACxDmI,QAAS,WACP,OAAOL,EAAOS,QAEhBrI,OAAQM,KAAKtB,MAAMgB,OACnBsI,WAAYhI,KAAKtB,MAAMoJ,iBACvB1F,UAAWpC,KAAKtB,MAAMuJ,sBACtBC,aAAclI,KAAKtB,MAAMyJ,mBACzBC,kBAAmBpI,KAAKtB,MAAM0J,qBAGlChJ,EAAiB,QAAEmI,cACjB,MACA,CACE7C,GAAI1E,KAAKtB,MAAMgG,GACftC,WAAY,gBAAkBpC,KAAKtB,MAAM0D,WAAWsF,OACpD1C,MAAOhF,KAAK6H,UAAU,YACtB,eAAgB7H,KAAKa,MAAMC,QAE7BpB,EAAOqH,KAAO3H,EAAiB,QAAEmI,cAC/B,MACA,CACEnF,WAAY,kBAAoBpC,KAAKtB,MAAM2J,qBAAqBX,OAChE1C,MAAOhF,KAAK6H,UAAU,eAExBzI,EAAiB,QAAEmI,cACjB,MACA,CACE1B,MAAO,OACPyC,OAAQ,OACRC,QAAS,cACTC,oBAAqB,QAEvBpJ,EAAiB,QAAEmI,cAAc,OAAQ,CAAEnL,EAAGsD,EAAOqH,IAAIM,gBAG7DjI,EAAiB,QAAEmI,cACjB,MACA,CACEnF,WAAY,WAAapC,KAAKtB,MAAM+J,eAAef,OACnD1C,MAAOhF,KAAK6H,UAAU,SAExBzI,EAAiB,QAAEmI,cAAcvH,KAAKtB,MAAMgK,gBAAiB,CAC3DtG,WAAY,gBAAkBpC,KAAKtB,MAAMiK,mBAAmBjB,OAC5D1C,MAAOhF,KAAK6H,UAAU,aACrBzI,EAAiB,QAAEwJ,SAASC,IAAI7I,KAAKtB,MAAMoK,UAAU,SAAUC,EAAM3D,GACtE,GAAI2D,EAAM,CACR,IAGIC,EAAa,CACf3L,IAAK+H,EACLhD,UALc,CAAC,UAAWkF,EAAO5I,MAAMuK,cAAeF,EAAKrK,MAAM0D,WAAW8G,QAAO,SAAU9G,GAC7F,QAASA,KACR+G,KAAK,KAINnE,MAAOsC,EAAOO,UAAU,OAAQzC,EAAO2D,EAAKrK,MAAMsG,OAClDoE,UAAW,GAEb,OAAOhK,EAAiB,QAAEiK,aAAaN,EAAMC,UAIpB,IAA/BhJ,KAAKtB,MAAM4K,iBAA6BlK,EAAiB,QAAEmI,cACzD,MACA,CAAEvC,MAAOhF,KAAK6H,UAAU,gBACxBzI,EAAiB,QAAEmI,cAAc9H,EAAqB,QAAG,CACvDkI,QAAS,WACP,OAAOL,EAAOzD,SAEhBnE,OAAQM,KAAKtB,MAAMgB,OACnBsI,WAAYhI,KAAKtB,MAAM4K,gBACvBlH,UAAWpC,KAAKtB,MAAM6K,qBACtBC,eAAgBxJ,KAAKtB,MAAM8K,wBAQhC7J,EApcE,CAqcRR,EAAOsK,WAgEV,OA9DA9J,EAAK+J,UAAY,CACftF,cAAe9E,EAAqB,QAAEqK,OACtCxB,mBAAoB7I,EAAqB,QAAEqK,OAC3C1B,sBAAuB3I,EAAqB,QAAEqK,OAC9CvH,UAAW9C,EAAqB,QAAEqK,OAClCJ,qBAAsBjK,EAAqB,QAAEqK,OAC7CH,eAAgBlK,EAAqB,QAAEqK,OACvC7B,iBAAkBxI,EAAqB,QAAEsK,UAAU,CAACtK,EAAqB,QAAEuK,QAASvK,EAAqB,QAAEwK,MAAM,EAAC,MAClHR,gBAAiBhK,EAAqB,QAAEsK,UAAU,CAACtK,EAAqB,QAAEuK,QAASvK,EAAqB,QAAEwK,MAAM,EAAC,MACjHvD,gBAAiBjH,EAAqB,QAAEyK,KACxC5G,iBAAkB7D,EAAqB,QAAE0K,KACzC9D,kBAAmB5G,EAAqB,QAAE0K,KAC1CpG,oBAAqBtE,EAAqB,QAAEsK,UAAU,CAACtK,EAAqB,QAAE0K,KAAM1K,EAAqB,QAAEyK,OAC3G7F,cAAe5E,EAAqB,QAAEqK,OACtCjF,GAAIpF,EAAqB,QAAEqK,OAC3B7I,OAAQxB,EAAqB,QAAE0K,KAC/Bf,cAAe3J,EAAqB,QAAEqK,OACtChB,kBAAmBrJ,EAAqB,QAAEqK,OAC1CjB,gBAAiBpJ,EAAqB,QAAEwK,MAAM,CAAC,MAAO,QACtDrB,cAAenJ,EAAqB,QAAEqK,OACtCtB,oBAAqB/I,EAAqB,QAAEqK,OAC5CnC,UAAWlI,EAAqB,QAAE0K,KAClCrE,aAAcrG,EAAqB,QAAE0K,KACrCrG,QAASrE,EAAqB,QAAEyK,KAChCE,kBAAmB3K,EAAqB,QAAEyK,KAC1CtG,OAAQnE,EAAqB,QAAEyK,KAC/B7G,cAAe5D,EAAqB,QAAEyK,KACtCtF,iBAAkB/E,GAAUA,EAAO8E,eAAiBlF,EAAqB,QAAEqK,OAAOO,WAAa5K,EAAqB,QAAEqK,OACtHlC,iBAAkBnI,EAAqB,QAAEqK,OACzCrF,WAAY5E,GAAUA,EAAO2E,SAAW/E,EAAqB,QAAEqK,OAAOO,WAAa5K,EAAqB,QAAEqK,OAC1G5D,MAAOzG,EAAqB,QAAE0K,KAC9BtK,OAAQJ,EAAqB,QAAE9B,OAC/BqI,MAAOvG,EAAqB,QAAEsK,UAAU,CAACtK,EAAqB,QAAE6K,OAAQ7K,EAAqB,QAAEqK,UAGjGhK,EAAKyK,aAAe,CAClBhG,cAAe,GACf+D,mBAAoB,GACpBF,sBAAuB,GACvB7F,UAAW,GACXmH,qBAAsB,GACtBC,eAAgB,GAChBrG,kBAAkB,EAClB+C,mBAAmB,EACnBhC,cAAe,GACfQ,GAAI,GACJuE,cAAe,GACfN,kBAAmB,GACnBF,cAAe,GACfJ,oBAAqB,GACrBb,WAAW,EACX7B,cAAc,EACdzC,cAAe,aACfuB,iBAAkB,GAClBgD,iBAAkB,GAClBnD,WAAY,GACZ5E,OAAQ,GACRmG,MAAO,IACPoE,kBAAmB,aACnBvB,gBAAiB,OAGZ/I,GAGT9D,EAAOD,QAAUA,EAAiB,S,cCljBlC,IAAIyO,EAASxO,EAAOD,QAA2B,oBAAVkC,QAAyBA,OAAOwM,MAAQA,KACzExM,OAAwB,oBAARyM,MAAuBA,KAAKD,MAAQA,KAAOC,KAE3DjK,SAAS,cAATA,GACc,iBAAPkK,MAAiBA,IAAMH,I,gBCJlCxO,EAAOD,SAAW,EAAQ,GAAR,EAAoB,WACpC,OAA+E,GAAxEY,OAAOC,eAAe,GAAI,IAAK,CAAEE,IAAK,WAAc,OAAO,KAAQ8N,M,gBCF5E,IAAIJ,EAAS,EAAQ,GACjBtM,EAAO,EAAQ,GACf2M,EAAM,EAAQ,IACdC,EAAO,EAAQ,GACfC,EAAM,EAAQ,GAGdC,EAAU,SAAUC,EAAMzO,EAAMkC,GAClC,IASIlB,EAAK0N,EAAKC,EATVC,EAAYH,EAAOD,EAAQK,EAC3BC,EAAYL,EAAOD,EAAQO,EAC3BC,EAAYP,EAAOD,EAAQS,EAC3BC,EAAWT,EAAOD,EAAQW,EAC1BC,EAAUX,EAAOD,EAAQa,EACzBC,EAAUb,EAAOD,EAAQe,EACzBhQ,EAAUuP,EAAYpN,EAAOA,EAAK1B,KAAU0B,EAAK1B,GAAQ,IACzDwP,EAAWjQ,EAAiB,UAC5BwC,EAAS+M,EAAYd,EAASgB,EAAYhB,EAAOhO,IAASgO,EAAOhO,IAAS,IAAa,UAG3F,IAAKgB,KADD8N,IAAW5M,EAASlC,GACZkC,GAEVwM,GAAOE,GAAa7M,QAA0BqC,IAAhBrC,EAAOf,KAC1BuN,EAAIhP,EAASyB,KAExB2N,EAAMD,EAAM3M,EAAOf,GAAOkB,EAAOlB,GAEjCzB,EAAQyB,GAAO8N,GAAmC,mBAAf/M,EAAOf,GAAqBkB,EAAOlB,GAEpEoO,GAAWV,EAAML,EAAIM,EAAKX,GAE1BsB,GAAWvN,EAAOf,IAAQ2N,EAAM,SAAWc,GAC3C,IAAIZ,EAAI,SAAUT,EAAGsB,EAAG5P,GACtB,GAAI6D,gBAAgB8L,EAAG,CACrB,OAAQzN,UAAUC,QAChB,KAAK,EAAG,OAAO,IAAIwN,EACnB,KAAK,EAAG,OAAO,IAAIA,EAAErB,GACrB,KAAK,EAAG,OAAO,IAAIqB,EAAErB,EAAGsB,GACxB,OAAO,IAAID,EAAErB,EAAGsB,EAAG5P,GACrB,OAAO2P,EAAEE,MAAMhM,KAAM3B,YAGzB,OADA6M,EAAW,UAAIY,EAAW,UACnBZ,EAXyB,CAa/BF,GAAOO,GAA0B,mBAAPP,EAAoBN,EAAIpK,SAASrE,KAAM+O,GAAOA,EAEvEO,KACD3P,EAAQqQ,UAAYrQ,EAAQqQ,QAAU,KAAK5O,GAAO2N,EAE/CF,EAAOD,EAAQqB,GAAKL,IAAaA,EAASxO,IAAMsN,EAAKkB,EAAUxO,EAAK2N,MAK9EH,EAAQK,EAAI,EACZL,EAAQO,EAAI,EACZP,EAAQS,EAAI,EACZT,EAAQW,EAAI,EACZX,EAAQa,EAAI,GACZb,EAAQe,EAAI,GACZf,EAAQsB,EAAI,GACZtB,EAAQqB,EAAI,IACZrQ,EAAOD,QAAUiP,G,gBC7DjB,IAAIuB,EAAW,EAAQ,IACnBC,EAAiB,EAAQ,IACzBC,EAAc,EAAQ,IACtBC,EAAK/P,OAAOC,eAEhBb,EAAQ4Q,EAAI,EAAQ,GAAoBhQ,OAAOC,eAAiB,SAAwBgQ,EAAGjB,EAAGkB,GAI5F,GAHAN,EAASK,GACTjB,EAAIc,EAAYd,GAAG,GACnBY,EAASM,GACLL,EAAgB,IAClB,OAAOE,EAAGE,EAAGjB,EAAGkB,GAChB,MAAO1G,IACT,GAAI,QAAS0G,GAAc,QAASA,EAAY,MAAM5M,UAAU,4BAEhE,MADI,UAAW4M,IAAYD,EAAEjB,GAAKkB,EAAW3P,OACtC0P,I,cCdT,IAAI9O,EAAiB,GAAGA,eACxB9B,EAAOD,QAAU,SAAU+Q,EAAItP,GAC7B,OAAOM,EAAe1B,KAAK0Q,EAAItP,K,gBCFjC,IAAIkP,EAAK,EAAQ,GACbK,EAAa,EAAQ,IACzB/Q,EAAOD,QAAU,EAAQ,GAAoB,SAAU4B,EAAQH,EAAKN,GAClE,OAAOwP,EAAGC,EAAEhP,EAAQH,EAAKuP,EAAW,EAAG7P,KACrC,SAAUS,EAAQH,EAAKN,GAEzB,OADAS,EAAOH,GAAON,EACPS,I,cCNT3B,EAAOD,QAAU,SAAU+Q,GACzB,MAAqB,iBAAPA,EAAyB,OAAPA,EAA4B,mBAAPA,I,cCDvD9Q,EAAOD,QAAU,SAAUiR,GACzB,IACE,QAASA,IACT,MAAO7G,GACP,OAAO,K,gBCHX,IAAI8G,EAAU,EAAQ,IAClBC,EAAU,EAAQ,IACtBlR,EAAOD,QAAU,SAAU+Q,GACzB,OAAOG,EAAQC,EAAQJ,M,gBCJzB,IAAIK,EAAQ,EAAQ,GAAR,CAAqB,OAC7BC,EAAM,EAAQ,IACdpQ,EAAS,EAAQ,GAAaA,OAC9BqQ,EAA8B,mBAAVrQ,GAEThB,EAAOD,QAAU,SAAUS,GACxC,OAAO2Q,EAAM3Q,KAAU2Q,EAAM3Q,GAC3B6Q,GAAcrQ,EAAOR,KAAU6Q,EAAarQ,EAASoQ,GAAK,UAAY5Q,MAGjE2Q,MAAQA,G,gBCVjB,IAAIG,EAAW,EAAQ,IACvBtR,EAAOD,QAAU,SAAU+Q,GACzB,IAAKQ,EAASR,GAAK,MAAM7M,UAAU6M,EAAK,sBACxC,OAAOA,I,cCHT9Q,EAAOD,QAAU,SAAUwR,EAAQrQ,GACjC,MAAO,CACLL,aAAuB,EAAT0Q,GACdxO,eAAyB,EAATwO,GAChBvO,WAAqB,EAATuO,GACZrQ,MAAOA,K,gBCJX,IAAIsQ,EAAQ,EAAQ,IAChBC,EAAc,EAAQ,IAE1BzR,EAAOD,QAAUY,OAAO+Q,MAAQ,SAAcd,GAC5C,OAAOY,EAAMZ,EAAGa,K,cCLlBzR,EAAOD,SAAU,G,cCAjB,IAAI8I,EAAK,EACL8I,EAAKlD,KAAKmD,SACd5R,EAAOD,QAAU,SAAUyB,GACzB,MAAO,UAAUqQ,YAAejN,IAARpD,EAAoB,GAAKA,EAAK,QAASqH,EAAK8I,GAAIG,SAAS,O,cCHnF/R,EAAQ4Q,EAAI,GAAGoB,sB,gBCCf,IAAIb,EAAU,EAAQ,IACtBlR,EAAOD,QAAU,SAAU+Q,GACzB,OAAOnQ,OAAOuQ,EAAQJ,M,gBCFxB,IAAIQ,EAAW,EAAQ,IAGvBtR,EAAOD,QAAU,SAAU+Q,EAAIrB,GAC7B,IAAK6B,EAASR,GAAK,OAAOA,EAC1B,IAAIkB,EAAIC,EACR,GAAIxC,GAAkC,mBAArBuC,EAAKlB,EAAGgB,YAA4BR,EAASW,EAAMD,EAAG5R,KAAK0Q,IAAM,OAAOmB,EACzF,GAAgC,mBAApBD,EAAKlB,EAAGoB,WAA2BZ,EAASW,EAAMD,EAAG5R,KAAK0Q,IAAM,OAAOmB,EACnF,IAAKxC,GAAkC,mBAArBuC,EAAKlB,EAAGgB,YAA4BR,EAASW,EAAMD,EAAG5R,KAAK0Q,IAAM,OAAOmB,EAC1F,MAAMhO,UAAU,6C,cCTlBjE,EAAOD,QAAU,SAAU+Q,GACzB,GAAUlM,MAANkM,EAAiB,MAAM7M,UAAU,yBAA2B6M,GAChE,OAAOA,I,cCFT,IAAIqB,EAAO1D,KAAK0D,KACZC,EAAQ3D,KAAK2D,MACjBpS,EAAOD,QAAU,SAAU+Q,GACzB,OAAOuB,MAAMvB,GAAMA,GAAM,GAAKA,EAAK,EAAIsB,EAAQD,GAAMrB,K,gBCJvD,IAAIwB,EAAS,EAAQ,GAAR,CAAqB,QAC9BlB,EAAM,EAAQ,IAClBpR,EAAOD,QAAU,SAAUyB,GACzB,OAAO8Q,EAAO9Q,KAAS8Q,EAAO9Q,GAAO4P,EAAI5P,M,gBCH3C,IAAIU,EAAO,EAAQ,GACfsM,EAAS,EAAQ,GAEjB2C,EAAQ3C,EADC,wBACkBA,EADlB,sBACmC,KAE/CxO,EAAOD,QAAU,SAAUyB,EAAKN,GAC/B,OAAOiQ,EAAM3P,KAAS2P,EAAM3P,QAAiBoD,IAAV1D,EAAsBA,EAAQ,MAChE,WAAY,IAAIqR,KAAK,CACtBpQ,QAASD,EAAKC,QACdf,KAAM,EAAQ,IAAgB,OAAS,SACvCoR,UAAW,0C,cCTbxS,EAAOD,QAAU,gGAEf0S,MAAM,M,cCHR1S,EAAQ4Q,EAAIhQ,OAAO+R,uB,cCAnB1S,EAAOD,QAAU,I,gBCCjB,IAAIwQ,EAAW,EAAQ,IACnBoC,EAAM,EAAQ,IACdlB,EAAc,EAAQ,IACtBmB,EAAW,EAAQ,GAAR,CAAyB,YACpCC,EAAQ,aAIRC,EAAa,WAEf,IAIIC,EAJAC,EAAS,EAAQ,GAAR,CAAyB,UAClC/S,EAAIwR,EAAYhP,OAcpB,IAVAuQ,EAAO7J,MAAM8J,QAAU,OACvB,EAAQ,IAAWC,YAAYF,GAC/BA,EAAOG,IAAM,eAGbJ,EAAiBC,EAAOI,cAAcxN,UACvBsG,OACf6G,EAAeM,MAAMC,uCACrBP,EAAe/K,QACf8K,EAAaC,EAAe1D,EACrBpP,YAAY6S,EAAoB,UAAErB,EAAYxR,IACrD,OAAO6S,KAGT9S,EAAOD,QAAUY,OAAOY,QAAU,SAAgBqP,EAAG2C,GACnD,IAAIC,EAQJ,OAPU,OAAN5C,GACFiC,EAAe,UAAItC,EAASK,GAC5B4C,EAAS,IAAIX,EACbA,EAAe,UAAI,KAEnBW,EAAOZ,GAAYhC,GACd4C,EAASV,SACMlO,IAAf2O,EAA2BC,EAASb,EAAIa,EAAQD,K,gBCvCzD,IAAIE,EAAM,EAAQ,GAAgB9C,EAC9B5B,EAAM,EAAQ,GACd2E,EAAM,EAAQ,GAAR,CAAkB,eAE5B1T,EAAOD,QAAU,SAAU+Q,EAAI6C,EAAKC,GAC9B9C,IAAO/B,EAAI+B,EAAK8C,EAAO9C,EAAKA,EAAGjP,UAAW6R,IAAMD,EAAI3C,EAAI4C,EAAK,CAAE3Q,cAAc,EAAM7B,MAAOyS,M,gBCLhG5T,EAAQ4Q,EAAI,EAAQ,K,gBCApB,IAAInC,EAAS,EAAQ,GACjBtM,EAAO,EAAQ,GACf2R,EAAU,EAAQ,IAClBC,EAAS,EAAQ,IACjBlT,EAAiB,EAAQ,GAAgB+P,EAC7C3Q,EAAOD,QAAU,SAAUS,GACzB,IAAIuT,EAAU7R,EAAKlB,SAAWkB,EAAKlB,OAAS6S,EAAU,GAAKrF,EAAOxN,QAAU,IACtD,KAAlBR,EAAKmJ,OAAO,IAAenJ,KAAQuT,GAAUnT,EAAemT,EAASvT,EAAM,CAAEU,MAAO4S,EAAOnD,EAAEnQ,O,gBCNnG,IAAIwT,EAAY,EAAQ,IACxBhU,EAAOD,QAAU,SAAUiS,EAAIiC,EAAMxR,GAEnC,GADAuR,EAAUhC,QACGpN,IAATqP,EAAoB,OAAOjC,EAC/B,OAAQvP,GACN,KAAK,EAAG,OAAO,SAAUmM,GACvB,OAAOoD,EAAG5R,KAAK6T,EAAMrF,IAEvB,KAAK,EAAG,OAAO,SAAUA,EAAGsB,GAC1B,OAAO8B,EAAG5R,KAAK6T,EAAMrF,EAAGsB,IAE1B,KAAK,EAAG,OAAO,SAAUtB,EAAGsB,EAAG5P,GAC7B,OAAO0R,EAAG5R,KAAK6T,EAAMrF,EAAGsB,EAAG5P,IAG/B,OAAO,WACL,OAAO0R,EAAG7B,MAAM8D,EAAMzR,c,gBCjB1BxC,EAAOD,SAAW,EAAQ,KAAsB,EAAQ,GAAR,EAAoB,WAClE,OAA4G,GAArGY,OAAOC,eAAe,EAAQ,GAAR,CAAyB,OAAQ,IAAK,CAAEE,IAAK,WAAc,OAAO,KAAQ8N,M,gBCDzG,IAAI0C,EAAW,EAAQ,IACnB1L,EAAW,EAAQ,GAAaA,SAEhCsO,EAAK5C,EAAS1L,IAAa0L,EAAS1L,EAAS8F,eACjD1L,EAAOD,QAAU,SAAU+Q,GACzB,OAAOoD,EAAKtO,EAAS8F,cAAcoF,GAAM,K,gBCL3C,IAAI/B,EAAM,EAAQ,GACdoF,EAAY,EAAQ,IACpBC,EAAe,EAAQ,GAAR,EAA6B,GAC5CxB,EAAW,EAAQ,GAAR,CAAyB,YAExC5S,EAAOD,QAAU,SAAU4B,EAAQ0S,GACjC,IAGI7S,EAHAoP,EAAIuD,EAAUxS,GACd1B,EAAI,EACJuT,EAAS,GAEb,IAAKhS,KAAOoP,EAAOpP,GAAOoR,GAAU7D,EAAI6B,EAAGpP,IAAQgS,EAAOjB,KAAK/Q,GAE/D,KAAO6S,EAAM5R,OAASxC,GAAO8O,EAAI6B,EAAGpP,EAAM6S,EAAMpU,SAC7CmU,EAAaZ,EAAQhS,IAAQgS,EAAOjB,KAAK/Q,IAE5C,OAAOgS,I,gBCdT,IAAIc,EAAM,EAAQ,IAElBtU,EAAOD,QAAUY,OAAO,KAAKoR,qBAAqB,GAAKpR,OAAS,SAAUmQ,GACxE,MAAkB,UAAXwD,EAAIxD,GAAkBA,EAAG2B,MAAM,IAAM9R,OAAOmQ,K,cCJrD,IAAIgB,EAAW,GAAGA,SAElB9R,EAAOD,QAAU,SAAU+Q,GACzB,OAAOgB,EAAS1R,KAAK0Q,GAAIyD,MAAM,GAAI,K,gBCFrC,IAAIxF,EAAM,EAAQ,GACdyF,EAAW,EAAQ,IACnB5B,EAAW,EAAQ,GAAR,CAAyB,YACpC6B,EAAc9T,OAAOkB,UAEzB7B,EAAOD,QAAUY,OAAOmE,gBAAkB,SAAU8L,GAElD,OADAA,EAAI4D,EAAS5D,GACT7B,EAAI6B,EAAGgC,GAAkBhC,EAAEgC,GACH,mBAAjBhC,EAAEvL,aAA6BuL,aAAaA,EAAEvL,YAChDuL,EAAEvL,YAAYxD,UACd+O,aAAajQ,OAAS8T,EAAc,O,6BCT/C1U,EAAQsB,YAAa,EAErB,IAEIqT,EAAatR,EAFD,EAAQ,KAMpBuR,EAAWvR,EAFD,EAAQ,KAIlBwR,EAAsC,mBAArBD,EAASE,SAAwD,iBAAvBH,EAAWG,QAAuB,SAAUxR,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAmC,mBAArBsR,EAASE,SAA0BxR,EAAIgC,cAAgBsP,EAASE,SAAWxR,IAAQsR,EAASE,QAAQhT,UAAY,gBAAkBwB,GAEjT,SAASD,EAAuBC,GAAO,OAAOA,GAAOA,EAAIhC,WAAagC,EAAM,CAAEwR,QAASxR,GAEvFtD,EAAQ8U,QAAsC,mBAArBF,EAASE,SAA0D,WAAhCD,EAAQF,EAAWG,SAAwB,SAAUxR,GAC/G,YAAsB,IAARA,EAAsB,YAAcuR,EAAQvR,IACxD,SAAUA,GACZ,OAAOA,GAAmC,mBAArBsR,EAASE,SAA0BxR,EAAIgC,cAAgBsP,EAASE,SAAWxR,IAAQsR,EAASE,QAAQhT,UAAY,cAA0B,IAARwB,EAAsB,YAAcuR,EAAQvR,K,6BClBrM,IAAIwQ,EAAU,EAAQ,IAClB7E,EAAU,EAAQ,GAClB8F,EAAW,EAAQ,IACnBhG,EAAO,EAAQ,GACfiG,EAAY,EAAQ,IACpBC,EAAc,EAAQ,IACtBC,EAAiB,EAAQ,IACzBnQ,EAAiB,EAAQ,IACzBoQ,EAAW,EAAQ,GAAR,CAAkB,YAC7BC,IAAU,GAAGzD,MAAQ,QAAU,GAAGA,QAKlC0D,EAAa,WAAc,OAAOjR,MAEtCnE,EAAOD,QAAU,SAAUsV,EAAMC,EAAMrS,EAAasS,EAAMC,EAASC,EAAQC,GACzEV,EAAY/R,EAAaqS,EAAMC,GAC/B,IAeII,EAASnU,EAAKoU,EAfdC,EAAY,SAAUC,GACxB,IAAKX,GAASW,KAAQC,EAAO,OAAOA,EAAMD,GAC1C,OAAQA,GACN,IAVK,OAWL,IAVO,SAUM,OAAO,WAAoB,OAAO,IAAI7S,EAAYkB,KAAM2R,IACrE,OAAO,WAAqB,OAAO,IAAI7S,EAAYkB,KAAM2R,KAEzDpC,EAAM4B,EAAO,YACbU,EAdO,UAcMR,EACbS,GAAa,EACbF,EAAQV,EAAKxT,UACbqU,EAAUH,EAAMb,IAAaa,EAnBjB,eAmBuCP,GAAWO,EAAMP,GACpEW,EAAWD,GAAWL,EAAUL,GAChCY,EAAWZ,EAAWQ,EAAwBH,EAAU,WAArBM,OAAkCvR,EACrEyR,EAAqB,SAARf,GAAkBS,EAAMO,SAAqBJ,EAwB9D,GArBIG,IACFT,EAAoB9Q,EAAeuR,EAAWjW,KAAK,IAAIiV,OAC7B1U,OAAOkB,WAAa+T,EAAkBL,OAE9DN,EAAeW,EAAmBlC,GAAK,GAElCG,GAAiD,mBAA/B+B,EAAkBV,IAAyBpG,EAAK8G,EAAmBV,EAAUE,IAIpGY,GAAcE,GAjCP,WAiCkBA,EAAQ1V,OACnCyV,GAAa,EACbE,EAAW,WAAoB,OAAOD,EAAQ9V,KAAK+D,QAG/C0P,IAAW6B,IAAYP,IAASc,GAAeF,EAAMb,IACzDpG,EAAKiH,EAAOb,EAAUiB,GAGxBpB,EAAUO,GAAQa,EAClBpB,EAAUrB,GAAO0B,EACbI,EAMF,GALAG,EAAU,CACRY,OAAQP,EAAaG,EAAWN,EA9CzB,UA+CPnE,KAAM+D,EAASU,EAAWN,EAhDrB,QAiDLS,QAASF,GAEPV,EAAQ,IAAKlU,KAAOmU,EAChBnU,KAAOuU,GAAQjB,EAASiB,EAAOvU,EAAKmU,EAAQnU,SAC7CwN,EAAQA,EAAQW,EAAIX,EAAQK,GAAK8F,GAASc,GAAaX,EAAMK,GAEtE,OAAOA,I,gBCnET3V,EAAOD,QAAU,EAAQ,I,gBCCzB,IAAIyR,EAAQ,EAAQ,IAChBgF,EAAa,EAAQ,IAAoB3E,OAAO,SAAU,aAE9D9R,EAAQ4Q,EAAIhQ,OAAO8V,qBAAuB,SAA6B7F,GACrE,OAAOY,EAAMZ,EAAG4F,K,gBCLlB,IAAIE,EAAM,EAAQ,IACd3F,EAAa,EAAQ,IACrBoD,EAAY,EAAQ,IACpB1D,EAAc,EAAQ,IACtB1B,EAAM,EAAQ,GACdyB,EAAiB,EAAQ,IACzBmG,EAAOhW,OAAOgE,yBAElB5E,EAAQ4Q,EAAI,EAAQ,GAAoBgG,EAAO,SAAkC/F,EAAGjB,GAGlF,GAFAiB,EAAIuD,EAAUvD,GACdjB,EAAIc,EAAYd,GAAG,GACfa,EAAgB,IAClB,OAAOmG,EAAK/F,EAAGjB,GACf,MAAOxF,IACT,GAAI4E,EAAI6B,EAAGjB,GAAI,OAAOoB,GAAY2F,EAAI/F,EAAEvQ,KAAKwQ,EAAGjB,GAAIiB,EAAEjB,M,6BCZxDhP,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAGTnB,EAAiB,QAAI,WACnB,IAAI6W,OAAOhS,EACX,IACEgS,EAAO,EAAQ,KACf,QACA,OAAOA,IAIX5W,EAAOD,QAAUA,EAAiB,S,6BCblCY,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAKTnB,EAAQ8W,QAHM,SAAiB5E,GAC7B,OAAO6E,SAAS7E,EAAIsC,MAAM,GAAI,GAAI,M,6BCJpCxU,EAAQgX,WAuCR,SAAqBC,GACnB,IAAIC,EAAOC,EAAQF,GACfG,EAAWF,EAAK,GAChBG,EAAkBH,EAAK,GAC3B,OAAuC,GAA9BE,EAAWC,GAAuB,EAAKA,GA1ClDrX,EAAQsX,YAiDR,SAAsBL,GACpB,IAAIM,EAcArX,EAbAgX,EAAOC,EAAQF,GACfG,EAAWF,EAAK,GAChBG,EAAkBH,EAAK,GAEvBM,EAAM,IAAIC,EAVhB,SAAsBR,EAAKG,EAAUC,GACnC,OAAuC,GAA9BD,EAAWC,GAAuB,EAAKA,EAS9BK,CAAYT,EAAKG,EAAUC,IAEzCM,EAAU,EAGVC,EAAMP,EAAkB,EACxBD,EAAW,EACXA,EAGJ,IAAKlX,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACxBqX,EACGM,EAAUZ,EAAIa,WAAW5X,KAAO,GAChC2X,EAAUZ,EAAIa,WAAW5X,EAAI,KAAO,GACpC2X,EAAUZ,EAAIa,WAAW5X,EAAI,KAAO,EACrC2X,EAAUZ,EAAIa,WAAW5X,EAAI,IAC/BsX,EAAIG,KAAcJ,GAAO,GAAM,IAC/BC,EAAIG,KAAcJ,GAAO,EAAK,IAC9BC,EAAIG,KAAmB,IAANJ,EAGK,IAApBF,IACFE,EACGM,EAAUZ,EAAIa,WAAW5X,KAAO,EAChC2X,EAAUZ,EAAIa,WAAW5X,EAAI,KAAO,EACvCsX,EAAIG,KAAmB,IAANJ,GAGK,IAApBF,IACFE,EACGM,EAAUZ,EAAIa,WAAW5X,KAAO,GAChC2X,EAAUZ,EAAIa,WAAW5X,EAAI,KAAO,EACpC2X,EAAUZ,EAAIa,WAAW5X,EAAI,KAAO,EACvCsX,EAAIG,KAAcJ,GAAO,EAAK,IAC9BC,EAAIG,KAAmB,IAANJ,GAGnB,OAAOC,GA3FTxX,EAAQ+X,cAkHR,SAAwBC,GAQtB,IAPA,IAAIT,EACAK,EAAMI,EAAMtV,OACZuV,EAAaL,EAAM,EACnBM,EAAQ,GAIHhY,EAAI,EAAGiY,EAAOP,EAAMK,EAAY/X,EAAIiY,EAAMjY,GAH9B,MAInBgY,EAAM1F,KAAK4F,EACTJ,EAAO9X,EAAIA,EALM,MAKgBiY,EAAOA,EAAQjY,EAL/B,QAUF,IAAf+X,GACFV,EAAMS,EAAMJ,EAAM,GAClBM,EAAM1F,KACJ6F,EAAOd,GAAO,GACdc,EAAQd,GAAO,EAAK,IACpB,OAEsB,IAAfU,IACTV,GAAOS,EAAMJ,EAAM,IAAM,GAAKI,EAAMJ,EAAM,GAC1CM,EAAM1F,KACJ6F,EAAOd,GAAO,IACdc,EAAQd,GAAO,EAAK,IACpBc,EAAQd,GAAO,EAAK,IACpB,MAIJ,OAAOW,EAAM3K,KAAK,KA3IpB,IALA,IAAI8K,EAAS,GACTR,EAAY,GACZJ,EAA4B,oBAAfa,WAA6BA,WAAa3S,MAEvD4S,EAAO,mEACFrY,EAAI,EAAG0X,EAAMW,EAAK7V,OAAQxC,EAAI0X,IAAO1X,EAC5CmY,EAAOnY,GAAKqY,EAAKrY,GACjB2X,EAAUU,EAAKT,WAAW5X,IAAMA,EAQlC,SAASiX,EAASF,GAChB,IAAIW,EAAMX,EAAIvU,OAEd,GAAIkV,EAAM,EAAI,EACZ,MAAM,IAAIzS,MAAM,kDAKlB,IAAIiS,EAAWH,EAAIuB,QAAQ,KAO3B,OANkB,IAAdpB,IAAiBA,EAAWQ,GAMzB,CAACR,EAJcA,IAAaQ,EAC/B,EACA,EAAKR,EAAW,GAsEtB,SAASgB,EAAaJ,EAAOS,EAAOC,GAGlC,IAFA,IAAInB,EARoBoB,EASpB7O,EAAS,GACJ5J,EAAIuY,EAAOvY,EAAIwY,EAAKxY,GAAK,EAChCqX,GACIS,EAAM9X,IAAM,GAAM,WAClB8X,EAAM9X,EAAI,IAAM,EAAK,QACP,IAAf8X,EAAM9X,EAAI,IACb4J,EAAO0I,KAdF6F,GADiBM,EAeMpB,IAdT,GAAK,IACxBc,EAAOM,GAAO,GAAK,IACnBN,EAAOM,GAAO,EAAI,IAClBN,EAAa,GAANM,IAaT,OAAO7O,EAAOyD,KAAK,IAjGrBsK,EAAU,IAAIC,WAAW,IAAM,GAC/BD,EAAU,IAAIC,WAAW,IAAM,I,6BCjB/BlX,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAGT,IAEIyX,EAAYvV,EAFA,EAAQ,KAMpBwV,EAAmBxV,EAFD,EAAQ,KAM1ByV,EAAmBzV,EAFA,EAAQ,KAM3B0V,EAAgB1V,EAFA,EAAQ,KAMxB2V,EAA8B3V,EAFA,EAAQ,KAMtC4V,EAAa5V,EAFA,EAAQ,KAMrBG,EAAUH,EAFD,EAAQ,IAMjBK,EAAcL,EAFD,EAAQ,IAMrB6V,EAAc7V,EAFD,EAAQ,KAIzB,SAASA,EAAuBC,GAAO,OAAOA,GAAOA,EAAIhC,WAAagC,EAAM,CAAEwR,QAASxR,GAEvF,IAAI6V,EAAS,SAAUC,GAGrB,SAASD,IACP,IAAIE,EAEAC,EAAOvS,EAAOwS,GAElB,EAAIT,EAAiBhE,SAAS1Q,KAAM+U,GAEpC,IAAK,IAAIK,EAAO/W,UAAUC,OAAQ+W,EAAO9T,MAAM6T,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC3ED,EAAKC,GAAQjX,UAAUiX,GAGzB,OAAeJ,EAASvS,GAAQ,EAAIiS,EAA4BlE,SAAS1Q,MAAOiV,EAAOF,EAAO3T,YAAa,EAAIqT,EAAiB/D,SAASqE,IAAS9Y,KAAK+P,MAAMiJ,EAAM,CAACjV,MAAM0N,OAAO2H,KAAiB1S,EAAM4S,mBAAqB,WAGvN5S,EAAM6S,KAAKC,SACb9S,EAAM6S,KAAKE,OAEX/S,EAAM6S,KAAKG,SANRR,EAQJD,GAAQ,EAAIN,EAA4BlE,SAAS/N,EAAOwS,GAkL7D,OAvMA,EAAIN,EAAWnE,SAASqE,EAAQC,IAwBhC,EAAIL,EAAcjE,SAASqE,EAAQ,CAAC,CAClC1X,IAAK,oBACLN,MAAO,WACL,IAAI6Y,EAAS5V,KAAKtB,MACdkE,EAAUgT,EAAOhT,QACjBiT,EAAiBD,EAAOC,eACxBC,EAAOlT,EAAQkT,KACfC,EAAWnT,EAAQmT,SACnBC,EAAgBpT,EAAQoT,cACxBC,EAAmBrT,EAAQqT,iBAC3BC,EAAWtT,EAAQsT,SAGvBlW,KAAK4C,QAAU,CACbuT,UAAWnW,KAAKgE,GAChBoS,SAAU,MACVN,MAAe,IAATA,EACNC,UAAuB,IAAbA,EACVG,UAAuB,IAAbA,EACVF,cAAeA,EACfC,iBAAkBA,GAGpBjW,KAAK4C,SAAU,EAAI4R,EAAU9D,SAAS,GAAI1Q,KAAK4C,QAASA,GAExD5C,KAAKwV,KAAOV,EAAYpE,QAAQ2F,cAAcrW,KAAK4C,SACnD5C,KAAKsW,eAAeT,KAErB,CACDxY,IAAK,sBACLN,MAAO,SAA6BwZ,GAE9BvW,KAAK4C,QAAQoT,gBAAkBO,EAAU3T,QAAQoT,gBACnDhW,KAAKwW,iBAAiBxW,KAAKtB,MAAMmX,gBACjC7V,KAAKyW,UACLzW,KAAK4C,SAAU,EAAI4R,EAAU9D,SAAS,GAAI1Q,KAAK4C,QAAS2T,EAAU3T,SAClE5C,KAAKwV,KAAOV,EAAYpE,QAAQ2F,cAAcrW,KAAK4C,SACnD5C,KAAKsW,eAAeC,EAAUV,mBAGjC,CACDxY,IAAK,qBACLN,MAAO,WACDiD,KAAKtB,MAAMgY,UACb1W,KAAK2W,OACI3W,KAAKtB,MAAMwX,SACpBlW,KAAK4W,eAEL5W,KAAK0V,OAGP1V,KAAK2V,QACL3V,KAAK6W,WACL7W,KAAK8W,iBAEN,CACDzZ,IAAK,uBACLN,MAAO,WACLiD,KAAKwW,iBAAiBxW,KAAKtB,MAAMmX,gBACjC7V,KAAKyW,UACLzW,KAAK4C,QAAQoT,cAAgB,KAC7BhW,KAAKwV,KAAO,OAEb,CACDnY,IAAK,WACLN,MAAO,WACLiD,KAAKwV,KAAKqB,SAAS7W,KAAKtB,MAAMqY,SAE/B,CACD1Z,IAAK,eACLN,MAAO,WACLiD,KAAKwV,KAAKsB,aAAa9W,KAAKtB,MAAMsY,aAEnC,CACD3Z,IAAK,OACLN,MAAO,WACLiD,KAAKwV,KAAKE,SAEX,CACDrY,IAAK,eACLN,MAAO,WACLiD,KAAKwV,KAAKoB,aAAa5W,KAAKtB,MAAMwX,YAEnC,CACD7Y,IAAK,OACLN,MAAO,WACLiD,KAAKwV,KAAKmB,SAEX,CACDtZ,IAAK,QACLN,MAAO,YACDiD,KAAKtB,MAAM+W,WAAazV,KAAKwV,KAAKC,WAE1BzV,KAAKtB,MAAM+W,UAAYzV,KAAKwV,KAAKC,WAD3CzV,KAAKwV,KAAKG,UAKb,CACDtY,IAAK,UACLN,MAAO,WACLiD,KAAKwV,KAAKiB,YAEX,CACDpZ,IAAK,iBACLN,MAAO,SAAwB8Y,GAC7B,IAAI/O,EAAS9G,KAEb6V,EAAeoB,SAAQ,SAAUC,GAC/BpQ,EAAO0O,KAAK/O,iBAAiByQ,EAAcC,UAAWD,EAAcE,eAGvE,CACD/Z,IAAK,mBACLN,MAAO,SAA0B8Y,GAC/B,IAAIvO,EAAStH,KAEb6V,EAAeoB,SAAQ,SAAUC,GAC/B5P,EAAOkO,KAAK9O,oBAAoBwQ,EAAcC,UAAWD,EAAcE,eAG1E,CACD/Z,IAAK,SACLN,MAAO,WACL,IAAIsa,EAASrX,KAETsX,EAAUtX,KAAKtB,MACfmH,EAAQyR,EAAQzR,MAChByC,EAASgP,EAAQhP,OACjBiP,EAAWD,EAAQC,SACnBC,EAAYF,EAAQE,UACpBC,EAAyBH,EAAQG,uBACjCC,EAAQJ,EAAQI,MAGhBC,EAAU,SAAiBC,GAS7B,MANuB,iBAAZA,EACFA,EAAU,KAEVA,GAAW,QAMlBC,GAAe,EAAIrD,EAAU9D,SAAS,CACxC7K,MAAO8R,EAAQ9R,GACfyC,OAAQqP,EAAQrP,GAChBwP,SAAU,SACVC,OAAQ,SACRC,QAAS,QACRhY,KAAKtB,MAAMsG,OAEViT,EAAiBR,EAAyB,WAC5C,OAAO,MACLzX,KAAKuV,mBAET,OAGEnW,EAAQsR,QAAQnJ,cAAc,MAAO,CACnC2Q,IAAK,SAAa/b,GAChBkb,EAAOrT,GAAK7H,GAEd6I,MAAO6S,EACPlQ,QAASsQ,EACTP,MAAOA,EACPS,KAAMZ,EACN,aAAcC,EACdpO,SAAU,UAKX2L,EAxMI,CAyMX3V,EAAQsR,QAAQjH,WAElB7N,EAAQ8U,QAAUqE,EAGlBA,EAAOrL,UAAY,CACjBmM,eAAgBvW,EAAYoR,QAAQ0H,QAAQ9Y,EAAYoR,QAAQlT,QAChEoF,QAAStD,EAAYoR,QAAQlT,OAAO0M,WACpC5B,OAAQhJ,EAAYoR,QAAQ9G,UAAU,CAACtK,EAAYoR,QAAQ/G,OAAQrK,EAAYoR,QAAQvG,SACvFtE,MAAOvG,EAAYoR,QAAQ9G,UAAU,CAACtK,EAAYoR,QAAQ/G,OAAQrK,EAAYoR,QAAQvG,SACtFuM,UAAWpX,EAAYoR,QAAQ1G,KAC/ByL,SAAUnW,EAAYoR,QAAQ1G,KAC9B+M,MAAOzX,EAAYoR,QAAQvG,OAC3B+L,SAAU5W,EAAYoR,QAAQ0H,QAAQ9Y,EAAYoR,QAAQvG,QAC1D6M,UAAW1X,EAAYoR,QAAQvG,OAC/BoN,SAAUjY,EAAYoR,QAAQ/G,OAC9B6N,UAAWlY,EAAYoR,QAAQ/G,OAC/B8N,uBAAwBnY,EAAYoR,QAAQ1G,KAC5C0N,MAAOpY,EAAYoR,QAAQ/G,QAG7BoL,EAAO3K,aAAe,CACpByL,eAAgB,GAChBa,WAAW,EACXjB,UAAU,EACVsB,MAAO,EACPQ,SAAU,SACVC,UAAW,YACXC,wBAAwB,EACxBC,MAAO,K,6BChRTlb,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAETnB,EAAiB,QAAI,CACnByc,MAAO,EAAQ,IACfC,MAAO,EAAQ,KACfC,QAAS,EAAQ,KACjBC,OAAQ,EAAQ,KAChBpK,KAAM,EAAQ,KACdqK,WAAY,EAAQ,KACpBC,UAAW,EAAQ,KACnBC,YAAa,EAAQ,KACrBC,SAAU,EAAQ,KAClBC,OAAQ,EAAQ,MAElBhd,EAAOD,QAAUA,EAAiB,S,6BCflCA,EAAQsB,YAAa,EAErB,IAIgCgC,EAJ5B4Z,EAAU,EAAQ,IAElBC,GAE4B7Z,EAFM4Z,IAEe5Z,EAAIhC,WAAagC,EAAM,CAAEwR,QAASxR,GAEvFtD,EAAQ8U,QAAUqI,EAASrI,SAAW,SAAUtS,GAC9C,IAAK,IAAItC,EAAI,EAAGA,EAAIuC,UAAUC,OAAQxC,IAAK,CACzC,IAAIyC,EAASF,UAAUvC,GAEvB,IAAK,IAAIuB,KAAOkB,EACV/B,OAAOkB,UAAUC,eAAe1B,KAAKsC,EAAQlB,KAC/Ce,EAAOf,GAAOkB,EAAOlB,IAK3B,OAAOe,I,gBCrBTvC,EAAOD,QAAU,CAAE,QAAW,EAAQ,IAAqCsB,YAAY,I,gBCAvF,EAAQ,IACRrB,EAAOD,QAAU,EAAQ,GAAuBY,OAAO2B,Q,gBCAvD,IAAI0M,EAAU,EAAQ,GAEtBA,EAAQA,EAAQS,EAAIT,EAAQK,EAAG,SAAU,CAAE/M,OAAQ,EAAQ,O,cCH3DtC,EAAOD,QAAU,SAAU+Q,GACzB,GAAiB,mBAANA,EAAkB,MAAM7M,UAAU6M,EAAK,uBAClD,OAAOA,I,6BCAT,IAAIqM,EAAc,EAAQ,GACtBC,EAAU,EAAQ,IAClBC,EAAO,EAAQ,IACf3G,EAAM,EAAQ,IACdlC,EAAW,EAAQ,IACnBvD,EAAU,EAAQ,IAClBqM,EAAU3c,OAAO2B,OAGrBtC,EAAOD,SAAWud,GAAW,EAAQ,GAAR,EAAoB,WAC/C,IAAIC,EAAI,GACJ1N,EAAI,GAEJJ,EAAIzO,SACJwc,EAAI,uBAGR,OAFAD,EAAE9N,GAAK,EACP+N,EAAE/K,MAAM,IAAI2I,SAAQ,SAAUqC,GAAK5N,EAAE4N,GAAKA,KACd,GAArBH,EAAQ,GAAIC,GAAG9N,IAAW9O,OAAO+Q,KAAK4L,EAAQ,GAAIzN,IAAIvC,KAAK,KAAOkQ,KACtE,SAAgBjb,EAAQG,GAM3B,IALA,IAAIgb,EAAIlJ,EAASjS,GACbob,EAAOnb,UAAUC,OACjB8G,EAAQ,EACRqU,EAAaP,EAAK1M,EAClBkN,EAASnH,EAAI/F,EACVgN,EAAOpU,GAMZ,IALA,IAII/H,EAJAiO,EAAIwB,EAAQzO,UAAU+G,MACtBmI,EAAOkM,EAAaR,EAAQ3N,GAAGoC,OAAO+L,EAAWnO,IAAM2N,EAAQ3N,GAC/DhN,EAASiP,EAAKjP,OACdqb,EAAI,EAEDrb,EAASqb,GACdtc,EAAMkQ,EAAKoM,KACNX,IAAeU,EAAOzd,KAAKqP,EAAGjO,KAAMkc,EAAElc,GAAOiO,EAAEjO,IAEtD,OAAOkc,GACPJ,G,gBCnCJ,IAAInJ,EAAY,EAAQ,IACpB4J,EAAW,EAAQ,IACnBC,EAAkB,EAAQ,IAC9Bhe,EAAOD,QAAU,SAAUke,GACzB,OAAO,SAAUC,EAAO/V,EAAIgW,GAC1B,IAGIjd,EAHA0P,EAAIuD,EAAU+J,GACdzb,EAASsb,EAASnN,EAAEnO,QACpB8G,EAAQyU,EAAgBG,EAAW1b,GAIvC,GAAIwb,GAAe9V,GAAMA,GAAI,KAAO1F,EAAS8G,GAG3C,IAFArI,EAAQ0P,EAAErH,OAEGrI,EAAO,OAAO,OAEtB,KAAMuB,EAAS8G,EAAOA,IAAS,IAAI0U,GAAe1U,KAASqH,IAC5DA,EAAErH,KAAWpB,EAAI,OAAO8V,GAAe1U,GAAS,EACpD,OAAQ0U,IAAgB,K,gBCnB9B,IAAIG,EAAY,EAAQ,IACpBC,EAAM5P,KAAK4P,IACfre,EAAOD,QAAU,SAAU+Q,GACzB,OAAOA,EAAK,EAAIuN,EAAID,EAAUtN,GAAK,kBAAoB,I,gBCJzD,IAAIsN,EAAY,EAAQ,IACpBE,EAAM7P,KAAK6P,IACXD,EAAM5P,KAAK4P,IACfre,EAAOD,QAAU,SAAUwJ,EAAO9G,GAEhC,OADA8G,EAAQ6U,EAAU7U,IACH,EAAI+U,EAAI/U,EAAQ9G,EAAQ,GAAK4b,EAAI9U,EAAO9G,K,gBCLzDzC,EAAOD,QAAU,CAAE,QAAW,EAAQ,IAA+CsB,YAAY,I,gBCAjG,EAAQ,IACRrB,EAAOD,QAAU,EAAQ,GAAuBY,OAAOmE,gB,gBCAvD,IAAI0P,EAAW,EAAQ,IACnB+J,EAAkB,EAAQ,IAE9B,EAAQ,GAAR,CAAyB,kBAAkB,WACzC,OAAO,SAAwBzN,GAC7B,OAAOyN,EAAgB/J,EAAS1D,S,gBCLpC,IAAI9B,EAAU,EAAQ,GAClB9M,EAAO,EAAQ,GACfsc,EAAQ,EAAQ,IACpBxe,EAAOD,QAAU,SAAU0e,EAAKzN,GAC9B,IAAIgB,GAAM9P,EAAKvB,QAAU,IAAI8d,IAAQ9d,OAAO8d,GACxCC,EAAM,GACVA,EAAID,GAAOzN,EAAKgB,GAChBhD,EAAQA,EAAQS,EAAIT,EAAQK,EAAImP,GAAM,WAAcxM,EAAG,MAAQ,SAAU0M,K,6BCN3E3e,EAAQsB,YAAa,EAErBtB,EAAQ8U,QAAU,SAAU7Q,EAAUf,GACpC,KAAMe,aAAoBf,GACxB,MAAM,IAAIgB,UAAU,uC,6BCJxBlE,EAAQsB,YAAa,EAErB,IAIgCgC,EAJ5Bsb,EAAkB,EAAQ,IAE1BC,GAE4Bvb,EAFcsb,IAEOtb,EAAIhC,WAAagC,EAAM,CAAEwR,QAASxR,GAEvFtD,EAAQ8U,QAAU,WAChB,SAASjS,EAAiBL,EAAQM,GAChC,IAAK,IAAI5C,EAAI,EAAGA,EAAI4C,EAAMJ,OAAQxC,IAAK,CACrC,IAAI6C,EAAaD,EAAM5C,GACvB6C,EAAWjC,WAAaiC,EAAWjC,aAAc,EACjDiC,EAAWC,cAAe,EACtB,UAAWD,IAAYA,EAAWE,UAAW,IACjD,EAAI4b,EAAiB/J,SAAStS,EAAQO,EAAWtB,IAAKsB,IAI1D,OAAO,SAAUG,EAAaC,EAAYC,GAGxC,OAFID,GAAYN,EAAiBK,EAAYpB,UAAWqB,GACpDC,GAAaP,EAAiBK,EAAaE,GACxCF,GAdO,I,gBCVlBjD,EAAOD,QAAU,CAAE,QAAW,EAAQ,IAA8CsB,YAAY,I,gBCAhG,EAAQ,IACR,IAAIwd,EAAU,EAAQ,GAAuBle,OAC7CX,EAAOD,QAAU,SAAwB+Q,EAAItP,EAAKkD,GAChD,OAAOma,EAAQje,eAAekQ,EAAItP,EAAKkD,K,gBCHzC,IAAIsK,EAAU,EAAQ,GAEtBA,EAAQA,EAAQS,EAAIT,EAAQK,GAAK,EAAQ,GAAmB,SAAU,CAAEzO,eAAgB,EAAQ,GAAgB+P,K,6BCAhH5Q,EAAQsB,YAAa,EAErB,IAIgCgC,EAJ5Byb,EAAW,EAAQ,IAEnBC,GAE4B1b,EAFMyb,IAEezb,EAAIhC,WAAagC,EAAM,CAAEwR,QAASxR,GAEvFtD,EAAQ8U,QAAU,SAAUnG,EAAMtO,GAChC,IAAKsO,EACH,MAAM,IAAIsQ,eAAe,6DAG3B,OAAO5e,GAAuF,iBAA7D,IAATA,EAAuB,aAAc,EAAI2e,EAASlK,SAASzU,KAAuC,mBAATA,EAA8BsO,EAAPtO,I,gBCf1IJ,EAAOD,QAAU,CAAE,QAAW,EAAQ,IAAuCsB,YAAY,I,gBCAzF,EAAQ,IACR,EAAQ,IACRrB,EAAOD,QAAU,EAAQ,IAA0B4Q,EAAE,a,6BCDrD,IAAIsO,EAAM,EAAQ,GAAR,EAAwB,GAGlC,EAAQ,GAAR,CAA0BC,OAAQ,UAAU,SAAUC,GACpDhb,KAAKib,GAAKF,OAAOC,GACjBhb,KAAKkb,GAAK,KAET,WACD,IAEIC,EAFA1O,EAAIzM,KAAKib,GACT7V,EAAQpF,KAAKkb,GAEjB,OAAI9V,GAASqH,EAAEnO,OAAe,CAAEvB,WAAO0D,EAAW2a,MAAM,IACxDD,EAAQL,EAAIrO,EAAGrH,GACfpF,KAAKkb,IAAMC,EAAM7c,OACV,CAAEvB,MAAOoe,EAAOC,MAAM,Q,gBCf/B,IAAInB,EAAY,EAAQ,IACpBlN,EAAU,EAAQ,IAGtBlR,EAAOD,QAAU,SAAUyf,GACzB,OAAO,SAAUvL,EAAMwL,GACrB,IAGI7Q,EAAGsB,EAHHlO,EAAIkd,OAAOhO,EAAQ+C,IACnBhU,EAAIme,EAAUqB,GACdvf,EAAI8B,EAAES,OAEV,OAAIxC,EAAI,GAAKA,GAAKC,EAAUsf,EAAY,QAAK5a,GAC7CgK,EAAI5M,EAAE6V,WAAW5X,IACN,OAAU2O,EAAI,OAAU3O,EAAI,IAAMC,IAAMgQ,EAAIlO,EAAE6V,WAAW5X,EAAI,IAAM,OAAUiQ,EAAI,MACxFsP,EAAYxd,EAAE2H,OAAO1J,GAAK2O,EAC1B4Q,EAAYxd,EAAEuS,MAAMtU,EAAGA,EAAI,GAA2BiQ,EAAI,OAAzBtB,EAAI,OAAU,IAAqB,S,6BCb5E,IAAIrN,EAAS,EAAQ,IACjBuB,EAAa,EAAQ,IACrBmS,EAAiB,EAAQ,IACzBW,EAAoB,GAGxB,EAAQ,EAAR,CAAmBA,EAAmB,EAAQ,GAAR,CAAkB,aAAa,WAAc,OAAOzR,QAE1FnE,EAAOD,QAAU,SAAUkD,EAAaqS,EAAMC,GAC5CtS,EAAYpB,UAAYN,EAAOqU,EAAmB,CAAEL,KAAMzS,EAAW,EAAGyS,KACxEN,EAAehS,EAAaqS,EAAO,e,gBCXrC,IAAI5E,EAAK,EAAQ,GACbH,EAAW,EAAQ,IACnB6M,EAAU,EAAQ,IAEtBpd,EAAOD,QAAU,EAAQ,GAAoBY,OAAOiC,iBAAmB,SAA0BgO,EAAG2C,GAClGhD,EAASK,GAKT,IAJA,IAGIjB,EAHA+B,EAAO0L,EAAQ7J,GACf9Q,EAASiP,EAAKjP,OACdxC,EAAI,EAEDwC,EAASxC,GAAGyQ,EAAGC,EAAEC,EAAGjB,EAAI+B,EAAKzR,KAAMsT,EAAW5D,IACrD,OAAOiB,I,gBCXT,IAAIhL,EAAW,EAAQ,GAAaA,SACpC5F,EAAOD,QAAU6F,GAAYA,EAAS8Z,iB,gBCDtC,EAAQ,IAYR,IAXA,IAAIlR,EAAS,EAAQ,GACjBM,EAAO,EAAQ,GACfiG,EAAY,EAAQ,IACpB4K,EAAgB,EAAQ,GAAR,CAAkB,eAElCC,EAAe,wbAIUnN,MAAM,KAE1BxS,EAAI,EAAGA,EAAI2f,EAAand,OAAQxC,IAAK,CAC5C,IAAIqV,EAAOsK,EAAa3f,GACpB4f,EAAarR,EAAO8G,GACpBS,EAAQ8J,GAAcA,EAAWhe,UACjCkU,IAAUA,EAAM4J,IAAgB7Q,EAAKiH,EAAO4J,EAAerK,GAC/DP,EAAUO,GAAQP,EAAUrP,Q,6BChB9B,IAAIoa,EAAmB,EAAQ,IAC3BC,EAAO,EAAQ,IACfhL,EAAY,EAAQ,IACpBZ,EAAY,EAAQ,IAMxBnU,EAAOD,QAAU,EAAQ,GAAR,CAA0B2F,MAAO,SAAS,SAAUyZ,EAAUrJ,GAC7E3R,KAAKib,GAAKjL,EAAUgL,GACpBhb,KAAKkb,GAAK,EACVlb,KAAK6b,GAAKlK,KAET,WACD,IAAIlF,EAAIzM,KAAKib,GACTtJ,EAAO3R,KAAK6b,GACZzW,EAAQpF,KAAKkb,KACjB,OAAKzO,GAAKrH,GAASqH,EAAEnO,QACnB0B,KAAKib,QAAKxa,EACHmb,EAAK,IAEaA,EAAK,EAApB,QAARjK,EAA+BvM,EACvB,UAARuM,EAAiClF,EAAErH,GACxB,CAACA,EAAOqH,EAAErH,OACxB,UAGHwL,EAAUkL,UAAYlL,EAAUrP,MAEhCoa,EAAiB,QACjBA,EAAiB,UACjBA,EAAiB,Y,cCjCjB9f,EAAOD,QAAU,c,cCAjBC,EAAOD,QAAU,SAAUwf,EAAMre,GAC/B,MAAO,CAAEA,MAAOA,EAAOqe,OAAQA,K,gBCDjCvf,EAAOD,QAAU,CAAE,QAAW,EAAQ,IAA8BsB,YAAY,I,gBCAhF,EAAQ,IACR,EAAQ,IACR,EAAQ,IACR,EAAQ,IACRrB,EAAOD,QAAU,EAAQ,GAAuBiB,Q,6BCFhD,IAAIwN,EAAS,EAAQ,GACjBO,EAAM,EAAQ,GACdoO,EAAc,EAAQ,GACtBnO,EAAU,EAAQ,GAClB8F,EAAW,EAAQ,IACnBoL,EAAO,EAAQ,IAAWzB,IAC1B0B,EAAS,EAAQ,IACjB7N,EAAS,EAAQ,IACjB2C,EAAiB,EAAQ,IACzB7D,EAAM,EAAQ,IACdgP,EAAM,EAAQ,IACdtM,EAAS,EAAQ,IACjBuM,EAAY,EAAQ,IACpBC,EAAW,EAAQ,IACnBC,EAAU,EAAQ,IAClBhQ,EAAW,EAAQ,IACnBe,EAAW,EAAQ,IACnBkD,EAAW,EAAQ,IACnBL,EAAY,EAAQ,IACpB1D,EAAc,EAAQ,IACtBM,EAAa,EAAQ,IACrByP,EAAU,EAAQ,IAClBC,EAAU,EAAQ,IAClBC,EAAQ,EAAQ,IAChBC,EAAQ,EAAQ,IAChBC,EAAM,EAAQ,GACdpP,EAAQ,EAAQ,IAChBmF,EAAO+J,EAAM/P,EACbD,EAAKkQ,EAAIjQ,EACTkQ,EAAOJ,EAAQ9P,EACfoD,EAAUvF,EAAOxN,OACjB8f,EAAQtS,EAAOuS,KACfC,EAAaF,GAASA,EAAMG,UAE5BC,EAASd,EAAI,WACbe,EAAef,EAAI,eACnBvC,EAAS,GAAG9L,qBACZqP,EAAiB9O,EAAO,mBACxB+O,EAAa/O,EAAO,WACpBgP,EAAYhP,EAAO,cACnBmC,EAAc9T,OAAgB,UAC9B4gB,EAA+B,mBAAXxN,KAA2B4M,EAAMhQ,EACrD6Q,EAAUhT,EAAOgT,QAEjBC,GAAUD,IAAYA,EAAiB,YAAMA,EAAiB,UAAEE,UAGhEC,EAAgBxE,GAAegD,GAAO,WACxC,OAES,GAFFK,EAAQ9P,EAAG,GAAI,IAAK,CACzB5P,IAAK,WAAc,OAAO4P,EAAGvM,KAAM,IAAK,CAAEjD,MAAO,IAAK0N,MACpDA,KACD,SAAUkC,EAAItP,EAAKogB,GACtB,IAAIC,EAAYlL,EAAKlC,EAAajT,GAC9BqgB,UAAkBpN,EAAYjT,GAClCkP,EAAGI,EAAItP,EAAKogB,GACRC,GAAa/Q,IAAO2D,GAAa/D,EAAG+D,EAAajT,EAAKqgB,IACxDnR,EAEAoR,EAAO,SAAUnO,GACnB,IAAIoO,EAAMV,EAAW1N,GAAO6M,EAAQzM,EAAiB,WAErD,OADAgO,EAAI/B,GAAKrM,EACFoO,GAGLC,EAAWT,GAAyC,iBAApBxN,EAAQkO,SAAuB,SAAUnR,GAC3E,MAAoB,iBAANA,GACZ,SAAUA,GACZ,OAAOA,aAAciD,GAGnBmO,EAAkB,SAAwBpR,EAAItP,EAAKogB,GAKrD,OAJI9Q,IAAO2D,GAAayN,EAAgBZ,EAAW9f,EAAKogB,GACxDrR,EAASO,GACTtP,EAAMiP,EAAYjP,GAAK,GACvB+O,EAASqR,GACL7S,EAAIsS,EAAY7f,IACbogB,EAAE/gB,YAIDkO,EAAI+B,EAAIoQ,IAAWpQ,EAAGoQ,GAAQ1f,KAAMsP,EAAGoQ,GAAQ1f,IAAO,GAC1DogB,EAAIpB,EAAQoB,EAAG,CAAE/gB,WAAYkQ,EAAW,GAAG,OAJtChC,EAAI+B,EAAIoQ,IAASxQ,EAAGI,EAAIoQ,EAAQnQ,EAAW,EAAG,KACnDD,EAAGoQ,GAAQ1f,IAAO,GAIXmgB,EAAc7Q,EAAItP,EAAKogB,IACzBlR,EAAGI,EAAItP,EAAKogB,IAEnBO,EAAoB,SAA0BrR,EAAInB,GACpDY,EAASO,GAKT,IAJA,IAGItP,EAHAkQ,EAAO4O,EAAS3Q,EAAIwE,EAAUxE,IAC9B1P,EAAI,EACJC,EAAIwR,EAAKjP,OAENvC,EAAID,GAAGiiB,EAAgBpR,EAAItP,EAAMkQ,EAAKzR,KAAM0P,EAAEnO,IACrD,OAAOsP,GAKLsR,EAAwB,SAA8B5gB,GACxD,IAAI6gB,EAAIxE,EAAOzd,KAAK+D,KAAM3C,EAAMiP,EAAYjP,GAAK,IACjD,QAAI2C,OAASsQ,GAAe1F,EAAIsS,EAAY7f,KAASuN,EAAIuS,EAAW9f,QAC7D6gB,IAAMtT,EAAI5K,KAAM3C,KAASuN,EAAIsS,EAAY7f,IAAQuN,EAAI5K,KAAM+c,IAAW/c,KAAK+c,GAAQ1f,KAAO6gB,IAE/FC,EAA4B,SAAkCxR,EAAItP,GAGpE,GAFAsP,EAAKqD,EAAUrD,GACftP,EAAMiP,EAAYjP,GAAK,GACnBsP,IAAO2D,IAAe1F,EAAIsS,EAAY7f,IAASuN,EAAIuS,EAAW9f,GAAlE,CACA,IAAIogB,EAAIjL,EAAK7F,EAAItP,GAEjB,OADIogB,IAAK7S,EAAIsS,EAAY7f,IAAUuN,EAAI+B,EAAIoQ,IAAWpQ,EAAGoQ,GAAQ1f,KAAOogB,EAAE/gB,YAAa,GAChF+gB,IAELW,EAAuB,SAA6BzR,GAKtD,IAJA,IAGItP,EAHA6S,EAAQwM,EAAK1M,EAAUrD,IACvB0C,EAAS,GACTvT,EAAI,EAEDoU,EAAM5R,OAASxC,GACf8O,EAAIsS,EAAY7f,EAAM6S,EAAMpU,OAASuB,GAAO0f,GAAU1f,GAAO0e,GAAM1M,EAAOjB,KAAK/Q,GACpF,OAAOgS,GAEPgP,GAAyB,SAA+B1R,GAM1D,IALA,IAIItP,EAJAihB,EAAQ3R,IAAO2D,EACfJ,EAAQwM,EAAK4B,EAAQnB,EAAYnN,EAAUrD,IAC3C0C,EAAS,GACTvT,EAAI,EAEDoU,EAAM5R,OAASxC,IAChB8O,EAAIsS,EAAY7f,EAAM6S,EAAMpU,OAAUwiB,IAAQ1T,EAAI0F,EAAajT,IAAcgS,EAAOjB,KAAK8O,EAAW7f,IACxG,OAAOgS,GAIN+N,IAYHzM,GAXAf,EAAU,WACR,GAAI5P,gBAAgB4P,EAAS,MAAM9P,UAAU,gCAC7C,IAAI0P,EAAMvC,EAAI5O,UAAUC,OAAS,EAAID,UAAU,QAAKoC,GAChD8d,EAAO,SAAUxhB,GACfiD,OAASsQ,GAAaiO,EAAKtiB,KAAKkhB,EAAWpgB,GAC3C6N,EAAI5K,KAAM+c,IAAWnS,EAAI5K,KAAK+c,GAASvN,KAAMxP,KAAK+c,GAAQvN,IAAO,GACrEgO,EAAcxd,KAAMwP,EAAK5C,EAAW,EAAG7P,KAGzC,OADIic,GAAesE,GAAQE,EAAclN,EAAad,EAAK,CAAE5Q,cAAc,EAAMkF,IAAKya,IAC/EZ,EAAKnO,KAEY,UAAG,YAAY,WACvC,OAAOxP,KAAK6b,MAGdU,EAAM/P,EAAI2R,EACV1B,EAAIjQ,EAAIuR,EACR,EAAQ,IAAkBvR,EAAI8P,EAAQ9P,EAAI4R,EAC1C,EAAQ,IAAiB5R,EAAIyR,EAC7BzB,EAAMhQ,EAAI6R,GAENrF,IAAgB,EAAQ,KAC1BrI,EAASL,EAAa,uBAAwB2N,GAAuB,GAGvEtO,EAAOnD,EAAI,SAAUnQ,GACnB,OAAOshB,EAAK1B,EAAI5f,MAIpBwO,EAAQA,EAAQO,EAAIP,EAAQe,EAAIf,EAAQK,GAAKkS,EAAY,CAAEvgB,OAAQ+S,IAEnE,IAAK,IAAI4O,GAAa,iHAGpBlQ,MAAM,KAAMqL,GAAI,EAAG6E,GAAWlgB,OAASqb,IAAGsC,EAAIuC,GAAW7E,OAE3D,IAAK,IAAI8E,GAAmBpR,EAAM4O,EAAIjP,OAAQsM,GAAI,EAAGmF,GAAiBngB,OAASgb,IAAI4C,EAAUuC,GAAiBnF,OAE9GzO,EAAQA,EAAQS,EAAIT,EAAQK,GAAKkS,EAAY,SAAU,CAErD,IAAO,SAAU/f,GACf,OAAOuN,EAAIqS,EAAgB5f,GAAO,IAC9B4f,EAAe5f,GACf4f,EAAe5f,GAAOuS,EAAQvS,IAGpCqhB,OAAQ,SAAgBd,GACtB,IAAKC,EAASD,GAAM,MAAM9d,UAAU8d,EAAM,qBAC1C,IAAK,IAAIvgB,KAAO4f,EAAgB,GAAIA,EAAe5f,KAASugB,EAAK,OAAOvgB,GAE1EshB,UAAW,WAAcrB,GAAS,GAClCsB,UAAW,WAActB,GAAS,KAGpCzS,EAAQA,EAAQS,EAAIT,EAAQK,GAAKkS,EAAY,SAAU,CAErDhgB,OA/FY,SAAgBuP,EAAInB,GAChC,YAAa/K,IAAN+K,EAAkB6Q,EAAQ1P,GAAMqR,EAAkB3B,EAAQ1P,GAAKnB,IAgGtE/O,eAAgBshB,EAEhBtf,iBAAkBuf,EAElBxd,yBAA0B2d,EAE1B7L,oBAAqB8L,EAErB7P,sBAAuB8P,KAKzB,IAAIQ,GAAsB7C,GAAO,WAAcQ,EAAMhQ,EAAE,MAEvD3B,EAAQA,EAAQS,EAAIT,EAAQK,EAAI2T,GAAqB,SAAU,CAC7DtQ,sBAAuB,SAA+B5B,GACpD,OAAO6P,EAAMhQ,EAAE6D,EAAS1D,OAK5BgQ,GAAS9R,EAAQA,EAAQS,EAAIT,EAAQK,IAAMkS,GAAcpB,GAAO,WAC9D,IAAI1Q,EAAIsE,IAIR,MAA0B,UAAnBiN,EAAW,CAACvR,KAA2C,MAAxBuR,EAAW,CAAEpS,EAAGa,KAAyC,MAAzBuR,EAAWrgB,OAAO8O,QACrF,OAAQ,CACXwR,UAAW,SAAmBnQ,GAI5B,IAHA,IAEImS,EAAUC,EAFV1J,EAAO,CAAC1I,GACR7Q,EAAI,EAEDuC,UAAUC,OAASxC,GAAGuZ,EAAKjH,KAAK/P,UAAUvC,MAEjD,GADAijB,EAAYD,EAAWzJ,EAAK,IACvBlI,EAAS2R,SAAoBre,IAAPkM,KAAoBkR,EAASlR,GAMxD,OALKyP,EAAQ0C,KAAWA,EAAW,SAAUzhB,EAAKN,GAEhD,GADwB,mBAAbgiB,IAAyBhiB,EAAQgiB,EAAU9iB,KAAK+D,KAAM3C,EAAKN,KACjE8gB,EAAS9gB,GAAQ,OAAOA,IAE/BsY,EAAK,GAAKyJ,EACHjC,EAAW7Q,MAAM2Q,EAAOtH,MAKnCzF,EAAiB,UAAEoN,IAAiB,EAAQ,EAAR,CAAmBpN,EAAiB,UAAGoN,EAAcpN,EAAiB,UAAE7B,SAE5G+C,EAAelB,EAAS,UAExBkB,EAAexG,KAAM,QAAQ,GAE7BwG,EAAezG,EAAOuS,KAAM,QAAQ,I,gBCrPpC,IAAIb,EAAO,EAAQ,GAAR,CAAkB,QACzB5O,EAAW,EAAQ,IACnBvC,EAAM,EAAQ,GACdoU,EAAU,EAAQ,GAAgBxS,EAClC9H,EAAK,EACLua,EAAeziB,OAAOyiB,cAAgB,WACxC,OAAO,GAELC,GAAU,EAAQ,GAAR,EAAoB,WAChC,OAAOD,EAAaziB,OAAO2iB,kBAAkB,QAE3CC,EAAU,SAAUzS,GACtBqS,EAAQrS,EAAIoP,EAAM,CAAEhf,MAAO,CACzBjB,EAAG,OAAQ4I,EACX2a,EAAG,OAgCHC,EAAOzjB,EAAOD,QAAU,CAC1B0e,IAAKyB,EACLwD,MAAM,EACNC,QAhCY,SAAU7S,EAAIvP,GAE1B,IAAK+P,EAASR,GAAK,MAAoB,iBAANA,EAAiBA,GAAmB,iBAANA,EAAiB,IAAM,KAAOA,EAC7F,IAAK/B,EAAI+B,EAAIoP,GAAO,CAElB,IAAKkD,EAAatS,GAAK,MAAO,IAE9B,IAAKvP,EAAQ,MAAO,IAEpBgiB,EAAQzS,GAER,OAAOA,EAAGoP,GAAMjgB,GAsBlB2jB,QApBY,SAAU9S,EAAIvP,GAC1B,IAAKwN,EAAI+B,EAAIoP,GAAO,CAElB,IAAKkD,EAAatS,GAAK,OAAO,EAE9B,IAAKvP,EAAQ,OAAO,EAEpBgiB,EAAQzS,GAER,OAAOA,EAAGoP,GAAMsD,GAYlBK,SATa,SAAU/S,GAEvB,OADIuS,GAAUI,EAAKC,MAAQN,EAAatS,KAAQ/B,EAAI+B,EAAIoP,IAAOqD,EAAQzS,GAChEA,K,gBC3CT,IAAIsM,EAAU,EAAQ,IAClBC,EAAO,EAAQ,IACf3G,EAAM,EAAQ,IAClB1W,EAAOD,QAAU,SAAU+Q,GACzB,IAAI0C,EAAS4J,EAAQtM,GACjB8M,EAAaP,EAAK1M,EACtB,GAAIiN,EAKF,IAJA,IAGIpc,EAHAsiB,EAAUlG,EAAW9M,GACrB+M,EAASnH,EAAI/F,EACb1Q,EAAI,EAED6jB,EAAQrhB,OAASxC,GAAO4d,EAAOzd,KAAK0Q,EAAItP,EAAMsiB,EAAQ7jB,OAAOuT,EAAOjB,KAAK/Q,GAChF,OAAOgS,I,gBCZX,IAAIc,EAAM,EAAQ,IAClBtU,EAAOD,QAAU2F,MAAM6a,SAAW,SAAiBwD,GACjD,MAAmB,SAAZzP,EAAIyP,K,gBCFb,IAAI5P,EAAY,EAAQ,IACpB0M,EAAO,EAAQ,IAAkBlQ,EACjCmB,EAAW,GAAGA,SAEdkS,EAA+B,iBAAV/hB,QAAsBA,QAAUtB,OAAO8V,oBAC5D9V,OAAO8V,oBAAoBxU,QAAU,GAUzCjC,EAAOD,QAAQ4Q,EAAI,SAA6BG,GAC9C,OAAOkT,GAAoC,mBAArBlS,EAAS1R,KAAK0Q,GATjB,SAAUA,GAC7B,IACE,OAAO+P,EAAK/P,GACZ,MAAO3G,GACP,OAAO6Z,EAAYzP,SAK0C0P,CAAenT,GAAM+P,EAAK1M,EAAUrD,M,gCCjBrG,EAAQ,GAAR,CAAyB,kB,gBCAzB,EAAQ,GAAR,CAAyB,e,6BCEzB/Q,EAAQsB,YAAa,EAErB,IAEI6iB,EAAmB9gB,EAFD,EAAQ,KAM1B+gB,EAAW/gB,EAFD,EAAQ,KAMlB2b,EAAW3b,EAFA,EAAQ,KAIvB,SAASA,EAAuBC,GAAO,OAAOA,GAAOA,EAAIhC,WAAagC,EAAM,CAAEwR,QAASxR,GAEvFtD,EAAQ8U,QAAU,SAAU1P,EAAUC,GACpC,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAInB,UAAU,iEAAoF,IAAfmB,EAA6B,aAAc,EAAI2Z,EAASlK,SAASzP,KAG5JD,EAAStD,WAAY,EAAIsiB,EAAStP,SAASzP,GAAcA,EAAWvD,UAAW,CAC7EwD,YAAa,CACXnE,MAAOiE,EACPtE,YAAY,EACZmC,UAAU,EACVD,cAAc,KAGdqC,IAAY8e,EAAiBrP,SAAU,EAAIqP,EAAiBrP,SAAS1P,EAAUC,GAAcD,EAASI,UAAYH,K,gBC/BxHpF,EAAOD,QAAU,CAAE,QAAW,EAAQ,IAA+CsB,YAAY,I,gBCAjG,EAAQ,IACRrB,EAAOD,QAAU,EAAQ,GAAuBY,OAAO2E,gB,gBCAvD,IAAI0J,EAAU,EAAQ,GACtBA,EAAQA,EAAQS,EAAG,SAAU,CAAEnK,eAAgB,EAAQ,IAAgB2C,O,gBCAvE,IAAIqJ,EAAW,EAAQ,IACnBf,EAAW,EAAQ,IACnB6T,EAAQ,SAAUxT,EAAGmF,GAEvB,GADAxF,EAASK,IACJU,EAASyE,IAAoB,OAAVA,EAAgB,MAAM9R,UAAU8R,EAAQ,8BAElE/V,EAAOD,QAAU,CACfkI,IAAKtH,OAAO2E,iBAAmB,aAAe,GAC5C,SAAU+e,EAAMC,EAAOrc,GACrB,KACEA,EAAM,EAAQ,GAAR,CAAkBxD,SAASrE,KAAM,EAAQ,IAAkBuQ,EAAEhQ,OAAOkB,UAAW,aAAaoG,IAAK,IACnGoc,EAAM,IACVC,IAAUD,aAAgB3e,OAC1B,MAAOyE,GAAKma,GAAQ,EACtB,OAAO,SAAwB1T,EAAGmF,GAIhC,OAHAqO,EAAMxT,EAAGmF,GACLuO,EAAO1T,EAAErL,UAAYwQ,EACpB9N,EAAI2I,EAAGmF,GACLnF,GAVX,CAYE,IAAI,QAAShM,GACjBwf,MAAOA,I,gBCvBTpkB,EAAOD,QAAU,CAAE,QAAW,EAAQ,IAAqCsB,YAAY,I,gBCAvF,EAAQ,IACR,IAAIwd,EAAU,EAAQ,GAAuBle,OAC7CX,EAAOD,QAAU,SAAgB4P,EAAGiS,GAClC,OAAO/C,EAAQtd,OAAOoO,EAAGiS,K,gBCH3B,IAAI5S,EAAU,EAAQ,GAEtBA,EAAQA,EAAQS,EAAG,SAAU,CAAElO,OAAQ,EAAQ,O,6CCF/C,oFAIS,KAFD,yCACI,OAAOgjB,EAAQC,IAClB,kGAJT,CAWGviB,QAAU,IAAK,SAASA,QAC1B,aACD,IAAIwiB,MAAQ,6BAERC,aAAe,GAEfC,qBAAuB,OAEvBC,iBAAkB,EAClBC,kBACAC,SAAW,iCAAiCT,KAAKU,UAAUC,WAC3DC,aAAe,GACfC,WAAazW,KAAK0W,MAClBC,OACAC,OAAS5W,KAAK6W,IACdC,QAAU9W,KAAK+W,KACfC,OAAShX,KAAKiX,IACdC,SAAWlX,KAAK2D,MAChBwT,OAASnX,KAAK6P,IACduH,OAASpX,KAAK4P,IACdyH,QAAU,GAEVC,OAAS,GASb,SAASC,mBAAmB,MAAO,IARlC,WACG,IACI/lB,EADAgmB,EAAgB,CAAC,MAAO,OAAQ,QAAS,OAAQ,QAAS,OAAQ,QAAS,QAAS,OAAQ,OAAQ,QAAS,QAAS,MAAO,OAAQ,MAAO,QAAS,SAAU,QAAS,OAAQ,MAAO,QAAS,OAAQ,QAAS,MAAO,MAAO,MAAO,SAAU,QAAS,OAAQ,MAAO,OAAQ,OAAQ,MAAO,OAAQ,QAAS,IAAK,OAAQ,MAAO,SAAU,QAAS,KAAM,UAAW,SACrWtO,EAAMsO,EAAcxjB,OAC3B,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb8lB,OAAOE,EAAchmB,IAAMwO,KAAKwX,EAAchmB,IAJtD,GAUA8lB,OAAOnU,OAASnD,KAAKmD,OACrBmU,OAAOL,IAAM,SAASzT,GAElB,GAAc,kBADMA,GACMA,EAAIxP,OAAO,CACjC,IACIxC,EADAimB,EAASC,iBAAiBlU,EAAIxP,QAC3BkV,EAAM1F,EAAIxP,OACjB,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbimB,EAAOjmB,GAAKwO,KAAKiX,IAAIzT,EAAIhS,IAE7B,OAAOimB,EAEX,OAAOzX,KAAKiX,IAAIzT,IAGpB,IAAImU,qBAAuB,IACvBC,UAAY5X,KAAK6X,GAAG,IACpBC,YAAc,MAElB,SAASC,YAAYC,GAEbrB,OADDqB,EACUhY,KAAK0W,MAEL,SAASlT,GACd,OAAOA,GAMnB,SAASyU,SAAS1Y,GACdA,EAAQ7E,MAAMwd,SAAW,WACzB3Y,EAAQ7E,MAAMyd,IAAM,EACpB5Y,EAAQ7E,MAAM0d,KAAO,EACrB7Y,EAAQ7E,MAAM8J,QAAU,QACxBjF,EAAQ7E,MAAM2d,gBAAkB9Y,EAAQ7E,MAAM4d,sBAAwB,MACtE/Y,EAAQ7E,MAAM6d,mBAAsBhZ,EAAQ7E,MAAM8d,yBAA2B,UAC7EjZ,EAAQ7E,MAAM+d,eAAiBlZ,EAAQ7E,MAAMge,qBAAuBnZ,EAAQ7E,MAAMie,kBAAoB,cAG1G,SAASC,kBAAkBpY,EAAMqY,EAAaC,EAAWC,GACrDrjB,KAAK8K,KAAOA,EACZ9K,KAAKmjB,YAAcA,EACnBnjB,KAAKojB,UAAYA,EACjBpjB,KAAKgX,UAAYqM,EAAkB,GAAK,EAAI,EAGhD,SAASC,gBAAgBxY,EAAMuY,GAC3BrjB,KAAK8K,KAAOA,EACZ9K,KAAKgX,UAAYqM,EAAkB,GAAK,EAAI,EAGhD,SAASE,oBAAoBzY,EAAM0Y,EAAYC,EAAaJ,GACxDrjB,KAAK8K,KAAOA,EACZ9K,KAAKyjB,YAAcA,EACnBzjB,KAAKwjB,WAAaA,EAClBxjB,KAAKgX,UAAYqM,EAAkB,GAAK,EAAI,EAGhD,SAASK,oBAAoB5Y,EAAM6Y,EAAYC,GAC3C5jB,KAAK8K,KAAOA,EACZ9K,KAAK2jB,WAAaA,EAClB3jB,KAAK4jB,YAAcA,EAGvB,SAASC,eAAe/Y,EAAM1M,GAC1B4B,KAAK8K,KAAOA,EACZ9K,KAAK5B,OAASA,EAGlB,SAAS0lB,wBAAwBC,EAAaZ,GAC1CnjB,KAAK8K,KAAO,mBACZ9K,KAAK+jB,YAAcA,EACnB/jB,KAAKmjB,YAAcA,EAGvB,SAASa,mBAAmBD,GACxB/jB,KAAK8K,KAAO,cACZ9K,KAAK+jB,YAAcA,EAGvB,SAASE,4BAA4BnZ,EAAMiZ,GACvC/jB,KAAK8K,KAAOA,EACZ9K,KAAK+jB,YAAcA,EACnB/jB,KAAKmjB,YAAcA,YAxDvBd,aAAY,GA2DZ,IAAI6B,iBACIC,OAAS,EACN,WACH,MAAO,uBAAwBA,SAF/BA,OAMR,SAASC,SAASC,EAAGxmB,EAAGymB,GACpB,IAAI1nB,EAAG2nB,EAAGxY,EAAGjQ,EAAG0Q,EAAG5O,EAAG4mB,EAAGxnB,EAMzB,OAHAY,EAAI0mB,GAAK,EAAIzmB,GACb2mB,EAAIF,GAAK,GAFT9X,EAAQ,EAAJ6X,GADJvoB,EAAIwO,KAAK2D,MAAU,EAAJoW,KAGExmB,GACjBb,EAAIsnB,GAAK,GAAK,EAAI9X,GAAK3O,GACf/B,EAAI,GACR,KAAK,EAAGc,EAAI0nB,EAAGC,EAAIvnB,EAAG+O,EAAInO,EAAG,MAC7B,KAAK,EAAGhB,EAAI4nB,EAAGD,EAAID,EAAGvY,EAAInO,EAAG,MAC7B,KAAK,EAAGhB,EAAIgB,EAAG2mB,EAAID,EAAGvY,EAAI/O,EAAG,MAC7B,KAAK,EAAGJ,EAAIgB,EAAG2mB,EAAIC,EAAGzY,EAAIuY,EAAG,MAC7B,KAAK,EAAG1nB,EAAII,EAAGunB,EAAI3mB,EAAGmO,EAAIuY,EAAG,MAC7B,KAAK,EAAG1nB,EAAI0nB,EAAGC,EAAI3mB,EAAGmO,EAAIyY,EAE9B,MAAO,CAAE5nB,EACL2nB,EACCxY,GAGT,SAAS0Y,SAAS7nB,EAAG2nB,EAAGxY,GACpB,IAEIsY,EAFAlK,EAAM7P,KAAK6P,IAAIvd,EAAG2nB,EAAGxY,GAAImO,EAAM5P,KAAK4P,IAAItd,EAAG2nB,EAAGxY,GAC9C3P,EAAI+d,EAAMD,EAEVrc,EAAa,IAARsc,EAAY,EAAI/d,EAAI+d,EACzBmK,EAAInK,EAAM,IAEd,OAAQA,GACJ,KAAKD,EAAKmK,EAAI,EAAG,MACjB,KAAKznB,EAAGynB,EAAKE,EAAIxY,EAAK3P,GAAKmoB,EAAIxY,EAAI,EAAG,GAAIsY,GAAK,EAAIjoB,EAAG,MACtD,KAAKmoB,EAAGF,EAAKtY,EAAInP,EAAS,EAAJR,EAAOioB,GAAK,EAAIjoB,EAAG,MACzC,KAAK2P,EAAGsY,EAAKznB,EAAI2nB,EAAS,EAAJnoB,EAAOioB,GAAK,EAAIjoB,EAG1C,MAAO,CACFioB,EACAxmB,EACAymB,GAIT,SAASI,mBAAmBC,EAAMC,GAC9B,IAAIC,EAAMJ,SAAkB,IAATE,EAAM,GAAgB,IAATA,EAAM,GAAgB,IAATA,EAAM,IAQnD,OAPAE,EAAI,IAAMD,EACNC,EAAI,GAAK,EACTA,EAAI,GAAK,EAEJA,EAAI,IAAM,IACfA,EAAI,GAAK,GAENT,SAASS,EAAI,GAAGA,EAAI,GAAGA,EAAI,IAGtC,SAASC,mBAAmBH,EAAMC,GAC9B,IAAIC,EAAMJ,SAAkB,IAATE,EAAM,GAAgB,IAATA,EAAM,GAAgB,IAATA,EAAM,IAQnD,OAPAE,EAAI,IAAMD,EACNC,EAAI,GAAK,EACTA,EAAI,GAAK,EAEJA,EAAI,GAAK,IACdA,EAAI,GAAK,GAENT,SAASS,EAAI,GAAGA,EAAI,GAAGA,EAAI,IAGtC,SAASE,YAAYJ,EAAMC,GACvB,IAAIC,EAAMJ,SAAkB,IAATE,EAAM,GAAgB,IAATA,EAAM,GAAgB,IAATA,EAAM,IAQnD,OAPAE,EAAI,IAAMD,EAAO,IACbC,EAAI,GAAK,EACTA,EAAI,IAAM,EAELA,EAAI,GAAK,IACdA,EAAI,IAAM,GAEPT,SAASS,EAAI,GAAGA,EAAI,GAAGA,EAAI,IAGtC,IAAIG,SAAY,WACZ,IACIlpB,EACAmpB,EAFAC,EAAW,GAGf,IAAIppB,EAAE,EAAEA,EAAE,IAAIA,GAAG,EACbmpB,EAAMnpB,EAAE6R,SAAS,IACjBuX,EAASppB,GAAmB,GAAdmpB,EAAI3mB,OAAc,IAAM2mB,EAAMA,EAGhD,OAAO,SAASroB,EAAG2nB,EAAGxY,GAUlB,OATGnP,EAAE,IACDA,EAAI,GAEL2nB,EAAE,IACDA,EAAI,GAELxY,EAAE,IACDA,EAAI,GAED,IAAMmZ,EAAStoB,GAAKsoB,EAASX,GAAKW,EAASnZ,IAnB3C,GAsBf,SAASoZ,aACTA,UAAUznB,UAAY,CACrB0nB,aAAc,SAAUjO,EAAW9B,GAC/B,GAAIrV,KAAKqlB,KAAKlO,GAEV,IADA,IAAI3D,EAAMxT,KAAKqlB,KAAKlO,GAAW7Y,OACtBxC,EAAI,EAAGA,EAAI0X,EAAK1X,IACrBkE,KAAKqlB,KAAKlO,GAAWrb,GAAGuZ,IAIpC5O,iBAAkB,SAAU0Q,EAAWC,GAMtC,OALQpX,KAAKqlB,KAAKlO,KACXnX,KAAKqlB,KAAKlO,GAAa,IAE3BnX,KAAKqlB,KAAKlO,GAAW/I,KAAKgJ,GAEtB,WACNpX,KAAK0G,oBAAoByQ,EAAWC,IACnC9Z,KAAK0C,OAER0G,oBAAqB,SAAUyQ,EAAUC,GACrC,GAAKA,GAEC,GAAGpX,KAAKqlB,KAAKlO,GAAW,CAE1B,IADA,IAAIrb,EAAI,EAAG0X,EAAMxT,KAAKqlB,KAAKlO,GAAW7Y,OAChCxC,EAAE0X,GACDxT,KAAKqlB,KAAKlO,GAAWrb,KAAOsb,IAC3BpX,KAAKqlB,KAAKlO,GAAWmO,OAAOxpB,EAAE,GAC9BA,GAAI,EACJ0X,GAAO,GAEX1X,GAAK,EAELkE,KAAKqlB,KAAKlO,GAAW7Y,SACrB0B,KAAKqlB,KAAKlO,GAAa,YAZ3BnX,KAAKqlB,KAAKlO,GAAa,OAiBhC,IAAIoO,iBA0B6B,mBAAtBC,mBAA4D,mBAAjBC,aATrD,SAA0B3a,EAAM0I,GAC/B,MAAY,YAAT1I,EACK,IAAI2a,aAAajS,GACN,UAAT1I,EACF,IAAI4a,WAAWlS,GACJ,WAAT1I,EACF,IAAI0a,kBAAkBhS,QADvB,GArBR,SAA4B1I,EAAM0I,GACjC,IAAqBzW,EAAjBjB,EAAI,EAAGsX,EAAM,GACjB,OAAOtI,GACN,IAAK,QACL,IAAK,SACJ/N,EAAQ,EACR,MACD,QACCA,EAAQ,IAGV,IAAIjB,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACxBsX,EAAIhF,KAAKrR,GAEV,OAAOqW,GAkBT,SAAS4O,iBAAiBxO,GACzB,OAAOjS,MAAMyK,MAAM,KAAK,CAAC1N,OAAOkV,IAEjC,SAASmS,SAAS7a,GAEjB,OAAOrJ,SAASmkB,gBAAgBtF,MAAOxV,GAExC,SAAS+a,UAAU/a,GAElB,OAAOrJ,SAAS8F,cAAcuD,GAE/B,SAASgb,4BACTA,yBAAyBpoB,UAAY,CACpCqoB,mBAAoB,SAAShhB,IACiB,IAA1C/E,KAAKgmB,kBAAkB5R,QAAQrP,KAC3B/E,KAAKgmB,kBAAkB5X,KAAKrJ,GAC5B/E,KAAKmW,UAAU4P,mBAAmB/lB,MACrCA,KAAKimB,aAAc,IAGxBC,yBAA0B,WACtBlmB,KAAKmmB,MAAO,EACZ,IAAIrqB,EAAG0X,EAAMxT,KAAKgmB,kBAAkB1nB,OACpC,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbkE,KAAKgmB,kBAAkBlqB,GAAGsqB,WACvBpmB,KAAKgmB,kBAAkBlqB,GAAGqqB,OACzBnmB,KAAKmmB,MAAO,IAIxBE,6BAA8B,SAASlQ,GACnCnW,KAAKmW,UAAYA,EACjBnW,KAAKgmB,kBAAoB,GACzBhmB,KAAKmmB,MAAO,EACZnmB,KAAKimB,aAAc,IAGxB,IAAIK,cAECC,eAAiB,CACdC,EAAE,cACFC,EAAE,WACFC,EAAE,SACFC,EAAE,UACFC,EAAE,SACFC,EAAE,UACFC,EAAE,cACFC,EAAE,aACFC,EAAE,aACFC,EAAE,aACFC,GAAG,aACHC,GAAG,YACHC,GAAG,MACHC,GAAG,aACHC,GAAG,QACHC,GAAG;;;;;;;;IAGH,SAAStqB,GACf,OAAOspB,eAAetpB,IAAS,KApB5BspB,eAoDDiB,OAAU,WAEV,IAAIC,EAAOnd,KAAKod,IACZC,EAAOrd,KAAKsd,IACZC,EAAOvd,KAAKwd,IACZC,EAAOzd,KAAK0W,MAEhB,SAASgH,IAiBL,OAhBAhoB,KAAKtB,MAAM,GAAK,EAChBsB,KAAKtB,MAAM,GAAK,EAChBsB,KAAKtB,MAAM,GAAK,EAChBsB,KAAKtB,MAAM,GAAK,EAChBsB,KAAKtB,MAAM,GAAK,EAChBsB,KAAKtB,MAAM,GAAK,EAChBsB,KAAKtB,MAAM,GAAK,EAChBsB,KAAKtB,MAAM,GAAK,EAChBsB,KAAKtB,MAAM,GAAK,EAChBsB,KAAKtB,MAAM,GAAK,EAChBsB,KAAKtB,MAAM,IAAM,EACjBsB,KAAKtB,MAAM,IAAM,EACjBsB,KAAKtB,MAAM,IAAM,EACjBsB,KAAKtB,MAAM,IAAM,EACjBsB,KAAKtB,MAAM,IAAM,EACjBsB,KAAKtB,MAAM,IAAM,EACVsB,KAGX,SAASioB,EAAOC,GACZ,GAAa,IAAVA,EACC,OAAOloB,KAEX,IAAImoB,EAAOV,EAAKS,GACZE,EAAOT,EAAKO,GAChB,OAAOloB,KAAKib,GAAGkN,GAAOC,EAAO,EAAG,EAAGA,EAAOD,EAAM,EAAG,EAAG,EAAI,EAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAGjF,SAASE,EAAQH,GACb,GAAa,IAAVA,EACC,OAAOloB,KAEX,IAAImoB,EAAOV,EAAKS,GACZE,EAAOT,EAAKO,GAChB,OAAOloB,KAAKib,GAAG,EAAG,EAAG,EAAG,EAAG,EAAGkN,GAAOC,EAAM,EAAG,EAAGA,EAAOD,EAAM,EAAG,EAAG,EAAG,EAAG,GAG9E,SAASG,EAAQJ,GACb,GAAa,IAAVA,EACC,OAAOloB,KAEX,IAAImoB,EAAOV,EAAKS,GACZE,EAAOT,EAAKO,GAChB,OAAOloB,KAAKib,GAAGkN,EAAO,EAAIC,EAAM,EAAG,EAAG,EAAG,EAAG,GAAIA,EAAO,EAAID,EAAM,EAAG,EAAG,EAAG,EAAG,GAGjF,SAASI,EAAQL,GACb,GAAa,IAAVA,EACC,OAAOloB,KAEX,IAAImoB,EAAOV,EAAKS,GACZE,EAAOT,EAAKO,GAChB,OAAOloB,KAAKib,GAAGkN,GAAOC,EAAO,EAAG,EAAGA,EAAOD,EAAM,EAAG,EAAG,EAAI,EAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAGjF,SAASK,EAAMC,EAAGC,GACd,OAAO1oB,KAAKib,GAAG,EAAGyN,EAAID,EAAI,EAAG,EAAG,GAGpC,SAASE,EAAKC,EAAIC,GACd,OAAO7oB,KAAKwoB,MAAMX,EAAKe,GAAKf,EAAKgB,IAGrC,SAASC,EAAaF,EAAIV,GACtB,IAAIC,EAAOV,EAAKS,GACZE,EAAOT,EAAKO,GAChB,OAAOloB,KAAKib,GAAGkN,EAAMC,EAAO,EAAG,GAAIA,EAAOD,EAAM,EAAG,EAAG,EAAI,EAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GACxElN,GAAG,EAAG,EAAI,EAAG,EAAG4M,EAAKe,GAAM,EAAG,EAAG,EAAG,EAAI,EAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAC3D3N,GAAGkN,GAAOC,EAAO,EAAG,EAAGA,EAAOD,EAAM,EAAG,EAAG,EAAI,EAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAI1E,SAASY,EAAMN,EAAIC,EAAIM,GAInB,OAHIA,GAAa,IAAPA,IACNA,EAAK,GAEC,IAAPP,GAAmB,IAAPC,GAAmB,IAAPM,EAChBhpB,KAEJA,KAAKib,GAAGwN,EAAI,EAAG,EAAG,EAAG,EAAGC,EAAI,EAAG,EAAG,EAAG,EAAGM,EAAI,EAAG,EAAG,EAAG,EAAG,GAGnE,SAASC,EAAaxe,EAAGsB,EAAG5P,EAAGC,EAAG4J,EAAGwG,EAAG+X,EAAGF,EAAGvoB,EAAG6d,EAAGL,EAAGvd,EAAGG,EAAGqB,EAAGhB,EAAGqB,GAiB/D,OAhBAoC,KAAKtB,MAAM,GAAK+L,EAChBzK,KAAKtB,MAAM,GAAKqN,EAChB/L,KAAKtB,MAAM,GAAKvC,EAChB6D,KAAKtB,MAAM,GAAKtC,EAChB4D,KAAKtB,MAAM,GAAKsH,EAChBhG,KAAKtB,MAAM,GAAK8N,EAChBxM,KAAKtB,MAAM,GAAK6lB,EAChBvkB,KAAKtB,MAAM,GAAK2lB,EAChBrkB,KAAKtB,MAAM,GAAK5C,EAChBkE,KAAKtB,MAAM,GAAKib,EAChB3Z,KAAKtB,MAAM,IAAM4a,EACjBtZ,KAAKtB,MAAM,IAAM3C,EACjBiE,KAAKtB,MAAM,IAAMxC,EACjB8D,KAAKtB,MAAM,IAAMnB,EACjByC,KAAKtB,MAAM,IAAMnC,EACjByD,KAAKtB,MAAM,IAAMd,EACVoC,KAGX,SAASkpB,EAAUC,EAAIC,EAAIC,GAEvB,OADAA,EAAKA,GAAM,EACD,IAAPF,GAAmB,IAAPC,GAAmB,IAAPC,EAChBrpB,KAAKib,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAEkO,EAAGC,EAAGC,EAAG,GAE7CrpB,KAGX,SAASspB,EAAUC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAE3E,IAAIC,EAAKvqB,KAAKtB,MAEd,GAAU,IAAP6qB,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,EASnI,OANIK,EAAG,IAAMA,EAAG,IAAMhB,EAAKgB,EAAG,IAAMJ,EAChCI,EAAG,IAAMA,EAAG,IAAMX,EAAKW,EAAG,IAAMH,EAChCG,EAAG,IAAMA,EAAG,IAAMN,EAAKM,EAAG,IAAMF,EAChCE,EAAG,IAAMA,EAAG,IAAMD,EAEtBtqB,KAAKwqB,qBAAsB,EACpBxqB,KAGX,IAAIyqB,EAAKF,EAAG,GACRG,EAAKH,EAAG,GACRI,EAAKJ,EAAG,GACRK,EAAKL,EAAG,GACRM,EAAKN,EAAG,GACRO,EAAKP,EAAG,GACRQ,EAAKR,EAAG,GACRS,EAAKT,EAAG,GACRU,EAAKV,EAAG,GACRW,EAAKX,EAAG,GACRY,EAAKZ,EAAG,IACRa,EAAKb,EAAG,IACRc,EAAKd,EAAG,IACRe,EAAKf,EAAG,IACRgB,EAAKhB,EAAG,IACRiB,EAAKjB,EAAG,IA4BZ,OArBAA,EAAG,GAAKE,EAAKlB,EAAKmB,EAAKf,EAAKgB,EAAKZ,EAAKa,EAAKT,EAC3CI,EAAG,GAAKE,EAAKjB,EAAKkB,EAAKd,EAAKe,EAAKX,EAAKY,EAAKR,EAC3CG,EAAG,GAAKE,EAAKhB,EAAKiB,EAAKb,EAAKc,EAAKV,EAAKW,EAAKP,EAC3CE,EAAG,GAAKE,EAAKf,EAAKgB,EAAKZ,EAAKa,EAAKT,EAAKU,EAAKN,EAE3CC,EAAG,GAAKM,EAAKtB,EAAKuB,EAAKnB,EAAKoB,EAAKhB,EAAKiB,EAAKb,EAC3CI,EAAG,GAAKM,EAAKrB,EAAKsB,EAAKlB,EAAKmB,EAAKf,EAAKgB,EAAKZ,EAC3CG,EAAG,GAAKM,EAAKpB,EAAKqB,EAAKjB,EAAKkB,EAAKd,EAAKe,EAAKX,EAC3CE,EAAG,GAAKM,EAAKnB,EAAKoB,EAAKhB,EAAKiB,EAAKb,EAAKc,EAAKV,EAE3CC,EAAG,GAAKU,EAAK1B,EAAK2B,EAAKvB,EAAKwB,EAAKpB,EAAKqB,EAAKjB,EAC3CI,EAAG,GAAKU,EAAKzB,EAAK0B,EAAKtB,EAAKuB,EAAKnB,EAAKoB,EAAKhB,EAC3CG,EAAG,IAAMU,EAAKxB,EAAKyB,EAAKrB,EAAKsB,EAAKlB,EAAKmB,EAAKf,EAC5CE,EAAG,IAAMU,EAAKvB,EAAKwB,EAAKpB,EAAKqB,EAAKjB,EAAKkB,EAAKd,EAE5CC,EAAG,IAAMc,EAAK9B,EAAK+B,EAAK3B,EAAK4B,EAAKxB,EAAKyB,EAAKrB,EAC5CI,EAAG,IAAMc,EAAK7B,EAAK8B,EAAK1B,EAAK2B,EAAKvB,EAAKwB,EAAKpB,EAC5CG,EAAG,IAAMc,EAAK5B,EAAK6B,EAAKzB,EAAK0B,EAAKtB,EAAKuB,EAAKnB,EAC5CE,EAAG,IAAMc,EAAK3B,EAAK4B,EAAKxB,EAAKyB,EAAKrB,EAAKsB,EAAKlB,EAE5CtqB,KAAKwqB,qBAAsB,EACpBxqB,KAGX,SAASyrB,IAKL,OAJIzrB,KAAKwqB,sBACLxqB,KAAK0rB,YAAgC,IAAlB1rB,KAAKtB,MAAM,IAA8B,IAAlBsB,KAAKtB,MAAM,IAA8B,IAAlBsB,KAAKtB,MAAM,IAA8B,IAAlBsB,KAAKtB,MAAM,IAA8B,IAAlBsB,KAAKtB,MAAM,IAA8B,IAAlBsB,KAAKtB,MAAM,IAA8B,IAAlBsB,KAAKtB,MAAM,IAA8B,IAAlBsB,KAAKtB,MAAM,IAA8B,IAAlBsB,KAAKtB,MAAM,IAA8B,IAAlBsB,KAAKtB,MAAM,IAA+B,IAAnBsB,KAAKtB,MAAM,KAAgC,IAAnBsB,KAAKtB,MAAM,KAAgC,IAAnBsB,KAAKtB,MAAM,KAAgC,IAAnBsB,KAAKtB,MAAM,KAAgC,IAAnBsB,KAAKtB,MAAM,KAAgC,IAAnBsB,KAAKtB,MAAM,KAC5XsB,KAAKwqB,qBAAsB,GAExBxqB,KAAK0rB,UAGhB,SAASC,EAAOC,GAEZ,IADA,IAAI9vB,EAAI,EACDA,EAAI,IAAI,CACX,GAAG8vB,EAAKltB,MAAM5C,KAAOkE,KAAKtB,MAAM5C,GAC5B,OAAO,EAEXA,GAAG,EAEP,OAAO,EAGX,SAAS+vB,EAAMD,GACX,IAAI9vB,EACJ,IAAIA,EAAE,EAAEA,EAAE,GAAGA,GAAG,EACZ8vB,EAAKltB,MAAM5C,GAAKkE,KAAKtB,MAAM5C,GAInC,SAASgwB,EAAeptB,GACpB,IAAI5C,EACJ,IAAIA,EAAE,EAAEA,EAAE,GAAGA,GAAG,EACZkE,KAAKtB,MAAM5C,GAAK4C,EAAM5C,GAI9B,SAASiwB,EAAaC,EAAGC,EAAGC,GAExB,MAAO,CACHF,EAAGA,EAAIhsB,KAAKtB,MAAM,GAAKutB,EAAIjsB,KAAKtB,MAAM,GAAKwtB,EAAIlsB,KAAKtB,MAAM,GAAKsB,KAAKtB,MAAM,IAC1EutB,EAAGD,EAAIhsB,KAAKtB,MAAM,GAAKutB,EAAIjsB,KAAKtB,MAAM,GAAKwtB,EAAIlsB,KAAKtB,MAAM,GAAKsB,KAAKtB,MAAM,IAC1EwtB,EAAGF,EAAIhsB,KAAKtB,MAAM,GAAKutB,EAAIjsB,KAAKtB,MAAM,GAAKwtB,EAAIlsB,KAAKtB,MAAM,IAAMsB,KAAKtB,MAAM,KAOnF,SAASytB,EAASH,EAAGC,EAAGC,GACpB,OAAOF,EAAIhsB,KAAKtB,MAAM,GAAKutB,EAAIjsB,KAAKtB,MAAM,GAAKwtB,EAAIlsB,KAAKtB,MAAM,GAAKsB,KAAKtB,MAAM,IAElF,SAAS0tB,EAASJ,EAAGC,EAAGC,GACpB,OAAOF,EAAIhsB,KAAKtB,MAAM,GAAKutB,EAAIjsB,KAAKtB,MAAM,GAAKwtB,EAAIlsB,KAAKtB,MAAM,GAAKsB,KAAKtB,MAAM,IAElF,SAAS2tB,EAASL,EAAGC,EAAGC,GACpB,OAAOF,EAAIhsB,KAAKtB,MAAM,GAAKutB,EAAIjsB,KAAKtB,MAAM,GAAKwtB,EAAIlsB,KAAKtB,MAAM,IAAMsB,KAAKtB,MAAM,IAGnF,SAAS4tB,IACL,IAAIC,EAAcvsB,KAAKtB,MAAM,GAAKsB,KAAKtB,MAAM,GAAKsB,KAAKtB,MAAM,GAAKsB,KAAKtB,MAAM,GACzE+L,EAAIzK,KAAKtB,MAAM,GAAG6tB,EAClBxgB,GAAM/L,KAAKtB,MAAM,GAAG6tB,EACpBpwB,GAAM6D,KAAKtB,MAAM,GAAG6tB,EACpBnwB,EAAI4D,KAAKtB,MAAM,GAAG6tB,EAClBvmB,GAAKhG,KAAKtB,MAAM,GAAKsB,KAAKtB,MAAM,IAAMsB,KAAKtB,MAAM,GAAKsB,KAAKtB,MAAM,KAAK6tB,EACtE/f,IAAOxM,KAAKtB,MAAM,GAAKsB,KAAKtB,MAAM,IAAMsB,KAAKtB,MAAM,GAAKsB,KAAKtB,MAAM,KAAK6tB,EACxEC,EAAgB,IAAIhF,OAOxB,OANAgF,EAAc9tB,MAAM,GAAK+L,EACzB+hB,EAAc9tB,MAAM,GAAKqN,EACzBygB,EAAc9tB,MAAM,GAAKvC,EACzBqwB,EAAc9tB,MAAM,GAAKtC,EACzBowB,EAAc9tB,MAAM,IAAMsH,EAC1BwmB,EAAc9tB,MAAM,IAAM8N,EACnBggB,EAGX,SAASC,EAAaC,GAElB,OADoB1sB,KAAKssB,mBACJK,kBAAkBD,EAAG,GAAIA,EAAG,GAAIA,EAAG,IAAM,GAGlE,SAASE,EAAcC,GACnB,IAAI/wB,EAAG0X,EAAMqZ,EAAIvuB,OAAQwuB,EAAS,GAClC,IAAIhxB,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbgxB,EAAOhxB,GAAK2wB,EAAaI,EAAI/wB,IAEjC,OAAOgxB,EAGX,SAASC,EAAoBC,EAAKC,EAAKC,GACnC,IAAI9Z,EAAMmS,iBAAiB,UAAW,GACtC,GAAGvlB,KAAKyrB,aACJrY,EAAI,GAAK4Z,EAAI,GACb5Z,EAAI,GAAK4Z,EAAI,GACb5Z,EAAI,GAAK6Z,EAAI,GACb7Z,EAAI,GAAK6Z,EAAI,GACb7Z,EAAI,GAAK8Z,EAAI,GACb9Z,EAAI,GAAK8Z,EAAI,OACV,CACH,IAAIC,EAAKntB,KAAKtB,MAAM,GAAI8sB,EAAKxrB,KAAKtB,MAAM,GAAI0uB,EAAKptB,KAAKtB,MAAM,GAAI2uB,EAAKrtB,KAAKtB,MAAM,GAAI4uB,EAAMttB,KAAKtB,MAAM,IAAK6uB,EAAMvtB,KAAKtB,MAAM,IAC3H0U,EAAI,GAAK4Z,EAAI,GAAKG,EAAKH,EAAI,GAAKI,EAAKE,EACrCla,EAAI,GAAK4Z,EAAI,GAAKxB,EAAKwB,EAAI,GAAKK,EAAKE,EACrCna,EAAI,GAAK6Z,EAAI,GAAKE,EAAKF,EAAI,GAAKG,EAAKE,EACrCla,EAAI,GAAK6Z,EAAI,GAAKzB,EAAKyB,EAAI,GAAKI,EAAKE,EACrCna,EAAI,GAAK8Z,EAAI,GAAKC,EAAKD,EAAI,GAAKE,EAAKE,EACrCla,EAAI,GAAK8Z,EAAI,GAAK1B,EAAK0B,EAAI,GAAKG,EAAKE,EAEzC,OAAOna,EAGX,SAASuZ,EAAkBX,EAAEC,EAAEC,GAO3B,OALGlsB,KAAKyrB,aACE,CAACO,EAAEC,EAAEC,GAEL,CAACF,EAAIhsB,KAAKtB,MAAM,GAAKutB,EAAIjsB,KAAKtB,MAAM,GAAKwtB,EAAIlsB,KAAKtB,MAAM,GAAKsB,KAAKtB,MAAM,IAAIstB,EAAIhsB,KAAKtB,MAAM,GAAKutB,EAAIjsB,KAAKtB,MAAM,GAAKwtB,EAAIlsB,KAAKtB,MAAM,GAAKsB,KAAKtB,MAAM,IAAIstB,EAAIhsB,KAAKtB,MAAM,GAAKutB,EAAIjsB,KAAKtB,MAAM,GAAKwtB,EAAIlsB,KAAKtB,MAAM,IAAMsB,KAAKtB,MAAM,KAK7O,SAAS8uB,EAAwBxB,EAAGC,GAChC,GAAGjsB,KAAKyrB,aACJ,OAAOO,EAAI,IAAMC,EAErB,IAAI1B,EAAKvqB,KAAKtB,MACd,OAAO4L,KAAK0W,MAAyC,KAAlCgL,EAAIzB,EAAG,GAAK0B,EAAI1B,EAAG,GAAKA,EAAG,MAAc,IAAI,IAAKjgB,KAAK0W,MAAyC,KAAlCgL,EAAIzB,EAAG,GAAK0B,EAAI1B,EAAG,GAAKA,EAAG,MAAc,IAG9H,SAASkD,IASL,IAJA,IAAI3xB,EAAI,EACJ4C,EAAQsB,KAAKtB,MACbgvB,EAAW,YAET5xB,EAAE,IACJ4xB,GAAY3F,EAFR,IAEarpB,EAAM5C,IAFnB,IAGJ4xB,GAAkB,KAAN5xB,EAAW,IAAI,IAC3BA,GAAK,EAET,OAAO4xB,EAGX,SAASC,EAAoB7f,GAEzB,OAAIA,EAAM,MAAYA,EAAM,GAAOA,GAAO,MAAYA,EAAM,EACjDia,EAFH,IAEQja,GAFR,IAIDA,EAGX,SAAS8f,IAKL,IAAIlvB,EAAQsB,KAAKtB,MAOjB,MAAO,UANEivB,EAAoBjvB,EAAM,IAMX,IALfivB,EAAoBjvB,EAAM,IAKA,IAJ1BivB,EAAoBjvB,EAAM,IAIW,IAHrCivB,EAAoBjvB,EAAM,IAGsB,IAFhDivB,EAAoBjvB,EAAM,KAEiC,IAD3DivB,EAAoBjvB,EAAM,KAC4C,IAGnF,OAAO,WACHsB,KAAKgoB,MAAQA,EACbhoB,KAAKioB,OAASA,EACdjoB,KAAKqoB,QAAUA,EACfroB,KAAKsoB,QAAUA,EACftoB,KAAKuoB,QAAUA,EACfvoB,KAAK2oB,KAAOA,EACZ3oB,KAAK8oB,aAAeA,EACpB9oB,KAAKwoB,MAAQA,EACbxoB,KAAK+oB,MAAQA,EACb/oB,KAAKipB,aAAeA,EACpBjpB,KAAKkpB,UAAYA,EACjBlpB,KAAKspB,UAAYA,EACjBtpB,KAAK+rB,aAAeA,EACpB/rB,KAAKmsB,SAAWA,EAChBnsB,KAAKosB,SAAWA,EAChBpsB,KAAKqsB,SAAWA,EAChBrsB,KAAK2sB,kBAAoBA,EACzB3sB,KAAK+sB,oBAAsBA,EAC3B/sB,KAAKwtB,wBAA0BA,EAC/BxtB,KAAKytB,MAAQA,EACbztB,KAAK4tB,QAAUA,EACf5tB,KAAK6rB,MAAQA,EACb7rB,KAAK8rB,eAAiBA,EACtB9rB,KAAK2rB,OAASA,EACd3rB,KAAK4sB,cAAgBA,EACrB5sB,KAAKysB,aAAeA,EACpBzsB,KAAKssB,iBAAmBA,EACxBtsB,KAAKib,GAAKjb,KAAKspB,UACftpB,KAAKyrB,WAAaA,EAClBzrB,KAAK0rB,WAAY,EACjB1rB,KAAKwqB,qBAAsB,EAE3BxqB,KAAKtB,MAAQ6mB,iBAAiB,UAAW,IACzCvlB,KAAKgoB,SA3XA,IAuZb,SAAW6F,EAAMC,GAIb,IAAIzjB,EAASrK,KAKT+tB,EAAaD,EAAK3M,IAJV,IACC,GAIT6M,EAAeF,EAAK3M,IAAI,EAHf,IAITrJ,EAA0B,EAAfkW,EAiFf,SAASC,EAAK5wB,GACV,IAAIL,EAAGkxB,EAAS7wB,EAAIiB,OAChB6vB,EAAKnuB,KAAMlE,EAAI,EAAG6d,EAAIwU,EAAGryB,EAAIqyB,EAAGxU,EAAI,EAAG9b,EAAIswB,EAAG7iB,EAAI,GAMtD,IAHK4iB,IAAU7wB,EAAM,CAAC6wB,MAGfpyB,EA/FC,KAgGJ+B,EAAE/B,GAAKA,IAEX,IAAKA,EAAI,EAAGA,EAlGJ,IAkGeA,IACnB+B,EAAE/B,GAAK+B,EAAE8b,EA5FN9T,IA4FkB8T,EAAItc,EAAIvB,EAAIoyB,IAAWlxB,EAAIa,EAAE/B,KAClD+B,EAAE8b,GAAK3c,EAIXmxB,EAAG5J,EAAI,SAAS6J,GAIZ,IAFA,IAAIpxB,EAAGJ,EAAI,EACPd,EAAIqyB,EAAGryB,EAAG6d,EAAIwU,EAAGxU,EAAG9b,EAAIswB,EAAG7iB,EACxB8iB,KACHpxB,EAAIa,EAAE/B,EAtGP+J,IAsGmB/J,EAAI,GACtBc,EA9GA,IA8GIA,EAAYiB,EAvGjBgI,KAuG4BhI,EAAE/B,GAAK+B,EAAE8b,EAvGrC9T,IAuGiD8T,EAAI3c,KAAQa,EAAE8b,GAAK3c,IAGvE,OADAmxB,EAAGryB,EAAIA,EAAGqyB,EAAGxU,EAAIA,EACV/c,GAWf,SAASyxB,EAAK7hB,EAAGxP,GAIb,OAHAA,EAAElB,EAAI0Q,EAAE1Q,EACRkB,EAAE2c,EAAInN,EAAEmN,EACR3c,EAAEsO,EAAIkB,EAAElB,EAAE8E,QACHpT,EAsBX,SAASsxB,EAAOC,EAAMlxB,GAElB,IADA,IAA4BmxB,EAAxBC,EAAaF,EAAO,GAAW5U,EAAI,EAChCA,EAAI8U,EAAWnwB,QAClBjB,EAlJGwI,IAkJQ8T,GAlJR9T,KAmJU2oB,GAAyB,GAAhBnxB,EAnJnBwI,IAmJ8B8T,IAAW8U,EAAW/a,WAAWiG,KAEtE,OAAO+U,EAASrxB,GAyBpB,SAASqxB,EAASjkB,GACd,OAAOsQ,OAAO4T,aAAa3iB,MAAM,EAAGvB,GA3GxCqjB,EAAqB,WA7DrB,SAAoBS,EAAM3rB,EAASwU,GAC/B,IAAI/Z,EAAM,GAINuxB,EAAYN,EAoHpB,SAASO,EAAQ3vB,EAAK4vB,GAClB,IAAqC/pB,EAAjCsK,EAAS,GAAI0f,SAAc7vB,EAC/B,GAAI4vB,GAAgB,UAAPC,EACT,IAAKhqB,KAAQ7F,EACT,IAAMmQ,EAAOjB,KAAKygB,EAAQ3vB,EAAI6F,GAAO+pB,EAAQ,IAAO,MAAO9oB,IAGnE,OAAQqJ,EAAO/Q,OAAS+Q,EAAgB,UAAP0f,EAAkB7vB,EAAMA,EAAM,KA3HxC2vB,EAHvBjsB,GAAuB,IAAZA,EAAoB,CAAEosB,SAAS,GAAUpsB,GAAW,IAInDosB,QAAU,CAACT,EAAMG,EAASb,IACpB,OAATU,EA+Ib,WACI,SA7JAU,EA+JI,IAAIjkB,EAAM,IAAIkJ,WAvKV,KAyKJ,OADC7J,EAAO6kB,QAAU7kB,EAAO8kB,UAAUC,gBAAgBpkB,GAC5C0jB,EAAS1jB,GAClB,MAAOhF,GACL,IAAIqpB,EAAUhlB,EAAOuW,UACjB0O,EAAUD,GAAWA,EAAQC,QACjC,MAAO,EAAE,IAAIC,KAAQllB,EAAQilB,EAASjlB,EAAOmlB,OAAQd,EAASb,KAxJxC4B,GAAalB,EAAM,GAAIlxB,GAG7CqyB,EAAO,IAAIzB,EAAK5wB,GAIhBsyB,EAAO,WAIP,IAHA,IAAIpyB,EAAImyB,EAAKnL,EA5BR,GA6BDnoB,EAAI2xB,EACJ/B,EAAI,EACDzuB,EAAIywB,GACPzwB,EAjCA,KAiCKA,EAAIyuB,GACT5vB,GAlCA,IAmCA4vB,EAAI0D,EAAKnL,EAAE,GAEf,KAAOhnB,GAAKua,GACRva,GAAK,EACLnB,GAAK,EACL4vB,KAAO,EAEX,OAAQzuB,EAAIyuB,GAAK5vB,GAWrB,OARAuzB,EAAKC,MAAQ,WAAa,OAAmB,EAAZF,EAAKnL,EAAE,IACxCoL,EAAKE,MAAQ,WAAa,OAAOH,EAAKnL,EAAE,GAAK,YAC7CoL,EAAKG,OAASH,EAGdrB,EAAOI,EAASgB,EAAKpkB,GAAIuiB,IAGjBjrB,EAAQmtB,MAAQ3Y,GACxB,SAASuY,EAAMpB,EAAMyB,EAAcnvB,GAU/B,OATIA,IAEIA,EAAMyK,GAAK+iB,EAAKxtB,EAAO6uB,GAE3BC,EAAK9uB,MAAQ,WAAa,OAAOwtB,EAAKqB,EAAM,MAK5CM,GAAgBlC,EAAY,OAAI6B,EAAapB,GAIrCoB,IAEZA,EACAf,EACA,WAAYhsB,EAAUA,EAAQyH,OAAUrK,MAAQ8tB,EAChDlrB,EAAQ/B,QAuHhBytB,EAAOR,EAAKrgB,SAAUogB,GArM1B,CA8MI,GACAjM,QAEJ,IAAIqO,cAAiB,WAYb,IAAIC,EAAK,CACb,gBAGA,SAAyBzlB,EAAEsB,EAAE5P,EAAEC,EAAE+zB,GAC7B,IAAIC,EAAMD,IAAO,OAAS1lB,EAAE,IAAIsB,EAAE,IAAI5P,EAAE,IAAIC,GAAGmJ,QAAQ,MAAO,KAC9D,GAAG8qB,EAAQD,GACP,OAAOC,EAAQD,GAEnB,IAAIE,EAAY,IAAIC,EAAa,CAAC9lB,EAAEsB,EAAE5P,EAAEC,IAExC,OADAi0B,EAAQD,GAAOE,EACRA,IATPD,EAAU,GAad,IAQIG,EAAgD,mBAAjB/K,aAEnC,SAASrM,EAAGqX,EAAKC,GAAO,OAAO,EAAM,EAAMA,EAAM,EAAMD,EACvD,SAAS/kB,EAAG+kB,EAAKC,GAAO,OAAO,EAAMA,EAAM,EAAMD,EACjD,SAAS3kB,EAAG2kB,GAAY,OAAO,EAAMA,EAGrC,SAASE,EAAYC,EAAIH,EAAKC,GAC1B,QAAStX,EAAEqX,EAAKC,GAAKE,EAAKllB,EAAE+kB,EAAKC,IAAME,EAAK9kB,EAAE2kB,IAAMG,EAIxD,SAASC,EAAUD,EAAIH,EAAKC,GACxB,OAAO,EAAMtX,EAAEqX,EAAKC,GAAKE,EAAGA,EAAK,EAAMllB,EAAE+kB,EAAKC,GAAOE,EAAK9kB,EAAE2kB,GA8BhE,SAASF,EAAcO,GACnB9wB,KAAKuqB,GAAKuG,EACV9wB,KAAK+wB,eAAiBP,EAAwB,IAAI/K,aAhD/B,IAgDgE,IAAIlkB,MAhDpE,IAiDnBvB,KAAKgxB,cAAe,EAEpBhxB,KAAKrD,IAAMqD,KAAKrD,IAAIW,KAAK0C,MAsE7B,OAnEAuwB,EAAa7yB,UAAY,CAErBf,IAAK,SAAUqvB,GACX,IAAIiF,EAAMjxB,KAAKuqB,GAAG,GACd2G,EAAMlxB,KAAKuqB,GAAG,GACd4G,EAAMnxB,KAAKuqB,GAAG,GACd6G,EAAMpxB,KAAKuqB,GAAG,GAElB,OADKvqB,KAAKgxB,cAAchxB,KAAKqxB,cACzBJ,IAAQC,GAAOC,IAAQC,EAAYpF,EAE7B,IAANA,EAAgB,EACV,IAANA,EAAgB,EACb2E,EAAW3wB,KAAKsxB,UAAUtF,GAAIkF,EAAKE,IAK9CC,YAAa,WACT,IAAIJ,EAAMjxB,KAAKuqB,GAAG,GACd2G,EAAMlxB,KAAKuqB,GAAG,GACd4G,EAAMnxB,KAAKuqB,GAAG,GACd6G,EAAMpxB,KAAKuqB,GAAG,GAClBvqB,KAAKgxB,cAAe,EAChBC,IAAQC,GAAOC,IAAQC,GACvBpxB,KAAKuxB,qBAGbA,kBAAmB,WAGf,IAFA,IAAIN,EAAMjxB,KAAKuqB,GAAG,GACd4G,EAAMnxB,KAAKuqB,GAAG,GACTzuB,EAAI,EAAGA,EApFD,KAoFyBA,EACpCkE,KAAK+wB,eAAej1B,GAAK60B,EApFf,GAoF0B70B,EAAqBm1B,EAAKE,IAOtEG,UAAW,SAAUE,GASjB,IARA,IAAIP,EAAMjxB,KAAKuqB,GAAG,GACd4G,EAAMnxB,KAAKuqB,GAAG,GACdkH,EAAgBzxB,KAAK+wB,eAErBW,EAAgB,EAChBC,EAAgB,EACHC,KAEVD,GAAgCF,EAAcE,IAAkBH,IAAMG,EACzED,GArGU,GA0Gd,IACIG,EAAYH,EA3GF,KA0GFF,EAAKC,IAHfE,KAGgDF,EAAcE,EAAc,GAAKF,EAAcE,KAG7FG,EAAejB,EAASgB,EAAWZ,EAAKE,GAC5C,OAAIW,GAnHW,KAqCvB,SAA+BN,EAAIO,EAASd,EAAKE,GAC7C,IAAK,IAAIr1B,EAAI,EAAGA,EAvCI,IAuCqBA,EAAG,CACxC,IAAIk2B,EAAenB,EAASkB,EAASd,EAAKE,GAC1C,GAAqB,IAAjBa,EAAsB,OAAOD,EAEjCA,IADepB,EAAWoB,EAASd,EAAKE,GAAOK,GACzBQ,EAE1B,OAAOD,EAwEQE,CAAqBT,EAAIK,EAAWZ,EAAKE,GACxB,IAAjBW,EACAD,EA/FnB,SAA0BL,EAAIU,EAAIC,EAAIlB,EAAKE,GACvC,IAAIiB,EAAUC,EAAUv2B,EAAI,EAC5B,IAEIs2B,EAAWzB,EADX0B,EAAWH,GAAMC,EAAKD,GAAM,EACIjB,EAAKE,GAAOK,GAC7B,EACXW,EAAKE,EAELH,EAAKG,QAEJ/nB,KAAKiX,IAAI6Q,GAhCM,QAgCiCt2B,EA/B5B,IAgC7B,OAAOu2B,EAsFQC,CAAgBd,EAAIE,EAAeA,EAnHhC,GAmHiET,EAAKE,KAKrFjB,EAzJS,GAoLpB,SAASqC,gBAAgBC,EAAQC,GAC7B,IAAI32B,EAAyB42B,EAAtBlf,EAAMgf,EAAQl0B,OACrB,IAAKxC,EAAI,EAAEA,EAAI0X,EAAI1X,GAAK,EAEpB,IAAK,IAAIsL,KADTsrB,EAAkBF,EAAQ12B,GAAG4B,UAErBg1B,EAAgB/0B,eAAeyJ,KAAOqrB,EAAY/0B,UAAU0J,GAAQsrB,EAAgBtrB,IAKpG,SAASurB,cAAcn1B,EAAQuH,GAC3B,OAAOvI,OAAOgE,yBAAyBhD,EAAQuH,GAGnD,SAAS6tB,oBAAoBl1B,GAC5B,SAASm1B,KAET,OADAA,EAAcn1B,UAAYA,EACnBm1B,EAER,SAASC,cAGMxoB,KAEX,SAASyoB,EAAcC,EAAGC,EAAIC,EAAGC,EAAIC,EAAGC,GACpC,IAAIC,EAAQN,EAAGG,EAAOF,EAAGG,EAAOF,EAAGG,EAAOD,EAAGD,EAAOE,EAAGL,EAAOE,EAAGD,EACjE,OAAOK,GAAQ,MAASA,EAAO,KAyBnC,IAAIC,EAEO,SAASvG,EAAIC,EAAIC,EAAIsG,GACxB,IACIla,EACAxd,EAAG0X,EACHigB,EAAQC,EACRC,EAJAC,EAAgB3R,qBAGH4R,EAAc,EAE3B1Y,EAAQ,GAAG2Y,EAAY,GACvBC,EAAaC,mBAAmBC,aAEpC,IADAzgB,EAAM0Z,EAAI5uB,OACNgb,EAAE,EAAEA,EAAEsa,EAActa,GAAG,EAAE,CAGzB,IAFAoa,EAAOpa,GAAGsa,EAAc,GACxBD,EAAa,EACT73B,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb23B,EAAUvS,OAAO,EAAEwS,EAAK,GAAG1G,EAAIlxB,GAAG,EAAEolB,OAAO,EAAEwS,EAAK,GAAGA,EAAKxG,EAAIpxB,GAAG,GAAG,EAAE43B,GAAMxS,OAAOwS,EAAK,GAAGF,EAAI13B,GAAGolB,OAAOwS,EAAK,GAAGzG,EAAInxB,GACrHqf,EAAMrf,GAAK23B,EACS,OAAjBK,EAAUh4B,KACT63B,GAAczS,OAAO/F,EAAMrf,GAAKg4B,EAAUh4B,GAAG,IAEjDg4B,EAAUh4B,GAAKqf,EAAMrf,GAEtB63B,IAECE,GADAF,EAAavS,QAAQuS,IAGzBI,EAAWG,SAAS5a,GAAKoa,EACzBK,EAAWI,QAAQ7a,GAAKua,EAG5B,OADAE,EAAWF,YAAcA,EAClBE,GAyBf,SAASK,EAAW91B,GAChB0B,KAAKq0B,cAAgB,EACrBr0B,KAAK8wB,OAAS,IAAIvvB,MAAMjD,GAG5B,SAASg2B,EAAUC,EAAQpZ,GACvBnb,KAAKw0B,cAAgBD,EACrBv0B,KAAKmb,MAAQA,EAGjB,IAEQsZ,EAFJC,GAEID,EAAa,GAEV,SAAUzH,EAAKC,EAAKC,EAAKsG,GAC5B,IAAImB,GAAc3H,EAAI,GAAG,IAAIA,EAAI,GAAG,IAAIC,EAAI,GAAG,IAAIA,EAAI,GAAG,IAAIC,EAAI,GAAG,IAAIA,EAAI,GAAG,IAAIsG,EAAI,GAAG,IAAIA,EAAI,IAAIjuB,QAAQ,MAAO,KACtH,IAAIkvB,EAAWE,GAAY,CACvB,IACIrb,EAAGxd,EAAG0X,EACNigB,EAAQC,EACRC,EACAxY,EAJAyY,EAAgB3R,qBAEH4R,EAAc,EAErBC,EAAY,KACH,IAAf9G,EAAI1uB,SAAiB0uB,EAAI,IAAMC,EAAI,IAAMD,EAAI,IAAMC,EAAI,KAAO8F,EAAc/F,EAAI,GAAGA,EAAI,GAAGC,EAAI,GAAGA,EAAI,GAAGD,EAAI,GAAGE,EAAI,GAAGF,EAAI,GAAGE,EAAI,KAAO6F,EAAc/F,EAAI,GAAGA,EAAI,GAAGC,EAAI,GAAGA,EAAI,GAAGA,EAAI,GAAGuG,EAAI,GAAGvG,EAAI,GAAGuG,EAAI,MAC3MI,EAAgB,GAEpB,IAAIgB,EAAa,IAAIR,EAAWR,GAEhC,IADApgB,EAAM0Z,EAAI5uB,OACLgb,EAAI,EAAGA,EAAIsa,EAAeta,GAAK,EAAG,CAInC,IAHA6B,EAAQ6G,iBAAiBxO,GACzBkgB,EAAOpa,GAAKsa,EAAgB,GAC5BD,EAAa,EACR73B,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACtB23B,EAAUvS,OAAO,EAAEwS,EAAK,GAAG1G,EAAIlxB,GAAG,EAAEolB,OAAO,EAAEwS,EAAK,GAAGA,GAAM1G,EAAIlxB,GAAKoxB,EAAIpxB,IAAI,GAAG,EAAE43B,GAAMxS,OAAOwS,EAAK,IAAIzG,EAAInxB,GAAK03B,EAAI13B,IAAIolB,OAAOwS,EAAK,GAAGzG,EAAInxB,GAC3Iqf,EAAMrf,GAAK23B,EACM,OAAdK,IACCH,GAAczS,OAAO/F,EAAMrf,GAAKg4B,EAAUh4B,GAAG,IAIrD+3B,GADAF,EAAavS,QAAQuS,GAErBiB,EAAW9D,OAAOxX,GAAK,IAAIgb,EAAUX,EAAYxY,GACjD2Y,EAAY3Y,EAEhByZ,EAAWP,cAAgBR,EAC3BY,EAAWE,GAAcC,EAE7B,OAAOH,EAAWE,KAI1B,SAASE,EAAgBnB,EAAKkB,GAC1B,IAAIV,EAAWU,EAAWV,SACtBC,EAAUS,EAAWT,QACrB3gB,EAAM0gB,EAAS51B,OACfw2B,EAAUtT,UAAUhO,EAAI,GAAGkgB,GAC3BqB,EAAYrB,EAAKkB,EAAWf,YAC5BmB,EAAQ,EACZ,GAAGF,IAAYthB,EAAM,GAAiB,IAAZshB,GAAiBC,IAAcZ,EAAQW,GAC7D,OAAOZ,EAASY,GAIhB,IAFA,IAAIG,EAAMd,EAAQW,GAAWC,GAAa,EAAI,EAC1CzS,GAAO,EACLA,GAOF,GANG6R,EAAQW,IAAYC,GAAaZ,EAAQW,EAAQ,GAAKC,GACrDC,GAASD,EAAYZ,EAAQW,KAAaX,EAAQW,EAAQ,GAAKX,EAAQW,IACvExS,GAAO,GAEPwS,GAAWG,EAEZH,EAAU,GAAKA,GAAWthB,EAAM,EAAE,CAEjC,GAAGshB,IAAYthB,EAAM,EACjB,OAAO0gB,EAASY,GAEpBxS,GAAO,EAGf,OAAO4R,EAASY,IAAYZ,EAASY,EAAQ,GAAKZ,EAASY,IAAUE,EAiB7E,IAAIE,EAAwB3P,iBAAiB,UAAW,GAwCxD,MAAO,CACH4P,kBA5JJ,SAA2BC,GACvB,IAKIt5B,EALAu5B,EAAiBC,qBAAqBrB,aACtCsB,EAASH,EAAUj5B,EACnBq5B,EAAQJ,EAAU9Q,EAClBmR,EAAQL,EAAU74B,EAClBm5B,EAAQN,EAAUt5B,EACf0X,EAAM4hB,EAAUO,QACnBxB,EAAUkB,EAAelB,QACzByB,EAAc,EAClB,IAAI95B,EAAE,EAAEA,EAAE0X,EAAI,EAAE1X,GAAG,EACfq4B,EAAQr4B,GAAKy3B,EAAgBiC,EAAM15B,GAAG05B,EAAM15B,EAAE,GAAG25B,EAAM35B,GAAG45B,EAAM55B,EAAE,IAClE85B,GAAezB,EAAQr4B,GAAG+3B,YAO9B,OALG0B,GAAU/hB,IACT2gB,EAAQr4B,GAAKy3B,EAAgBiC,EAAM15B,GAAG05B,EAAM,GAAGC,EAAM35B,GAAG45B,EAAM,IAC9DE,GAAezB,EAAQr4B,GAAG+3B,aAE9BwB,EAAeO,YAAcA,EACtBP,GA2IPQ,cAxCJ,SAAuB7I,EAAIC,EAAIC,EAAIsG,EAAIsC,EAAUC,EAASnB,GAGtD,IAGI94B,EAHAk6B,EAAKnB,EADTiB,EAAYA,EAAY,EAAI,EAAIA,EAAY,EAAI,EAAIA,EACjBlB,GAE/BqB,EAAKpB,EADTkB,EAAUA,EAAU,EAAI,EAAIA,EACKnB,GAC1BphB,EAAMwZ,EAAI1uB,OACb43B,EAAK,EAAIF,EACTG,EAAK,EAAIF,EACTG,EAASF,EAAGA,EAAGA,EACfG,EAAWL,EAAGE,EAAGA,EAAG,EACpBI,EAAWN,EAAGA,EAAGE,EAAG,EACpBK,EAASP,EAAGA,EAAGA,EAEfQ,EAASN,EAAGA,EAAGC,EACfM,EAAWT,EAAGE,EAAGC,EAAKD,EAAGF,EAAGG,EAAKD,EAAGA,EAAGD,EACvCS,EAAWV,EAAGA,EAAGG,EAAKD,EAAGF,EAAGC,EAAKD,EAAGE,EAAGD,EACvCU,EAASX,EAAGA,EAAGC,EAEfW,EAASV,EAAGC,EAAGA,EACfU,EAAWb,EAAGG,EAAGA,EAAKD,EAAGD,EAAGE,EAAKD,EAAGC,EAAGF,EACvCa,EAAWd,EAAGC,EAAGE,EAAKD,EAAGD,EAAGA,EAAKD,EAAGG,EAAGF,EACvCc,EAASf,EAAGC,EAAGA,EAEfe,EAASb,EAAGA,EAAGA,EACfc,EAAWhB,EAAGE,EAAGA,EAAKA,EAAGF,EAAGE,EAAKA,EAAGA,EAAGF,EACvCiB,EAAWjB,EAAGA,EAAGE,EAAKA,EAAGF,EAAGA,EAAKA,EAAGE,EAAGF,EACvCkB,EAASlB,EAAGA,EAAGA,EACnB,IAAIn6B,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbo5B,EAA0B,EAAJp5B,GAASwO,KAAK0W,MAAoF,KAA7EoV,EAASpJ,EAAIlxB,GAAKu6B,EAAWnJ,EAAIpxB,GAAKw6B,EAAW9C,EAAI13B,GAAKy6B,EAAStJ,EAAInxB,KAAc,IAChIo5B,EAA0B,EAAJp5B,EAAQ,GAAKwO,KAAK0W,MAAoF,KAA7EwV,EAASxJ,EAAIlxB,GAAK26B,EAAWvJ,EAAIpxB,GAAK46B,EAAWlD,EAAI13B,GAAK66B,EAAS1J,EAAInxB,KAAc,IACpIo5B,EAA0B,EAAJp5B,EAAQ,GAAKwO,KAAK0W,MAAoF,KAA7E4V,EAAS5J,EAAIlxB,GAAK+6B,EAAW3J,EAAIpxB,GAAKg7B,EAAWtD,EAAI13B,GAAKi7B,EAAS9J,EAAInxB,KAAc,IACpIo5B,EAA0B,EAAJp5B,EAAQ,GAAKwO,KAAK0W,MAAoF,KAA7EgW,EAAShK,EAAIlxB,GAAKm7B,EAAW/J,EAAIpxB,GAAKo7B,EAAW1D,EAAI13B,GAAKq7B,EAASlK,EAAInxB,KAAc,IAGxI,OAAOo5B,GAMPkC,kBAxDJ,SAA2BpK,EAAKC,EAAKC,EAAKsG,EAAK6D,EAASzC,GACpD,IAAIqB,EAAKpB,EAAgBwC,EAAQzC,GAE7BuB,EAAK,EAAIF,EAGb,MAAO,CAFG3rB,KAAK0W,MAAkI,KAA3HmV,EAAGA,EAAGA,EAAInJ,EAAI,IAAMiJ,EAAGE,EAAGA,EAAKA,EAAGF,EAAGE,EAAKA,EAAGA,EAAGF,GAAK/I,EAAI,IAAM+I,EAAGA,EAAGE,EAAKA,EAAGF,EAAGA,EAAKA,EAAGE,EAAGF,GAAIzC,EAAI,GAAKyC,EAAGA,EAAGA,EAAIhJ,EAAI,KAAa,IAC/I3iB,KAAK0W,MAAkI,KAA3HmV,EAAGA,EAAGA,EAAInJ,EAAI,IAAMiJ,EAAGE,EAAGA,EAAKA,EAAGF,EAAGE,EAAKA,EAAGA,EAAGF,GAAK/I,EAAI,IAAM+I,EAAGA,EAAGE,EAAKA,EAAGF,EAAGA,EAAKA,EAAGE,EAAGF,GAAIzC,EAAI,GAAKyC,EAAGA,EAAGA,EAAIhJ,EAAI,KAAa,MAoDzJyH,gBAAkBA,EAClB3B,cAAgBA,EAChBuE,cAzNJ,SAAuBtE,EAAGC,EAAGsE,EAAIrE,EAAGC,EAAGqE,EAAIpE,EAAGC,EAAGoE,GAC7C,GAAU,IAAPF,GAAmB,IAAPC,GAAmB,IAAPC,EACvB,OAAO1E,EAAcC,EAAGC,EAAIC,EAAGC,EAAIC,EAAGC,GAE1C,IAGIqE,EAHAC,EAAQrtB,KAAK+W,KAAK/W,KAAK6W,IAAI+R,EAAKF,EAAI,GAAK1oB,KAAK6W,IAAIgS,EAAKF,EAAI,GAAK3oB,KAAK6W,IAAIqW,EAAKD,EAAI,IAClFK,EAAQttB,KAAK+W,KAAK/W,KAAK6W,IAAIiS,EAAKJ,EAAI,GAAK1oB,KAAK6W,IAAIkS,EAAKJ,EAAI,GAAK3oB,KAAK6W,IAAIsW,EAAKF,EAAI,IAClFM,EAAQvtB,KAAK+W,KAAK/W,KAAK6W,IAAIiS,EAAKF,EAAI,GAAK5oB,KAAK6W,IAAIkS,EAAKF,EAAI,GAAK7oB,KAAK6W,IAAIsW,EAAKD,EAAI,IAatF,OATQE,EAFLC,EAAQC,EACJD,EAAQE,EACIF,EAAQC,EAAQC,EAEhBA,EAAQD,EAAQD,EAEzBE,EAAQD,EACHC,EAAQD,EAAQD,EAEhBC,EAAQD,EAAQE,IAEZ,MAAUH,EAAW,QAxE/C,WAGG,IAFA,IAAII,EAAW,EACXC,EAAU,CAAC,KAAM,MAAO,SAAU,KAC9B/L,EAAI,EAAGA,EAAI+L,EAAQz5B,SAAWR,OAAOk6B,wBAAyBhM,EAClEluB,OAAOk6B,sBAAwBl6B,OAAOi6B,EAAQ/L,GAAK,yBACnDluB,OAAOm6B,qBAAuBn6B,OAAOi6B,EAAQ/L,GAAK,yBAA2BluB,OAAOi6B,EAAQ/L,GAAK,+BAEjGluB,OAAOk6B,wBACPl6B,OAAOk6B,sBAAwB,SAAU5gB,EAAUvN,GAC/C,IAAIquB,GAAW,IAAI3I,MAAO4I,UACtBC,EAAa9tB,KAAK6P,IAAI,EAAG,IAAM+d,EAAWJ,IAC1CpzB,EAAKlB,YAAW,WACZ4T,EAAS8gB,EAAWE,KAExBA,GAEJ,OADAN,EAAWI,EAAWE,EACf1zB,IAEX5G,OAAOm6B,uBACPn6B,OAAOm6B,qBAAuB,SAAUvzB,GACpCnB,aAAamB,KApBzB,GAkRA,IAAI2zB,IAAMvF,cACV,SAASwF,sBAIL,SAASC,EAAeC,EAAQC,EAAOC,GACnC,IAAIC,EAEA78B,EACA6d,EAAGif,EAAMtf,EAAGuf,EADTrlB,EAAMglB,EAAOl6B,OAEpB,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EAEb,GAAK,OADL68B,EAAYH,EAAO18B,MACQ68B,EAAUG,UAArC,CASA,GANAH,EAAUG,WAAY,EACnBH,EAAUI,KACTP,EAAO18B,EAAE,GAAGk9B,GAAKL,EAAUI,IAEnB,IACC,EACVJ,EAAUM,QAAQ,CACjB,IAAIC,EAAYP,EAAUQ,gBAE1B,IADAP,EAAOM,EAAU56B,OACbqb,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,EACd,GAAGuf,EAAUvf,GAAG+S,GAAGpT,EAAExd,EACjBs9B,EAA6BF,EAAUvf,GAAG+S,GAAGpT,QAG7C,IADAuf,EAAOK,EAAUvf,GAAG+S,GAAGpT,EAAEhb,OACrBgb,EAAE,EAAEA,EAAEuf,EAAKvf,GAAG,EACX4f,EAAUvf,GAAG+S,GAAGpT,EAAEA,GAAGzb,GACpBu7B,EAA6BF,EAAUvf,GAAG+S,GAAGpT,EAAEA,GAAGzb,EAAE,IAErDq7B,EAAUvf,GAAG+S,GAAGpT,EAAEA,GAAGtT,GACpBozB,EAA6BF,EAAUvf,GAAG+S,GAAGpT,EAAEA,GAAGtT,EAAE,IAMtD,IAAf2yB,EAAUvP,IACTuP,EAAUH,OAASa,EAAeV,EAAUW,MAAOb,GACnDF,EAAeI,EAAUH,OAAOC,EAAOC,IACjB,IAAjBC,EAAUvP,GACfmQ,EAAeZ,EAAUa,QACJ,GAAhBb,EAAUvP,IACfqQ,EAAad,EAAWD,IAKpC,SAASW,EAAe30B,EAAG+zB,GAEvB,IADA,IAAI38B,EAAI,EAAG0X,EAAMilB,EAAMn6B,OACjBxC,EAAE0X,GAAI,CACR,GAAGilB,EAAM38B,GAAG4I,KAAOA,EACf,OAAI+zB,EAAM38B,GAAG08B,OAAOkB,OAIb9c,KAAK+c,MAAM/c,KAAKE,UAAU2b,EAAM38B,GAAG08B,UAHtCC,EAAM38B,GAAG08B,OAAOkB,QAAS,EAClBjB,EAAM38B,GAAG08B,QAIxB18B,GAAK,GAIb,SAASy9B,EAAenmB,GACpB,IAAItX,EACA6d,EAAGif,EAEP,IAAI98B,EAHSsX,EAAI9U,OAGP,EAAExC,GAAG,EAAEA,GAAG,EAChB,GAAgB,MAAbsX,EAAItX,GAAGstB,GAAW,CACjB,GAAGhW,EAAItX,GAAG89B,GAAGtgB,EAAExd,EACXs9B,EAA6BhmB,EAAItX,GAAG89B,GAAGtgB,QAGvC,IADAsf,EAAOxlB,EAAItX,GAAG89B,GAAGtgB,EAAEhb,OACfqb,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,EACXvG,EAAItX,GAAG89B,GAAGtgB,EAAEK,GAAG9b,GACdu7B,EAA6BhmB,EAAItX,GAAG89B,GAAGtgB,EAAEK,GAAG9b,EAAE,IAE/CuV,EAAItX,GAAG89B,GAAGtgB,EAAEK,GAAG3T,GACdozB,EAA6BhmB,EAAItX,GAAG89B,GAAGtgB,EAAEK,GAAG3T,EAAE,KAI/C,MACO,MAAboN,EAAItX,GAAGstB,IACZmQ,EAAenmB,EAAItX,GAAG6Q,IAiBlC,SAASysB,EAA6BvyB,GAClC,IAAI/K,EAAG0X,EAAM3M,EAAK/K,EAAEwC,OACpB,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb+K,EAAK/K,EAAEA,GAAG,IAAM+K,EAAKyd,EAAExoB,GAAG,GAC1B+K,EAAK/K,EAAEA,GAAG,IAAM+K,EAAKyd,EAAExoB,GAAG,GAC1B+K,EAAKtK,EAAET,GAAG,IAAM+K,EAAKyd,EAAExoB,GAAG,GAC1B+K,EAAKtK,EAAET,GAAG,IAAM+K,EAAKyd,EAAExoB,GAAG,GAIlC,SAAS+9B,EAAaC,EAAQC,GAC1B,IAAIC,EAAcD,EAAoBA,EAAkBzrB,MAAM,KAAO,CAAC,IAAI,IAAI,KAC9E,OAAGwrB,EAAQ,GAAGE,EAAY,MAEhBA,EAAY,GAAKF,EAAQ,MAGhCA,EAAQ,GAAGE,EAAY,MAEhBA,EAAY,GAAKF,EAAQ,MAGhCA,EAAQ,GAAGE,EAAY,MAEhBA,EAAY,GAAKF,EAAQ,UAA5B,IAKX,IAyCQG,EAzCJC,EAAa,WACb,IAAID,EAAiB,CAAC,EAAE,EAAE,IAc1B,SAASE,EAAc3B,GACnB,IAAI18B,EAbiBs+B,EACjBC,EAYG7mB,EAAMglB,EAAOl6B,OACpB,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACO,IAAjB08B,EAAO18B,GAAGstB,KAfIgR,EAgBG5B,EAAO18B,GAf3Bu+B,WAAeD,EAAUp9B,EAAEZ,EAC/Bg+B,EAAUp9B,EAAEZ,EAAI,CACZkd,EAAG,CACC,CACIzb,EAAEw8B,EACFr9B,EAAE,MAelB,OAAO,SAAUgZ,GACb,GAAG6jB,EAAaI,EAAejkB,EAAcsO,KACzC6V,EAAcnkB,EAAcwiB,QACzBxiB,EAAcskB,QAAO,CACpB,IAAIx+B,EAAG0X,EAAMwC,EAAcskB,OAAOh8B,OAClC,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACVka,EAAcskB,OAAOx+B,GAAG08B,QACvB2B,EAAcnkB,EAAcskB,OAAOx+B,GAAG08B,UA/B9C,GAwCZ+B,GACIN,EAAiB,CAAC,EAAE,EAAE,IACnB,SAAUjkB,GACb,GAAGA,EAAcwkB,QAAUX,EAAaI,EAAejkB,EAAcsO,GAAG,CACpE,IAAIxoB,EAAqC6d,EAAGif,EACxC6B,EAAUC,EADPlnB,EAAMwC,EAAcwkB,MAAMl8B,OAEjC,IAAIxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACrB,GAAGka,EAAcwkB,MAAM1+B,GAAG6+B,MAAQ3kB,EAAcwkB,MAAM1+B,GAAG6+B,KAAKnB,OAI1D,IAFAZ,GADA8B,EAAQ1kB,EAAcwkB,MAAM1+B,GAAG6+B,KAAKnB,OAAO,GAAG7sB,IACjCrO,OAETqb,EAAI,EAAGA,EAAIif,EAAMjf,GAAK,GACtB8gB,EAAWC,EAAM/gB,GAAGigB,GAAGtgB,GACVshB,cACTxB,EAA6BsB,EAAM/gB,GAAGigB,GAAGtgB,GACzCmhB,EAASG,aAAc,MAS/CC,EAAe,WACf,IAAIZ,EAAiB,CAAC,EAAE,EAAE,GAE1B,SAASa,EAActB,GACnB,IAAI19B,EACA6d,EAAGif,EADAplB,EAAMgmB,EAAOl7B,OAEpB,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb,GAAoB,OAAjB09B,EAAO19B,GAAGstB,GACT0R,EAActB,EAAO19B,GAAG6Q,SACtB,GAAoB,OAAjB6sB,EAAO19B,GAAGstB,IAAgC,OAAjBoQ,EAAO19B,GAAGstB,GACxC,GAAGoQ,EAAO19B,GAAGK,EAAEmd,GAAKkgB,EAAO19B,GAAGK,EAAEmd,EAAE,GAAGxd,EAEjC,IADA88B,EAAOY,EAAO19B,GAAGK,EAAEmd,EAAEhb,OACjBqb,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,EACX6f,EAAO19B,GAAGK,EAAEmd,EAAEK,GAAG9b,IAChB27B,EAAO19B,GAAGK,EAAEmd,EAAEK,GAAG9b,EAAE,IAAM,IACzB27B,EAAO19B,GAAGK,EAAEmd,EAAEK,GAAG9b,EAAE,IAAM,IACzB27B,EAAO19B,GAAGK,EAAEmd,EAAEK,GAAG9b,EAAE,IAAM,IACzB27B,EAAO19B,GAAGK,EAAEmd,EAAEK,GAAG9b,EAAE,IAAM,KAE1B27B,EAAO19B,GAAGK,EAAEmd,EAAEK,GAAG3T,IAChBwzB,EAAO19B,GAAGK,EAAEmd,EAAEK,GAAG3T,EAAE,IAAM,IACzBwzB,EAAO19B,GAAGK,EAAEmd,EAAEK,GAAG3T,EAAE,IAAM,IACzBwzB,EAAO19B,GAAGK,EAAEmd,EAAEK,GAAG3T,EAAE,IAAM,IACzBwzB,EAAO19B,GAAGK,EAAEmd,EAAEK,GAAG3T,EAAE,IAAM,UAIjCwzB,EAAO19B,GAAGK,EAAEmd,EAAE,IAAM,IACpBkgB,EAAO19B,GAAGK,EAAEmd,EAAE,IAAM,IACpBkgB,EAAO19B,GAAGK,EAAEmd,EAAE,IAAM,IACpBkgB,EAAO19B,GAAGK,EAAEmd,EAAE,IAAM,IAMpC,SAAS6gB,EAAc3B,GACnB,IAAI18B,EAAG0X,EAAMglB,EAAOl6B,OACpB,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACO,IAAjB08B,EAAO18B,GAAGstB,IACT0R,EAActC,EAAO18B,GAAG09B,QAKpC,OAAO,SAAUxjB,GACb,GAAG6jB,EAAaI,EAAejkB,EAAcsO,KACzC6V,EAAcnkB,EAAcwiB,QACzBxiB,EAAcskB,QAAO,CACpB,IAAIx+B,EAAG0X,EAAMwC,EAAcskB,OAAOh8B,OAClC,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACVka,EAAcskB,OAAOx+B,GAAG08B,QACvB2B,EAAcnkB,EAAcskB,OAAOx+B,GAAG08B,UApD5C,GA6DduC,EAAe,WACf,IAAId,EAAiB,CAAC,EAAE,EAAE,IAI1B,SAASV,EAAenmB,GACpB,IAAItX,EACA6d,EAAGif,EAEP,IAAI98B,EAHSsX,EAAI9U,OAGP,EAAExC,GAAG,EAAEA,GAAG,EAChB,GAAgB,MAAbsX,EAAItX,GAAGstB,GAAW,CACjB,GAAGhW,EAAItX,GAAG89B,GAAGtgB,EAAExd,EACXsX,EAAItX,GAAG89B,GAAGtgB,EAAEnd,EAAIiX,EAAItX,GAAGy5B,YAGvB,IADAqD,EAAOxlB,EAAItX,GAAG89B,GAAGtgB,EAAEhb,OACfqb,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,EACXvG,EAAItX,GAAG89B,GAAGtgB,EAAEK,GAAG9b,IACduV,EAAItX,GAAG89B,GAAGtgB,EAAEK,GAAG9b,EAAE,GAAG1B,EAAIiX,EAAItX,GAAGy5B,QAEhCniB,EAAItX,GAAG89B,GAAGtgB,EAAEK,GAAG3T,IACdoN,EAAItX,GAAG89B,GAAGtgB,EAAEK,GAAG3T,EAAE,GAAG7J,EAAIiX,EAAItX,GAAGy5B,SAIhC,MACO,MAAbniB,EAAItX,GAAGstB,IACZmQ,EAAenmB,EAAItX,GAAG6Q,IAKlC,SAASwtB,EAAc3B,GACnB,IAAIG,EACA78B,EACA6d,EAAGif,EAAMtf,EAAGuf,EADTrlB,EAAMglB,EAAOl6B,OAEpB,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EAAE,CAEf,IADA68B,EAAYH,EAAO18B,IACNm9B,QAAQ,CACjB,IAAIC,EAAYP,EAAUQ,gBAE1B,IADAP,EAAOM,EAAU56B,OACbqb,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,EACd,GAAGuf,EAAUvf,GAAG+S,GAAGpT,EAAExd,EACjBo9B,EAAUvf,GAAG+S,GAAGpT,EAAEnd,EAAI+8B,EAAUvf,GAAGqhB,QAGnC,IADAnC,EAAOK,EAAUvf,GAAG+S,GAAGpT,EAAEhb,OACrBgb,EAAE,EAAEA,EAAEuf,EAAKvf,GAAG,EACX4f,EAAUvf,GAAG+S,GAAGpT,EAAEA,GAAGzb,IACpBq7B,EAAUvf,GAAG+S,GAAGpT,EAAEA,GAAGzb,EAAE,GAAG1B,EAAI+8B,EAAUvf,GAAGqhB,IAE5C9B,EAAUvf,GAAG+S,GAAGpT,EAAEA,GAAGtT,IACpBkzB,EAAUvf,GAAG+S,GAAGpT,EAAEA,GAAGtT,EAAE,GAAG7J,EAAI+8B,EAAUvf,GAAGqhB,IAM3C,IAAjBrC,EAAUvP,IACTmQ,EAAeZ,EAAUa,SAKrC,OAAO,SAAUxjB,GACb,GAAG6jB,EAAaI,EAAejkB,EAAcsO,KACzC6V,EAAcnkB,EAAcwiB,QACzBxiB,EAAcskB,QAAO,CACpB,IAAIx+B,EAAG0X,EAAMwC,EAAcskB,OAAOh8B,OAClC,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACVka,EAAcskB,OAAOx+B,GAAG08B,QACvB2B,EAAcnkB,EAAcskB,OAAOx+B,GAAG08B,UArE5C,GA2FlB,SAASiB,EAAakB,EAAMjC,GACD,IAApBiC,EAAK39B,EAAEyN,EAAEnM,QAAkB,MAAOq8B,EAAK39B,EAAEY,IACxC+8B,EAAKM,aAAc,GAI3B,IAAIC,EAAW,CACf,aApBA,SAAsBllB,EAAe0iB,GAC9B1iB,EAAcmlB,aAGjBN,EAAY7kB,GACZkkB,EAAUlkB,GACVukB,EAAWvkB,GACX+kB,EAAY/kB,GACZuiB,EAAeviB,EAAcwiB,OAAQxiB,EAAcskB,OAAQ5B,GAC3D1iB,EAAcmlB,YAAa,KAiB/B,OALAD,EAASL,YAAcA,EACvBK,EAASX,WAAaA,EACtBW,EAASH,YAAcA,EACvBG,EAAS3C,eAAiBA,EAEnB2C,EAGX,IAAIE,YAAc9C,sBAEd+C,YAAe,WAEf,IACIC,EAAY,CACZjc,EAAG,EACHkc,KAAK,EACL/B,OAAO,IAEPgC,EAAqB,GAkBzB,SAASC,EAAUC,EAAMC,GACrB,IAAIC,EAAa/V,UAAU,QAC3B+V,EAAW52B,MAAM62B,WAAgBF,EACjC,IAAIG,EAAOjW,UAAU,QAErBiW,EAAKC,UAAY,iBAEjBH,EAAW52B,MAAMwd,SAAgB,WACjCoZ,EAAW52B,MAAM0d,KAAgB,WACjCkZ,EAAW52B,MAAMyd,IAAgB,WAEjCmZ,EAAW52B,MAAMg3B,SAAgB,QAEjCJ,EAAW52B,MAAMi3B,YAAgB,SACjCL,EAAW52B,MAAMk3B,UAAgB,SACjCN,EAAW52B,MAAMm3B,WAAgB,SACjCP,EAAW52B,MAAMo3B,cAAgB,IACjCR,EAAW7sB,YAAY+sB,GACvBr6B,SAAS4B,KAAK0L,YAAY6sB,GAG1B,IAAI/1B,EAAQi2B,EAAKO,YAEjB,OADAP,EAAK92B,MAAM62B,WAlCf,SAAyBH,GACrB,IACI5/B,EADAwgC,EAAcZ,EAAKptB,MAAM,KACtBkF,EAAM8oB,EAAYh+B,OACrBi+B,EAAkB,GACtB,IAAKzgC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACC,eAAnBwgC,EAAYxgC,IAA0C,cAAnBwgC,EAAYxgC,IAC/CygC,EAAgBnuB,KAAKkuB,EAAYxgC,IAGzC,OAAOygC,EAAgBpzB,KAAK,KAyBJqzB,CAAgBd,GAAQ,KAAOC,EAChD,CAACG,KAAKA,EAAMzc,EAAExZ,EAAOnF,OAAOk7B,GA2CvC,SAASa,EAAantB,EAAKotB,GACvB,IAAIC,EAAUhX,SAAS,QAiBvB,OAhBAgX,EAAQ33B,MAAMg3B,SAAW,QAEzBW,EAAQC,aAAa,cAAeF,EAASG,SAC7CF,EAAQC,aAAa,aAAcF,EAASI,QAC5CH,EAAQC,aAAa,cAAeF,EAASK,SAC7CJ,EAAQK,YAAc,IACnBN,EAASO,QACRN,EAAQ33B,MAAM62B,WAAa,UAC3Bc,EAAQC,aAAa,QAASF,EAASO,SAEvCN,EAAQ33B,MAAM62B,WAAaa,EAASG,QAExCvtB,EAAIP,YAAY4tB,GACI9W,UAAU,UAAUqX,WAAW,MACrCxB,KAAOgB,EAASK,QAAU,IAAML,EAASI,OAAS,UAAWJ,EAASG,QAE7EF,EApGXnB,EAAqBA,EAAmB9tB,OAAO,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAC9F,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KACxE,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,OAmR9D,IAAIyvB,EAAO,WACPn9B,KAAKo9B,MAAQ,GACbp9B,KAAKw6B,MAAQ,KACbx6B,KAAKq9B,cAAgB,EACrBr9B,KAAKs9B,UAAW,EAChBt9B,KAAKu9B,SAAWhO,KAAKiO,MACrBx9B,KAAKy9B,kBAAoBz9B,KAAK09B,YAAYpgC,KAAK0C,MAC/CA,KAAK29B,uBAAyB39B,KAAK49B,iBAAiBtgC,KAAK0C,OAiB7D,OAdAm9B,EAAKU,0BAlBL,WACI,OAAOrC,GA6BX2B,EAAKz/B,UAVe,CAChBogC,SA/FJ,SAAkBtD,GACd,GAAIA,EAAJ,CAGIx6B,KAAKw6B,QACLx6B,KAAKw6B,MAAQ,IAEjB,IAAI1+B,EACA6d,EAA6BokB,EAD1BvqB,EAAMgnB,EAAMl8B,OACZs6B,EAAO54B,KAAKw6B,MAAMl8B,OACzB,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EAAE,CAGf,IAFA6d,EAAI,EACJokB,GAAQ,EACFpkB,EAAEif,GACD54B,KAAKw6B,MAAM7gB,GAAG3U,QAAUw1B,EAAM1+B,GAAGkJ,OAAShF,KAAKw6B,MAAM7gB,GAAGkjB,UAAYrC,EAAM1+B,GAAG+gC,SAAW78B,KAAKw6B,MAAM7gB,GAAGqkB,KAAOxD,EAAM1+B,GAAGkiC,KACrHD,GAAQ,GAEZpkB,GAAK,EAELokB,IACA/9B,KAAKw6B,MAAMpsB,KAAKosB,EAAM1+B,IACtB88B,GAAQ,MA4EhBqF,SA5LJ,SAAkBvB,EAAUwB,GACxB,GAAIxB,EAAJ,CAIA,GAAG18B,KAAKw6B,MAGJ,OAFAx6B,KAAKs9B,UAAW,OAChBt9B,KAAKo9B,MAAQV,EAASyB,MAK1B,IACIriC,EADAsiC,EAAU1B,EAASyB,KAChB3qB,EAAM4qB,EAAQ9/B,OACjB+/B,EAAgB7qB,EACpB,IAAI1X,EAAE,EAAGA,EAAE0X,EAAK1X,GAAI,EAAE,CAClB,IACIwiC,EACA3kB,EAFA4kB,GAAiB,EAMrB,GAHAH,EAAQtiC,GAAG0iC,QAAS,EACpBJ,EAAQtiC,GAAG2iC,SAAWhD,EAAU2C,EAAQtiC,GAAG+gC,QAAQ,aACnDuB,EAAQtiC,GAAG4iC,SAAWjD,EAAU2C,EAAQtiC,GAAG+gC,QAAQ,cAC/CuB,EAAQtiC,GAAG6iC,OAGT,GAA0B,MAAvBP,EAAQtiC,GAAG8iC,SAAyC,IAAtBR,EAAQtiC,GAAG+iC,QAO9C,IANAP,EAAiB78B,SAASq9B,iBAAiB,kCAAmCV,EAAQtiC,GAAG+gC,QAAS,qCAAsCuB,EAAQtiC,GAAG+gC,QAAS,OAEzIv+B,OAAS,IACxBigC,GAAiB,GAGjBA,EAAgB,CAChB,IAAI1gC,EAAIgoB,UAAU,SAClBhoB,EAAE++B,aAAa,YAAawB,EAAQtiC,GAAG8iC,SACvC/gC,EAAE++B,aAAa,WAAYwB,EAAQtiC,GAAG+iC,QACtChhC,EAAE++B,aAAa,WAAYwB,EAAQtiC,GAAG+gC,SACtCh/B,EAAEiN,KAAO,WACTjN,EAAEk+B,UAAY,4BAAiCqC,EAAQtiC,GAAG+gC,QAAQ,mCAAmCuB,EAAQtiC,GAAG6iC,MAAM,OACtHT,EAAKnvB,YAAYlR,SAElB,GAA0B,MAAvBugC,EAAQtiC,GAAG8iC,SAAyC,IAAtBR,EAAQtiC,GAAG+iC,OAAa,CAG5D,IAFAP,EAAiB78B,SAASq9B,iBAAiB,2CAEtCnlB,EAAI,EAAGA,EAAI2kB,EAAehgC,OAAQqb,KACuB,IAAtD2kB,EAAe3kB,GAAGolB,KAAK3qB,QAAQgqB,EAAQtiC,GAAG6iC,SAE1CJ,GAAiB,GAIzB,GAAIA,EAAgB,CAChB,IAAIxiC,EAAI8pB,UAAU,QAClB9pB,EAAE6gC,aAAa,YAAawB,EAAQtiC,GAAG8iC,SACvC7iC,EAAE6gC,aAAa,WAAYwB,EAAQtiC,GAAG+iC,QACtC9iC,EAAE+O,KAAO,WACT/O,EAAEijC,IAAM,aACRjjC,EAAEgjC,KAAOX,EAAQtiC,GAAG6iC,MACpBl9B,SAAS4B,KAAK0L,YAAYhT,SAE3B,GAA0B,MAAvBqiC,EAAQtiC,GAAG8iC,SAAyC,IAAtBR,EAAQtiC,GAAG+iC,OAAa,CAG5D,IAFAP,EAAiB78B,SAASq9B,iBAAiB,+CAEtCnlB,EAAI,EAAGA,EAAI2kB,EAAehgC,OAAQqb,IAC/BykB,EAAQtiC,GAAG6iC,QAAUL,EAAe3kB,GAAG3K,MAEvCuvB,GAAiB,GAIzB,GAAIA,EAAgB,CAChB,IAAIU,EAAKpZ,UAAU,QACnBoZ,EAAGrC,aAAa,YAAawB,EAAQtiC,GAAG8iC,SACxCK,EAAGrC,aAAa,WAAYwB,EAAQtiC,GAAG+iC,QACvCI,EAAGrC,aAAa,MAAM,cACtBqC,EAAGrC,aAAa,OAAOwB,EAAQtiC,GAAG6iC,OAClCT,EAAKnvB,YAAYkwB,UArDrBb,EAAQtiC,GAAG0iC,QAAS,EACpBH,GAAiB,EAuDrBD,EAAQtiC,GAAGojC,OAASzC,EAAayB,EAAKE,EAAQtiC,IAC9CsiC,EAAQtiC,GAAGqjC,MAAQ,GACnBn/B,KAAKo9B,MAAMhvB,KAAKgwB,EAAQtiC,IAEN,IAAlBuiC,EACAr+B,KAAKs9B,UAAW,EAIjB95B,WAAWxD,KAAK49B,iBAAiBtgC,KAAK0C,MAAO,UAtF5CA,KAAKs9B,UAAW,GA2LpB8B,YAxEJ,SAAqBC,EAAMr6B,EAAO02B,GAE9B,IADA,IAAI5/B,EAAI,EAAG0X,EAAMxT,KAAKw6B,MAAMl8B,OACrBxC,EAAI0X,GAAK,CACZ,GAAGxT,KAAKw6B,MAAM1+B,GAAGkiC,KAAOqB,GAAQr/B,KAAKw6B,MAAM1+B,GAAGkJ,QAAUA,GAAShF,KAAKw6B,MAAM1+B,GAAG+gC,UAAYnB,EAEvF,OAAO17B,KAAKw6B,MAAM1+B,GAEtBA,GAAI,EAKR,OAHoB,iBAATujC,GAA4C,KAAvBA,EAAK3rB,WAAW,KAAc2rB,IAASn6B,SAAWA,QAAQo6B,MACtFp6B,QAAQo6B,KAAK,oDAAqDD,EAAMr6B,EAAO02B,GAE5EJ,GA6DPiE,cAnCJ,SAAuBljC,GAEnB,IADA,IAAIP,EAAI,EAAG0X,EAAMxT,KAAKo9B,MAAM9+B,OACtBxC,EAAE0X,GAAI,CACR,GAAGxT,KAAKo9B,MAAMthC,GAAG0jC,QAAUnjC,EACvB,OAAO2D,KAAKo9B,MAAMthC,GAEtBA,GAAK,EAET,OAAOkE,KAAKo9B,MAAM,IA4BlBqC,YA3DJ,SAAqBJ,EAAMK,EAAUnE,GACjC,IAAImB,EAAW18B,KAAKu/B,cAAcG,GAC9Bt6B,EAAQi6B,EAAK3rB,WAAW,GAC5B,IAAIgpB,EAASyC,MAAM/5B,EAAQ,GAAI,CAC3B,IAAIu3B,EAAUD,EAASwC,OAKvB,GAAa,MAATG,EAAc,CACd1C,EAAQK,YAAc,IAAMqC,EAAO,IACnC,IAAIM,EAAahD,EAAQiD,wBACzBjD,EAAQK,YAAc,KACtB,IAAI6C,EAAalD,EAAQiD,wBACzBlD,EAASyC,MAAM/5B,EAAQ,IAAMu6B,EAAaE,GAAY,SAEtDlD,EAAQK,YAAcqC,EACtB3C,EAASyC,MAAM/5B,EAAQ,GAAMu3B,EAAQiD,wBAAyB,IAGtE,OAAOlD,EAASyC,MAAM/5B,EAAQ,GAAKm2B,GAwCnCqC,iBA7PJ,WACI,IAAI9hC,EACAggC,EAAMzc,EADH7L,EAAMxT,KAAKo9B,MAAM9+B,OAEpBwhC,EAActsB,EAClB,IAAI1X,EAAE,EAAEA,EAAE0X,EAAK1X,GAAI,EACZkE,KAAKo9B,MAAMthC,GAAG0iC,OACbsB,GAAe,EAGU,MAA1B9/B,KAAKo9B,MAAMthC,GAAG8iC,SAA4C,IAAzB5+B,KAAKo9B,MAAMthC,GAAG+iC,OAC9C7+B,KAAKo9B,MAAMthC,GAAG0iC,QAAS,GAEvB1C,EAAO97B,KAAKo9B,MAAMthC,GAAG2iC,SAAS3C,KAC9Bzc,EAAIrf,KAAKo9B,MAAMthC,GAAG2iC,SAASpf,EACxByc,EAAKO,cAAgBhd,GACpBygB,GAAe,EACf9/B,KAAKo9B,MAAMthC,GAAG0iC,QAAS,IAEvB1C,EAAO97B,KAAKo9B,MAAMthC,GAAG4iC,SAAS5C,KAC9Bzc,EAAIrf,KAAKo9B,MAAMthC,GAAG4iC,SAASrf,EACxByc,EAAKO,cAAgBhd,IACpBygB,GAAe,EACf9/B,KAAKo9B,MAAMthC,GAAG0iC,QAAS,IAG5Bx+B,KAAKo9B,MAAMthC,GAAG0iC,SACbx+B,KAAKo9B,MAAMthC,GAAG4iC,SAASh+B,OAAOk7B,WAAWmE,YAAY//B,KAAKo9B,MAAMthC,GAAG4iC,SAASh+B,QAC5EV,KAAKo9B,MAAMthC,GAAG2iC,SAAS/9B,OAAOk7B,WAAWmE,YAAY//B,KAAKo9B,MAAMthC,GAAG2iC,SAAS/9B,UAKrE,IAAhBo/B,GAAqBvQ,KAAKiO,MAAQx9B,KAAKu9B,SAlFzB,IAmFb/5B,WAAWxD,KAAK29B,uBAAwB,IAExCn6B,WAAWxD,KAAKy9B,kBAAmB,KA2NvCC,YAvBJ,WACI19B,KAAKs9B,UAAW,IA2BbH,EAvTO,GA0Td6C,gBAAmB,WAEnB,IAAIC,EAAYzf,oBACZ0f,EAAW51B,KAAKiX,IAEpB,SAAS4e,EAAiBC,EAAUC,GAChC,IACIC,EADAC,EAAavgC,KAAKugC,WAEA,qBAAlBvgC,KAAKwgC,WACLF,EAAW/a,iBAAiB,UAAWvlB,KAAKygC,GAAGniC,SAOnD,IALA,IAGIoiC,EAASC,EAwBTrnB,EAAGuf,EAAMnF,EAAMkF,EAAMjf,EAAGinB,EA3BxBC,EAAiBR,EAAQS,UACzBhlC,EAAI+kC,EACJrtB,EAAMxT,KAAK+gC,UAAUziC,OAAS,EAAGgkB,GAAO,EAGrCA,GAAM,CAGT,GAFAoe,EAAU1gC,KAAK+gC,UAAUjlC,GACzB6kC,EAAc3gC,KAAK+gC,UAAUjlC,EAAI,GAC7BA,IAAM0X,EAAM,GAAK4sB,GAAYO,EAAY3jC,EAAIujC,EAAW,CACrDG,EAAQrc,IACPqc,EAAUC,GAEdE,EAAiB,EACjB,MAEJ,GAAKF,EAAY3jC,EAAIujC,EAAcH,EAAS,CACxCS,EAAiB/kC,EACjB,MAEAA,EAAI0X,EAAM,EACV1X,GAAK,GAEL+kC,EAAiB,EACjBve,GAAO,GAKf,IAEI0e,EAFAC,EAAcN,EAAY3jC,EAAIujC,EAC9BW,EAAUR,EAAQ1jC,EAAIujC,EAE1B,GAAIG,EAAQS,GAAI,CACPT,EAAQ9L,aACT8L,EAAQ9L,WAAayD,IAAI3D,gBAAgBgM,EAAQ7iC,EAAG8iC,EAAY9iC,GAAK6iC,EAAQ16B,EAAG06B,EAAQS,GAAIT,EAAQU,KAExG,IAAIxM,EAAa8L,EAAQ9L,WACzB,GAAIwL,GAAYa,GAAeb,EAAWc,EAAS,CAC/C,IAAIG,EAAMjB,GAAYa,EAAcrM,EAAW9D,OAAOxyB,OAAS,EAAI,EAEnE,IADAu6B,EAAOjE,EAAW9D,OAAOuQ,GAAKlmB,MAAM7c,OAC/Bgb,EAAI,EAAGA,EAAIuf,EAAMvf,GAAK,EACvBgnB,EAAShnB,GAAKsb,EAAW9D,OAAOuQ,GAAKlmB,MAAM7B,OAG5C,CACConB,EAAQY,OACRV,EAAMF,EAAQY,QAEdV,EAAM3Q,cAAcsR,gBAAgBb,EAAQnkC,EAAEyvB,EAAG0U,EAAQnkC,EAAE0vB,EAAGyU,EAAQ5kC,EAAEkwB,EAAG0U,EAAQ5kC,EAAEmwB,EAAGyU,EAAQnjC,GAAGZ,IACnG+jC,EAAQY,OAASV,GAErBlN,EAAOkN,GAAKR,EAAWc,IAAYD,EAAcC,IACjD,IAEIM,EAFAC,EAAiB7M,EAAWP,cAAcX,EAG1CG,EAAgBwM,EAAQqB,UAAYtB,GAAYC,EAAQsB,qBAAuB7lC,EAAKukC,EAAQuB,iBAAmB,EAInH,IAHAjoB,EAAM0mB,EAAQqB,UAAYtB,GAAYC,EAAQsB,qBAAuB7lC,EAAKukC,EAAQwB,WAAa,EAC/Fvf,GAAO,EACPsW,EAAOhE,EAAW9D,OAAOxyB,OAClBgkB,GAAM,CAET,GADAuR,GAAee,EAAW9D,OAAOnX,GAAG6a,cACb,IAAnBiN,GAAiC,IAAT/N,GAAc/Z,IAAMib,EAAW9D,OAAOxyB,OAAS,EAAG,CAE1E,IADAu6B,EAAOjE,EAAW9D,OAAOnX,GAAGwB,MAAM7c,OAC7Bgb,EAAI,EAAGA,EAAIuf,EAAMvf,GAAK,EACvBgnB,EAAShnB,GAAKsb,EAAW9D,OAAOnX,GAAGwB,MAAM7B,GAE7C,MACG,GAAImoB,GAAkB5N,GAAe4N,EAAiB5N,EAAce,EAAW9D,OAAOnX,EAAI,GAAG6a,cAAe,CAG/G,IAFAgN,GAAeC,EAAiB5N,GAAee,EAAW9D,OAAOnX,EAAI,GAAG6a,cACxEqE,EAAOjE,EAAW9D,OAAOnX,GAAGwB,MAAM7c,OAC7Bgb,EAAI,EAAGA,EAAIuf,EAAMvf,GAAK,EACvBgnB,EAAShnB,GAAKsb,EAAW9D,OAAOnX,GAAGwB,MAAM7B,IAAMsb,EAAW9D,OAAOnX,EAAI,GAAGwB,MAAM7B,GAAKsb,EAAW9D,OAAOnX,GAAGwB,MAAM7B,IAAMkoB,EAExH,MAEA7nB,EAAIif,EAAO,EACXjf,GAAK,EAEL2I,GAAO,EAGf+d,EAAQwB,WAAaloB,EACrB0mB,EAAQuB,iBAAmB/N,EAAce,EAAW9D,OAAOnX,GAAG6a,cAC9D6L,EAAQsB,mBAAqB7lC,OAE9B,CACH,IAAIgmC,EAAMC,EAAMC,EAAKC,EAAKC,EAG1B,GAFA1uB,EAAMktB,EAAQ7iC,EAAES,OAChB0iC,EAAWL,EAAY9iC,GAAK6iC,EAAQ16B,EAChChG,KAAKmiC,IAAoB,IAAdzB,EAAQrc,EACnB,GAAI+b,GAAYa,EACZX,EAAS,GAAKU,EAAS,GACvBV,EAAS,GAAKU,EAAS,GACvBV,EAAS,GAAKU,EAAS,QACpB,GAAIZ,GAAYc,EACnBZ,EAAS,GAAKI,EAAQ7iC,EAAE,GACxByiC,EAAS,GAAKI,EAAQ7iC,EAAE,GACxByiC,EAAS,GAAKI,EAAQ7iC,EAAE,OACrB,EA6FnB,SAA2BmN,EAAKo3B,GAC5B,IAAIC,EAAKD,EAAK,GACVE,EAAKF,EAAK,GACVG,EAAKH,EAAK,GACVI,EAAKJ,EAAK,GACVK,EAAUn4B,KAAKo4B,MAAM,EAAEJ,EAAGE,EAAG,EAAEH,EAAGE,EAAK,EAAI,EAAED,EAAGA,EAAK,EAAEC,EAAGA,GAC1DI,EAAWr4B,KAAKs4B,KAAK,EAAEP,EAAGC,EAAK,EAAEC,EAAGC,GACpCK,EAAOv4B,KAAKo4B,MAAM,EAAEL,EAAGG,EAAG,EAAEF,EAAGC,EAAK,EAAI,EAAEF,EAAGA,EAAK,EAAEE,EAAGA,GAC3Dv3B,EAAI,GAAKy3B,EAAQvgB,UACjBlX,EAAI,GAAK23B,EAASzgB,UAClBlX,EAAI,GAAK63B,EAAK3gB,UAnGF4gB,CAAkBxC,EAyDlC,SAAe71B,EAAGsB,EAAG/O,GACjB,IAII+lC,EAAOC,EAAOC,EAAOC,EAAQC,EAJ7Bn4B,EAAM,GACN4d,EAAKne,EAAE,GAAIoe,EAAKpe,EAAE,GAAI24B,EAAK34B,EAAE,GAAI44B,EAAK54B,EAAE,GAC5C64B,EAAKv3B,EAAE,GAAIw3B,EAAKx3B,EAAE,GAAIy3B,EAAKz3B,EAAE,GAAI03B,EAAK13B,EAAE,IAIxCi3B,EAAQpa,EAAK0a,EAAKza,EAAK0a,EAAKH,EAAKI,EAAKH,EAAKI,GAC/B,IACRT,GAASA,EACTM,GAAMA,EACNC,GAAMA,EACNC,GAAMA,EACNC,GAAMA,GAEL,EAAMT,EAAS,MAChBD,EAAQz4B,KAAKo5B,KAAKV,GAClBC,EAAQ34B,KAAKsd,IAAImb,GACjBG,EAAS54B,KAAKsd,KAAK,EAAM5qB,GAAK+lC,GAASE,EACvCE,EAAS74B,KAAKsd,IAAI5qB,EAAI+lC,GAASE,IAE/BC,EAAS,EAAMlmC,EACfmmC,EAASnmC,GAOb,OALAgO,EAAI,GAAKk4B,EAASta,EAAKua,EAASG,EAChCt4B,EAAI,GAAKk4B,EAASra,EAAKsa,EAASI,EAChCv4B,EAAI,GAAKk4B,EAASE,EAAKD,EAASK,EAChCx4B,EAAI,GAAKk4B,EAASG,EAAKF,EAASM,EAEzBz4B,EAtFiC24B,CAHZC,EAAiBlD,EAAQ7iC,GAC3B+lC,EAAiB5C,IACnBZ,EAAWc,IAAYD,EAAcC,UAKrD,IAAIplC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACH,IAAd4kC,EAAQrc,IACJ+b,GAAYa,EACZvN,EAAO,EACD0M,EAAWc,EACjBxN,EAAO,GAEJgN,EAAQnkC,EAAEyvB,EAAE9qB,cAAgBK,OACtBm/B,EAAQY,SACTZ,EAAQY,OAAS,IAEhBZ,EAAQY,OAAOxlC,GAQhB8kC,EAAMF,EAAQY,OAAOxlC,IAPrBgmC,OAAkC,IAAnBpB,EAAQnkC,EAAEyvB,EAAElwB,GAAsB4kC,EAAQnkC,EAAEyvB,EAAE,GAAK0U,EAAQnkC,EAAEyvB,EAAElwB,GAC9EimC,OAAkC,IAAnBrB,EAAQnkC,EAAE0vB,EAAEnwB,GAAsB4kC,EAAQnkC,EAAE0vB,EAAE,GAAKyU,EAAQnkC,EAAE0vB,EAAEnwB,GAC9EkmC,OAAiC,IAAnBtB,EAAQ5kC,EAAEkwB,EAAElwB,GAAsB4kC,EAAQ5kC,EAAEkwB,EAAE,GAAK0U,EAAQ5kC,EAAEkwB,EAAElwB,GAC7EmmC,OAAiC,IAAnBvB,EAAQ5kC,EAAEmwB,EAAEnwB,GAAsB4kC,EAAQ5kC,EAAEmwB,EAAE,GAAKyU,EAAQ5kC,EAAEmwB,EAAEnwB,GAC7E8kC,EAAM3Q,cAAcsR,gBAAgBO,EAAMC,EAAMC,EAAKC,GAAKtlC,IAC1D+jC,EAAQY,OAAOxlC,GAAK8kC,IAKnBF,EAAQY,OAQTV,EAAMF,EAAQY,QAPdQ,EAAOpB,EAAQnkC,EAAEyvB,EACjB+V,EAAOrB,EAAQnkC,EAAE0vB,EACjB+V,EAAMtB,EAAQ5kC,EAAEkwB,EAChBiW,EAAMvB,EAAQ5kC,EAAEmwB,EAChB2U,EAAM3Q,cAAcsR,gBAAgBO,EAAMC,EAAMC,EAAKC,GAAKtlC,IAC1D+jC,EAAQY,OAASV,GAKzBlN,EAAOkN,GAAKR,EAAWc,IAAYD,EAAcC,MAIzDF,EAAWL,EAAY9iC,GAAK6iC,EAAQ16B,EACpCk8B,EAAyB,IAAdxB,EAAQrc,EAAUqc,EAAQ7iC,EAAE/B,GAAK4kC,EAAQ7iC,EAAE/B,IAAMklC,EAASllC,GAAK4kC,EAAQ7iC,EAAE/B,IAAM43B,EAEpE,qBAAlB1zB,KAAKwgC,SACLF,EAASxkC,GAAKomC,EAEd5B,EAAW4B,EAM3B,OADA7B,EAAQS,UAAYD,EACbP,EAiDX,SAASsD,EAAiBxxB,GACtB,IAAIqwB,EAAUrwB,EAAO,GAAK8P,UACtBygB,EAAWvwB,EAAO,GAAK8P,UACvB2gB,EAAOzwB,EAAO,GAAK8P,UACnByI,EAAKrgB,KAAKod,IAAI+a,EAAU,GACxBhZ,EAAKnf,KAAKod,IAAIib,EAAW,GACzBkB,EAAKv5B,KAAKod,IAAImb,EAAO,GACrBiB,EAAKx5B,KAAKsd,IAAI6a,EAAU,GACxBsB,EAAKz5B,KAAKsd,IAAI+a,EAAW,GACzBqB,EAAK15B,KAAKsd,IAAIib,EAAO,GAMzB,MAAO,CAJCiB,EAAKC,EAAKF,EAAKlZ,EAAKlB,EAAKua,EACzBF,EAAKra,EAAKoa,EAAKlZ,EAAKoZ,EAAKC,EACzBrZ,EAAKoZ,EAAKF,EAAKC,EAAKra,EAAKua,EAHzBrZ,EAAKlB,EAAKoa,EAAKC,EAAKC,EAAKC,GAQrC,SAASC,IACL,IAAI7D,EAAWpgC,KAAKkkC,KAAKC,cAAgBnkC,KAAKugC,WAC1ChD,EAAWv9B,KAAK+gC,UAAU,GAAG/jC,EAAIgD,KAAKugC,WACtC6D,EAAUpkC,KAAK+gC,UAAU/gC,KAAK+gC,UAAUziC,OAAQ,GAAGtB,EAAEgD,KAAKugC,WAC9D,KAAKH,IAAapgC,KAAKqkC,SAAS3C,WAAc1hC,KAAKqkC,SAAS3C,YAAczB,IAAejgC,KAAKqkC,SAAS3C,WAAa0C,GAAWhE,GAAYgE,GAAapkC,KAAKqkC,SAAS3C,UAAYnE,GAAY6C,EAAW7C,IAAa,CAC/Mv9B,KAAKqkC,SAAS3C,WAAatB,IAC1BpgC,KAAKqkC,SAAS1C,oBAAsB,EACpC3hC,KAAKqkC,SAASvD,UAAY,GAG9B,IAAIwD,EAAetkC,KAAKmgC,iBAAiBC,EAAUpgC,KAAKqkC,UACxDrkC,KAAKygC,GAAK6D,EAGd,OADAtkC,KAAKqkC,SAAS3C,UAAYtB,EACnBpgC,KAAKygC,GAGhB,SAAS8D,EAAUz2B,GACf,IAAI02B,EACJ,GAAqB,mBAAlBxkC,KAAKwgC,SACJgE,EAAkB12B,EAAM9N,KAAKykC,KAC1BvE,EAASlgC,KAAKskB,EAAIkgB,GAAmB,OACpCxkC,KAAKskB,EAAIkgB,EACTxkC,KAAKmmB,MAAO,QAIhB,IADA,IAAIrqB,EAAI,EAAG0X,EAAMxT,KAAKskB,EAAEhmB,OACjBxC,EAAI0X,GACPgxB,EAAkB12B,EAAIhS,GAAKkE,KAAKykC,KAC5BvE,EAASlgC,KAAKskB,EAAExoB,GAAK0oC,GAAmB,OACxCxkC,KAAKskB,EAAExoB,GAAK0oC,EACZxkC,KAAKmmB,MAAO,GAEhBrqB,GAAK,EAKjB,SAAS4oC,IACL,GAAI1kC,KAAK2kC,KAAKC,WAAWC,UAAY7kC,KAAK6kC,SAAY7kC,KAAK8kC,gBAAgBxmC,OAG3E,GAAG0B,KAAK+kC,KACJ/kC,KAAKukC,UAAUvkC,KAAKygC,QADxB,CAIAzgC,KAAK+kC,MAAO,EACZ/kC,KAAKmmB,KAAOnmB,KAAKglC,cAEjB,IAAIlpC,EAAG0X,EAAMxT,KAAK8kC,gBAAgBxmC,OAC9B2mC,EAAajlC,KAAKklC,GAAKllC,KAAKygC,GAAKzgC,KAAK26B,KAAKrhB,EAC/C,IAAIxd,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACrBmpC,EAAajlC,KAAK8kC,gBAAgBhpC,GAAGmpC,GAEzCjlC,KAAKukC,UAAUU,GACfjlC,KAAKglC,eAAgB,EACrBhlC,KAAK+kC,MAAO,EACZ/kC,KAAK6kC,QAAU7kC,KAAK2kC,KAAKC,WAAWC,SAGxC,SAASM,EAAUC,GACfplC,KAAK8kC,gBAAgB12B,KAAKg3B,GAC1BplC,KAAKmW,UAAU4P,mBAAmB/lB,MAGtC,SAASqlC,EAAcV,EAAMhK,EAAM8J,EAAMtuB,GACrCnW,KAAKwgC,SAAW,iBAChBxgC,KAAKykC,KAAOA,GAAQ,EACpBzkC,KAAK26B,KAAOA,EACZ36B,KAAKskB,EAAImgB,EAAO9J,EAAKrhB,EAAImrB,EAAO9J,EAAKrhB,EACrCtZ,KAAKygC,GAAK9F,EAAKrhB,EACftZ,KAAKmmB,MAAO,EACZnmB,KAAK2kC,KAAOA,EACZ3kC,KAAKmW,UAAYA,EACjBnW,KAAKkkC,KAAOS,EAAKT,KACjBlkC,KAAKsZ,GAAI,EACTtZ,KAAKklC,IAAK,EACVllC,KAAKslC,IAAM,EACXtlC,KAAK8kC,gBAAkB,GACvB9kC,KAAKglC,eAAgB,EACrBhlC,KAAKomB,SAAWse,EAChB1kC,KAAKukC,UAAYA,EACjBvkC,KAAKmlC,UAAYA,EAGrB,SAASI,EAAyBZ,EAAMhK,EAAM8J,EAAMtuB,GAChDnW,KAAKwgC,SAAW,mBAChBxgC,KAAKykC,KAAOA,GAAQ,EACpBzkC,KAAK26B,KAAOA,EACZ36B,KAAKmmB,MAAO,EACZnmB,KAAK2kC,KAAOA,EACZ3kC,KAAKmW,UAAYA,EACjBnW,KAAKkkC,KAAOS,EAAKT,KACjBlkC,KAAKsZ,GAAI,EACTtZ,KAAKklC,IAAK,EACVllC,KAAK6kC,SAAW,EAChB,IAAI/oC,EAAG0X,EAAMmnB,EAAKrhB,EAAEhb,OACpB0B,KAAKskB,EAAIiB,iBAAiB,UAAW/R,GACrCxT,KAAKygC,GAAKlb,iBAAiB,UAAW/R,GAC5B+R,iBAAiB,UAAW/R,GAEtC,IADAxT,KAAKslC,IAAM/f,iBAAiB,UAAW/R,GAClC1X,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACtBkE,KAAKskB,EAAExoB,GAAK6+B,EAAKrhB,EAAExd,GAAKkE,KAAKykC,KAC7BzkC,KAAKygC,GAAG3kC,GAAK6+B,EAAKrhB,EAAExd,GAExBkE,KAAKglC,eAAgB,EACrBhlC,KAAK8kC,gBAAkB,GACvB9kC,KAAKomB,SAAWse,EAChB1kC,KAAKukC,UAAYA,EACjBvkC,KAAKmlC,UAAYA,EAGrB,SAASK,EAAuBb,EAAMhK,EAAM8J,EAAMtuB,GAC9CnW,KAAKwgC,SAAW,iBAChBxgC,KAAK+gC,UAAYpG,EAAKrhB,EACtBtZ,KAAKugC,WAAaoE,EAAKhK,KAAK8K,GAC5BzlC,KAAK6kC,SAAW,EAChB7kC,KAAKqkC,SAAW,CAAC3C,UAAWzB,EAAWa,UAAW,EAAG/jC,MAAO,EAAG4kC,oBAAqB,GACpF3hC,KAAKsZ,GAAI,EACTtZ,KAAKklC,IAAK,EACVllC,KAAK26B,KAAOA,EACZ36B,KAAKykC,KAAOA,GAAQ,EACpBzkC,KAAK2kC,KAAOA,EACZ3kC,KAAKmW,UAAYA,EACjBnW,KAAKkkC,KAAOS,EAAKT,KACjBlkC,KAAKskB,EAAI2b,EACTjgC,KAAKygC,GAAKR,EACVjgC,KAAKglC,eAAgB,EACrBhlC,KAAKomB,SAAWse,EAChB1kC,KAAKukC,UAAYA,EACjBvkC,KAAKmgC,iBAAmBA,EACxBngC,KAAK8kC,gBAAkB,CAACb,EAAsB3mC,KAAK0C,OACnDA,KAAKmlC,UAAYA,EAGrB,SAASO,EAAkCf,EAAMhK,EAAM8J,EAAMtuB,GACzDnW,KAAKwgC,SAAW,mBAChB,IAAI1kC,EACA+B,EAAGmI,EAAEm7B,EAAGC,EADL5tB,EAAMmnB,EAAKrhB,EAAEhb,OAEpB,IAAKxC,EAAI,EAAGA,EAAI0X,EAAM,EAAG1X,GAAK,EACtB6+B,EAAKrhB,EAAExd,GAAGqlC,IAAMxG,EAAKrhB,EAAExd,GAAG+B,GAAK88B,EAAKrhB,EAAExd,EAAI,IAAM6+B,EAAKrhB,EAAExd,EAAI,GAAG+B,IAC9DA,EAAI88B,EAAKrhB,EAAExd,GAAG+B,EACdmI,EAAI20B,EAAKrhB,EAAExd,EAAI,GAAG+B,EAClBsjC,EAAKxG,EAAKrhB,EAAExd,GAAGqlC,GACfC,EAAKzG,EAAKrhB,EAAExd,GAAGslC,IACE,IAAbvjC,EAAES,SAAkBT,EAAE,KAAOmI,EAAE,IAAMnI,EAAE,KAAOmI,EAAE,KAAOqyB,IAAItF,cAAcl1B,EAAE,GAAGA,EAAE,GAAGmI,EAAE,GAAGA,EAAE,GAAGnI,EAAE,GAAKsjC,EAAG,GAAGtjC,EAAE,GAAKsjC,EAAG,KAAO9I,IAAItF,cAAcl1B,EAAE,GAAGA,EAAE,GAAGmI,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAKo7B,EAAG,GAAGp7B,EAAE,GAAKo7B,EAAG,KAAsB,IAAbvjC,EAAES,SAAkBT,EAAE,KAAOmI,EAAE,IAAMnI,EAAE,KAAOmI,EAAE,IAAMnI,EAAE,KAAOmI,EAAE,KAAOqyB,IAAIf,cAAcz5B,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGmI,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGnI,EAAE,GAAKsjC,EAAG,GAAGtjC,EAAE,GAAKsjC,EAAG,GAAGtjC,EAAE,GAAKsjC,EAAG,KAAO9I,IAAIf,cAAcz5B,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGmI,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAKo7B,EAAG,GAAGp7B,EAAE,GAAKo7B,EAAG,GAAGp7B,EAAE,GAAKo7B,EAAG,OACxbzG,EAAKrhB,EAAExd,GAAGqlC,GAAK,KACfxG,EAAKrhB,EAAExd,GAAGslC,GAAK,MAEhBvjC,EAAE,KAAOmI,EAAE,IAAMnI,EAAE,KAAOmI,EAAE,IAAgB,IAAVm7B,EAAG,IAAsB,IAAVA,EAAG,IAAsB,IAAVC,EAAG,IAAsB,IAAVA,EAAG,KACjE,IAAbvjC,EAAES,QAAiBT,EAAE,KAAOmI,EAAE,IAAgB,IAAVm7B,EAAG,IAAsB,IAAVC,EAAG,MACrDzG,EAAKrhB,EAAExd,GAAGqlC,GAAK,KACfxG,EAAKrhB,EAAExd,GAAGslC,GAAK,OAK/BphC,KAAK8kC,gBAAkB,CAACb,EAAsB3mC,KAAK0C,OACnDA,KAAK+gC,UAAYpG,EAAKrhB,EACtBtZ,KAAKugC,WAAaoE,EAAKhK,KAAK8K,GAC5BzlC,KAAKsZ,GAAI,EACTtZ,KAAKklC,IAAK,EACVllC,KAAKglC,eAAgB,EACrBhlC,KAAKykC,KAAOA,GAAQ,EACpBzkC,KAAK2kC,KAAOA,EACZ3kC,KAAKmW,UAAYA,EACjBnW,KAAKkkC,KAAOS,EAAKT,KACjBlkC,KAAKomB,SAAWse,EAChB1kC,KAAKukC,UAAYA,EACjBvkC,KAAKmgC,iBAAmBA,EACxBngC,KAAK6kC,SAAW,EAChB,IAAIc,EAAShL,EAAKrhB,EAAE,GAAGzb,EAAES,OAGzB,IAFA0B,KAAKskB,EAAIiB,iBAAiB,UAAWogB,GACrC3lC,KAAKygC,GAAKlb,iBAAiB,UAAWogB,GACjC7pC,EAAI,EAAGA,EAAI6pC,EAAQ7pC,GAAK,EACzBkE,KAAKskB,EAAExoB,GAAKmkC,EACZjgC,KAAKygC,GAAG3kC,GAAKmkC,EAEjBjgC,KAAKqkC,SAAS,CAAC3C,UAAUzB,EAAUa,UAAU,EAAE/jC,MAAMwoB,iBAAiB,UAAWogB,IACjF3lC,KAAKmlC,UAAYA,EA4BrB,MAHS,CACLS,QAvBJ,SAAiBjB,EAAKhK,EAAK7vB,EAAM25B,EAAMtuB,GACnC,IAAIvY,EACJ,GAAI+8B,EAAKrhB,EAAEhb,OAEL,GAAyB,iBAAfq8B,EAAKrhB,EAAE,GACnB1b,EAAI,IAAI2nC,EAAyBZ,EAAKhK,EAAM8J,EAAMtuB,QAElD,OAAOrL,GACH,KAAK,EACDlN,EAAI,IAAI4nC,EAAuBb,EAAKhK,EAAK8J,EAAMtuB,GAC/C,MACJ,KAAK,EACDvY,EAAI,IAAI8nC,EAAkCf,EAAKhK,EAAK8J,EAAMtuB,QATlEvY,EAAI,IAAIynC,EAAcV,EAAKhK,EAAM8J,EAAMtuB,GAgB3C,OAHGvY,EAAEknC,gBAAgBxmC,QACjB6X,EAAU4P,mBAAmBnoB,GAE1BA,IAjbO,GAyblBioC,yBAA4B,WAE5B,IAAIC,EAAgB,CAAC,EAAE,GAwJvB,SAASC,EAAkBpB,EAAKhK,EAAKxkB,GAmBjC,GAlBAnW,KAAK2kC,KAAOA,EACZ3kC,KAAK6kC,SAAW,EAChB7kC,KAAKwgC,SAAW,YAChBxgC,KAAK26B,KAAOA,EACZ36B,KAAKskB,EAAI,IAAIkD,OAEbxnB,KAAKgmC,IAAM,IAAIxe,OACfxnB,KAAKimC,uBAAyB,EAC9BjmC,KAAKqmB,6BAA6BlQ,GAAawuB,GAC5ChK,EAAK/8B,GAAK+8B,EAAK/8B,EAAEC,GAChBmC,KAAKwN,GAAKwyB,gBAAgB4F,QAAQjB,EAAKhK,EAAK/8B,EAAEouB,EAAE,EAAE,EAAEhsB,MACpDA,KAAKkmC,GAAKlG,gBAAgB4F,QAAQjB,EAAKhK,EAAK/8B,EAAEquB,EAAE,EAAE,EAAEjsB,MACjD26B,EAAK/8B,EAAEsuB,IACNlsB,KAAKmmC,GAAKnG,gBAAgB4F,QAAQjB,EAAKhK,EAAK/8B,EAAEsuB,EAAE,EAAE,EAAElsB,QAGxDA,KAAKpC,EAAIoiC,gBAAgB4F,QAAQjB,EAAKhK,EAAK/8B,GAAK,CAAC0b,EAAE,CAAC,EAAE,EAAE,IAAI,EAAE,EAAEtZ,MAEjE26B,EAAKyL,GAAI,CAIR,GAHApmC,KAAKomC,GAAKpG,gBAAgB4F,QAAQjB,EAAMhK,EAAKyL,GAAI,EAAGlkB,UAAWliB,MAC/DA,KAAKqmC,GAAKrG,gBAAgB4F,QAAQjB,EAAMhK,EAAK0L,GAAI,EAAGnkB,UAAWliB,MAC/DA,KAAKsmC,GAAKtG,gBAAgB4F,QAAQjB,EAAMhK,EAAK2L,GAAI,EAAGpkB,UAAWliB,MAC5D26B,EAAK4L,GAAGjtB,EAAE,GAAG8nB,GAAI,CAChB,IAAItlC,EAAG0X,EAAMmnB,EAAK4L,GAAGjtB,EAAEhb,OACvB,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb6+B,EAAK4L,GAAGjtB,EAAExd,GAAGqlC,GAAKxG,EAAK4L,GAAGjtB,EAAExd,GAAGslC,GAAK,KAG5CphC,KAAKumC,GAAKvG,gBAAgB4F,QAAQjB,EAAMhK,EAAK4L,GAAI,EAAGrkB,UAAWliB,MAE/DA,KAAKumC,GAAGpE,IAAK,OAEbniC,KAAKpD,EAAIojC,gBAAgB4F,QAAQjB,EAAMhK,EAAK/9B,GAAK,CAAC0c,EAAG,GAAI,EAAG4I,UAAWliB,MAExE26B,EAAK6L,KACJxmC,KAAKwmC,GAAKxG,gBAAgB4F,QAAQjB,EAAMhK,EAAK6L,GAAI,EAAGtkB,UAAWliB,MAC/DA,KAAKymC,GAAKzG,gBAAgB4F,QAAQjB,EAAMhK,EAAK8L,GAAI,EAAGvkB,UAAWliB,OAEnEA,KAAKyK,EAAIu1B,gBAAgB4F,QAAQjB,EAAKhK,EAAKlwB,GAAK,CAAC6O,EAAE,CAAC,EAAE,EAAE,IAAI,EAAE,EAAEtZ,MAChEA,KAAKnC,EAAImiC,gBAAgB4F,QAAQjB,EAAKhK,EAAK98B,GAAK,CAACyb,EAAE,CAAC,IAAI,IAAI,MAAM,EAAE,IAAKtZ,MAEtE26B,EAAKp+B,EACJyD,KAAKzD,EAAIyjC,gBAAgB4F,QAAQjB,EAAKhK,EAAKp+B,EAAE,EAAE,IAAKooC,GAEpD3kC,KAAKzD,EAAI,CAAC4pB,MAAK,EAAM7B,EAAE,GAE3BtkB,KAAK0mC,UAAW,EACZ1mC,KAAKgmB,kBAAkB1nB,QACvB0B,KAAKomB,UAAS,GAmBtB,OAfA2f,EAAkBroC,UAAY,CAC1BipC,cA5MJ,SAAuBC,GACnB,IAAIzgB,EAAOnmB,KAAKmmB,KAChBnmB,KAAKkmB,2BACLlmB,KAAKmmB,KAAOnmB,KAAKmmB,MAAQA,EACrBnmB,KAAKyK,GACLm8B,EAAI1d,WAAWlpB,KAAKyK,EAAE6Z,EAAE,IAAKtkB,KAAKyK,EAAE6Z,EAAE,GAAItkB,KAAKyK,EAAE6Z,EAAE,IAEnDtkB,KAAKnC,GACL+oC,EAAI7d,MAAM/oB,KAAKnC,EAAEymB,EAAE,GAAItkB,KAAKnC,EAAEymB,EAAE,GAAItkB,KAAKnC,EAAEymB,EAAE,IAE7CtkB,KAAKwmC,IACLI,EAAI9d,cAAc9oB,KAAKwmC,GAAGliB,EAAGtkB,KAAKymC,GAAGniB,GAErCtkB,KAAKpD,EACLgqC,EAAI3e,QAAQjoB,KAAKpD,EAAE0nB,GAEnBsiB,EAAIre,SAASvoB,KAAKsmC,GAAGhiB,GAAGgE,QAAQtoB,KAAKqmC,GAAG/hB,GAAG+D,QAAQroB,KAAKomC,GAAG9hB,GAAGiE,SAASvoB,KAAKumC,GAAGjiB,EAAE,IAAIgE,QAAQtoB,KAAKumC,GAAGjiB,EAAE,IAAI+D,QAAQroB,KAAKumC,GAAGjiB,EAAE,IAE7HtkB,KAAK26B,KAAK/8B,EAAEC,EACRmC,KAAK26B,KAAK/8B,EAAEsuB,EACZ0a,EAAI1d,UAAUlpB,KAAKwN,GAAG8W,EAAGtkB,KAAKkmC,GAAG5hB,GAAItkB,KAAKmmC,GAAG7hB,GAE7CsiB,EAAI1d,UAAUlpB,KAAKwN,GAAG8W,EAAGtkB,KAAKkmC,GAAG5hB,EAAG,GAGxCsiB,EAAI1d,UAAUlpB,KAAKpC,EAAE0mB,EAAE,GAAItkB,KAAKpC,EAAE0mB,EAAE,IAAKtkB,KAAKpC,EAAE0mB,EAAE,KAoLtD8B,SAjLJ,SAAqBygB,GACjB,GAAI7mC,KAAK2kC,KAAKC,WAAWC,UAAY7kC,KAAK6kC,QAA1C,CAUA,GAPG7kC,KAAK0mC,WACJ1mC,KAAK8mC,qBACL9mC,KAAK0mC,UAAW,GAGpB1mC,KAAKkmB,2BAEDlmB,KAAKmmB,MAAQ0gB,EAAa,CAgB1B,GAfA7mC,KAAKskB,EAAEwH,eAAe9rB,KAAKgmC,IAAItnC,OAC3BsB,KAAKimC,uBAAyB,GAC9BjmC,KAAKskB,EAAE4E,WAAWlpB,KAAKyK,EAAE6Z,EAAE,IAAKtkB,KAAKyK,EAAE6Z,EAAE,GAAItkB,KAAKyK,EAAE6Z,EAAE,IAEvDtkB,KAAKimC,uBAAyB,GAC7BjmC,KAAKskB,EAAEyE,MAAM/oB,KAAKnC,EAAEymB,EAAE,GAAItkB,KAAKnC,EAAEymB,EAAE,GAAItkB,KAAKnC,EAAEymB,EAAE,IAEhDtkB,KAAKwmC,IAAMxmC,KAAKimC,uBAAyB,GACzCjmC,KAAKskB,EAAEwE,cAAc9oB,KAAKwmC,GAAGliB,EAAGtkB,KAAKymC,GAAGniB,GAExCtkB,KAAKpD,GAAKoD,KAAKimC,uBAAyB,EACxCjmC,KAAKskB,EAAE2D,QAAQjoB,KAAKpD,EAAE0nB,IACdtkB,KAAKpD,GAAKoD,KAAKimC,uBAAyB,GAChDjmC,KAAKskB,EAAEiE,SAASvoB,KAAKsmC,GAAGhiB,GAAGgE,QAAQtoB,KAAKqmC,GAAG/hB,GAAG+D,QAAQroB,KAAKomC,GAAG9hB,GAAGiE,SAASvoB,KAAKumC,GAAGjiB,EAAE,IAAIgE,QAAQtoB,KAAKumC,GAAGjiB,EAAE,IAAI+D,QAAQroB,KAAKumC,GAAGjiB,EAAE,IAEhItkB,KAAK+mC,aAAc,CACnB,IAAIC,EAAGC,EAAIC,EAAYlnC,KAAK2kC,KAAKC,WAAWsC,UAC5C,GAAGlnC,KAAKpC,GAAKoC,KAAKpC,EAAEmjC,WAAa/gC,KAAKpC,EAAEupC,eAChCnnC,KAAKpC,EAAEymC,SAAS3C,UAAU1hC,KAAKpC,EAAE2iC,YAAcvgC,KAAKpC,EAAEmjC,UAAU,GAAG/jC,GACnEgqC,EAAKhnC,KAAKpC,EAAEupC,gBAAgBnnC,KAAKpC,EAAEmjC,UAAU,GAAG/jC,EAAI,KAAQkqC,EAAU,GACtED,EAAKjnC,KAAKpC,EAAEupC,eAAennC,KAAKpC,EAAEmjC,UAAU,GAAG/jC,EAAIkqC,EAAW,IACxDlnC,KAAKpC,EAAEymC,SAAS3C,UAAU1hC,KAAKpC,EAAE2iC,YAAcvgC,KAAKpC,EAAEmjC,UAAU/gC,KAAKpC,EAAEmjC,UAAUziC,OAAS,GAAGtB,GACnGgqC,EAAKhnC,KAAKpC,EAAEupC,eAAgBnnC,KAAKpC,EAAEmjC,UAAU/gC,KAAKpC,EAAEmjC,UAAUziC,OAAS,GAAGtB,EAAIkqC,EAAY,GAC1FD,EAAKjnC,KAAKpC,EAAEupC,gBAAgBnnC,KAAKpC,EAAEmjC,UAAU/gC,KAAKpC,EAAEmjC,UAAUziC,OAAS,GAAGtB,EAAI,KAAQkqC,EAAW,KAEjGF,EAAKhnC,KAAKpC,EAAE6iC,GACZwG,EAAKjnC,KAAKpC,EAAEupC,gBAAgBnnC,KAAKpC,EAAEymC,SAAS3C,UAAU1hC,KAAKpC,EAAE2iC,WAAa,KAAQ2G,EAAWlnC,KAAKpC,EAAE2iC,kBAErG,GAAGvgC,KAAKwN,IAAMxN,KAAKwN,GAAGuzB,WAAa/gC,KAAKkmC,GAAGnF,WAAa/gC,KAAKwN,GAAG25B,gBAAkBnnC,KAAKkmC,GAAGiB,eAAgB,CAC7GH,EAAK,GACLC,EAAK,GACL,IAAIz5B,EAAKxN,KAAKwN,GAAI04B,EAAKlmC,KAAKkmC,GACxB14B,EAAG62B,SAAS3C,UAAUl0B,EAAG+yB,YAAc/yB,EAAGuzB,UAAU,GAAG/jC,GACvDgqC,EAAG,GAAKx5B,EAAG25B,gBAAgB35B,EAAGuzB,UAAU,GAAG/jC,EAAI,KAAQkqC,EAAU,GACjEF,EAAG,GAAKd,EAAGiB,gBAAgBjB,EAAGnF,UAAU,GAAG/jC,EAAI,KAAQkqC,EAAU,GACjED,EAAG,GAAKz5B,EAAG25B,eAAgB35B,EAAGuzB,UAAU,GAAI,EAAImG,EAAU,GAC1DD,EAAG,GAAKf,EAAGiB,eAAgBjB,EAAGnF,UAAU,GAAI,EAAImG,EAAU,IACpD15B,EAAG62B,SAAS3C,UAAUl0B,EAAG+yB,YAAc/yB,EAAGuzB,UAAUvzB,EAAGuzB,UAAUziC,OAAS,GAAGtB,GACnFgqC,EAAG,GAAKx5B,EAAG25B,eAAgB35B,EAAGuzB,UAAUvzB,EAAGuzB,UAAUziC,OAAS,GAAGtB,EAAIkqC,EAAW,GAChFF,EAAG,GAAKd,EAAGiB,eAAgBjB,EAAGnF,UAAUmF,EAAGnF,UAAUziC,OAAS,GAAGtB,EAAIkqC,EAAW,GAChFD,EAAG,GAAKz5B,EAAG25B,gBAAgB35B,EAAGuzB,UAAUvzB,EAAGuzB,UAAUziC,OAAS,GAAGtB,EAAI,KAAQkqC,EAAU,GACvFD,EAAG,GAAKf,EAAGiB,gBAAgBjB,EAAGnF,UAAUmF,EAAGnF,UAAUziC,OAAS,GAAGtB,EAAI,KAAQkqC,EAAU,KAEvFF,EAAK,CAACx5B,EAAGizB,GAAIyF,EAAGzF,IAChBwG,EAAG,GAAKz5B,EAAG25B,gBAAgB35B,EAAG62B,SAAS3C,UAAUl0B,EAAG+yB,WAAa,KAAQ2G,EAAU15B,EAAG+yB,YACtF0G,EAAG,GAAKf,EAAGiB,gBAAgBjB,EAAG7B,SAAS3C,UAAUwE,EAAG3F,WAAa,KAAQ2G,EAAUhB,EAAG3F,kBAG1FyG,EAAKC,EAAKnB,EAEd9lC,KAAKskB,EAAE2D,QAAQ3d,KAAKo4B,MAAMsE,EAAG,GAAKC,EAAG,GAAID,EAAG,GAAKC,EAAG,KAErDjnC,KAAK26B,KAAK/8B,GAAKoC,KAAK26B,KAAK/8B,EAAEC,EACvBmC,KAAK26B,KAAK/8B,EAAEsuB,EACXlsB,KAAKskB,EAAE4E,UAAUlpB,KAAKwN,GAAG8W,EAAGtkB,KAAKkmC,GAAG5hB,GAAItkB,KAAKmmC,GAAG7hB,GAEhDtkB,KAAKskB,EAAE4E,UAAUlpB,KAAKwN,GAAG8W,EAAGtkB,KAAKkmC,GAAG5hB,EAAG,GAG3CtkB,KAAKskB,EAAE4E,UAAUlpB,KAAKpC,EAAE0mB,EAAE,GAAGtkB,KAAKpC,EAAE0mB,EAAE,IAAItkB,KAAKpC,EAAE0mB,EAAE,IAG3DtkB,KAAK6kC,QAAU7kC,KAAK2kC,KAAKC,WAAWC,UAwGpCiC,mBArGJ,WACI,IAAI9mC,KAAKyK,EAAE6O,IACPtZ,KAAKgmC,IAAI9c,WAAWlpB,KAAKyK,EAAE6Z,EAAE,IAAKtkB,KAAKyK,EAAE6Z,EAAE,GAAItkB,KAAKyK,EAAE6Z,EAAE,IACxDtkB,KAAKimC,uBAAyB,GAI9BjmC,KAAKnC,EAAEinC,gBAAgBxmC,QAA3B,CAMA,GALI0B,KAAKgmC,IAAIjd,MAAM/oB,KAAKnC,EAAEymB,EAAE,GAAItkB,KAAKnC,EAAEymB,EAAE,GAAItkB,KAAKnC,EAAEymB,EAAE,IAClDtkB,KAAKimC,uBAAyB,EAI/BjmC,KAAKwmC,GAAI,CACR,GAAIxmC,KAAKwmC,GAAG1B,gBAAgBxmC,QAAW0B,KAAKymC,GAAG3B,gBAAgBxmC,OAI3D,OAHA0B,KAAKgmC,IAAIld,cAAc9oB,KAAKwmC,GAAGliB,EAAGtkB,KAAKymC,GAAGniB,GAC9CtkB,KAAKimC,uBAAyB,EAKlC,GAAIjmC,KAAKpD,EAAG,CACR,GAAIoD,KAAKpD,EAAEkoC,gBAAgBxmC,OAIvB,OAHA0B,KAAKgmC,IAAI/d,QAAQjoB,KAAKpD,EAAE0nB,GACxBtkB,KAAKimC,uBAAyB,OAI3BjmC,KAAKsmC,GAAGxB,gBAAgBxmC,QAAW0B,KAAKqmC,GAAGvB,gBAAgBxmC,QAAW0B,KAAKomC,GAAGtB,gBAAgBxmC,QAAW0B,KAAKumC,GAAGzB,gBAAgBxmC,SACxI0B,KAAKgmC,IAAIzd,SAASvoB,KAAKsmC,GAAGhiB,GAAGgE,QAAQtoB,KAAKqmC,GAAG/hB,GAAG+D,QAAQroB,KAAKomC,GAAG9hB,GAAGiE,SAASvoB,KAAKumC,GAAGjiB,EAAE,IAAIgE,QAAQtoB,KAAKumC,GAAGjiB,EAAE,IAAI+D,QAAQroB,KAAKumC,GAAGjiB,EAAE,IAClItkB,KAAKimC,uBAAyB,KAwElCmB,WApEJ,cAuEA7U,gBAAgB,CAACzM,0BAA2BigB,GAC5CA,EAAkBroC,UAAUqoB,mBAnE5B,SAA4BhhB,GACxB/E,KAAKqnC,oBAAoBtiC,GACzB/E,KAAK2kC,KAAK5e,mBAAmBhhB,GAC7B/E,KAAK0mC,UAAW,GAiEpBX,EAAkBroC,UAAU2pC,oBAAsBvhB,yBAAyBpoB,UAAUqoB,mBAM9E,CACHuhB,qBALJ,SAA8B3C,EAAKhK,EAAKxkB,GACpC,OAAO,IAAI4vB,EAAkBpB,EAAKhK,EAAKxkB,KA3NhB,GAmO/B,SAASoxB,YACRvnC,KAAK7D,GAAI,EACT6D,KAAK21B,QAAU,EACf31B,KAAKwnC,WAAa,EAClBxnC,KAAKskB,EAAItC,iBAAiBhiB,KAAKwnC,YAC/BxnC,KAAKzD,EAAIylB,iBAAiBhiB,KAAKwnC,YAC/BxnC,KAAKlE,EAAIkmB,iBAAiBhiB,KAAKwnC,YAGhCD,UAAU7pC,UAAU+pC,YAAc,SAASlS,EAAQ/hB,GAClDxT,KAAK7D,EAAIo5B,EACTv1B,KAAK0nC,UAAUl0B,GAEf,IADA,IAAI1X,EAAI,EACFA,EAAI0X,GACTxT,KAAKskB,EAAExoB,GAAK6rC,WAAW1T,aACvBj0B,KAAKzD,EAAET,GAAK6rC,WAAW1T,aACvBj0B,KAAKlE,EAAEA,GAAK6rC,WAAW1T,aACvBn4B,GAAK,GAIPyrC,UAAU7pC,UAAUgqC,UAAY,SAASl0B,GACxC,KAAMxT,KAAKwnC,WAAah0B,GACvBxT,KAAK4nC,oBAEN5nC,KAAK21B,QAAUniB,GAGhB+zB,UAAU7pC,UAAUkqC,kBAAoB,WACvC5nC,KAAKskB,EAAItkB,KAAKskB,EAAE5W,OAAOsU,iBAAiBhiB,KAAKwnC,aAC7CxnC,KAAKlE,EAAIkE,KAAKlE,EAAE4R,OAAOsU,iBAAiBhiB,KAAKwnC,aAC7CxnC,KAAKzD,EAAIyD,KAAKzD,EAAEmR,OAAOsU,iBAAiBhiB,KAAKwnC,aAC7CxnC,KAAKwnC,YAAc,GAGpBD,UAAU7pC,UAAUmqC,QAAU,SAAS7b,EAAGC,EAAGnhB,EAAMwQ,EAAK/V,GACvD,IAAI6N,EAKJ,OAJApT,KAAK21B,QAAUrrB,KAAK6P,IAAIna,KAAK21B,QAASra,EAAM,GACzCtb,KAAK21B,SAAW31B,KAAKwnC,YACvBxnC,KAAK4nC,oBAEC98B,GACN,IAAK,IACJsI,EAAMpT,KAAKskB,EACX,MACD,IAAK,IACJlR,EAAMpT,KAAKlE,EACX,MACD,IAAK,IACJsX,EAAMpT,KAAKzD,IAGT6W,EAAIkI,IAASlI,EAAIkI,KAAS/V,KAC7B6N,EAAIkI,GAAOqsB,WAAW1T,cAEvB7gB,EAAIkI,GAAK,GAAK0Q,EACd5Y,EAAIkI,GAAK,GAAK2Q,GAGfsb,UAAU7pC,UAAUoqC,YAAc,SAASC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAG9sB,EAAK/V,GACjEvF,KAAK6nC,QAAQE,EAAGC,EAAG,IAAI1sB,EAAK/V,GAC5BvF,KAAK6nC,QAAQI,EAAGC,EAAG,IAAI5sB,EAAK/V,GAC5BvF,KAAK6nC,QAAQM,EAAGC,EAAG,IAAI9sB,EAAK/V,IAG7BgiC,UAAU7pC,UAAU2qC,QAAU,WAC7B,IAAIC,EAAU,IAAIf,UAClBe,EAAQb,YAAYznC,KAAK7D,EAAG6D,KAAK21B,SACjC,IAAI4S,EAAWvoC,KAAKskB,EAAGkkB,EAAYxoC,KAAKzD,EAAGksC,EAAWzoC,KAAKlE,EACvD4sC,EAAO,EACP1oC,KAAK7D,IACRmsC,EAAQR,YAAYS,EAAS,GAAG,GAAIA,EAAS,GAAG,GAAIE,EAAS,GAAG,GAAIA,EAAS,GAAG,GAAID,EAAU,GAAG,GAAIA,EAAU,GAAG,GAAI,GAAG,GACnHE,EAAO,GAEX,IAGI5sC,EAHA6sC,EAAM3oC,KAAK21B,QAAU,EACrBniB,EAAMxT,KAAK21B,QAGf,IAAK75B,EAAI4sC,EAAM5sC,EAAI0X,EAAK1X,GAAK,EAC5BwsC,EAAQR,YAAYS,EAASI,GAAK,GAAIJ,EAASI,GAAK,GAAIF,EAASE,GAAK,GAAIF,EAASE,GAAK,GAAIH,EAAUG,GAAK,GAAIH,EAAUG,GAAK,GAAI7sC,GAAG,GAClI6sC,GAAO,EAEX,OAAOL,GAEX,IAAIM,qBAAwB,WAIxB,SAASC,EAAiBzI,EAAU0I,EAAezI,GAC/C,IACI0I,EAASC,EAASC,EAAQtvB,EAAGL,EAAGsf,EAAMC,EAAMnF,EAAMwV,EADlDrI,EAAiBR,EAAQS,UAEzBoE,EAAKllC,KAAK+gC,UACd,GAAGX,EAAW8E,EAAG,GAAGloC,EAAEgD,KAAKugC,WACvBwI,EAAW7D,EAAG,GAAGrnC,EAAE,GACnBorC,GAAS,EACTpI,EAAiB,OACf,GAAGT,GAAY8E,EAAGA,EAAG5mC,OAAS,GAAGtB,EAAEgD,KAAKugC,WAC1CwI,EAAW7D,EAAGA,EAAG5mC,OAAS,GAAGT,EAAIqnC,EAAGA,EAAG5mC,OAAS,GAAGT,EAAE,GAAKqnC,EAAGA,EAAG5mC,OAAS,GAAG0H,EAAE,GAM9EijC,GAAS,MACR,CAGD,IAFA,IACmCvI,EAAQC,EADvC7kC,EAAI+kC,EACJrtB,EAAM0xB,EAAG5mC,OAAQ,EAAEgkB,GAAO,EACxBA,IACFoe,EAAUwE,EAAGppC,MACb6kC,EAAcuE,EAAGppC,EAAE,IACHkB,EAAIgD,KAAKugC,WAAcH,KAGpCtkC,EAAI0X,EAAM,EACT1X,GAAK,EAELwmB,GAAO,EAKf,GADAue,EAAiB/kC,IADjBmtC,EAAuB,IAAdvI,EAAQrc,GAEN,CACP,GAAG+b,GAAYO,EAAY3jC,EAAEgD,KAAKugC,WAC9B7M,EAAO,OACL,GAAG0M,EAAWM,EAAQ1jC,EAAEgD,KAAKugC,WAC/B7M,EAAO,MACN,CACD,IAAIkN,EACDF,EAAQY,OACPV,EAAMF,EAAQY,QAEdV,EAAM3Q,cAAcsR,gBAAgBb,EAAQnkC,EAAEyvB,EAAE0U,EAAQnkC,EAAE0vB,EAAEyU,EAAQ5kC,EAAEkwB,EAAE0U,EAAQ5kC,EAAEmwB,GAAGtvB,IACrF+jC,EAAQY,OAASV,GAErBlN,EAAOkN,GAAKR,GAAUM,EAAQ1jC,EAAEgD,KAAKugC,cAAeI,EAAY3jC,EAAEgD,KAAKugC,YAAaG,EAAQ1jC,EAAEgD,KAAKugC,cAEvGyI,EAAWrI,EAAY9iC,EAAI8iC,EAAY9iC,EAAE,GAAK6iC,EAAQ16B,EAAE,GAE5D+iC,EAAWrI,EAAQ7iC,EAAE,GAMzB,IAJA+6B,EAAOkQ,EAAcnT,QACrBkD,EAAOkQ,EAASjtC,EAAE,GAAGwC,OACrB+hC,EAAQS,UAAYD,EAEhBlnB,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,EACd,IAAIL,EAAE,EAAEA,EAAEuf,EAAKvf,GAAG,EACd4vB,EAAcD,EAASF,EAASjtC,EAAE6d,GAAGL,GAAMyvB,EAASjtC,EAAE6d,GAAGL,IAAI0vB,EAASltC,EAAE6d,GAAGL,GAAGyvB,EAASjtC,EAAE6d,GAAGL,IAAIoa,EAChGoV,EAAchtC,EAAE6d,GAAGL,GAAK4vB,EACxBA,EAAcD,EAASF,EAASxsC,EAAEod,GAAGL,GAAMyvB,EAASxsC,EAAEod,GAAGL,IAAI0vB,EAASzsC,EAAEod,GAAGL,GAAGyvB,EAASxsC,EAAEod,GAAGL,IAAIoa,EAChGoV,EAAcvsC,EAAEod,GAAGL,GAAK4vB,EACxBA,EAAcD,EAASF,EAASzkB,EAAE3K,GAAGL,GAAMyvB,EAASzkB,EAAE3K,GAAGL,IAAI0vB,EAAS1kB,EAAE3K,GAAGL,GAAGyvB,EAASzkB,EAAE3K,GAAGL,IAAIoa,EAChGoV,EAAcxkB,EAAE3K,GAAGL,GAAK4vB,EAKpC,SAASC,IACL,IAAI/I,EAAWpgC,KAAKkkC,KAAKC,cAAgBnkC,KAAKugC,WAC1ChD,EAAWv9B,KAAK+gC,UAAU,GAAG/jC,EAAIgD,KAAKugC,WACtC6D,EAAUpkC,KAAK+gC,UAAU/gC,KAAK+gC,UAAUziC,OAAS,GAAGtB,EAAIgD,KAAKugC,WAC7DmB,EAAY1hC,KAAKqkC,SAAS3C,UAQ9B,OAlFY,SA2EPA,IAA6BA,EAAYnE,GAAY6C,EAAW7C,GAAcmE,EAAY0C,GAAWhE,EAAWgE,KAEjHpkC,KAAKqkC,SAASvD,UAAYY,EAAYtB,EAAWpgC,KAAKqkC,SAASvD,UAAY,EAC3E9gC,KAAK6oC,iBAAiBzI,EAAUpgC,KAAKygC,GAAIzgC,KAAKqkC,WAGlDrkC,KAAKqkC,SAAS3C,UAAYtB,EACnBpgC,KAAKygC,GAGhB,SAAS2I,IACLppC,KAAK06B,MAAQ16B,KAAKqpC,qBAqBtB,SAAS9E,EAAU+D,IAlBnB,SAAqBgB,EAAQC,GACzB,GAAGD,EAAO3T,UAAY4T,EAAO5T,SAAW2T,EAAOntC,IAAMotC,EAAOptC,EACxD,OAAO,EAEX,IAAIL,EAAG0X,EAAM81B,EAAO3T,QACpB,IAAI75B,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACrB,GAAGwtC,EAAOhlB,EAAExoB,GAAG,KAAOytC,EAAOjlB,EAAExoB,GAAG,IAC/BwtC,EAAOhlB,EAAExoB,GAAG,KAAOytC,EAAOjlB,EAAExoB,GAAG,IAC/BwtC,EAAO/sC,EAAET,GAAG,KAAOytC,EAAOhtC,EAAET,GAAG,IAC/BwtC,EAAO/sC,EAAET,GAAG,KAAOytC,EAAOhtC,EAAET,GAAG,IAC/BwtC,EAAOxtC,EAAEA,GAAG,KAAOytC,EAAOztC,EAAEA,GAAG,IAC/BwtC,EAAOxtC,EAAEA,GAAG,KAAOytC,EAAOztC,EAAEA,GAAG,GAC9B,OAAO,EAGf,OAAO,GAIH0tC,CAAYxpC,KAAKskB,EAAGgkB,KACpBtoC,KAAKskB,EAAImlB,WAAW5d,MAAMyc,GAC1BtoC,KAAKqpC,qBAAqBK,gBAC1B1pC,KAAKqpC,qBAAqBM,SAAS3pC,KAAKskB,GACxCtkB,KAAKmmB,MAAO,EACZnmB,KAAK06B,MAAQ16B,KAAKqpC,sBAI1B,SAAS3E,IACL,GAAI1kC,KAAK2kC,KAAKC,WAAWC,UAAY7kC,KAAK6kC,QAEnC,GAAK7kC,KAAK8kC,gBAAgBxmC,OAIjC,GAAI0B,KAAK+kC,KACL/kC,KAAKukC,UAAUvkC,KAAKygC,QADxB,CAIAzgC,KAAK+kC,MAAO,EACZ/kC,KAAKmmB,MAAO,EACZ,IACIrqB,EADAmpC,EAAajlC,KAAKklC,GAAKllC,KAAKygC,GAAKzgC,KAAK26B,KAAKf,GAAK55B,KAAK26B,KAAKf,GAAGtgB,EAAItZ,KAAK26B,KAAKjO,GAAGpT,EAC3E9F,EAAMxT,KAAK8kC,gBAAgBxmC,OAClC,IAAIxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACrBmpC,EAAajlC,KAAK8kC,gBAAgBhpC,GAAGmpC,GAEzCjlC,KAAKukC,UAAUU,GACfjlC,KAAK+kC,MAAO,EACZ/kC,KAAK6kC,QAAU7kC,KAAK2kC,KAAKC,WAAWC,aAhBhC7kC,KAAKmmB,MAAO,EAmBpB,SAASyjB,EAAcjF,EAAMhK,EAAM7vB,GAC/B9K,KAAKwgC,SAAW,QAChBxgC,KAAKkkC,KAAOS,EAAKT,KACjBlkC,KAAKmW,UAAYwuB,EACjB3kC,KAAK2kC,KAAOA,EACZ3kC,KAAK26B,KAAOA,EACZ36B,KAAKsZ,GAAI,EACTtZ,KAAKklC,IAAK,EACVllC,KAAKmmB,MAAO,EACZ,IAAIsU,EAAoB,IAAT3vB,EAAa6vB,EAAKjO,GAAGpT,EAAIqhB,EAAKf,GAAGtgB,EAChDtZ,KAAKskB,EAAImlB,WAAW5d,MAAM4O,GAC1Bz6B,KAAKygC,GAAKgJ,WAAW5d,MAAM7rB,KAAKskB,GAChCtkB,KAAKqpC,qBAAuBQ,qBAAqBC,qBACjD9pC,KAAK06B,MAAQ16B,KAAKqpC,qBAClBrpC,KAAK06B,MAAMiP,SAAS3pC,KAAKskB,GACzBtkB,KAAKgoB,MAAQohB,EACbppC,KAAK8kC,gBAAkB,GAG3B,SAASK,EAAUC,GACfplC,KAAK8kC,gBAAgB12B,KAAKg3B,GAC1BplC,KAAKmW,UAAU4P,mBAAmB/lB,MAQtC,SAAS+pC,EAAuBpF,EAAKhK,EAAK7vB,GACtC9K,KAAKwgC,SAAW,QAChBxgC,KAAKkkC,KAAOS,EAAKT,KACjBlkC,KAAK2kC,KAAOA,EACZ3kC,KAAKmW,UAAYwuB,EACjB3kC,KAAKugC,WAAaoE,EAAKhK,KAAK8K,GAC5BzlC,KAAK+gC,UAAqB,IAATj2B,EAAa6vB,EAAKjO,GAAGpT,EAAIqhB,EAAKf,GAAGtgB,EAClDtZ,KAAKsZ,GAAI,EACTtZ,KAAKklC,IAAK,EACV,IAAO1xB,EAAMxT,KAAK+gC,UAAU,GAAGljC,EAAE,GAAG/B,EAAEwC,OAC3B0B,KAAK+gC,UAAU,GAAGljC,EAAE,GAAG/B,EAAE,GAAGwC,OACvC0B,KAAKskB,EAAImlB,WAAWxV,aACpBj0B,KAAKskB,EAAEmjB,YAAYznC,KAAK+gC,UAAU,GAAGljC,EAAE,GAAG1B,EAAGqX,GAC7CxT,KAAKygC,GAAKgJ,WAAW5d,MAAM7rB,KAAKskB,GAChCtkB,KAAKqpC,qBAAuBQ,qBAAqBC,qBACjD9pC,KAAK06B,MAAQ16B,KAAKqpC,qBAClBrpC,KAAK06B,MAAMiP,SAAS3pC,KAAKskB,GACzBtkB,KAAK0hC,WA1LO,OA2LZ1hC,KAAKgoB,MAAQohB,EACbppC,KAAKqkC,SAAW,CAAC3C,WA5LL,OA4L2BZ,UAAW,GAClD9gC,KAAK8kC,gBAAkB,CAACqE,EAA4B7rC,KAAK0C,OAzB7D4pC,EAAclsC,UAAUmrC,iBAAmBA,EAC3Ce,EAAclsC,UAAU0oB,SAAWse,EACnCkF,EAAclsC,UAAU6mC,UAAYA,EACpCqF,EAAclsC,UAAUynC,UAAYA,EAwBpC4E,EAAuBrsC,UAAU0oB,SAAWse,EAC5CqF,EAAuBrsC,UAAUmrC,iBAAmBA,EACpDkB,EAAuBrsC,UAAU6mC,UAAYA,EAC7CwF,EAAuBrsC,UAAUynC,UAAYA,EAE7C,IAAI6E,EAAoB,WAEpB,IAAIC,EAAS7nB,YAEb,SAAS4nB,EAAiBrF,EAAKhK,GAO3B36B,KAAKskB,EAAImlB,WAAWxV,aACpBj0B,KAAKskB,EAAEmjB,aAAY,EAAM,GACzBznC,KAAKqpC,qBAAuBQ,qBAAqBC,qBACjD9pC,KAAK06B,MAAQ16B,KAAKqpC,qBAClBrpC,KAAKqpC,qBAAqBM,SAAS3pC,KAAKskB,GACxCtkB,KAAK5D,EAAIu+B,EAAKv+B,EACd4D,KAAK2kC,KAAOA,EACZ3kC,KAAKkkC,KAAOS,EAAKT,KACjBlkC,KAAK6kC,SAAW,EAChB7kC,KAAKqmB,6BAA6Bse,GAClC3kC,KAAKpC,EAAIoiC,gBAAgB4F,QAAQjB,EAAKhK,EAAK/8B,EAAE,EAAE,EAAEoC,MACjDA,KAAKnC,EAAImiC,gBAAgB4F,QAAQjB,EAAKhK,EAAK98B,EAAE,EAAE,EAAEmC,MAC9CA,KAAKgmB,kBAAkB1nB,OACtB0B,KAAKsZ,GAAI,GAETtZ,KAAKsZ,GAAI,EACTtZ,KAAKkqC,oBAkDb,OA9CAF,EAAiBtsC,UAAY,CACzBsqB,MAAOohB,EACPhjB,SAAU,WACHpmB,KAAK2kC,KAAKC,WAAWC,UAAY7kC,KAAK6kC,UAGzC7kC,KAAK6kC,QAAU7kC,KAAK2kC,KAAKC,WAAWC,QACpC7kC,KAAKkmB,2BAEFlmB,KAAKmmB,MACJnmB,KAAKkqC,qBAGbA,iBAAkB,WACd,IAAI/c,EAAKntB,KAAKpC,EAAE0mB,EAAE,GAAIkH,EAAKxrB,KAAKpC,EAAE0mB,EAAE,GAAI6lB,EAAKnqC,KAAKnC,EAAEymB,EAAE,GAAG,EAAGwf,EAAK9jC,KAAKnC,EAAEymB,EAAE,GAAG,EACzE8lB,EAAiB,IAAXpqC,KAAK5D,EACXiuC,EAAKrqC,KAAKskB,EACd+lB,EAAG/lB,EAAE,GAAG,GAAK6I,EACbkd,EAAG/lB,EAAE,GAAG,GAAKkH,EAAKsY,EAClBuG,EAAG/lB,EAAE,GAAG,GAAK8lB,EAAMjd,EAAKgd,EAAKhd,EAAKgd,EAClCE,EAAG/lB,EAAE,GAAG,GAAKkH,EACb6e,EAAG/lB,EAAE,GAAG,GAAK6I,EACbkd,EAAG/lB,EAAE,GAAG,GAAKkH,EAAKsY,EAClBuG,EAAG/lB,EAAE,GAAG,GAAK8lB,EAAMjd,EAAKgd,EAAKhd,EAAKgd,EAClCE,EAAG/lB,EAAE,GAAG,GAAKkH,EACb6e,EAAGvuC,EAAE,GAAG,GAAKsuC,EAAMjd,EAAKgd,EAAKF,EAAS9c,EAAKgd,EAAKF,EAChDI,EAAGvuC,EAAE,GAAG,GAAK0vB,EAAKsY,EAClBuG,EAAGvuC,EAAE,GAAG,GAAKsuC,EAAMjd,EAAKgd,EAAKhd,EAAKgd,EAClCE,EAAGvuC,EAAE,GAAG,GAAK0vB,EAAKsY,EAAKmG,EACvBI,EAAGvuC,EAAE,GAAG,GAAKsuC,EAAMjd,EAAKgd,EAAKF,EAAS9c,EAAKgd,EAAKF,EAChDI,EAAGvuC,EAAE,GAAG,GAAK0vB,EAAKsY,EAClBuG,EAAGvuC,EAAE,GAAG,GAAKsuC,EAAMjd,EAAKgd,EAAKhd,EAAKgd,EAClCE,EAAGvuC,EAAE,GAAG,GAAK0vB,EAAKsY,EAAKmG,EACvBI,EAAG9tC,EAAE,GAAG,GAAK6tC,EAAMjd,EAAKgd,EAAKF,EAAS9c,EAAKgd,EAAKF,EAChDI,EAAG9tC,EAAE,GAAG,GAAKivB,EAAKsY,EAClBuG,EAAG9tC,EAAE,GAAG,GAAK6tC,EAAMjd,EAAKgd,EAAKhd,EAAKgd,EAClCE,EAAG9tC,EAAE,GAAG,GAAKivB,EAAKsY,EAAKmG,EACvBI,EAAG9tC,EAAE,GAAG,GAAK6tC,EAAMjd,EAAKgd,EAAKF,EAAS9c,EAAKgd,EAAKF,EAChDI,EAAG9tC,EAAE,GAAG,GAAKivB,EAAKsY,EAClBuG,EAAG9tC,EAAE,GAAG,GAAK6tC,EAAMjd,EAAKgd,EAAKhd,EAAKgd,EAClCE,EAAG9tC,EAAE,GAAG,GAAKivB,EAAKsY,EAAKmG,IAI/B1X,gBAAgB,CAACzM,0BAA2BkkB,GAErCA,EA7EY,GAgFnBM,EAAqB,WAErB,SAASA,EAAkB3F,EAAKhK,GAC5B36B,KAAKskB,EAAImlB,WAAWxV,aACpBj0B,KAAKskB,EAAEmjB,aAAY,EAAM,GACzBznC,KAAK2kC,KAAOA,EACZ3kC,KAAKkkC,KAAOS,EAAKT,KACjBlkC,KAAK26B,KAAOA,EACZ36B,KAAK6kC,SAAW,EAChB7kC,KAAK5D,EAAIu+B,EAAKv+B,EACd4D,KAAKqmB,6BAA6Bse,GACnB,IAAZhK,EAAKjS,IACJ1oB,KAAKuqC,GAAKvK,gBAAgB4F,QAAQjB,EAAKhK,EAAK4P,GAAG,EAAE,EAAEvqC,MACnDA,KAAK+P,GAAKiwB,gBAAgB4F,QAAQjB,EAAKhK,EAAK5qB,GAAG,EAAE,IAAK/P,MACtDA,KAAKwqC,cAAgBxqC,KAAKyqC,mBAE1BzqC,KAAKwqC,cAAgBxqC,KAAK0qC,qBAE9B1qC,KAAK0sB,GAAKsT,gBAAgB4F,QAAQjB,EAAKhK,EAAKjO,GAAG,EAAE,EAAE1sB,MACnDA,KAAKpC,EAAIoiC,gBAAgB4F,QAAQjB,EAAKhK,EAAK/8B,EAAE,EAAE,EAAEoC,MACjDA,KAAKpD,EAAIojC,gBAAgB4F,QAAQjB,EAAKhK,EAAK/9B,EAAE,EAAEslB,UAAUliB,MACzDA,KAAKumC,GAAKvG,gBAAgB4F,QAAQjB,EAAKhK,EAAK4L,GAAG,EAAE,EAAEvmC,MACnDA,KAAK2qC,GAAK3K,gBAAgB4F,QAAQjB,EAAKhK,EAAKgQ,GAAG,EAAE,IAAK3qC,MACtDA,KAAKqpC,qBAAuBQ,qBAAqBC,qBACjD9pC,KAAKqpC,qBAAqBM,SAAS3pC,KAAKskB,GACxCtkB,KAAK06B,MAAQ16B,KAAKqpC,qBACfrpC,KAAKgmB,kBAAkB1nB,OACtB0B,KAAKsZ,GAAI,GAETtZ,KAAKsZ,GAAI,EACTtZ,KAAKwqC,iBAgFb,OA5EAF,EAAkB5sC,UAAY,CAC1BsqB,MAAOohB,EACPhjB,SAAU,WACHpmB,KAAK2kC,KAAKC,WAAWC,UAAY7kC,KAAK6kC,UAGzC7kC,KAAK6kC,QAAU7kC,KAAK2kC,KAAKC,WAAWC,QACpC7kC,KAAKkmB,2BACFlmB,KAAKmmB,MACJnmB,KAAKwqC,kBAGbC,kBAAmB,WACf,IAYI3uC,EAAG8uC,EAAIC,EAAUC,EAZjBC,EAA+B,EAAtBzgC,KAAK2D,MAAMjO,KAAK0sB,GAAGpI,GAC5B4D,EAAgB,EAAR5d,KAAK6X,GAAK4oB,EAIlBC,GAAW,EACXC,EAAUjrC,KAAKumC,GAAGjiB,EAClB4mB,EAAWlrC,KAAKuqC,GAAGjmB,EACnB6mB,EAAYnrC,KAAK2qC,GAAGrmB,EACpB8mB,EAAaprC,KAAK+P,GAAGuU,EACrB+mB,EAAmB,EAAE/gC,KAAK6X,GAAG8oB,GAAgB,EAAPF,GACtCO,EAAoB,EAAEhhC,KAAK6X,GAAG+oB,GAAiB,EAAPH,GACTQ,GAAcjhC,KAAK6X,GAAI,EAC1DopB,GAAcvrC,KAAKpD,EAAE0nB,EACrB,IAAI2Q,EAAsB,IAAhBj1B,KAAK26B,KAAKv+B,GAAW,EAAI,EAEnC,IADA4D,KAAKskB,EAAEqR,QAAU,EACb75B,EAAE,EAAEA,EAAEivC,EAAOjvC,GAAG,EAAE,CAElB+uC,EAAYG,EAAWG,EAAYC,EACnCN,EAAeE,EAAWK,EAAmBC,EAC7C,IAAItf,GAHJ4e,EAAMI,EAAWC,EAAUC,GAGb5gC,KAAKod,IAAI6jB,GACnBtf,EAAI2e,EAAMtgC,KAAKsd,IAAI2jB,GACnBC,EAAW,IAANxf,GAAiB,IAANC,EAAU,EAAIA,EAAE3hB,KAAK+W,KAAK2K,EAAEA,EAAIC,EAAEA,GAClDwf,EAAW,IAANzf,GAAiB,IAANC,EAAU,GAAKD,EAAE1hB,KAAK+W,KAAK2K,EAAEA,EAAIC,EAAEA,GACvDD,IAAQhsB,KAAKpC,EAAE0mB,EAAE,GACjB2H,IAAQjsB,KAAKpC,EAAE0mB,EAAE,GACjBtkB,KAAKskB,EAAEwjB,YAAY9b,EAAEC,EAAED,EAAEwf,EAAGV,EAAaD,EAAU5V,EAAIhJ,EAAEwf,EAAGX,EAAaD,EAAU5V,EAAIjJ,EAAEwf,EAAGV,EAAaD,EAAU5V,EAAIhJ,EAAEwf,EAAGX,EAAaD,EAAU5V,EAAKn5B,GAAG,GAM3JkvC,GAAYA,EACZO,GAAcrjB,EAAM+M,IAG5ByV,qBAAsB,WAClB,IAKI5uC,EALAivC,EAASzgC,KAAK2D,MAAMjO,KAAK0sB,GAAGpI,GAC5B4D,EAAgB,EAAR5d,KAAK6X,GAAK4oB,EAClBH,EAAM5qC,KAAKumC,GAAGjiB,EACdumB,EAAY7qC,KAAK2qC,GAAGrmB,EACpBwmB,EAAe,EAAExgC,KAAK6X,GAAGyoB,GAAY,EAAPG,GAC3BQ,GAAcjhC,KAAK6X,GAAI,EAC1B8S,EAAsB,IAAhBj1B,KAAK26B,KAAKv+B,GAAW,EAAI,EAGnC,IAFAmvC,GAAcvrC,KAAKpD,EAAE0nB,EACrBtkB,KAAKskB,EAAEqR,QAAU,EACb75B,EAAE,EAAEA,EAAEivC,EAAOjvC,GAAG,EAAE,CAClB,IAAIkwB,EAAI4e,EAAMtgC,KAAKod,IAAI6jB,GACnBtf,EAAI2e,EAAMtgC,KAAKsd,IAAI2jB,GACnBC,EAAW,IAANxf,GAAiB,IAANC,EAAU,EAAIA,EAAE3hB,KAAK+W,KAAK2K,EAAEA,EAAIC,EAAEA,GAClDwf,EAAW,IAANzf,GAAiB,IAANC,EAAU,GAAKD,EAAE1hB,KAAK+W,KAAK2K,EAAEA,EAAIC,EAAEA,GACvDD,IAAQhsB,KAAKpC,EAAE0mB,EAAE,GACjB2H,IAAQjsB,KAAKpC,EAAE0mB,EAAE,GACjBtkB,KAAKskB,EAAEwjB,YAAY9b,EAAEC,EAAED,EAAEwf,EAAGV,EAAaD,EAAU5V,EAAIhJ,EAAEwf,EAAGX,EAAaD,EAAU5V,EAAIjJ,EAAEwf,EAAGV,EAAaD,EAAU5V,EAAIhJ,EAAEwf,EAAGX,EAAaD,EAAU5V,EAAKn5B,GAAG,GAC3JyvC,GAAcrjB,EAAM+M,EAExBj1B,KAAK06B,MAAMp8B,OAAS,EACpB0B,KAAK06B,MAAM,GAAK16B,KAAKskB,IAI7BiO,gBAAgB,CAACzM,0BAA2BwkB,GAErCA,EA9Ga,GAiHpBoB,EAAqB,WAEpB,SAASA,EAAkB/G,EAAKhK,GAC7B36B,KAAKskB,EAAImlB,WAAWxV,aACpBj0B,KAAKskB,EAAEnoB,GAAI,EACX6D,KAAKqpC,qBAAuBQ,qBAAqBC,qBACjD9pC,KAAKqpC,qBAAqBM,SAAS3pC,KAAKskB,GACxCtkB,KAAK06B,MAAQ16B,KAAKqpC,qBAClBrpC,KAAK2kC,KAAOA,EACZ3kC,KAAKkkC,KAAOS,EAAKT,KACjBlkC,KAAK6kC,SAAW,EAChB7kC,KAAK5D,EAAIu+B,EAAKv+B,EACd4D,KAAKqmB,6BAA6Bse,GAClC3kC,KAAKpC,EAAIoiC,gBAAgB4F,QAAQjB,EAAKhK,EAAK/8B,EAAE,EAAE,EAAEoC,MACjDA,KAAKnC,EAAImiC,gBAAgB4F,QAAQjB,EAAKhK,EAAK98B,EAAE,EAAE,EAAEmC,MACjDA,KAAKpD,EAAIojC,gBAAgB4F,QAAQjB,EAAKhK,EAAK/9B,EAAE,EAAE,EAAEoD,MAC9CA,KAAKgmB,kBAAkB1nB,OACtB0B,KAAKsZ,GAAI,GAETtZ,KAAKsZ,GAAI,EACTtZ,KAAK2rC,qBA0Db,OAtDAD,EAAkBhuC,UAAY,CAC1BiuC,kBAAmB,WACf,IAAIxe,EAAKntB,KAAKpC,EAAE0mB,EAAE,GAAIkH,EAAKxrB,KAAKpC,EAAE0mB,EAAE,GAAIsnB,EAAK5rC,KAAKnC,EAAEymB,EAAE,GAAG,EAAG0iB,EAAKhnC,KAAKnC,EAAEymB,EAAE,GAAG,EACzEtD,EAAQU,OAAOkqB,EAAG5E,EAAGhnC,KAAKpD,EAAE0nB,GAC5B2lB,EAASjpB,GAAO,EAAEoB,aACtBpiB,KAAKskB,EAAEqR,QAAU,EAEH,IAAX31B,KAAK5D,GAAsB,IAAX4D,KAAK5D,GACpB4D,KAAKskB,EAAEwjB,YAAY3a,EAAGye,EAAIpgB,EAAGwb,EAAGhmB,EAAMmM,EAAGye,EAAIpgB,EAAGwb,EAAGhmB,EAAMmM,EAAGye,EAAGpgB,EAAGwb,EAAGiD,EAAO,GAAG,GAC/EjqC,KAAKskB,EAAEwjB,YAAY3a,EAAGye,EAAIpgB,EAAGwb,EAAGhmB,EAAMmM,EAAGye,EAAIpgB,EAAGwb,EAAGiD,EAAO9c,EAAGye,EAAIpgB,EAAGwb,EAAGhmB,EAAM,GAAG,GACpE,IAATA,GACChhB,KAAKskB,EAAEwjB,YAAY3a,EAAGye,EAAG5qB,EAAOwK,EAAGwb,EAAG7Z,EAAGye,EAAG5qB,EAAMwK,EAAGwb,EAAG7Z,EAAGye,EAAG3B,EAAOze,EAAGwb,EAAG,GAAG,GAC9EhnC,KAAKskB,EAAEwjB,YAAY3a,EAAGye,EAAG5qB,EAAMwK,EAAGwb,EAAG7Z,EAAGye,EAAG3B,EAAOze,EAAGwb,EAAG7Z,EAAGye,EAAG5qB,EAAMwK,EAAGwb,EAAG,GAAG,GAC7EhnC,KAAKskB,EAAEwjB,YAAY3a,EAAGye,EAAGpgB,EAAGwb,EAAGhmB,EAAMmM,EAAGye,EAAGpgB,EAAGwb,EAAGhmB,EAAMmM,EAAGye,EAAGpgB,EAAGwb,EAAGiD,EAAO,GAAG,GAC7EjqC,KAAKskB,EAAEwjB,YAAY3a,EAAGye,EAAGpgB,EAAGwb,EAAGhmB,EAAMmM,EAAGye,EAAGpgB,EAAGwb,EAAGiD,EAAO9c,EAAGye,EAAGpgB,EAAGwb,EAAGhmB,EAAM,GAAG,GAC7EhhB,KAAKskB,EAAEwjB,YAAY3a,EAAGye,EAAG5qB,EAAMwK,EAAGwb,EAAG7Z,EAAGye,EAAG5qB,EAAMwK,EAAGwb,EAAG7Z,EAAGye,EAAG3B,EAAOze,EAAGwb,EAAG,GAAG,GAC7EhnC,KAAKskB,EAAEwjB,YAAY3a,EAAGye,EAAG5qB,EAAMwK,EAAGwb,EAAG7Z,EAAGye,EAAG3B,EAAOze,EAAGwb,EAAG7Z,EAAGye,EAAG5qB,EAAMwK,EAAGwb,EAAG,GAAG,KAE7EhnC,KAAKskB,EAAEwjB,YAAY3a,EAAGye,EAAGpgB,EAAGwb,EAAG7Z,EAAGye,EAAG3B,EAAOze,EAAGwb,EAAG7Z,EAAGye,EAAGpgB,EAAGwb,EAAG,GAC9DhnC,KAAKskB,EAAEwjB,YAAY3a,EAAGye,EAAGpgB,EAAGwb,EAAG7Z,EAAGye,EAAGpgB,EAAGwb,EAAGiD,EAAO9c,EAAGye,EAAGpgB,EAAGwb,EAAG,MAGlEhnC,KAAKskB,EAAEwjB,YAAY3a,EAAGye,EAAGpgB,EAAGwb,EAAGhmB,EAAMmM,EAAGye,EAAGpgB,EAAGwb,EAAGiD,EAAO9c,EAAGye,EAAGpgB,EAAGwb,EAAGhmB,EAAM,GAAG,GACjE,IAATA,GACChhB,KAAKskB,EAAEwjB,YAAY3a,EAAGye,EAAG5qB,EAAMwK,EAAGwb,EAAG7Z,EAAGye,EAAG5qB,EAAMwK,EAAGwb,EAAG7Z,EAAGye,EAAG3B,EAAOze,EAAGwb,EAAG,GAAG,GAC7EhnC,KAAKskB,EAAEwjB,YAAY3a,EAAGye,EAAG5qB,EAAMwK,EAAGwb,EAAG7Z,EAAGye,EAAG3B,EAAOze,EAAGwb,EAAG7Z,EAAGye,EAAG5qB,EAAMwK,EAAGwb,EAAG,GAAG,GAC7EhnC,KAAKskB,EAAEwjB,YAAY3a,EAAGye,EAAGpgB,EAAGwb,EAAGhmB,EAAMmM,EAAGye,EAAGpgB,EAAGwb,EAAGhmB,EAAMmM,EAAGye,EAAGpgB,EAAGwb,EAAGiD,EAAO,GAAG,GAC7EjqC,KAAKskB,EAAEwjB,YAAY3a,EAAGye,EAAGpgB,EAAGwb,EAAGhmB,EAAMmM,EAAGye,EAAGpgB,EAAGwb,EAAGiD,EAAO9c,EAAGye,EAAGpgB,EAAGwb,EAAGhmB,EAAM,GAAG,GAC7EhhB,KAAKskB,EAAEwjB,YAAY3a,EAAGye,EAAG5qB,EAAMwK,EAAGwb,EAAG7Z,EAAGye,EAAG5qB,EAAMwK,EAAGwb,EAAG7Z,EAAGye,EAAG3B,EAAOze,EAAGwb,EAAG,GAAG,GAC7EhnC,KAAKskB,EAAEwjB,YAAY3a,EAAGye,EAAG5qB,EAAMwK,EAAGwb,EAAG7Z,EAAGye,EAAG3B,EAAOze,EAAGwb,EAAG7Z,EAAGye,EAAG5qB,EAAMwK,EAAGwb,EAAG,GAAG,GAC7EhnC,KAAKskB,EAAEwjB,YAAY3a,EAAGye,EAAGpgB,EAAGwb,EAAGhmB,EAAMmM,EAAGye,EAAGpgB,EAAGwb,EAAGhmB,EAAMmM,EAAGye,EAAGpgB,EAAGwb,EAAGiD,EAAO,GAAG,KAE7EjqC,KAAKskB,EAAEwjB,YAAY3a,EAAGye,EAAGpgB,EAAGwb,EAAG7Z,EAAGye,EAAG3B,EAAOze,EAAGwb,EAAG7Z,EAAGye,EAAGpgB,EAAGwb,EAAG,GAAG,GACjEhnC,KAAKskB,EAAEwjB,YAAY3a,EAAGye,EAAGpgB,EAAGwb,EAAG7Z,EAAGye,EAAGpgB,EAAGwb,EAAGiD,EAAO9c,EAAGye,EAAGpgB,EAAGwb,EAAG,GAAG,GACjEhnC,KAAKskB,EAAEwjB,YAAY3a,EAAGye,EAAGpgB,EAAGwb,EAAG7Z,EAAGye,EAAG3B,EAAOze,EAAGwb,EAAG7Z,EAAGye,EAAGpgB,EAAGwb,EAAG,GAAG,MAK7E5gB,SAAU,SAASga,GACZpgC,KAAK2kC,KAAKC,WAAWC,UAAY7kC,KAAK6kC,UAGzC7kC,KAAK6kC,QAAU7kC,KAAK2kC,KAAKC,WAAWC,QACpC7kC,KAAKkmB,2BACFlmB,KAAKmmB,MACJnmB,KAAK2rC,sBAIb3jB,MAAOohB,GAEX7W,gBAAgB,CAACzM,0BAA2B4lB,GAErCA,EA9Ea,GAgHxB,IAAIxb,EAAK,CACT,aAhCA,SAAsByU,EAAKhK,EAAK7vB,GAC5B,IAAI/F,EAmBJ,OAlBY,IAAT+F,GAAuB,IAATA,EAIT/F,GAHoB,IAAT+F,EAAa6vB,EAAKjO,GAAKiO,EAAKf,IACvBtgB,EACZhb,OACG,IAAIyrC,EAAuBpF,EAAMhK,EAAM7vB,GAEvC,IAAI8+B,EAAcjF,EAAMhK,EAAM7vB,GAE3B,IAATA,EACL/F,EAAO,IAAI2mC,EAAkB/G,EAAMhK,GACrB,IAAT7vB,EACL/F,EAAO,IAAIilC,EAAiBrF,EAAMhK,GACpB,IAAT7vB,IACL/F,EAAO,IAAIulC,EAAkB3F,EAAMhK,IAEpC51B,EAAKuU,GACJqrB,EAAK5e,mBAAmBhhB,GAErBA,GAaX,uBAVA,WACI,OAAO6kC,GAUX,gCAPA,WACI,OAAOG,IAOX,OAAO7Z,EA3fgB,GA6fvB2b,eAAkB,WAClB,IAAI3b,EAAK,GACL4b,EAAY,GAchB,OAbA5b,EAAG6b,iBAGH,SAA0B5b,EAAG/P,GACrB0rB,EAAU3b,KACV2b,EAAU3b,GAAM/P,IAJxB8P,EAAG8b,YAQH,SAAqB7b,EAAGwU,EAAMhK,GAC1B,OAAO,IAAImR,EAAU3b,GAAIwU,EAAMhK,IAG5BzK,EAhBU,GAmBrB,SAAS+b,iBAsCT,SAASC,gBA8TT,SAASC,wBA6FT,SAASC,oBA0MT,SAASC,kBACRrsC,KAAK21B,QAAU,EACf31B,KAAKwnC,WAAa,EAClBxnC,KAAKw5B,OAASxX,iBAAiBhiB,KAAKwnC,YAmBrC,SAAS8E,aAAa3H,EAAMhK,EAAMvkB,EAAUD,GACxCnW,KAAK2kC,KAAOA,EACZ3kC,KAAK6kC,SAAW,EAChB7kC,KAAKusC,UAAYvqB,iBAAiB2Y,EAAKr8B,QACvC0B,KAAKoW,SAAWA,EAChBpW,KAAKsZ,GAAI,EACTtZ,KAAKwsC,QAAU,GACfxsC,KAAKysC,UAAYlnB,iBAAiB,UAAYoV,EAAKr8B,OAASq8B,EAAKr8B,OAAS,EAAI,GAC9E0B,KAAK0sC,WAAannB,iBAAiB,UAAY,GAC/CvlB,KAAKqmB,6BAA6BlQ,GAClC,IAAIra,EAA2BiJ,EAAxByO,EAAMmnB,EAAKr8B,QAAU,EAC5B,IAAIxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACrBiJ,EAAOi7B,gBAAgB4F,QAAQjB,EAAKhK,EAAK7+B,GAAGwoB,EAAE,EAAG,EAAGtkB,MACpDA,KAAKsZ,EAAIvU,EAAKuU,GAAKtZ,KAAKsZ,EACxBtZ,KAAKusC,UAAUzwC,GAAK,CAACyB,EAAEo9B,EAAK7+B,GAAGyB,EAAEK,EAAEmH,GAEnC/E,KAAKsZ,GACLtZ,KAAKomB,UAAS,GAElBpmB,KAAKimB,YAAcjmB,KAAKsZ,EA6B5B,SAASqzB,iBAAiBhI,EAAKhK,EAAKxkB,GAChCnW,KAAK26B,KAAOA,EACZ36B,KAAK7D,EAAIopB,iBAAiB,SAAiB,EAAPoV,EAAK/8B,GACzC,IAAIgvC,EAAUjS,EAAKrhB,EAAEA,EAAE,GAAGzb,EAAK88B,EAAKrhB,EAAEA,EAAE,GAAGzb,EAAES,OAAgB,EAAPq8B,EAAK/8B,EAAO+8B,EAAKrhB,EAAEA,EAAEhb,OAAgB,EAAPq8B,EAAK/8B,EACzFoC,KAAKzD,EAAIgpB,iBAAiB,UAAWqnB,GACrC5sC,KAAK6sC,OAAQ,EACb7sC,KAAK8sC,OAAQ,EACb9sC,KAAK+sC,aAAe/sC,KAAKgtC,mBACzBhtC,KAAKitC,YAAcL,EACnB5sC,KAAKqmB,6BAA6BlQ,GAClCnW,KAAK+E,KAAOi7B,gBAAgB4F,QAAQjB,EAAKhK,EAAKrhB,EAAE,EAAE,KAAKtZ,MACvDA,KAAKsZ,EAAItZ,KAAK+E,KAAKuU,EACnBtZ,KAAKomB,UAAS,GA5tBlB6lB,cAAcvuC,UAAUwvC,uBAAyB,aACjDjB,cAAcvuC,UAAUyvC,mBAAqB,aAC7ClB,cAAcvuC,UAAUisC,SAAW,SAAShP,GACxC,IAAK36B,KAAKu1B,OAAQ,CAEdoF,EAAKwH,GAAGhsB,UAAU4P,mBAAmB4U,EAAKwH,IAC1C,IAAI/M,EAAY,CAACgY,MAAMzS,EAAKwH,GAAIxH,KAAMA,EAAM0O,qBAAqBQ,qBAAqBC,sBACtF9pC,KAAKw5B,OAAOprB,KAAKgnB,GACjBp1B,KAAKmtC,mBAAmB/X,GACpBp1B,KAAKimB,aACL0U,EAAK0S,kBAIjBpB,cAAcvuC,UAAUgrC,KAAO,SAAS/D,EAAKhK,GACzC36B,KAAKw5B,OAAS,GACdx5B,KAAK2kC,KAAOA,EACZ3kC,KAAKqmB,6BAA6Bse,GAClC3kC,KAAKktC,uBAAuBvI,EAAKhK,GACjC36B,KAAK6kC,QAAUrkB,oBACfxgB,KAAKu1B,QAAS,EACdv1B,KAAKsZ,GAAI,EACNtZ,KAAKgmB,kBAAkB1nB,OACtB0B,KAAKsZ,GAAI,EAETtZ,KAAKomB,UAAS,IAGtB6lB,cAAcvuC,UAAU4vC,YAAc,WAC/BttC,KAAK2kC,KAAKC,WAAWC,UAAY7kC,KAAK6kC,UAGzC7kC,KAAK6kC,QAAU7kC,KAAK2kC,KAAKC,WAAWC,QACpC7kC,KAAKkmB,6BAGTqM,gBAAgB,CAACzM,0BAA2BmmB,eAG5C1Z,gBAAgB,CAAC0Z,eAAgBC,cACjCA,aAAaxuC,UAAUwvC,uBAAyB,SAASvI,EAAMhK,GAC3D36B,KAAKnC,EAAImiC,gBAAgB4F,QAAQjB,EAAMhK,EAAK98B,EAAG,EAAG,IAAMmC,MACxDA,KAAKgG,EAAIg6B,gBAAgB4F,QAAQjB,EAAMhK,EAAK30B,EAAG,EAAG,IAAMhG,MACxDA,KAAKzD,EAAIyjC,gBAAgB4F,QAAQjB,EAAMhK,EAAKp+B,EAAG,EAAG,EAAGyD,MACrDA,KAAKutC,OAAS,EACdvtC,KAAKwtC,OAAS,EACdxtC,KAAKomB,SAAWpmB,KAAKstC,YACrBttC,KAAK9D,EAAIy+B,EAAKz+B,EACd8D,KAAKimB,cAAgBjmB,KAAKnC,EAAEinC,gBAAgBxmC,UAAY0B,KAAKgG,EAAE8+B,gBAAgBxmC,UAAY0B,KAAKzD,EAAEuoC,gBAAgBxmC,QAGtH4tC,aAAaxuC,UAAUyvC,mBAAqB,SAAS/X,GACjDA,EAAUqY,UAAY,IAG1BvB,aAAaxuC,UAAUgwC,oBAAsB,SAAS7vC,EAAGmI,EAAG2nC,EAAa9Z,EAAa+Z,GAClF,IAAI13B,EAAW,GACXlQ,GAAK,EACLkQ,EAAS9H,KAAK,CACVvQ,EAAGA,EACHmI,EAAGA,IAEAnI,GAAK,EACZqY,EAAS9H,KAAK,CACVvQ,EAAGA,EAAI,EACPmI,EAAGA,EAAI,KAGXkQ,EAAS9H,KAAK,CACVvQ,EAAGA,EACHmI,EAAG,IAEPkQ,EAAS9H,KAAK,CACVvQ,EAAG,EACHmI,EAAGA,EAAI,KAGf,IACIlK,EAA0B+xC,EAD1BC,EAAgB,GACbt6B,EAAM0C,EAAS5X,OACtB,IAAKxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EAAG,CAKrB,IAAIiyC,EAAQC,EAHhB,IADAH,EAAY33B,EAASpa,IACPkK,EAAI4nC,EAAsB/Z,GAAega,EAAUhwC,EAAI+vC,EAAsB/Z,EAAc8Z,QAKjGI,EADAF,EAAUhwC,EAAI+vC,GAAuB/Z,EAC5B,GAECga,EAAUhwC,EAAI+vC,EAAsB/Z,GAAe8Z,EAG7DK,EADDH,EAAU7nC,EAAI4nC,GAAuB/Z,EAAc8Z,EACzC,GAEEE,EAAU7nC,EAAI4nC,EAAsB/Z,GAAe8Z,EAElEG,EAAc1/B,KAAK,CAAC2/B,EAAQC,IAMpC,OAHKF,EAAcxvC,QACfwvC,EAAc1/B,KAAK,CAAC,EAAG,IAEpB0/B,GAGX5B,aAAaxuC,UAAUuwC,iBAAmB,SAASR,GAC/C,IAAI3xC,EAAG0X,EAAMi6B,EAAUnvC,OACvB,IAAKxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACtBw5B,qBAAqB4Y,QAAQT,EAAU3xC,IAG3C,OADA2xC,EAAUnvC,OAAS,EACZmvC,GAGXvB,aAAaxuC,UAAUywC,cAAgB,SAASnJ,GAC5C,IAAInnC,EAAGmI,EAwBHooC,EAvBJ,GAAIpuC,KAAKmmB,MAAQ6e,EAAe,CAC5B,IAAIzoC,EAAKyD,KAAKzD,EAAE+nB,EAAI,IAAO,IAS3B,GARI/nB,EAAI,IACJA,GAAK,IAETsB,GAAKmC,KAAKnC,EAAEymB,EAAI,EAAI,EAAItkB,KAAKnC,EAAEymB,EAAI,EAAI,EAAItkB,KAAKnC,EAAEymB,GAAK/nB,IACvDyJ,GAAKhG,KAAKgG,EAAEse,EAAI,EAAI,EAAItkB,KAAKgG,EAAEse,EAAI,EAAI,EAAItkB,KAAKgG,EAAEse,GAAK/nB,GAI5C,CACP,IAAI8xC,EAAKxwC,EACTA,EAAImI,EACJA,EAAIqoC,EAERxwC,EAA4B,KAAxByM,KAAK0W,MAAU,IAAJnjB,GACfmI,EAA4B,KAAxBsE,KAAK0W,MAAU,IAAJhb,GACfhG,KAAKutC,OAAS1vC,EACdmC,KAAKwtC,OAASxnC,OAEdnI,EAAImC,KAAKutC,OACTvnC,EAAIhG,KAAKwtC,OAGb,IAAI1xC,EAA6B6d,EAAGif,EAChC6U,EAAWhT,EAAU6T,EADlB96B,EAAMxT,KAAKw5B,OAAOl7B,OACkBsvC,EAAsB,EAEjE,GAAI5nC,IAAMnI,EACN,IAAK/B,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACtBkE,KAAKw5B,OAAO19B,GAAGutC,qBAAqBK,gBACpC1pC,KAAKw5B,OAAO19B,GAAGsxC,MAAMjnB,MAAO,EAC5BnmB,KAAKw5B,OAAO19B,GAAGsxC,MAAM1S,MAAQ16B,KAAKw5B,OAAO19B,GAAGutC,0BAE7C,GAAa,IAANrjC,GAAiB,IAANnI,GAAiB,IAAJmI,GAAe,IAANnI,GAsFxC,GAAImC,KAAKmmB,KACZ,IAAKrqB,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EAGtBkE,KAAKw5B,OAAO19B,GAAG2xC,UAAUnvC,OAAS,EAClC0B,KAAKw5B,OAAO19B,GAAGsxC,MAAMjnB,MAAO,MA3FqB,CACrD,IAAmBiP,EAAWiU,EAA1BnzB,EAAW,GACf,IAAKpa,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EAGtB,IAFAs5B,EAAYp1B,KAAKw5B,OAAO19B,IAETsxC,MAAMjnB,MAASnmB,KAAKmmB,MAAS6e,GAA4B,IAAXhlC,KAAK9D,EAE3D,CAIH,GAFA08B,GADAwV,EAAahZ,EAAUgY,MAAM1S,OACX/E,QAClB2Y,EAAmB,GACdlZ,EAAUgY,MAAMjnB,MAAQiP,EAAUqY,UAAUnvC,OAC7CgwC,EAAmBlZ,EAAUkZ,qBAC1B,CAEH,IADAb,EAAYztC,KAAKiuC,iBAAiB7Y,EAAUqY,WACvC9zB,EAAI,EAAGA,EAAIif,EAAMjf,GAAK,EACvB8gB,EAAWpC,IAAIlD,kBAAkBiZ,EAAW5U,OAAO7f,IACnD8zB,EAAUr/B,KAAKqsB,GACf6T,GAAoB7T,EAAS7E,YAEjCR,EAAUkZ,iBAAmBA,EAC7BlZ,EAAUqY,UAAYA,EAG1BG,GAAuBU,EACvBlZ,EAAUgY,MAAMjnB,MAAO,OAnBvBiP,EAAUgY,MAAM1S,MAAQtF,EAAUiU,qBAsB1C,IAA6CkF,EAAzCR,EAASlwC,EAAGmwC,EAAShoC,EAAG6tB,EAAc,EAC1C,IAAK/3B,EAAI0X,EAAM,EAAG1X,GAAK,EAAGA,GAAK,EAE3B,IADAs5B,EAAYp1B,KAAKw5B,OAAO19B,IACVsxC,MAAMjnB,KAAM,CAWtB,KAVAkjB,EAAuBjU,EAAUiU,sBACZK,gBAEN,IAAX1pC,KAAK9D,GAAWsX,EAAM,GACtB+6B,EAAQvuC,KAAK0tC,oBAAoB7vC,EAAGmI,EAAGovB,EAAUkZ,iBAAkBza,EAAa+Z,GAChF/Z,GAAeuB,EAAUkZ,kBAEzBC,EAAQ,CAAC,CAACR,EAAQC,IAEtBpV,EAAO2V,EAAMjwC,OACRqb,EAAI,EAAGA,EAAIif,EAAMjf,GAAK,EAAG,CAC1Bo0B,EAASQ,EAAM50B,GAAG,GAClBq0B,EAASO,EAAM50B,GAAG,GAClBzD,EAAS5X,OAAS,EACd0vC,GAAU,EACV93B,EAAS9H,KAAK,CACVvQ,EAAEu3B,EAAUkZ,iBAAmBP,EAC/B/nC,EAAEovB,EAAUkZ,iBAAmBN,IAE5BD,GAAU,EACjB73B,EAAS9H,KAAK,CACVvQ,EAAEu3B,EAAUkZ,kBAAoBP,EAAS,GACzC/nC,EAAEovB,EAAUkZ,kBAAoBN,EAAS,MAG7C93B,EAAS9H,KAAK,CACVvQ,EAAEu3B,EAAUkZ,iBAAmBP,EAC/B/nC,EAAEovB,EAAUkZ,mBAEhBp4B,EAAS9H,KAAK,CACVvQ,EAAE,EACFmI,EAAEovB,EAAUkZ,kBAAoBN,EAAS,MAGjD,IAAIQ,EAAgBxuC,KAAKyuC,UAAUrZ,EAAUlf,EAAS,IACtD,GAAIA,EAAS,GAAGrY,IAAMqY,EAAS,GAAGlQ,EAAG,CACjC,GAAIkQ,EAAS5X,OAAS,EAElB,GAD4B82B,EAAUgY,MAAM1S,MAAMlB,OAAOpE,EAAUgY,MAAM1S,MAAM/E,QAAU,GAC/Dx5B,EAAG,CACzB,IAAIuyC,EAAYF,EAAc1sC,MAC9B9B,KAAK2uC,SAASH,EAAenF,GAC7BmF,EAAgBxuC,KAAKyuC,UAAUrZ,EAAWlf,EAAS,GAAIw4B,QAEvD1uC,KAAK2uC,SAASH,EAAenF,GAC7BmF,EAAgBxuC,KAAKyuC,UAAUrZ,EAAWlf,EAAS,IAG3DlW,KAAK2uC,SAASH,EAAenF,IAIrCjU,EAAUgY,MAAM1S,MAAQ2O,KAaxC6C,aAAaxuC,UAAUixC,SAAW,SAASC,EAAUvF,GACjD,IAAIvtC,EAAG0X,EAAMo7B,EAAStwC,OACtB,IAAKxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACtButC,EAAqBM,SAASiF,EAAS9yC,KAI/CowC,aAAaxuC,UAAUmxC,WAAa,SAAS7hB,EAAKC,EAAKC,EAAKsG,EAAKsb,EAAWxzB,EAAKyzB,GAC7ED,EAAUjH,QAAQ5a,EAAI,GAAIA,EAAI,GAAI,IAAK3R,GACvCwzB,EAAUjH,QAAQ3a,EAAI,GAAIA,EAAI,GAAI,IAAK5R,EAAM,GAC1CyzB,GACCD,EAAUjH,QAAQ7a,EAAI,GAAIA,EAAI,GAAI,IAAK1R,GAE3CwzB,EAAUjH,QAAQrU,EAAI,GAAIA,EAAI,GAAI,IAAKlY,EAAM,IAGjD4wB,aAAaxuC,UAAUsxC,oBAAsB,SAASle,EAAQge,EAAWxzB,EAAKyzB,GAC1ED,EAAUjH,QAAQ/W,EAAO,GAAIA,EAAO,GAAI,IAAKxV,GAC7CwzB,EAAUjH,QAAQ/W,EAAO,GAAIA,EAAO,GAAI,IAAKxV,EAAM,GAChDyzB,GACCD,EAAUjH,QAAQ/W,EAAO,GAAIA,EAAO,GAAI,IAAKxV,GAEjDwzB,EAAUjH,QAAQ/W,EAAO,GAAIA,EAAO,GAAI,IAAKxV,EAAM,IAGvD4wB,aAAaxuC,UAAU+wC,UAAY,SAASrZ,EAAW6Z,EAAcH,GACjE,IAEIhzC,EAAwC6d,EAAGif,EAE3CsW,EAAkBC,EAClBhb,EACAib,EAEAta,EARA2Y,EAAYrY,EAAUqY,UACtBW,EAAahZ,EAAUgY,MAAM1S,MAAMlB,OAChChmB,EAAM4hB,EAAUgY,MAAM1S,MAAM/E,QAC/B9B,EAAc,EAId2F,EAAS,GAETuV,GAAW,EAUf,IATKD,GAKDK,EAAeL,EAAUnZ,QACzBb,EAAUga,EAAUnZ,UALpBmZ,EAAYrF,WAAWxV,aACvBkb,EAAe,EACfra,EAAU,GAKd0E,EAAOprB,KAAK0gC,GACPhzC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EAAG,CAIzB,IAHAq4B,EAAUsZ,EAAU3xC,GAAGq4B,QACvB2a,EAAU3yC,EAAIiyC,EAAWtyC,GAAGK,EAC5By8B,EAAOwV,EAAWtyC,GAAGK,EAAIg4B,EAAQ71B,OAAS61B,EAAQ71B,OAAS,EACtDqb,EAAI,EAAGA,EAAIif,EAAMjf,GAAI,EAEtB,GAAIka,GADJqb,EAAoB/a,EAAQxa,EAAE,IACMka,YAAcob,EAAapxC,EAC3Dg2B,GAAeqb,EAAkBrb,YACjCib,EAAU3yC,GAAI,MACX,IAAG03B,EAAcob,EAAajpC,EAAG,CACpC8oC,EAAU3yC,GAAI,EACd,MAEI8yC,EAAapxC,GAAKg2B,GAAeob,EAAajpC,GAAK6tB,EAAcqb,EAAkBrb,aACnF7zB,KAAK6uC,WAAWT,EAAWtyC,GAAGwoB,EAAE3K,EAAI,GAAIy0B,EAAWtyC,GAAGS,EAAEod,EAAI,GAAIy0B,EAAWtyC,GAAGA,EAAE6d,GAAIy0B,EAAWtyC,GAAGwoB,EAAE3K,GAAIm1B,EAAWK,EAAcJ,GACjIA,GAAW,IAEXK,EAAU/W,IAAIxC,cAAcuY,EAAWtyC,GAAGwoB,EAAE3K,EAAI,GAAIy0B,EAAWtyC,GAAGwoB,EAAE3K,GAAIy0B,EAAWtyC,GAAGS,EAAEod,EAAI,GAAIy0B,EAAWtyC,GAAGA,EAAE6d,IAAKs1B,EAAapxC,EAAIg2B,GAAaqb,EAAkBrb,aAAaob,EAAajpC,EAAI6tB,GAAaqb,EAAkBrb,YAAaM,EAAQxa,EAAE,IACzP3Z,KAAKgvC,oBAAoBI,EAASN,EAAWK,EAAcJ,GAE3DA,GAAW,EACXD,EAAU3yC,GAAI,GAElB03B,GAAeqb,EAAkBrb,YACjCsb,GAAgB,EAGxB,GAAIf,EAAWtyC,GAAGK,GAAKg4B,EAAQ71B,OAAQ,CAEnC,GADA4wC,EAAoB/a,EAAQxa,EAAI,GAC5Bka,GAAeob,EAAajpC,EAAG,CAC/B,IAAIquB,EAAgBF,EAAQxa,EAAI,GAAGka,YAC/Bob,EAAapxC,GAAKg2B,GAAeob,EAAajpC,GAAK6tB,EAAcQ,GACjEr0B,KAAK6uC,WAAWT,EAAWtyC,GAAGwoB,EAAE3K,EAAI,GAAIy0B,EAAWtyC,GAAGS,EAAEod,EAAI,GAAIy0B,EAAWtyC,GAAGA,EAAE,GAAIsyC,EAAWtyC,GAAGwoB,EAAE,GAAIwqB,EAAWK,EAAcJ,GACjIA,GAAW,IAEXK,EAAU/W,IAAIxC,cAAcuY,EAAWtyC,GAAGwoB,EAAE3K,EAAI,GAAIy0B,EAAWtyC,GAAGwoB,EAAE,GAAI8pB,EAAWtyC,GAAGS,EAAEod,EAAI,GAAIy0B,EAAWtyC,GAAGA,EAAE,IAAKmzC,EAAapxC,EAAIg2B,GAAeQ,GAAgB4a,EAAajpC,EAAI6tB,GAAeQ,EAAeF,EAAQxa,EAAI,IAChO3Z,KAAKgvC,oBAAoBI,EAASN,EAAWK,EAAcJ,GAE3DA,GAAW,EACXD,EAAU3yC,GAAI,QAGlB2yC,EAAU3yC,GAAI,EAElB03B,GAAeqb,EAAkBrb,YACjCsb,GAAgB,EAMpB,GAJIL,EAAUnZ,UACVmZ,EAAUjH,QAAQiH,EAAUxqB,EAAEwQ,GAAS,GAAIga,EAAUxqB,EAAEwQ,GAAS,GAAI,IAAKA,GACzEga,EAAUjH,QAAQiH,EAAUxqB,EAAEwqB,EAAUnZ,QAAU,GAAG,GAAImZ,EAAUxqB,EAAEwqB,EAAUnZ,QAAU,GAAG,GAAG,IAAKmZ,EAAUnZ,QAAU,IAExH9B,EAAcob,EAAajpC,EAC3B,MAEAlK,EAAI0X,EAAM,IACVs7B,EAAYrF,WAAWxV,aACvB8a,GAAW,EACXvV,EAAOprB,KAAK0gC,GACZK,EAAe,GAGvB,OAAO3V,GAIXqS,eAAeE,iBAAiB,KAAMG,cAEtC3Z,gBAAgB,CAAC0Z,eAAeE,sBAChCA,qBAAqBzuC,UAAUwvC,uBAAyB,SAASvI,EAAKhK,GAClE36B,KAAKomB,SAAWpmB,KAAKstC,YACrBttC,KAAKqvC,GAAKrP,gBAAgB4F,QAAQjB,EAAKhK,EAAK/9B,EAAE,EAAE,KAAKoD,MACrDA,KAAKimB,cAAgBjmB,KAAKqvC,GAAGvK,gBAAgBxmC,QAGjD6tC,qBAAqBzuC,UAAU4xC,YAAc,SAASzoC,EAAMma,GACxD,IAAIuuB,EAAc9F,WAAWxV,aAC7Bsb,EAAYpzC,EAAI0K,EAAK1K,EACrB,IAAIL,EACA0zC,EAASC,EAASC,EAASC,EAAwBC,EAASC,EAC5D9H,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAFZ50B,EAAM3M,EAAK8uB,QACyDvwB,EAAQ,EAEnF,IAAItJ,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb0zC,EAAW3oC,EAAKyd,EAAExoB,GAClB4zC,EAAW7oC,EAAKtK,EAAET,GAClB2zC,EAAW5oC,EAAK/K,EAAEA,GACf0zC,EAAS,KAAKE,EAAS,IAAMF,EAAS,KAAKE,EAAS,IAAMF,EAAS,KAAKC,EAAS,IAAMD,EAAS,KAAKC,EAAS,GACrG,IAAJ3zC,GAASA,IAAM0X,EAAM,GAAO3M,EAAK1K,GAQ7BwzC,EADG,IAAJ7zC,EACW+K,EAAKyd,EAAE9Q,EAAI,GAEX3M,EAAKyd,EAAExoB,EAAE,GAGvB+zC,GADAD,EAAWtlC,KAAK+W,KAAK/W,KAAK6W,IAAIquB,EAAS,GAAGG,EAAQ,GAAG,GAAGrlC,KAAK6W,IAAIquB,EAAS,GAAGG,EAAQ,GAAG,KAChErlC,KAAK4P,IAAI01B,EAAS,EAAE5uB,GAAO4uB,EAAW,EAC9D7H,EAAKI,EAAKqH,EAAS,IAAIG,EAAQ,GAAGH,EAAS,IAAIK,EAC/C7H,EAAKI,EAAKoH,EAAS,IAAIA,EAAS,GAAGG,EAAQ,IAAIE,EAC/C5H,EAAKF,GAAIA,EAAGyH,EAAS,IAAIptB,YACzB8lB,EAAKF,GAAIA,EAAGwH,EAAS,IAAIptB,YACzBmtB,EAAYzH,YAAYC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGhjC,GAC1CA,GAAS,EAGLuqC,EADD7zC,IAAM0X,EAAM,EACD3M,EAAKyd,EAAE,GAEPzd,EAAKyd,EAAExoB,EAAE,GAGvB+zC,GADAD,EAAWtlC,KAAK+W,KAAK/W,KAAK6W,IAAIquB,EAAS,GAAGG,EAAQ,GAAG,GAAGrlC,KAAK6W,IAAIquB,EAAS,GAAGG,EAAQ,GAAG,KAChErlC,KAAK4P,IAAI01B,EAAS,EAAE5uB,GAAO4uB,EAAW,EAC9D7H,EAAKE,EAAKuH,EAAS,IAAIG,EAAQ,GAAGH,EAAS,IAAIK,EAC/C7H,EAAKE,EAAKsH,EAAS,IAAIG,EAAQ,GAAGH,EAAS,IAAIK,EAC/C1H,EAAKJ,GAAIA,EAAGyH,EAAS,IAAIptB,YACzBgmB,EAAKJ,GAAIA,EAAGwH,EAAS,IAAIptB,YACzBmtB,EAAYzH,YAAYC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGhjC,GAC1CA,GAAS,IAhCTmqC,EAAYzH,YAAY0H,EAAS,GAAGA,EAAS,GAAGE,EAAS,GAAGA,EAAS,GAAGD,EAAS,GAAGA,EAAS,GAAGrqC,GAIhGA,GAAS,IA+BbmqC,EAAYzH,YAAYjhC,EAAKyd,EAAExoB,GAAG,GAAG+K,EAAKyd,EAAExoB,GAAG,GAAG+K,EAAKtK,EAAET,GAAG,GAAG+K,EAAKtK,EAAET,GAAG,GAAG+K,EAAK/K,EAAEA,GAAG,GAAG+K,EAAK/K,EAAEA,GAAG,GAAGsJ,GACtGA,GAAS,GAGjB,OAAOmqC,GAGXpD,qBAAqBzuC,UAAUywC,cAAgB,SAASnJ,GACpD,IAAIoJ,EACAtyC,EACA6d,EAAGif,EAICxD,EAAqBiU,EALtB71B,EAAMxT,KAAKw5B,OAAOl7B,OAErB+wC,EAAKrvC,KAAKqvC,GAAG/qB,EAEjB,GAAU,IAAP+qB,EAEC,IAAIvzC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EAAE,CAIf,IAHAs5B,EAAYp1B,KAAKw5B,OAAO19B,IACHsxC,MAAM1S,MAC3B2O,EAAuBjU,EAAUiU,qBAC3BjU,EAAUgY,MAAMjnB,MAASnmB,KAAKmmB,MAAS6e,EAKzC,IAJAqE,EAAqBK,gBACrBtU,EAAUgY,MAAMjnB,MAAO,EACvBioB,EAAahZ,EAAUgY,MAAM1S,MAAMlB,OACnCZ,EAAOxD,EAAUgY,MAAM1S,MAAM/E,QACzBhc,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,EACd0vB,EAAqBM,SAAS3pC,KAAKsvC,YAAYlB,EAAWz0B,GAAG01B,IAGrEja,EAAUgY,MAAM1S,MAAQtF,EAAUiU,qBAItCrpC,KAAKgmB,kBAAkB1nB,SACvB0B,KAAKmmB,MAAO,IAIpB0lB,eAAeE,iBAAiB,KAAKI,sBAErC5Z,gBAAgB,CAAC0Z,eAAgBG,kBAEjCA,iBAAiB1uC,UAAUwvC,uBAAyB,SAASvI,EAAKhK,GAC9D36B,KAAKomB,SAAWpmB,KAAKstC,YACrBttC,KAAK7D,EAAI6jC,gBAAgB4F,QAAQjB,EAAKhK,EAAKx+B,EAAE,EAAE,KAAK6D,MACpDA,KAAKzD,EAAIyjC,gBAAgB4F,QAAQjB,EAAKhK,EAAKp+B,EAAE,EAAE,KAAKyD,MACpDA,KAAK8vC,GAAKjK,yBAAyByB,qBAAqB3C,EAAKhK,EAAKmV,GAAG9vC,MACrEA,KAAK+vC,GAAK/P,gBAAgB4F,QAAQjB,EAAKhK,EAAKmV,GAAGC,GAAG,EAAE,IAAK/vC,MACzDA,KAAKgwC,GAAKhQ,gBAAgB4F,QAAQjB,EAAKhK,EAAKmV,GAAGE,GAAG,EAAE,IAAKhwC,MACzDA,KAAK26B,KAAOA,EACR36B,KAAKgmB,kBAAkB1nB,QACvB0B,KAAKomB,UAAS,GAElBpmB,KAAKimB,cAAgBjmB,KAAKgmB,kBAAkB1nB,OAC5C0B,KAAKiwC,QAAU,IAAIzoB,OACnBxnB,KAAKkwC,QAAU,IAAI1oB,OACnBxnB,KAAKmwC,QAAU,IAAI3oB,OACnBxnB,KAAKowC,QAAU,IAAI5oB,OACnBxnB,KAAKqwC,OAAS,IAAI7oB,QAGtB4kB,iBAAiB1uC,UAAU4yC,gBAAkB,SAASL,EAASC,EAASC,EAAS7mB,EAAWoK,EAAM6c,GAC9F,IAAItb,EAAMsb,GAAO,EAAI,EACjBC,EAASlnB,EAAUzrB,EAAEymB,EAAE,IAAM,EAAIgF,EAAUzrB,EAAEymB,EAAE,KAAO,EAAIoP,GAC1D+c,EAASnnB,EAAUzrB,EAAEymB,EAAE,IAAM,EAAIgF,EAAUzrB,EAAEymB,EAAE,KAAO,EAAIoP,GAC9Duc,EAAQ/mB,UAAUI,EAAU1rB,EAAE0mB,EAAE,GAAK2Q,EAAMvB,EAAMpK,EAAU1rB,EAAE0mB,EAAE,GAAK2Q,EAAMvB,EAAMpK,EAAU1rB,EAAE0mB,EAAE,IAC9F4rB,EAAQhnB,WAAWI,EAAU7e,EAAE6Z,EAAE,IAAKgF,EAAU7e,EAAE6Z,EAAE,GAAIgF,EAAU7e,EAAE6Z,EAAE,IACtE4rB,EAAQjoB,QAAQqB,EAAU1sB,EAAE0nB,EAAI2Q,EAAMvB,GACtCwc,EAAQhnB,UAAUI,EAAU7e,EAAE6Z,EAAE,GAAIgF,EAAU7e,EAAE6Z,EAAE,GAAIgF,EAAU7e,EAAE6Z,EAAE,IACpE6rB,EAAQjnB,WAAWI,EAAU7e,EAAE6Z,EAAE,IAAKgF,EAAU7e,EAAE6Z,EAAE,GAAIgF,EAAU7e,EAAE6Z,EAAE,IACtE6rB,EAAQpnB,MAAMwnB,EAAM,EAAEC,EAASA,EAAQD,EAAM,EAAEE,EAASA,GACxDN,EAAQjnB,UAAUI,EAAU7e,EAAE6Z,EAAE,GAAIgF,EAAU7e,EAAE6Z,EAAE,GAAIgF,EAAU7e,EAAE6Z,EAAE,KAGxE8nB,iBAAiB1uC,UAAUgrC,KAAO,SAAS/D,EAAMvxB,EAAKkI,EAAKo1B,GACvD1wC,KAAK2kC,KAAOA,EACZ3kC,KAAKoT,IAAMA,EACXpT,KAAKsb,IAAMA,EACXtb,KAAK0wC,UAAYA,EACjB1wC,KAAK2wC,eAAiB,EACtB3wC,KAAK4wC,UAAY,GACjB5wC,KAAK6wC,QAAU,GACf7wC,KAAK6kC,SAAW,EAChB7kC,KAAKqmB,6BAA6Bse,GAClC3kC,KAAKktC,uBAAuBvI,EAAKvxB,EAAIkI,IAErC,KAAMA,EAAI,GACNA,GAAO,EAEPtb,KAAK4wC,UAAUE,QAAQ19B,EAAIkI,IACnB,EAETtb,KAAKgmB,kBAAkB1nB,OACtB0B,KAAKsZ,GAAI,EAETtZ,KAAKomB,UAAS,IAItBgmB,iBAAiB1uC,UAAUqzC,cAAgB,SAASC,GAChD,IAAIl1C,EAAG0X,EAAMw9B,EAAS1yC,OACtB,IAAIxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACrBk1C,EAASl1C,GAAGm1C,YAAa,EACH,OAAnBD,EAASl1C,GAAGstB,IACXppB,KAAK+wC,cAAcC,EAASl1C,GAAG6Q,KAK3Cy/B,iBAAiB1uC,UAAUwzC,cAAgB,SAASF,GACnCA,EAAS1yC,OAAtB,IACI6yC,EAAcv0B,KAAK+c,MAAM/c,KAAKE,UAAUk0B,IAE5C,OADAhxC,KAAK+wC,cAAcI,GACZA,GAGX/E,iBAAiB1uC,UAAU0zC,kBAAoB,SAASJ,EAAUK,GAC9D,IAAIv1C,EAAG0X,EAAMw9B,EAAS1yC,OACtB,IAAIxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACrBk1C,EAASl1C,GAAGw1C,QAAUD,EACA,OAAnBL,EAASl1C,GAAGstB,IACXppB,KAAKoxC,kBAAkBJ,EAASl1C,GAAG6Q,GAAI0kC,IAKnDjF,iBAAiB1uC,UAAUywC,cAAgB,SAASnJ,GAChD,IAAIuM,EAAOC,EAAgB11C,EAAGm5B,EAAKwc,EACnC,GAAGzxC,KAAKmmB,MAAQ6e,EAAc,CAC1B,IAgBIqM,EAhBAK,EAASpnC,KAAK0D,KAAKhO,KAAK7D,EAAEmoB,GAC9B,GAAGtkB,KAAK6wC,QAAQvyC,OAASozC,EAAO,CAC5B,KAAM1xC,KAAK6wC,QAAQvyC,OAASozC,GAAO,CAC/B,IAAIC,EAAQ,CACRhlC,GAAG3M,KAAKkxC,cAAclxC,KAAK4wC,WAC3BxnB,GAAG,MAEPuoB,EAAMhlC,GAAGyB,KAAK,CAAC,EAAI,CAAC,EAAI,EAAE,GAAK,EAAE,EAAI,CAAC,EAAE,IAAI,GAAK,YAAY,EAAI,CAAC,EAAI,EAAE,GAAK,EAAE,EAAI,KAAK,EAAI,CAAC,EAAI,EAAE,GAAK,EAAE,EAAI,CAAC,EAAE,IAAI,EAAI,CAAC,EAAI,EAAE,GAAK,EAAE,EAAI,CAAC,CAACvQ,EAAE,EAAEmI,EAAE,EAAEhJ,EAAE,GAAG,CAACa,EAAE,EAAEmI,EAAE,EAAEhJ,EAAE,KAAK,EAAI,CAAC,EAAI,EAAE,GAAK,EAAE,EAAI,CAAC,IAAI,MAAM,GAAK,CAAC,EAAI,EAAE,GAAK,EAAE,EAAI,GAAG,GAAK,CAAC,EAAI,EAAE,GAAK,EAAE,EAAI,GAAG,GAAK,OAEpQgD,KAAKoT,IAAIkS,OAAO,EAAE,EAAEqsB,GACpB3xC,KAAK6wC,QAAQvrB,OAAO,EAAE,EAAEqsB,GACxB3xC,KAAK2wC,gBAAkB,EAE3B3wC,KAAK2kC,KAAKiN,eAId,IAFAH,EAAO,EAEH31C,EAAI,EAAGA,GAAMkE,KAAK6wC,QAAQvyC,OAAS,EAAGxC,GAAK,EAC3Cu1C,EAAaI,EAAOC,EACpB1xC,KAAK6wC,QAAQ/0C,GAAGw1C,QAAUD,EAC1BrxC,KAAKoxC,kBAAkBpxC,KAAK6wC,QAAQ/0C,GAAG6Q,GAAI0kC,GAC3CI,GAAQ,EAGZzxC,KAAK2wC,eAAiBe,EAGtB,IAAI9sB,EAAS5kB,KAAKzD,EAAE+nB,EAChButB,EAAejtB,EAAO,EACtBktB,EAAcltB,EAAS,EAAIta,KAAK2D,MAAM2W,GAAUta,KAAK0D,KAAK4W,GAG1DmtB,GADO/xC,KAAK8vC,GAAGxrB,EAAE5lB,MACRsB,KAAKiwC,QAAQvxC,OACtBszC,EAAShyC,KAAKkwC,QAAQxxC,MACtBuzC,EAASjyC,KAAKmwC,QAAQzxC,MAC1BsB,KAAKiwC,QAAQjoB,QACbhoB,KAAKkwC,QAAQloB,QACbhoB,KAAKmwC,QAAQnoB,QACbhoB,KAAKowC,QAAQpoB,QACbhoB,KAAKqwC,OAAOroB,QACZ,IAwBIrO,EAAGif,EAxBHsZ,EAAY,EAEhB,GAAGttB,EAAS,EAAG,CACX,KAAMstB,EAAUJ,GACZ9xC,KAAKswC,gBAAgBtwC,KAAKiwC,QAASjwC,KAAKkwC,QAASlwC,KAAKmwC,QAASnwC,KAAK8vC,GAAI,GAAG,GAC3EoC,GAAa,EAEdL,IACC7xC,KAAKswC,gBAAgBtwC,KAAKiwC,QAASjwC,KAAKkwC,QAASlwC,KAAKmwC,QAASnwC,KAAK8vC,GAAI+B,GAAc,GACtFK,GAAaL,QAEd,GAAGjtB,EAAS,EAAG,CAClB,KAAMstB,EAAUJ,GACZ9xC,KAAKswC,gBAAgBtwC,KAAKiwC,QAASjwC,KAAKkwC,QAASlwC,KAAKmwC,QAASnwC,KAAK8vC,GAAI,GAAG,GAC3EoC,GAAa,EAEdL,IACC7xC,KAAKswC,gBAAgBtwC,KAAKiwC,QAASjwC,KAAKkwC,QAASlwC,KAAKmwC,QAASnwC,KAAK8vC,IAAM+B,GAAc,GACxFK,GAAaL,GAOrB,IAJA/1C,EAAoB,IAAhBkE,KAAK26B,KAAKz+B,EAAU,EAAI8D,KAAK2wC,eAAiB,EAClD1b,EAAsB,IAAhBj1B,KAAK26B,KAAKz+B,EAAU,GAAK,EAC/Bu1C,EAAOzxC,KAAK2wC,eAENc,GAAK,CAOP,GAJA7Y,GADA4Y,GADAD,EAAQvxC,KAAK0wC,UAAU50C,GAAG6Q,IACH4kC,EAAMjzC,OAAS,GAAGgrB,UAAU6oB,OAAO7tB,EAAE5lB,OACtCJ,OACtBizC,EAAMA,EAAMjzC,OAAS,GAAGgrB,UAAU6oB,OAAOhsB,MAAO,EAChDorB,EAAMA,EAAMjzC,OAAS,GAAGgrB,UAAU8oB,GAAGjsB,MAAO,EAC5CorB,EAAMA,EAAMjzC,OAAS,GAAGgrB,UAAU8oB,GAAG9tB,EAAItkB,KAAK+vC,GAAGzrB,GAAKtkB,KAAKgwC,GAAG1rB,EAAItkB,KAAK+vC,GAAGzrB,IAAMxoB,GAAKkE,KAAK2wC,eAAiB,IAC1F,IAAduB,EAAgB,CAQf,KAPU,IAANp2C,GAAmB,IAARm5B,GAAen5B,IAAMkE,KAAK2wC,eAAiB,IAAc,IAAT1b,IAC3Dj1B,KAAKswC,gBAAgBtwC,KAAKiwC,QAASjwC,KAAKkwC,QAASlwC,KAAKmwC,QAASnwC,KAAK8vC,GAAI,GAAG,GAE/E9vC,KAAKqwC,OAAO/mB,UAAU0oB,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,IAAIA,EAAO,IAAIA,EAAO,IAAIA,EAAO,IAAIA,EAAO,IAAIA,EAAO,KACxLhyC,KAAKqwC,OAAO/mB,UAAU2oB,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,IAAIA,EAAO,IAAIA,EAAO,IAAIA,EAAO,IAAIA,EAAO,IAAIA,EAAO,KACxLjyC,KAAKqwC,OAAO/mB,UAAUyoB,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,IAAIA,EAAO,IAAIA,EAAO,IAAIA,EAAO,IAAIA,EAAO,IAAIA,EAAO,KAEpLp4B,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,EACd63B,EAAe73B,GAAK3Z,KAAKqwC,OAAO3xC,MAAMib,GAE1C3Z,KAAKqwC,OAAOroB,aAGZ,IADAhoB,KAAKqwC,OAAOroB,QACRrO,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,EACd63B,EAAe73B,GAAK3Z,KAAKqwC,OAAO3xC,MAAMib,GAG9Cu4B,GAAa,EACbT,GAAQ,EACR31C,GAAKm5B,QAMT,IAHAwc,EAAOzxC,KAAK2wC,eACZ70C,EAAI,EACJm5B,EAAM,EACAwc,GAEFD,GADAD,EAAQvxC,KAAK0wC,UAAU50C,GAAG6Q,IACH4kC,EAAMjzC,OAAS,GAAGgrB,UAAU6oB,OAAO7tB,EAAE5lB,MAC5D6yC,EAAMA,EAAMjzC,OAAS,GAAGgrB,UAAU6oB,OAAOhsB,MAAO,EAChDorB,EAAMA,EAAMjzC,OAAS,GAAGgrB,UAAU8oB,GAAGjsB,MAAO,EAC5CsrB,GAAQ,EACR31C,GAAKm5B,GAKjBmX,iBAAiB1uC,UAAUisC,SAAW,aAEtCkC,eAAeE,iBAAiB,KAAKK,kBAOrCC,gBAAgB3uC,UAAUisC,SAAW,SAASvU,GAC1Cp1B,KAAK21B,UAAY31B,KAAKwnC,aACxBxnC,KAAKw5B,OAASx5B,KAAKw5B,OAAO9rB,OAAOsU,iBAAiBhiB,KAAKwnC,aACvDxnC,KAAKwnC,YAAc,GAEpBxnC,KAAKw5B,OAAOx5B,KAAK21B,SAAWP,EAC5Bp1B,KAAK21B,SAAW,GAGjB0W,gBAAgB3uC,UAAUgsC,cAAgB,WACzC,IAAI5tC,EACJ,IAAIA,EAAI,EAAGA,EAAIkE,KAAK21B,QAAS75B,GAAK,EACjC2tC,WAAWyE,QAAQluC,KAAKw5B,OAAO19B,IAEhCkE,KAAK21B,QAAU,GAwBhB2W,aAAa5uC,UAAU0oB,SAAW,SAASygB,GACvC,IAAG7mC,KAAK2kC,KAAKC,WAAWC,UAAY7kC,KAAK6kC,SAAYgC,KAGrD7mC,KAAK6kC,QAAU7kC,KAAK2kC,KAAKC,WAAWC,QACpC7kC,KAAKkmB,2BACLlmB,KAAKmmB,KAAOnmB,KAAKmmB,MAAQ0gB,EACrB7mC,KAAKmmB,MAAM,CACX,IAAIrqB,EAAI,EAAG0X,EAAMxT,KAAKusC,UAAUjuC,OAIhC,IAHqB,QAAlB0B,KAAKoW,WACJpW,KAAKwsC,QAAU,IAEf1wC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACa,KAAvBkE,KAAKusC,UAAUzwC,GAAGyB,EACI,QAAlByC,KAAKoW,SACJpW,KAAKwsC,SAAW,IAAMxsC,KAAKusC,UAAUzwC,GAAG8B,EAAE0mB,EAE1CtkB,KAAKysC,UAAU3wC,GAAKkE,KAAKusC,UAAUzwC,GAAG8B,EAAE0mB,EAG5CtkB,KAAK0sC,WAAW,GAAK1sC,KAAKusC,UAAUzwC,GAAG8B,EAAE0mB,IAKzDiO,gBAAgB,CAACzM,0BAA2BwmB,cAgB5CK,iBAAiBjvC,UAAU20C,cAAgB,SAASjgC,EAAQ0e,GAExD,IADA,IAAIh1B,EAAI,EAAG0X,EAAMxT,KAAKzD,EAAE+B,OAAO,EACzBxC,EAAI0X,GAAK,CAEX,GADOlJ,KAAKiX,IAAInP,EAAS,EAAFtW,GAAOsW,EAAc,EAAP0e,EAAa,EAAFh1B,IACtC,IACN,OAAO,EAEXA,GAAK,EAET,OAAO,GAGX6wC,iBAAiBjvC,UAAUsvC,iBAAmB,WAC1C,GAAIhtC,KAAKzD,EAAE+B,OAAO,GAAM0B,KAAK7D,EAAEmC,OAAO,EAClC,OAAO,EAEX,GAAI0B,KAAK26B,KAAKrhB,EAAEA,EAAE,GAAGzb,EAEjB,IADA,IAAI/B,EAAI,EAAG0X,EAAMxT,KAAK26B,KAAKrhB,EAAEA,EAAEhb,OACxBxC,EAAI0X,GAAK,CACZ,IAAKxT,KAAKqyC,cAAcryC,KAAK26B,KAAKrhB,EAAEA,EAAExd,GAAG+B,EAAGmC,KAAK26B,KAAK/8B,GAClD,OAAO,EAEX9B,GAAK,OAEN,IAAIkE,KAAKqyC,cAAcryC,KAAK26B,KAAKrhB,EAAEA,EAAGtZ,KAAK26B,KAAK/8B,GACnD,OAAO,EAEX,OAAO,GAGX+uC,iBAAiBjvC,UAAU0oB,SAAW,SAASygB,GAK3C,GAJA7mC,KAAK+E,KAAKqhB,WACVpmB,KAAKmmB,MAAO,EACZnmB,KAAK6sC,OAAQ,EACb7sC,KAAK8sC,OAAQ,EACV9sC,KAAK+E,KAAKohB,MAAQ0gB,EAAY,CAC7B,IAAI/qC,EACA2oC,EAAM32B,EADH0F,EAAkB,EAAZxT,KAAK26B,KAAK/8B,EAEvB,IAAI9B,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb2oC,EAAO3oC,EAAE,GAAM,EAAI,IAAM,IACzBgS,EAAMxD,KAAK0W,MAAMhhB,KAAK+E,KAAKuf,EAAExoB,GAAG2oC,GAC7BzkC,KAAK7D,EAAEL,KAAOgS,IACb9N,KAAK7D,EAAEL,GAAKgS,EACZ9N,KAAK6sC,OAAShG,GAGtB,GAAG7mC,KAAKzD,EAAE+B,OAEN,IADAkV,EAAMxT,KAAK+E,KAAKuf,EAAEhmB,OACdxC,EAAc,EAAZkE,KAAK26B,KAAK/8B,EAAI9B,EAAE0X,EAAI1X,GAAG,EACzB2oC,EAAO3oC,EAAE,GAAM,EAAI,IAAM,EACzBgS,EAAMhS,EAAE,GAAM,EAAKwO,KAAK0W,MAAqB,IAAfhhB,KAAK+E,KAAKuf,EAAExoB,IAAQkE,KAAK+E,KAAKuf,EAAExoB,GAC3DkE,KAAKzD,EAAET,EAAc,EAAZkE,KAAK26B,KAAK/8B,KAASkQ,IAC3B9N,KAAKzD,EAAET,EAAc,EAAZkE,KAAK26B,KAAK/8B,GAAOkQ,EAC1B9N,KAAK8sC,OAASjG,GAI1B7mC,KAAKmmB,MAAQ0gB,IAIrBtU,gBAAgB,CAACzM,0BAA2B6mB,kBAC5C,IAAI2F,iBAAmB,SAASC,EAAWj0C,EAAQi3B,EAAQqR,GAC1D,GAAc,IAAXtoC,EACQ,MAAO,GAEX,IAGIxC,EAHA02C,EAAKD,EAAUh2C,EACf2e,EAAKq3B,EAAUz2C,EACfuuC,EAAKkI,EAAUjuB,EACZmuB,EAAc,KAAO7L,EAAIpZ,wBAAwB6c,EAAG,GAAG,GAAIA,EAAG,GAAG,IACxE,IAAIvuC,EAAI,EAAGA,EAAIwC,EAAQxC,GAAK,EACxB22C,GAAe,KAAO7L,EAAIpZ,wBAAwBglB,EAAG12C,EAAI,GAAG,GAAI02C,EAAG12C,EAAI,GAAG,IAAM,IAAM8qC,EAAIpZ,wBAAwBtS,EAAGpf,GAAG,GAAIof,EAAGpf,GAAG,IAAM,IAAM8qC,EAAIpZ,wBAAwB6c,EAAGvuC,GAAG,GAAIuuC,EAAGvuC,GAAG,IAM9L,OAJIy5B,GAAUj3B,IACVm0C,GAAe,KAAO7L,EAAIpZ,wBAAwBglB,EAAG12C,EAAI,GAAG,GAAI02C,EAAG12C,EAAI,GAAG,IAAM,IAAM8qC,EAAIpZ,wBAAwBtS,EAAG,GAAG,GAAIA,EAAG,GAAG,IAAM,IAAM0rB,EAAIpZ,wBAAwB6c,EAAG,GAAG,GAAIA,EAAG,GAAG,IAC1LoI,GAAe,KAEZA,GAEXC,eAAkB,WAElB,IAAIC,EAAc,WACd,IAAIC,EAAS/sB,UAAU,UACvB+sB,EAAO/sC,MAAQ,EACf+sC,EAAOtqC,OAAS,EAChB,IAAIoC,EAAMkoC,EAAO1V,WAAW,MAG5B,OAFAxyB,EAAImoC,UAAY,gBAChBnoC,EAAIooC,SAAS,EAAG,EAAG,EAAG,GACfF,EAPM,GAUjB,SAASG,IACL/yC,KAAKgzC,cAAgB,EAClBhzC,KAAKgzC,eAAiBhzC,KAAKizC,aACvBjzC,KAAKkzC,gBACJlzC,KAAKkzC,eAAe,MAKhC,SAASC,EAAcC,EAAWC,EAAYC,GAC1C,IAAIzsC,EAAO,GACX,GAAIusC,EAAUptC,EACVa,EAAOusC,EAAUx1C,OACd,GAAGy1C,EAAY,CAClB,IAAIE,EAAYH,EAAUx1C,GACY,IAAlC21C,EAAUn/B,QAAQ,aAClBm/B,EAAYA,EAAUjlC,MAAM,KAAK,IAErCzH,EAAOwsC,EAAaE,OAEpB1sC,EAAOysC,EACPzsC,GAAQusC,EAAUI,EAAIJ,EAAUI,EAAI,GACpC3sC,GAAQusC,EAAUx1C,EAEtB,OAAOiJ,EAkFX,SAAS6rC,EAAe5nC,GACpB9K,KAAKyzC,aAAeV,EAAYz1C,KAAK0C,MACrCA,KAAKqzC,WAAa,GAClBrzC,KAAK6G,KAAO,GACZ7G,KAAKizC,YAAc,EACnBjzC,KAAKgzC,aAAe,EACpBhzC,KAAKkzC,eAAiB,KACtBlzC,KAAK0zC,OAAS,GAgBlB,OAbAhB,EAAeh1C,UAAY,CACvBi2C,WAzDJ,SAAoBrZ,EAAQsZ,GACxB5zC,KAAKkzC,eAAiBU,EACtB,IAAI93C,EAAG0X,EAAM8mB,EAAOh8B,OACpB,IAAKxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EAClBw+B,EAAOx+B,GAAG08B,SACVx4B,KAAKizC,aAAe,EACpBjzC,KAAK0zC,OAAOtlC,KAAKpO,KAAK6zC,iBAAiBvZ,EAAOx+B,OAoDtDg4C,cA3CJ,SAAuBjtC,GACnB7G,KAAKqzC,WAAaxsC,GAAQ,IA2C1BktC,QAhDJ,SAAiBltC,GACb7G,KAAK6G,KAAOA,GAAQ,IAgDpB23B,OA1BJ,WACI,OAAOx+B,KAAKizC,cAAgBjzC,KAAKgzC,cA0BjCv8B,QAhCJ,WACIzW,KAAKkzC,eAAiB,KACtBlzC,KAAK0zC,OAAOp1C,OAAS,GA+BrB01C,SA3CJ,SAAkBZ,GAEd,IADA,IAAIt3C,EAAI,EAAG0X,EAAMxT,KAAK0zC,OAAOp1C,OACtBxC,EAAI0X,GAAK,CACZ,GAAIxT,KAAK0zC,OAAO53C,GAAGs3C,YAAcA,EAC7B,OAAOpzC,KAAK0zC,OAAO53C,GAAGm4C,IAE1Bn4C,GAAK,IAsCTo4C,cAhFJ,SAAuBd,GACnB,IAAIvsC,EAAOssC,EAAcC,EAAWpzC,KAAKqzC,WAAYrzC,KAAK6G,MACtDotC,EAAMpuB,UAAU,OACpBouB,EAAIE,YAAc,YAClBF,EAAIxtC,iBAAiB,OAAQzG,KAAKyzC,cAAc,GAChDQ,EAAIxtC,iBAAiB,QAAS,WAC1BypB,EAAG+jB,IAAMtB,EACT3yC,KAAKyzC,gBACPn2C,KAAK0C,OAAO,GACdi0C,EAAIjlC,IAAMnI,EACV,IAAIqpB,EAAK,CACL+jB,IAAKA,EACLb,UAAWA,GAEf,OAAOljB,GAmEPkkB,gBAjGJ,SAAyBhB,GACrB,IAAIvsC,EAAOssC,EAAcC,EAAWpzC,KAAKqzC,WAAYrzC,KAAK6G,MACtDotC,EAAMtuB,SAAS,SACnBsuB,EAAIxtC,iBAAiB,OAAQzG,KAAKyzC,cAAc,GAChDQ,EAAIxtC,iBAAiB,QAAS,WAC1BypB,EAAG+jB,IAAMtB,EACT3yC,KAAKyzC,gBACPn2C,KAAK0C,OAAO,GACdi0C,EAAII,eAAe,+BAA+B,OAAQxtC,GAC1D,IAAIqpB,EAAK,CACL+jB,IAAKA,EACLb,UAAWA,GAEf,OAAOljB,GAqFP6iB,YAAaA,EACbuB,aA5BJ,SAAsBxpC,GAEd9K,KAAK6zC,iBADI,QAAT/oC,EACwB9K,KAAKo0C,gBAAgB92C,KAAK0C,MAE1BA,KAAKk0C,cAAc52C,KAAK0C,QA2BjD0yC,EA7IU,GA+IjB6B,eAAkB,WACrB,IAAIrkB,EAAK,CACRskB,UAAU,GAKX,OAHI,WAAWt0B,KAAKU,UAAUC,YAAc,UAAUX,KAAKU,UAAUC,YAAc,WAAWX,KAAKU,UAAUC,YAAc,aAAaX,KAAKU,UAAUC,cACpJqP,EAAGskB,UAAW,GAEVtkB,EAPa,GASjBukB,eAAkB,WACrB,IAAIvkB,EAAK,GAuBT,OAtBAA,EAAGwkB,aAGH,SAAsBC,GACd,IAAIC,EAAMjvB,SAAS,UAOZ,OANPivB,EAAIhY,aAAa,KAAK+X,GACfC,EAAIhY,aAAa,cAAc,qBAC/BgY,EAAIhY,aAAa,IAAI,MACrBgY,EAAIhY,aAAa,IAAI,MACrBgY,EAAIhY,aAAa,QAAQ,QACzBgY,EAAIhY,aAAa,SAAS,QACnBgY,GAVtB1kB,EAAG2kB,6BAaH,WACe,IAAIC,EAAgBnvB,SAAS,iBAI7B,OAHAmvB,EAAclY,aAAa,OAAO,UAClCkY,EAAclY,aAAa,8BAA8B,QACzDkY,EAAclY,aAAa,SAAS,8CAC7BkY,GAGf5kB,EAxBa,GA0BjB6kB,YAAe,WAElB,SAASC,EAAeC,GACvB,OAAGA,EAAIC,UAAoC,iBAAjBD,EAAIC,SACtBD,EAAIC,SACFD,EAAIC,UAAoC,iBAAjBD,EAAIC,SAC7Bt4B,KAAK+c,MAAMsb,EAAIC,UACbD,EAAIE,aACNv4B,KAAK+c,MAAMsb,EAAIE,mBADhB,EAiCR,MAAO,CACNC,KA7BD,SAAmBvuC,EAAMuQ,EAAUi+B,GAClC,IAAIH,EACAD,EAAM,IAAIK,eACdL,EAAIltC,KAAK,MAAOlB,GAAM,GAEtB,IAEIouC,EAAIM,aAAe,OACrB,MAAOC,IACNP,EAAIQ,OACJR,EAAIS,mBAAqB,WACrB,GAAsB,GAAlBT,EAAIU,WACJ,GAAiB,KAAdV,EAAIW,OACNV,EAAWF,EAAeC,GAC1B79B,EAAS89B,QAEN,IACFA,EAAWF,EAAeC,GAC1B79B,EAAS89B,GACN,MAAMM,GACHH,GACFA,EAAcG,OAjCf,GA6ClB,SAASK,qBAAqBC,EAAUC,EAAYpR,GAChD3kC,KAAKglC,eAAgB,EACxBhlC,KAAKg2C,gBAAiB,EACtBh2C,KAAKi2C,UAAY,EACjBj2C,KAAKk2C,UAAYJ,EACjB91C,KAAKm2C,YAAcJ,EAChB/1C,KAAKo2C,MAAQzR,EAChB3kC,KAAKq2C,eAAiBr0B,iBAAiBhiB,KAAKk2C,UAAUzrC,EAAEnM,QACxD0B,KAAKs2C,UAAY,GACjBt2C,KAAKu2C,aAAe,CACnBC,UAAW,IAEZx2C,KAAKy2C,gBAAkB,GACpBz2C,KAAK02C,oBAAqB,EAC1B12C,KAAKqmB,6BAA6Bse,GAiiBtC,SAASgS,yBAAyBhS,EAAMiS,EAAezgC,GACtD,IAAI0gC,EAAc,CAACrW,UAAS,GACxBoF,EAAU5F,gBAAgB4F,QAC1BkR,EAA2BF,EAAcnsC,EAC7CzK,KAAKyK,EAAI,CACR7N,EAAGk6C,EAAyBl6C,EAAIgpC,EAAQjB,EAAMmS,EAAyBl6C,EAAG,EAAGslB,UAAW/L,GAAa0gC,EACrGzQ,GAAI0Q,EAAyB1Q,GAAKR,EAAQjB,EAAMmS,EAAyB1Q,GAAI,EAAGlkB,UAAW/L,GAAa0gC,EACxGxQ,GAAIyQ,EAAyBzQ,GAAKT,EAAQjB,EAAMmS,EAAyBzQ,GAAI,EAAGnkB,UAAW/L,GAAa0gC,EACxGrQ,GAAIsQ,EAAyBtQ,GAAKZ,EAAQjB,EAAMmS,EAAyBtQ,GAAI,EAAGtkB,UAAW/L,GAAa0gC,EACxGpQ,GAAIqQ,EAAyBrQ,GAAKb,EAAQjB,EAAMmS,EAAyBrQ,GAAI,EAAGvkB,UAAW/L,GAAa0gC,EACxGh5C,EAAGi5C,EAAyBj5C,EAAI+nC,EAAQjB,EAAMmS,EAAyBj5C,EAAG,EAAG,IAAMsY,GAAa0gC,EAChGpsC,EAAGqsC,EAAyBrsC,EAAIm7B,EAAQjB,EAAMmS,EAAyBrsC,EAAG,EAAG,EAAG0L,GAAa0gC,EAC7Ft6C,EAAGu6C,EAAyBv6C,EAAIqpC,EAAQjB,EAAMmS,EAAyBv6C,EAAG,EAAG,IAAM4Z,GAAa0gC,EAChGj5C,EAAGk5C,EAAyBl5C,EAAIgoC,EAAQjB,EAAKmS,EAAyBl5C,EAAG,EAAG,EAAGuY,GAAa0gC,EAC5FE,GAAID,EAAyBC,GAAKnR,EAAQjB,EAAMmS,EAAyBC,GAAI,EAAG,EAAG5gC,GAAa0gC,EAChG5X,GAAI6X,EAAyB7X,GAAK2G,EAAQjB,EAAMmS,EAAyB7X,GAAI,EAAG,EAAG9oB,GAAa0gC,EAChGG,GAAIF,EAAyBE,GAAKpR,EAAQjB,EAAMmS,EAAyBE,GAAI,EAAG,EAAG7gC,GAAa0gC,EAChGI,GAAIH,EAAyBG,GAAKrR,EAAQjB,EAAMmS,EAAyBG,GAAI,EAAG,EAAG9gC,GAAa0gC,EAChGK,GAAIJ,EAAyBI,GAAKtR,EAAQjB,EAAMmS,EAAyBI,GAAI,EAAG,IAAM/gC,GAAa0gC,EACnGM,GAAIL,EAAyBK,GAAKvR,EAAQjB,EAAMmS,EAAyBK,GAAI,EAAG,IAAMhhC,GAAa0gC,EACnG75C,EAAG85C,EAAyB95C,EAAI4oC,EAAQjB,EAAMmS,EAAyB95C,EAAG,EAAG,EAAGmZ,GAAa0gC,GAG9F72C,KAAKnC,EAAIu5C,iBAAiBC,oBAAoB1S,EAAKiS,EAAc/4C,EAAGsY,GACjEnW,KAAKnC,EAAEb,EAAI45C,EAAc/4C,EAAEb,EAE/B,SAASs6C,YAAY/6C,EAAGw6C,EAAI9X,EAAI+X,EAAI96C,EAAG0B,GACnCoC,KAAKzD,EAAIA,EACTyD,KAAK+2C,GAAKA,EACV/2C,KAAKi/B,GAAKA,EACVj/B,KAAKg3C,GAAKA,EACVh3C,KAAK9D,EAAIA,EACT8D,KAAKpC,EAAIA,EACToC,KAAKmmB,KAAO,CACX5pB,GAAG,EACHw6C,KAAMA,EACN9X,KAAMA,EACN+X,KAAMA,EACN96C,GAAG,EACH0B,GAAG,GA6CR,SAAS25C,aAAa5S,EAAMhK,GAC3B36B,KAAKi2C,SAAWz1B,oBAChBxgB,KAAKygC,GAAK,GACVzgC,KAAKskB,EAAI,GACTtkB,KAAKklC,IAAK,EACVllC,KAAKglC,eAAgB,EACrBhlC,KAAKmmB,MAAO,EACTnmB,KAAK26B,KAAOA,EACf36B,KAAK2kC,KAAOA,EACT3kC,KAAKkkC,KAAOlkC,KAAK2kC,KAAKT,KACzBlkC,KAAKw3C,UAAY,EACdx3C,KAAKy3C,WAAY,EACjBz3C,KAAK03C,gBAAkB,EACvB13C,KAAK8kC,gBAAkB,GAC1B9kC,KAAK23C,YAAc,CAClBC,OAAQ,EACFC,SAAU73C,KAAK83C,gBACftrC,EAAG,GACHswB,OAAQ,GACRC,QAAS,GACTia,GAAI,GACJr9B,EAAG,GACHo+B,cAAe,GACfh8C,EAAG,GACHi8C,GAAI,EACJC,WAAY,GACZC,GAAI,GACJC,GAAI,GACJt6C,EAAG,GACHohC,GAAI,GACJ8X,GAAI,EACJ/5C,EAAG,EACH8yC,GAAI,EACJ9mB,GAAG,EACHovB,GAAG,KACHC,eAAe,EACfC,iBAAiB,EACjBC,iBAAiB,EACjBC,QAAS,EACTC,UAAU,EACVC,UAAU,GACVC,gBAAiB,EACjBxd,YAAY,GAGhBn7B,KAAK44C,SAAS54C,KAAK23C,YAAa33C,KAAK26B,KAAKv+B,EAAEkd,EAAE,GAAGzb,GAE7CmC,KAAK64C,kBACL74C,KAAK84C,iBAAiB94C,KAAK23C,aAjqBnC9B,qBAAqBn4C,UAAUq7C,iBAAmB,WAC9C,IAAIj9C,EAAkC86C,EAA/BpjC,EAAMxT,KAAKk2C,UAAUzrC,EAAEnM,OAC1BsnC,EAAU5F,gBAAgB4F,QAC9B,IAAI9pC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb86C,EAAgB52C,KAAKk2C,UAAUzrC,EAAE3O,GACjCkE,KAAKq2C,eAAev6C,GAAK,IAAI66C,yBAAyB32C,KAAKo2C,MAAOQ,EAAe52C,MAElFA,KAAKk2C,UAAUt4C,GAAK,MAAOoC,KAAKk2C,UAAUt4C,GACzCoC,KAAKs2C,UAAY,CACb9pC,EAAGo5B,EAAQ5lC,KAAKo2C,MAAMp2C,KAAKk2C,UAAUt4C,EAAE4O,EAAE,EAAE,EAAExM,MAC7CjE,EAAG6pC,EAAQ5lC,KAAKo2C,MAAMp2C,KAAKk2C,UAAUt4C,EAAE7B,EAAE,EAAE,EAAEiE,MAC7CpD,EAAGoD,KAAKk2C,UAAUt4C,EAAEhB,EACpBV,EAAG8D,KAAKo2C,MAAM4C,YAAYC,gBAAgBj5C,KAAKk2C,UAAUt4C,EAAE1B,IAE/D8D,KAAKg2C,gBAAiB,GAEtBh2C,KAAKg2C,gBAAiB,EAE1Bh2C,KAAKu2C,aAAaC,UAAY5Q,EAAQ5lC,KAAKo2C,MAAMp2C,KAAKk2C,UAAUh6C,EAAEuO,EAAE,EAAE,EAAEzK,OAG5E61C,qBAAqBn4C,UAAUw7C,YAAc,SAAS7e,EAAcqc,GAEhE,GADA12C,KAAK02C,mBAAqBA,EACtB12C,KAAKmmB,MAASnmB,KAAKglC,eAAkB0R,GAAwB12C,KAAKg2C,gBAAmBh2C,KAAKs2C,UAAUp6C,EAAEiqB,KAA1G,CAGAnmB,KAAKglC,eAAgB,EACrB,IAOImU,EAAKC,EACLt9C,EAAG0X,EACuB6lC,EAAUC,EAAeC,EAAcllB,EAAe/R,EAAMk3B,EAAUC,EAAYC,EAAW5oB,EAAQ5a,EAAUse,EAAeoB,EAAalC,EAAMimB,EAAUC,EATrLpD,EAAYx2C,KAAKu2C,aAAaC,UAAUlyB,EACxCu1B,EAAY75C,KAAKq2C,eACjBP,EAAW91C,KAAKk2C,UAChB4D,EAAe95C,KAAK+5C,QACpBhE,EAAa/1C,KAAKm2C,YAClB6D,EAAuBh6C,KAAKy2C,gBAAgBn4C,OAI5C27C,GAHOj6C,KAAK26B,KAGFN,EAAat+B,GAC3B,GAAGiE,KAAKg2C,eAAgB,CAEpB,GADA4D,EAAO55C,KAAKs2C,UAAUp6C,GAClB8D,KAAKs2C,UAAU/4C,GAAKyC,KAAKs2C,UAAUnwB,KAAK,CACxC,IAUIyO,EAVA8F,EAAQkf,EAAKt1B,EAYjB,IAXGtkB,KAAKs2C,UAAU15C,IACd89B,EAAQA,EAAM2N,WAGlBgR,EAAW,CACPa,QAAS,EACThkC,SAAU,IAEd1C,EAAMknB,EAAM/E,QAAU,EAEtBC,EAAc,EACT95B,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACtB84B,EAAayD,IAAI3D,gBAAgBgG,EAAMpW,EAAExoB,GACnC4+B,EAAMpW,EAAExoB,EAAI,GACZ,CAAC4+B,EAAMn+B,EAAET,GAAG,GAAK4+B,EAAMpW,EAAExoB,GAAG,GAAI4+B,EAAMn+B,EAAET,GAAG,GAAK4+B,EAAMpW,EAAExoB,GAAG,IAC3D,CAAC4+B,EAAM5+B,EAAEA,EAAI,GAAG,GAAK4+B,EAAMpW,EAAExoB,EAAI,GAAG,GAAI4+B,EAAM5+B,EAAEA,EAAI,GAAG,GAAK4+B,EAAMpW,EAAExoB,EAAI,GAAG,KACjFu9C,EAASa,SAAWtlB,EAAWP,cAC/BglB,EAASnjC,SAAS9H,KAAKwmB,GACvBgB,GAAehB,EAAWP,cAE9Bv4B,EAAI0X,EACAomC,EAAKt1B,EAAEnoB,IACPy4B,EAAayD,IAAI3D,gBAAgBgG,EAAMpW,EAAExoB,GACnC4+B,EAAMpW,EAAE,GACR,CAACoW,EAAMn+B,EAAET,GAAG,GAAK4+B,EAAMpW,EAAExoB,GAAG,GAAI4+B,EAAMn+B,EAAET,GAAG,GAAK4+B,EAAMpW,EAAExoB,GAAG,IAC3D,CAAC4+B,EAAM5+B,EAAE,GAAG,GAAK4+B,EAAMpW,EAAE,GAAG,GAAIoW,EAAM5+B,EAAE,GAAG,GAAK4+B,EAAMpW,EAAE,GAAG,KACjE+0B,EAASa,SAAWtlB,EAAWP,cAC/BglB,EAASnjC,SAAS9H,KAAKwmB,GACvBgB,GAAehB,EAAWP,eAE9Br0B,KAAKs2C,UAAU6D,GAAKd,EAUxB,GARAA,EAAWr5C,KAAKs2C,UAAU6D,GAE1Bb,EAAgBt5C,KAAKs2C,UAAU9pC,EAAE8X,EACjCm1B,EAAa,EACbD,EAAW,EACXnlB,EAAgB,EAChB/R,GAAO,EACPpM,EAAWmjC,EAASnjC,SAChBojC,EAAgB,GAAKM,EAAKt1B,EAAEnoB,EAO5B,IANIk9C,EAASa,QAAU5vC,KAAKiX,IAAI+3B,KAC5BA,GAAiBhvC,KAAKiX,IAAI+3B,GAAiBD,EAASa,SAIxDV,GADA1oB,EAAS5a,EADTujC,EAAavjC,EAAS5X,OAAS,GACDwyB,QACZxyB,OAAS,EACpBg7C,EAAgB,GACnBA,GAAiBxoB,EAAO0oB,GAAUhlB,eAClCglB,GAAY,GACG,IAGXA,GADA1oB,EAAS5a,EADTujC,GAAc,GACgB3oB,QACZxyB,OAAS,GAMvCo7C,GADA5oB,EAAS5a,EAASujC,GAAY3oB,QACX0oB,EAAW,GAE9BhlB,GADA+kB,EAAezoB,EAAO0oB,IACOhlB,cAIjChhB,EAAMymC,EAAQ37C,OACd66C,EAAO,EACPC,EAAO,EACP,IAEIxC,EACAj9B,EAAGif,EACHwhB,EAJAC,EAAgC,IAAzBhgB,EAAaoe,UAAkB,KACtC6B,GAAY,EAKhB1hB,EAAOihB,EAAUv7C,OAGjB,IAAImmC,EAAgB8V,EAAMC,EAAUC,EAEhCC,EACAzb,EAAG8X,EAAGC,EAAG19B,EAETqhC,EAAUC,EAAUC,EAA0DC,EALxEzZ,GAAO,EACb0Z,EAAczB,EAAc0B,EAAiBvB,EAAYwB,EAAezB,EAAU0B,GAAe,EAInEC,GAAU,GAAIC,GAAUp7C,KAAKq7C,kBAG/D,GAAsB,IAAnBhhB,EAAa1gB,GAA8B,IAAnB0gB,EAAa1gB,EAAS,CAC7C,IAAI2hC,GAAwB,EACxBC,GAA0B,EAC1BC,GAAuC,IAAnBnhB,EAAa1gB,GAAW,IAAO,EACnDmnB,GAAY,EACZ2a,IAAY,EAEhB,IAAK3/C,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACtB,GAAIm+C,EAAQn+C,GAAGyB,EAAG,CAId,IAHG+9C,KACCA,IAAyBC,IAEtBza,GAAYhlC,GACfm+C,EAAQnZ,IAAWwa,sBAAwBA,GAC3Cxa,IAAa,EAEjBwa,GAAwB,EACxBG,IAAY,MACT,CACH,IAAK9hC,EAAI,EAAGA,EAAIif,EAAMjf,GAAK,GACvBi9B,EAAgBiD,EAAUlgC,GAAGlP,GACXzN,EAAEwjC,WACZib,IAAgC,IAAnBphB,EAAa1gB,IAC1B4hC,IAA2B3E,EAAc55C,EAAEsnB,EAAIk3B,KAGnD/W,EADmBoV,EAAUlgC,GAAG9b,EACR69C,QAAQzB,EAAQn+C,GAAG6/C,UAAUhiC,GAAIm8B,EAASrrC,EAAEkP,GAAG9b,EAAE+9C,aAChEt9C,OACLg9C,IAAyB1E,EAAc55C,EAAEsnB,EAAEmgB,EAAK,GAAK+W,GAErDF,IAAyB1E,EAAc55C,EAAEsnB,EAAEmgB,EAAO+W,IAI9DC,IAAY,EAMpB,IAHGH,KACCA,IAAyBC,IAEvBza,GAAYhlC,GACdm+C,EAAQnZ,IAAWwa,sBAAwBA,GAC3Cxa,IAAa,EAKrB,IAAKhlC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EAAG,CAIzB,GAFAg+C,EAAa9xB,QACb0yB,EAAc,EACXT,EAAQn+C,GAAGyB,EACV47C,EAAO,EACPC,GAAQ/e,EAAame,QACrBY,GAAQkB,EAAY,EAAI,EACxBhB,EAAgByB,EAChBT,GAAY,EACC,EACVt6C,KAAKg2C,iBAEJwD,EAAWyB,EAEXvB,GADA5oB,EAAS5a,EAFTujC,EAAauB,GAEiBlqB,QACX0oB,EAAW,GAE9BhlB,GADA+kB,EAAezoB,EAAO0oB,IACOhlB,cAC7BH,EAAgB,GAEpBymB,EAAUH,EAAWE,EAAWM,GAAU,GAC1CC,GAAUp7C,KAAKq7C,sBACd,CACD,GAAGr7C,KAAKg2C,eAAgB,CACpB,GAAGkF,IAAgBjB,EAAQn+C,GAAG+/C,KAAK,CAC/B,OAAOxhB,EAAa1gB,GAChB,KAAK,EACD2/B,GAAiB1jB,EAAcyE,EAAa4d,WAAWgC,EAAQn+C,GAAG+/C,MAClE,MACJ,KAAK,EACDvC,IAAkB1jB,EAAcyE,EAAa4d,WAAWgC,EAAQn+C,GAAG+/C,OAAO,EAGlFX,EAAcjB,EAAQn+C,GAAG+/C,KAEzBxa,IAAQ4Y,EAAQn+C,GAAGulC,MACf4Y,EAAQ5Y,KACRiY,GAAiBW,EAAQ5Y,GAAKya,OAElCxC,GAAiBW,EAAQn+C,GAAGigD,GAAK,EACjC1a,EAAM4Y,EAAQn+C,GAAGulC,KAErBiY,GAAiB9C,EAAU,GAAKyD,EAAQn+C,GAAGigD,GAAK,IAChD,IAAIC,GAAiB,EACrB,IAAKriC,EAAI,EAAGA,EAAIif,EAAMjf,GAAK,GACvBi9B,EAAgBiD,EAAUlgC,GAAGlP,GACX7M,EAAE4iC,YAEhBiE,EADmBoV,EAAUlgC,GAAG9b,EACR69C,QAAQzB,EAAQn+C,GAAG6/C,UAAUhiC,GAAGm8B,EAASrrC,EAAEkP,GAAG9b,EAAE+9C,aAChEt9C,OACJ09C,IAAkBpF,EAAch5C,EAAE0mB,EAAE,GAAKmgB,EAAK,GAE9CuX,IAAkBpF,EAAch5C,EAAE0mB,EAAE,GAAKmgB,GAI7CmS,EAAcnsC,EAAE+1B,YAEhBiE,EADmBoV,EAAUlgC,GAAG9b,EACR69C,QAAQzB,EAAQn+C,GAAG6/C,UAAUhiC,GAAGm8B,EAASrrC,EAAEkP,GAAG9b,EAAE+9C,aAChEt9C,OACJ09C,IAAkBpF,EAAcnsC,EAAE6Z,EAAE,GAAKmgB,EAAK,GAE9CuX,IAAkBpF,EAAcnsC,EAAE6Z,EAAE,GAAKmgB,GAMrD,IADAniB,GAAO,EACAA,GACC+R,EAAgBG,GAAiB8kB,EAAgB0C,KAAmBlrB,GACpE4C,GAAQ4lB,EAAgB0C,GAAiB3nB,GAAiBklB,EAAa/kB,cACvEgmB,EAAWd,EAAUv+B,MAAM,IAAMo+B,EAAap+B,MAAM,GAAKu+B,EAAUv+B,MAAM,IAAMuY,EAC/E+mB,EAAWf,EAAUv+B,MAAM,IAAMo+B,EAAap+B,MAAM,GAAKu+B,EAAUv+B,MAAM,IAAMuY,EAC/EomB,EAAa5wB,WAAWstB,EAAU,GAAGyD,EAAQn+C,GAAGigD,GAAG,KAAOvF,EAAU,GAAK6D,EAAO,KAChF/3B,GAAO,GACAwO,IACPuD,GAAiBklB,EAAa/kB,eAC9BglB,GAAY,IACI1oB,EAAOxyB,SACnBk7C,EAAW,EAENtjC,EADLujC,GAAc,GAWV3oB,EAAS5a,EAASujC,GAAY3oB,OAT1B8oB,EAAKt1B,EAAEnoB,GACPq9C,EAAW,EAEX1oB,EAAS5a,EADTujC,EAAa,GACiB3oB,SAE9BuD,GAAiBklB,EAAa/kB,cAC9B1D,EAAS,OAMjBA,IACA4oB,EAAYH,EAEZ/kB,GADA+kB,EAAezoB,EAAO0oB,IACOhlB,gBAIzC+lB,EAAON,EAAQn+C,GAAGigD,GAAK,EAAI9B,EAAQn+C,GAAGmgD,IACtCnC,EAAa5wB,WAAWqxB,EAAM,EAAG,QAEjCA,EAAON,EAAQn+C,GAAGigD,GAAG,EAAI9B,EAAQn+C,GAAGmgD,IACpCnC,EAAa5wB,WAAWqxB,EAAK,EAAE,GAG/BT,EAAa5wB,WAAWstB,EAAU,GAAGyD,EAAQn+C,GAAGigD,GAAG,KAAMvF,EAAU,GAAG6D,EAAK,IAAK,GAIpF,IADcJ,EAAQn+C,GAAGC,EAAE,EACvB4d,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,GACdi9B,EAAgBiD,EAAUlgC,GAAGlP,GACXzN,EAAEwjC,WAEhBiE,EADmBoV,EAAUlgC,GAAG9b,EACR69C,QAAQzB,EAAQn+C,GAAG6/C,UAAUhiC,GAAGm8B,EAASrrC,EAAEkP,GAAG9b,EAAE+9C,YAE5D,IAATzC,GAAiC,IAAnB9e,EAAa1gB,IACvB3Z,KAAKg2C,eACDvR,EAAKnmC,OACJg7C,GAAiB1C,EAAc55C,EAAEsnB,EAAEmgB,EAAK,GAExC6U,GAAiB1C,EAAc55C,EAAEsnB,EAAEmgB,EAGpCA,EAAKnmC,OACJ66C,GAAQvC,EAAc55C,EAAEsnB,EAAEmgB,EAAK,GAE/B0U,GAAQvC,EAAc55C,EAAEsnB,EAAEmgB,IAoB9C,IAdcwV,EAAQn+C,GAAGC,EAAE,EACxBs+B,EAAake,kBACZxB,EAAK1c,EAAa0c,IAAM,GAEzB1c,EAAaie,kBAERrZ,EADD5E,EAAa4E,GACP,CAAC5E,EAAa4E,GAAG,GAAI5E,EAAa4E,GAAG,GAAI5E,EAAa4E,GAAG,IAEzD,CAAC,EAAE,EAAE,IAGf5E,EAAage,eAAiBhe,EAAa2c,KAC1CA,EAAK,CAAC3c,EAAa2c,GAAG,GAAI3c,EAAa2c,GAAG,GAAI3c,EAAa2c,GAAG,KAE9Dr9B,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,GACdi9B,EAAgBiD,EAAUlgC,GAAGlP,GACXA,EAAE+1B,YAEhBiE,EADmBoV,EAAUlgC,GAAG9b,EACR69C,QAAQzB,EAAQn+C,GAAG6/C,UAAUhiC,GAAGm8B,EAASrrC,EAAEkP,GAAG9b,EAAE+9C,aAEhEt9C,OACJw7C,EAAa5wB,WAAW0tB,EAAcnsC,EAAE6Z,EAAE,GAAGmgB,EAAK,IAAKmS,EAAcnsC,EAAE6Z,EAAE,GAAGmgB,EAAK,GAAImS,EAAcnsC,EAAE6Z,EAAE,GAAGmgB,EAAK,IAE/GqV,EAAa5wB,WAAW0tB,EAAcnsC,EAAE6Z,EAAE,GAAGmgB,GAAOmS,EAAcnsC,EAAE6Z,EAAE,GAAGmgB,EAAMmS,EAAcnsC,EAAE6Z,EAAE,GAAGmgB,IAIhH,IAAI9qB,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,GACdi9B,EAAgBiD,EAAUlgC,GAAGlP,GACX5M,EAAE2iC,YAEhBiE,EADmBoV,EAAUlgC,GAAG9b,EACR69C,QAAQzB,EAAQn+C,GAAG6/C,UAAUhiC,GAAGm8B,EAASrrC,EAAEkP,GAAG9b,EAAE+9C,aAChEt9C,OACJw7C,EAAa/wB,MAAM,GAAI6tB,EAAc/4C,EAAEymB,EAAE,GAAG,GAAGmgB,EAAK,GAAI,GAAImS,EAAc/4C,EAAEymB,EAAE,GAAG,GAAGmgB,EAAK,GAAI,GAE7FqV,EAAa/wB,MAAM,GAAI6tB,EAAc/4C,EAAEymB,EAAE,GAAG,GAAGmgB,EAAM,GAAImS,EAAc/4C,EAAEymB,EAAE,GAAG,GAAGmgB,EAAM,IAInG,IAAI9qB,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,EAAG,CA+CjB,GA9CAi9B,EAAgBiD,EAAUlgC,GAAGlP,EAE7Bg6B,EADmBoV,EAAUlgC,GAAG9b,EACR69C,QAAQzB,EAAQn+C,GAAG6/C,UAAUhiC,GAAGm8B,EAASrrC,EAAEkP,GAAG9b,EAAE+9C,YACpEhF,EAAcpQ,GAAGhG,WACdiE,EAAKnmC,OACJw7C,EAAahxB,cAAc8tB,EAAcpQ,GAAGliB,EAAImgB,EAAK,GAAImS,EAAcnQ,GAAGniB,EAAImgB,EAAK,IAEnFqV,EAAahxB,cAAc8tB,EAAcpQ,GAAGliB,EAAImgB,EAAMmS,EAAcnQ,GAAGniB,EAAImgB,IAG/EmS,EAAch6C,EAAE4jC,WACbiE,EAAKnmC,OACJw7C,EAAavxB,SAASquB,EAAch6C,EAAE0nB,EAAImgB,EAAK,IAE/CqV,EAAavxB,SAASquB,EAAch6C,EAAE0nB,EAAImgB,IAG9CmS,EAAcvQ,GAAG7F,WAEdiE,EAAKnmC,OACJw7C,EAAaxxB,QAAQsuB,EAAcvQ,GAAG/hB,EAAEmgB,EAAK,IAE7CqV,EAAaxxB,QAAQsuB,EAAcvQ,GAAG/hB,EAAEmgB,IAG5CmS,EAAcxQ,GAAG5F,WACdiE,EAAKnmC,OACJw7C,EAAazxB,QAAQuuB,EAAcxQ,GAAG9hB,EAAEmgB,EAAK,IAE7CqV,EAAazxB,QAAQuuB,EAAcxQ,GAAG9hB,EAAEmgB,IAG5CmS,EAAcr6C,EAAEikC,WACbiE,EAAKnmC,OACJo8C,IAAiB9D,EAAcr6C,EAAG,EAAEkoC,EAAK,GAAKiW,GAAajW,EAAK,GAEhEiW,IAAiB9D,EAAcr6C,EAAG,EAAEkoC,EAAOiW,GAAajW,GAG5DpK,EAAake,iBAAmB3B,EAAcG,GAAGvW,WAC9CiE,EAAKnmC,OACJy4C,GAAMH,EAAcG,GAAGzyB,EAAEmgB,EAAK,GAE9BsS,GAAMH,EAAcG,GAAGzyB,EAAEmgB,GAG7BpK,EAAaie,iBAAmB1B,EAAc3X,GAAGuB,SACjD,IAAIlnB,EAAE,EAAEA,EAAE,EAAEA,GAAG,EACRmrB,EAAKnmC,OACJ2gC,EAAG3lB,GAAK2lB,EAAG3lB,IAAMs9B,EAAc3X,GAAG3a,EAAEhL,GAAK2lB,EAAG3lB,IAAImrB,EAAK,GAErDxF,EAAG3lB,GAAK2lB,EAAG3lB,IAAMs9B,EAAc3X,GAAG3a,EAAEhL,GAAK2lB,EAAG3lB,IAAImrB,EAI5D,GAAIpK,EAAage,eAAiBhe,EAAa2c,GAAI,CAC/C,GAAGJ,EAAcI,GAAGxW,SAChB,IAAIlnB,EAAE,EAAEA,EAAE,EAAEA,GAAG,EACRmrB,EAAKnmC,OACJ04C,EAAG19B,GAAK09B,EAAG19B,IAAMs9B,EAAcI,GAAG1yB,EAAEhL,GAAK09B,EAAG19B,IAAImrB,EAAK,GAErDuS,EAAG19B,GAAK09B,EAAG19B,IAAMs9B,EAAcI,GAAG1yB,EAAEhL,GAAK09B,EAAG19B,IAAImrB,EAIzDmS,EAAcK,GAAGzW,WAEZwW,EADDvS,EAAKnmC,OACCymB,YAAYiyB,EAAGJ,EAAcK,GAAG3yB,EAAEmgB,EAAK,IAEvC1f,YAAYiyB,EAAGJ,EAAcK,GAAG3yB,EAAEmgB,IAG5CmS,EAAcM,GAAG1W,WAEZwW,EADDvS,EAAKnmC,OACComB,mBAAmBsyB,EAAGJ,EAAcM,GAAG5yB,EAAEmgB,EAAK,IAE9C/f,mBAAmBsyB,EAAGJ,EAAcM,GAAG5yB,EAAEmgB,IAGnDmS,EAAcO,GAAG3W,WAEZwW,EADDvS,EAAKnmC,OACCwmB,mBAAmBkyB,EAAGJ,EAAcO,GAAG7yB,EAAEmgB,EAAK,IAE9C3f,mBAAmBkyB,EAAGJ,EAAcO,GAAG7yB,EAAEmgB,KAM9D,IAAI9qB,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,GACdi9B,EAAgBiD,EAAUlgC,GAAGlP,GAEX7M,EAAE4iC,WAEhBiE,EADmBoV,EAAUlgC,GAAG9b,EACR69C,QAAQzB,EAAQn+C,GAAG6/C,UAAUhiC,GAAGm8B,EAASrrC,EAAEkP,GAAG9b,EAAE+9C,YACrE57C,KAAKg2C,eACDvR,EAAKnmC,OACJw7C,EAAa5wB,UAAU,EAAG0tB,EAAch5C,EAAE0mB,EAAE,GAAKmgB,EAAK,IAAKmS,EAAch5C,EAAE0mB,EAAE,GAAKmgB,EAAK,IAEvFqV,EAAa5wB,UAAU,EAAG0tB,EAAch5C,EAAE0mB,EAAE,GAAKmgB,GAAOmS,EAAch5C,EAAE0mB,EAAE,GAAKmgB,GAGhFA,EAAKnmC,OACJw7C,EAAa5wB,UAAU0tB,EAAch5C,EAAE0mB,EAAE,GAAKmgB,EAAK,GAAImS,EAAch5C,EAAE0mB,EAAE,GAAKmgB,EAAK,IAAKmS,EAAch5C,EAAE0mB,EAAE,GAAKmgB,EAAK,IAEpHqV,EAAa5wB,UAAU0tB,EAAch5C,EAAE0mB,EAAE,GAAKmgB,EAAMmS,EAAch5C,EAAE0mB,EAAE,GAAKmgB,GAAOmS,EAAch5C,EAAE0mB,EAAE,GAAKmgB,IAgBzH,GAVGpK,EAAake,kBACZoC,EAAW5D,EAAK,EAAI,EAAIA,GAEzB1c,EAAaie,kBACZsC,EAAW,OAAOtwC,KAAK0W,MAAY,IAANie,EAAG,IAAQ,IAAI30B,KAAK0W,MAAY,IAANie,EAAG,IAAQ,IAAI30B,KAAK0W,MAAY,IAANie,EAAG,IAAQ,KAE7F5E,EAAage,eAAiBhe,EAAa2c,KAC1C6D,EAAW,OAAOvwC,KAAK0W,MAAY,IAANg2B,EAAG,IAAQ,IAAI1sC,KAAK0W,MAAY,IAANg2B,EAAG,IAAQ,IAAI1sC,KAAK0W,MAAY,IAANg2B,EAAG,IAAQ,KAG7Fh3C,KAAKg2C,eAAgB,CAIpB,GAHA8D,EAAa5wB,UAAU,GAAGmR,EAAa6d,IAEvC4B,EAAa5wB,UAAU,EAAGstB,EAAU,GAAG6D,EAAK,IAAMjB,EAAK,GACnDtD,EAASl4C,EAAEA,EAAG,CACd+7C,GAAYJ,EAAap+B,MAAM,GAAKu+B,EAAUv+B,MAAM,KAAOo+B,EAAap+B,MAAM,GAAKu+B,EAAUv+B,MAAM,IACnG,IAAI+gC,GAA4B,IAAtB5xC,KAAK6xC,KAAKxC,GAAkBrvC,KAAK6X,GACvCo3B,EAAap+B,MAAM,GAAKu+B,EAAUv+B,MAAM,KACxC+gC,IAAO,KAEXpC,EAAa7xB,QAAQi0B,GAAM5xC,KAAK6X,GAAK,KAEzC23B,EAAa5wB,UAAUsxB,EAAUC,EAAU,GAC3CnB,GAAiB9C,EAAU,GAAGyD,EAAQn+C,GAAGigD,GAAG,IACzC9B,EAAQn+C,EAAE,IAAMulC,IAAQ4Y,EAAQn+C,EAAE,GAAGulC,MACpCiY,GAAiBW,EAAQn+C,GAAGigD,GAAK,EACjCzC,GAAiBjf,EAAayV,GAAG,IAAKzV,EAAaoe,eAEtD,CAQD,OANAqB,EAAa5wB,UAAUiwB,EAAKC,EAAK,GAE9B/e,EAAa+d,IAEZ0B,EAAa5wB,UAAUmR,EAAa+d,GAAG,GAAG/d,EAAa+d,GAAG,GAAK/d,EAAaud,OAAO,GAEhFvd,EAAa1gB,GAChB,KAAK,EACDmgC,EAAa5wB,UAAU+wB,EAAQn+C,GAAGw/C,sBAAwBjhB,EAAa0d,eAAiB1d,EAAawd,SAAWxd,EAAa4d,WAAWgC,EAAQn+C,GAAG+/C,OAAO,EAAE,GAC5J,MACJ,KAAK,EACD/B,EAAa5wB,UAAU+wB,EAAQn+C,GAAGw/C,sBAAwBjhB,EAAa0d,eAAiB1d,EAAawd,SAAWxd,EAAa4d,WAAWgC,EAAQn+C,GAAG+/C,OAAO,EAAE,EAAE,GAGtK/B,EAAa5wB,UAAU,GAAGmR,EAAa6d,IACvC4B,EAAa5wB,UAAUqxB,EAAK,EAAE,GAC9BT,EAAa5wB,UAAUstB,EAAU,GAAGyD,EAAQn+C,GAAGigD,GAAG,IAAIvF,EAAU,GAAG6D,EAAK,IAAI,GAC5ElB,GAAQc,EAAQn+C,GAAGC,EAAIs+B,EAAayV,GAAG,IAAKzV,EAAaoe,UAE3C,SAAf1C,EACCoF,GAAUrB,EAAarsB,QACH,QAAfsoB,EACLoF,GAAUrB,EAAalsB,UAEvBwtB,GAAU,CAACtB,EAAap7C,MAAM,GAAGo7C,EAAap7C,MAAM,GAAGo7C,EAAap7C,MAAM,GAAGo7C,EAAap7C,MAAM,GAAGo7C,EAAap7C,MAAM,GAAGo7C,EAAap7C,MAAM,GAAGo7C,EAAap7C,MAAM,GAAGo7C,EAAap7C,MAAM,GAAGo7C,EAAap7C,MAAM,GAAGo7C,EAAap7C,MAAM,GAAGo7C,EAAap7C,MAAM,IAAIo7C,EAAap7C,MAAM,IAAIo7C,EAAap7C,MAAM,IAAIo7C,EAAap7C,MAAM,IAAIo7C,EAAap7C,MAAM,IAAIo7C,EAAap7C,MAAM,KAEjXo8C,EAAUJ,EAGXV,GAAwBl+C,GACvBs+C,EAAc,IAAI9C,YAAYwD,EAAQH,EAASC,EAASC,EAASM,GAAQC,IACzEp7C,KAAKy2C,gBAAgBroC,KAAKgsC,GAC1BJ,GAAwB,EACxBh6C,KAAK02C,oBAAqB,IAE1B0D,EAAcp6C,KAAKy2C,gBAAgB36C,GACnCkE,KAAK02C,mBAAqB0D,EAAYgC,OAAOtB,EAASH,EAAUC,EAAUC,EAAUM,GAASC,KAAYp7C,KAAK02C,uBAK1Hb,qBAAqBn4C,UAAU0oB,SAAW,WACtCpmB,KAAKo2C,MAAMxR,WAAWC,UAAY7kC,KAAKi2C,WAGvCj2C,KAAKi2C,SAAWj2C,KAAKo2C,MAAMxR,WAAWC,QACtC7kC,KAAKkmB,6BAGT2vB,qBAAqBn4C,UAAUq8C,QAAU,IAAIvyB,OAC7CquB,qBAAqBn4C,UAAU29C,kBAAoB,GACnD9oB,gBAAgB,CAACzM,0BAA2B+vB,sBA4C5CyB,YAAY55C,UAAU0+C,OAAS,SAAS7/C,EAAGw6C,EAAI9X,EAAI+X,EAAI96C,EAAG0B,GACzDoC,KAAKmmB,KAAK5pB,GAAI,EACdyD,KAAKmmB,KAAK4wB,IAAK,EACf/2C,KAAKmmB,KAAK8Y,IAAK,EACfj/B,KAAKmmB,KAAK6wB,IAAK,EACfh3C,KAAKmmB,KAAKjqB,GAAI,EACd8D,KAAKmmB,KAAKvoB,GAAI,EACd,IAAIy+C,GAAU,EAgCd,OA9BGr8C,KAAKzD,IAAMA,IACbyD,KAAKzD,EAAIA,EACTyD,KAAKmmB,KAAK5pB,GAAI,EACd8/C,GAAU,GAERr8C,KAAK+2C,KAAOA,IACd/2C,KAAK+2C,GAAKA,EACV/2C,KAAKmmB,KAAK4wB,IAAK,EACfsF,GAAU,GAERr8C,KAAKi/B,KAAOA,IACdj/B,KAAKi/B,GAAKA,EACVj/B,KAAKmmB,KAAK8Y,IAAK,EACfod,GAAU,GAERr8C,KAAKg3C,KAAOA,IACdh3C,KAAKg3C,GAAKA,EACVh3C,KAAKmmB,KAAK6wB,IAAK,EACfqF,GAAU,GAERr8C,KAAK9D,IAAMA,IACb8D,KAAK9D,EAAIA,EACT8D,KAAKmmB,KAAKjqB,GAAI,EACdmgD,GAAU,IAERz+C,EAAEU,QAAW0B,KAAKpC,EAAE,KAAOA,EAAE,IAAMoC,KAAKpC,EAAE,KAAOA,EAAE,IAAMoC,KAAKpC,EAAE,KAAOA,EAAE,IAAMoC,KAAKpC,EAAE,KAAOA,EAAE,IAAMoC,KAAKpC,EAAE,MAAQA,EAAE,KAAOoC,KAAKpC,EAAE,MAAQA,EAAE,MAChJoC,KAAKpC,EAAIA,EACToC,KAAKmmB,KAAKvoB,GAAI,EACdy+C,GAAU,GAEJA,GAsDR9E,aAAa75C,UAAUo6C,gBAAkB,CAAC,EAAE,GAE5CP,aAAa75C,UAAUk7C,SAAW,SAAS15C,EAAKy7B,GAC5C,IAAI,IAAI98B,KAAK88B,EACNA,EAAKh9B,eAAeE,KACnBqB,EAAIrB,GAAK88B,EAAK98B,IAGtB,OAAOqB,GAGXq4C,aAAa75C,UAAU4+C,eAAiB,SAAS3hB,GACzCA,EAAKQ,YACLn7B,KAAK84C,iBAAiBne,GAE1B36B,KAAK23C,YAAchd,EACnB36B,KAAK23C,YAAYE,SAAW73C,KAAK23C,YAAYE,UAAY73C,KAAK83C,gBAC9D93C,KAAKmmB,MAAO,GAGhBoxB,aAAa75C,UAAUm7C,eAAiB,WACpC,OAAO74C,KAAKu8C,mBAGhBhF,aAAa75C,UAAU6+C,gBAAkB,WAKrC,OAJAv8C,KAAKklC,GAAKllC,KAAK26B,KAAKv+B,EAAEkd,EAAEhb,OAAS,EAC9B0B,KAAKklC,IACJllC,KAAKmlC,UAAUnlC,KAAKw8C,iBAAiBl/C,KAAK0C,OAEvCA,KAAKklC,IAGhBqS,aAAa75C,UAAUynC,UAAY,SAASC,GAC3CplC,KAAK8kC,gBAAgB12B,KAAKg3B,GACvBplC,KAAK2kC,KAAK5e,mBAAmB/lB,OAGjCu3C,aAAa75C,UAAU0oB,SAAW,SAASq2B,GACvC,GAAIz8C,KAAK2kC,KAAKC,WAAWC,UAAY7kC,KAAK6kC,SAAY7kC,KAAK8kC,gBAAgBxmC,QAAYm+C,EAAvF,CAGAz8C,KAAK23C,YAAY36C,EAAIgD,KAAK26B,KAAKv+B,EAAEkd,EAAEtZ,KAAKw3C,WAAW35C,EAAEb,EACrD,IAAI0/C,EAAe18C,KAAK23C,YACpBgF,EAAe38C,KAAKw3C,UACxB,GAAGx3C,KAAK+kC,KACJ/kC,KAAKs8C,eAAet8C,KAAK23C,iBAD7B,CAIA33C,KAAK+kC,MAAO,EACZ/kC,KAAKmmB,MAAO,EAEZ,IAAIrqB,EAAG0X,EAAMxT,KAAK8kC,gBAAgBxmC,OAC9B2mC,EAAawX,GAAez8C,KAAK26B,KAAKv+B,EAAEkd,EAAEtZ,KAAKw3C,WAAW35C,EAC9D,IAAI/B,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EAGjBmpC,EADD0X,IAAiB38C,KAAKw3C,UACRx3C,KAAK8kC,gBAAgBhpC,GAAGmpC,EAAYA,EAAWjoC,GAE/CgD,KAAK8kC,gBAAgBhpC,GAAGkE,KAAK23C,YAAa1S,EAAWjoC,GAGvE0/C,IAAiBzX,GAChBjlC,KAAKs8C,eAAerX,GAExBjlC,KAAKygC,GAAKzgC,KAAKskB,EAAItkB,KAAK23C,YACxB33C,KAAK+kC,MAAO,EACZ/kC,KAAK6kC,QAAU7kC,KAAK2kC,KAAKC,WAAWC,WAGxC0S,aAAa75C,UAAU8+C,iBAAmB,WAItC,IAHA,IAAII,EAAW58C,KAAK26B,KAAKv+B,EAAEkd,EACvB8mB,EAAWpgC,KAAK2kC,KAAKT,KAAKC,cAC1BroC,EAAI,EAAG0X,EAAMopC,EAASt+C,OACpBxC,GAAK0X,EAAM,IACMopC,EAAS9gD,GAAG+B,IAC5B/B,IAAM0X,EAAM,GAAKopC,EAAS9gD,EAAE,GAAGkB,EAAIojC,KAGtCtkC,GAAK,EAKT,OAHGkE,KAAKw3C,YAAc17C,IAClBkE,KAAKw3C,UAAY17C,GAEdkE,KAAK26B,KAAKv+B,EAAEkd,EAAEtZ,KAAKw3C,WAAW35C,GAGzC05C,aAAa75C,UAAUm/C,eAAiB,SAASC,GAK7C,IAJA,IAGIC,EAHAvhB,EAAqBH,YAAYwC,4BACjCmf,EAAkB,GAClBlhD,EAAI,EAAG0X,EAAMspC,EAAKx+C,OAEfxC,EAAI0X,GACPupC,EAAWD,EAAKppC,WAAW5X,IACmB,IAA1C0/B,EAAmBpnB,QAAQ2oC,GAC3BC,EAAgBA,EAAgB1+C,OAAS,IAAMw+C,EAAKt3C,OAAO1J,GAEvDihD,GAAY,OAAUA,GAAY,QAClCA,EAAWD,EAAKppC,WAAW5X,EAAI,KACf,OAAUihD,GAAY,OAClCC,EAAgB5uC,KAAK0uC,EAAKG,OAAOnhD,EAAG,MAClCA,GAKNkhD,EAAgB5uC,KAAK0uC,EAAKt3C,OAAO1J,IAGzCA,GAAK,EAET,OAAOkhD,GAGXzF,aAAa75C,UAAUo7C,iBAAmB,SAASze,GAC/CA,EAAac,YAAa,EAC1B,IAGIr/B,EAAG0X,EACH0pC,EAAwBpvC,EAKxB6L,EAAGif,EAEHukB,EAXAzkB,EAAc14B,KAAK2kC,KAAKC,WAAWlM,YACnCiC,EAAO36B,KAAK26B,KACZsf,EAAU,GAEG70C,EAAQ,EACrBg4C,EAAiBziB,EAAKz+B,EAAEqoB,EACxB84B,EAAc,EAAGC,EAAa,EAAGpC,EAAc,EAAGjD,EAAa,GAC/DsF,EAAY,EACZC,EAAe,EAEf9gB,EAAWhE,EAAY6G,cAAclF,EAAa7tB,GACxCogC,EAAU,EACpBltC,EAASg9B,EAASI,OAASJ,EAASI,OAAOxuB,MAAM,KAAO,GAExDyuB,EAAU,SAAUD,EAAS,SAGjC,IAFAtpB,EAAM9T,EAAOpB,OAETxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EAEb,OADY4D,EAAO5D,GAAG2hD,eAElB,IAAK,SACL3gB,EAAS,SACT,MACA,IAAK,OACLC,EAAU,MACV,MACA,IAAK,QACLA,EAAU,MACV,MACA,IAAK,SACLA,EAAU,MACV,MACA,IAAK,UACL,IAAK,SACLA,EAAU,MACV,MACA,IAAK,QACL,IAAK,OACLA,EAAU,MAIlB1C,EAAa0C,QAAUL,EAASK,SAAWA,EAC3C1C,EAAayC,OAASA,EACtBzC,EAAaoe,UAAYpe,EAAax8B,EACtCw8B,EAAaqe,UAAY14C,KAAK68C,eAAexiB,EAAar9B,GAC1DwW,EAAM6mB,EAAaqe,UAAUp6C,OAC7B+7B,EAAase,gBAAkBte,EAAa2d,GAC5C,IACI+E,EADAW,EAAiBrjB,EAAayV,GAAG,IAAKzV,EAAaoe,UAEvD,GAAGpe,EAAarR,GAKZ,IAJA,IAGI20B,EAAejF,EAHfp2B,GAAO,EACPu1B,EAAWxd,EAAarR,GAAG,GAC3B40B,EAAYvjB,EAAarR,GAAG,GAE1B1G,GAAM,CAERq7B,EAAgB,EAChBJ,EAAY,EACZ/pC,GAHAklC,EAAY14C,KAAK68C,eAAexiB,EAAar9B,IAG7BsB,OAChBo/C,EAAiBrjB,EAAayV,GAAG,IAAKzV,EAAaoe,UACnD,IAAIoF,GAAkB,EACtB,IAAI/hD,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbihD,EAAWrE,EAAU58C,GAAG4X,WAAW,GACnCwpC,GAAc,EACM,MAAjBxE,EAAU58C,GACT+hD,EAAiB/hD,EACC,KAAbihD,GAAgC,IAAbA,IACxBQ,EAAY,EACZL,GAAc,EACdS,GAAiBtjB,EAAase,iBAA0C,IAAvBte,EAAaoe,WAE/D/f,EAAY8B,OACX2iB,EAAWzkB,EAAY0G,YAAYsZ,EAAU58C,GAAI4gC,EAASI,OAAQJ,EAASG,SAC3E+P,EAAUsQ,EAAc,EAAIC,EAAS99B,EAAEgb,EAAaoe,UAAU,KAG9D7L,EAAUlU,EAAY+G,YAAYiZ,EAAU58C,GAAIu+B,EAAa7tB,EAAG6tB,EAAaoe,WAE9E8E,EAAY3Q,EAAUiL,GAA6B,MAAjBa,EAAU58C,KACpB,IAApB+hD,EACCrqC,GAAO,EAEP1X,EAAI+hD,EAERF,GAAiBtjB,EAAase,iBAA0C,IAAvBte,EAAaoe,UAC9DC,EAAUpzB,OAAOxpB,EAAG+hD,IAAmB/hD,EAAI,EAAI,EAAE,MAEjD+hD,GAAkB,EAClBN,EAAY,IAEZA,GAAa3Q,EACb2Q,GAAaG,GAGrBC,GAAiBjhB,EAASkb,OAAOvd,EAAaoe,UAAU,IACrDz4C,KAAKy3C,WAAapd,EAAaoe,UAAYz4C,KAAK03C,iBAAmBkG,EAAYD,GAC9EtjB,EAAaoe,WAAa,EAC1Bpe,EAAase,gBAAkBte,EAAaoe,UAAYpe,EAAa2d,GAAK3d,EAAax8B,IAEvFw8B,EAAaqe,UAAYA,EACzBllC,EAAM6mB,EAAaqe,UAAUp6C,OAC7BgkB,GAAO,GAKnBi7B,GAAcG,EACd9Q,EAAU,EACV,IACIkR,EADAC,EAAoB,EAExB,IAAKjiD,EAAI,EAAEA,EAAI0X,EAAK1X,GAAK,EAgCrB,GA/BAohD,GAAc,EAGG,MADjBH,GADAe,EAAczjB,EAAaqe,UAAU58C,IACd4X,WAAW,KACE,IAAbqpC,GACnBgB,EAAoB,EACpB9F,EAAW7pC,KAAKmvC,GAChBC,EAAeD,EAAYC,EAAeD,EAAYC,EACtDD,GAAc,EAAIG,EAClB5vC,EAAM,GACNovC,GAAc,EACdhC,GAAe,GAEfptC,EAAMgwC,EAEPplB,EAAY8B,OACX2iB,EAAWzkB,EAAY0G,YAAY0e,EAAaphB,EAASI,OAAQpE,EAAY6G,cAAclF,EAAa7tB,GAAGqwB,SAC3G+P,EAAUsQ,EAAc,EAAIC,EAAS99B,EAAEgb,EAAaoe,UAAU,KAI9D7L,EAAUlU,EAAY+G,YAAY3xB,EAAKusB,EAAa7tB,EAAG6tB,EAAaoe,WAIrD,MAAhBqF,EACCC,GAAqBnR,EAAU8Q,GAE/BH,GAAa3Q,EAAU8Q,EAAiBK,EACxCA,EAAoB,GAExB9D,EAAQ7rC,KAAK,CAACrS,EAAE6wC,EAAQmP,GAAGnP,EAAQqP,IAAIoB,EAAY9/C,EAAE2/C,EAAavB,UAAU,GAAI7tC,IAAKA,EAAK+tC,KAAMX,EAAaI,sBAAuB,IAC/G,GAAlB8B,GAEC,GADAC,GAAezQ,EACJ,KAAR9+B,GAAsB,MAARA,GAAehS,IAAM0X,EAAM,EAAE,CAI1C,IAHW,KAAR1F,GAAsB,MAARA,IACbuvC,GAAezQ,GAEb0Q,GAAYxhD,GACdm+C,EAAQqD,GAAYvB,GAAKsB,EACzBpD,EAAQqD,GAAYjc,IAAMj8B,EAC1B60C,EAAQqD,GAAYxB,MAAQlP,EAC5B0Q,GAAc,EAElBl4C,GAAS,EACTi4C,EAAc,QAEhB,GAAqB,GAAlBD,GAEL,GADAC,GAAezQ,EACJ,KAAR9+B,GAAchS,IAAM0X,EAAM,EAAE,CAI3B,IAHW,KAAR1F,IACCuvC,GAAezQ,GAEb0Q,GAAYxhD,GACdm+C,EAAQqD,GAAYvB,GAAKsB,EACzBpD,EAAQqD,GAAYjc,IAAMj8B,EAC1B60C,EAAQqD,GAAYxB,MAAQlP,EAC5B0Q,GAAc,EAElBD,EAAc,EACdj4C,GAAS,QAGb60C,EAAQ70C,GAAOi8B,IAAMj8B,EACrB60C,EAAQ70C,GAAO02C,MAAQ,EACvB12C,GAAS,EAMjB,GAHAi1B,EAAat+B,EAAIk+C,EACjBuD,EAAeD,EAAYC,EAAeD,EAAYC,EACtDvF,EAAW7pC,KAAKmvC,GACbljB,EAAarR,GACZqR,EAAawd,SAAWxd,EAAarR,GAAG,GACxCqR,EAAa0d,cAAgB,OAG7B,OADA1d,EAAawd,SAAW2F,EACjBnjB,EAAa1gB,GAChB,KAAK,EACD0gB,EAAa0d,eAAkB1d,EAAawd,SAC5C,MACJ,KAAK,EACDxd,EAAa0d,eAAkB1d,EAAawd,SAAS,EACrD,MACJ,QACIxd,EAAa0d,cAAgB,EAGzC1d,EAAa4d,WAAaA,EAE1B,IAAwB+F,EAAcC,EAAlCpE,EAAYlf,EAAKlwB,EACrBmuB,EAAOihB,EAAUv7C,OACjB,IAAI4/C,EAAO7c,EAAK8c,EAAU,GAC1B,IAAIxkC,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,EAAE,CAahB,KAZAqkC,EAAenE,EAAUlgC,IACTlP,EAAEw0B,KACd5E,EAAaie,iBAAkB,GAEhC0F,EAAavzC,EAAEssC,KACd1c,EAAake,iBAAkB,IAEhCyF,EAAavzC,EAAEusC,IAAMgH,EAAavzC,EAAEwsC,IAAM+G,EAAavzC,EAAEysC,IAAM8G,EAAavzC,EAAE0sC,MAC7E9c,EAAage,eAAgB,GAEjChX,EAAM,EACN6c,EAAQF,EAAangD,EAAEkO,EACnBjQ,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,GACbmiD,EAAahE,EAAQn+C,IACV6/C,UAAUhiC,GAAK0nB,GACb,GAAT6c,GAAiC,KAAnBD,EAAWnwC,KAAyB,GAATowC,GAAiC,KAAnBD,EAAWnwC,KAAiC,MAAnBmwC,EAAWnwC,KAA0B,GAATowC,IAAeD,EAAW1gD,GAAuB,KAAlB0gD,EAAWnwC,KAAchS,GAAK0X,EAAM,IAAiB,GAAT0qC,IAAeD,EAAW1gD,GAAKzB,GAAK0X,EAAM,MACxM,IAAtBwqC,EAAangD,EAAEugD,IACdD,EAAQ/vC,KAAKizB,GAEjBA,GAAO,GAGf1G,EAAKlwB,EAAEkP,GAAG9b,EAAE+9C,WAAava,EACzB,IAAqBgd,EAAjBC,GAAc,EAClB,GAAyB,IAAtBN,EAAangD,EAAEugD,GACd,IAAItiD,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EAElBwiD,IADHL,EAAahE,EAAQn+C,IACO6/C,UAAUhiC,KAClC2kC,EAAaL,EAAWtC,UAAUhiC,GAClC0kC,EAASF,EAAQ74B,OAAOhb,KAAK2D,MAAM3D,KAAKmD,SAAS0wC,EAAQ7/C,QAAQ,GAAG,IAExE2/C,EAAWtC,UAAUhiC,GAAK0kC,EAItChkB,EAAame,QAAUne,EAAase,iBAA0C,IAAvBte,EAAaoe,UACpEpe,EAAa6d,GAAK7d,EAAa6d,IAAM,EACrC7d,EAAaud,OAASlb,EAASkb,OAAOvd,EAAaoe,UAAU,KAGjElB,aAAa75C,UAAU6gD,mBAAqB,SAASC,EAASp5C,GAC7DA,OAAkB3E,IAAV2E,EAAsBpF,KAAKw3C,UAAYpyC,EAC5C,IAAIq5C,EAAQz+C,KAAK44C,SAAS,GAAI54C,KAAK26B,KAAKv+B,EAAEkd,EAAElU,GAAOvH,GACnD4gD,EAAQz+C,KAAK44C,SAAS6F,EAAOD,GAC7Bx+C,KAAK26B,KAAKv+B,EAAEkd,EAAElU,GAAOvH,EAAI4gD,EACzBz+C,KAAK0+C,YAAYt5C,GACjBpF,KAAK2kC,KAAK5e,mBAAmB/lB,OAGjCu3C,aAAa75C,UAAUghD,YAAc,SAASt5C,GAC1C,IAAIq5C,EAAQz+C,KAAK26B,KAAKv+B,EAAEkd,EAAElU,GAAOvH,EACjC4gD,EAAMtjB,YAAa,EACnBn7B,KAAKw3C,UAAY,EACjBx3C,KAAKglC,eAAgB,EACrBhlC,KAAKomB,SAASq4B,IAGlBlH,aAAa75C,UAAUihD,cAAgB,SAASC,GAC5C5+C,KAAKy3C,UAAYmH,EACjB5+C,KAAK0+C,YAAY1+C,KAAKw3C,WACtBx3C,KAAK2kC,KAAK5e,mBAAmB/lB,OAGjCu3C,aAAa75C,UAAUmhD,mBAAqB,SAASC,GACjD9+C,KAAK03C,gBAAkBptC,KAAK2D,MAAM6wC,IAAe,EACjD9+C,KAAK0+C,YAAY1+C,KAAKw3C,WACtBx3C,KAAK2kC,KAAK5e,mBAAmB/lB,OAGjC,IAAIo3C,iBAAoB,WACpB,IAAIj9B,EAAM7P,KAAK6P,IACXD,EAAM5P,KAAK4P,IACXjM,EAAQ3D,KAAK2D,MAEjB,SAASmpC,EAAiBzS,EAAKhK,GAC3B36B,KAAK++C,oBAAsB,EAC3B/+C,KAAKsZ,GAAI,EACTtZ,KAAK26B,KAAOA,EACZ36B,KAAK2kC,KAAOA,EACZ3kC,KAAKkkC,KAAOS,EAAKT,KACjBlkC,KAAKg/C,OAAS,EACdh/C,KAAKi/C,OAAS,EACdj/C,KAAKqmB,6BAA6Bse,GAClC3kC,KAAKnC,EAAImiC,gBAAgB4F,QAAQjB,EAAKhK,EAAK98B,GAAK,CAACyb,EAAE,GAAG,EAAE,EAAEtZ,MAEtDA,KAAKgG,EADN,MAAO20B,EACGqF,gBAAgB4F,QAAQjB,EAAKhK,EAAK30B,EAAE,EAAE,EAAEhG,MAExC,CAACskB,EAAE,KAEhBtkB,KAAKzD,EAAIyjC,gBAAgB4F,QAAQjB,EAAKhK,EAAKp+B,GAAK,CAAC+c,EAAE,GAAG,EAAE,EAAEtZ,MAC1DA,KAAKk/C,GAAKlf,gBAAgB4F,QAAQjB,EAAKhK,EAAKukB,IAAM,CAAC5lC,EAAE,GAAG,EAAE,EAAEtZ,MAC5DA,KAAKm/C,GAAKnf,gBAAgB4F,QAAQjB,EAAKhK,EAAKwkB,IAAM,CAAC7lC,EAAE,GAAG,EAAE,EAAEtZ,MAC5DA,KAAKyK,EAAIu1B,gBAAgB4F,QAAQjB,EAAKhK,EAAKlwB,EAAE,EAAE,IAAKzK,MAChDA,KAAKgmB,kBAAkB1nB,QACvB0B,KAAKomB,WAsHb,OAlHAgxB,EAAiB15C,UAAY,CACzBg+C,QAAS,SAASra,GACXrhC,KAAK++C,qBAAuB/+C,KAAK2kC,KAAKya,aAAazH,YAAY57C,EAAEuC,QAChE0B,KAAKomB,WAGT,IAAI4M,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAK,EACNnzB,KAAKm/C,GAAG76B,EAAI,EACX0O,EAAKhzB,KAAKm/C,GAAG76B,EAAI,IAGjB2O,GAAMjzB,KAAKm/C,GAAG76B,EAAI,IAEnBtkB,KAAKk/C,GAAG56B,EAAI,EACX4O,EAAK,EAAMlzB,KAAKk/C,GAAG56B,EAAI,IAGvB6O,EAAK,EAAMnzB,KAAKk/C,GAAG56B,EAAI,IAE3B,IAAI+6B,EAAQpvB,cAAcsR,gBAAgBvO,EAAIC,EAAIC,EAAIC,GAAIx2B,IAEtD8nC,EAAO,EACP5mC,EAAImC,KAAKg/C,OACTh5C,EAAIhG,KAAKi/C,OACTn0C,EAAO9K,KAAK26B,KAAKwH,GACrB,GAAa,IAATr3B,EAMA25B,EAAO4a,EAJH5a,EADAz+B,IAAMnI,EACCwjC,GAAOr7B,EAAI,EAAI,EAEfmU,EAAI,EAAGD,EAAI,IAAOlU,EAAInI,IAAMwjC,EAAMxjC,IAAMmI,EAAInI,GAAI,UAGxD,GAAY,IAATiN,EAON25B,EAAO4a,EALH5a,EADAz+B,IAAMnI,EACCwjC,GAAOr7B,EAAI,EAAI,EAEf,EAAImU,EAAI,EAAGD,EAAI,IAAOlU,EAAInI,IAAMwjC,EAAMxjC,IAAMmI,EAAInI,GAAG,UAI3D,GAAa,IAATiN,EACH9E,IAAMnI,EACN4mC,EAAO,GAEPA,EAAOtqB,EAAI,EAAGD,EAAI,IAAOlU,EAAInI,IAAMwjC,EAAMxjC,IAAMmI,EAAInI,GAAI,KAC5C,GACP4mC,GAAQ,EAERA,EAAO,EAAI,GAAKA,EAAO,IAG/BA,EAAO4a,EAAM5a,QACV,GAAa,IAAT35B,EAAY,CACnB,GAAI9E,IAAMnI,EACN4mC,EAAO,MACJ,CACH,IAAI6a,EAAMt5C,EAAInI,EAIVmuB,GAAKszB,EAAI,GADbje,EAAMnnB,EAAIC,EAAI,EAAGknB,EAAM,GAAMxjC,GAAImI,EAAInI,IAEjC4M,EAAI60C,EAAI,EACZ7a,EAAOn6B,KAAK+W,KAAK,EAAK2K,EAAIA,GAAMvhB,EAAIA,IAExCg6B,EAAO4a,EAAM5a,QACG,IAAT35B,GACH9E,IAAMnI,EACN4mC,EAAO,GAEPpD,EAAMnnB,EAAIC,EAAI,EAAGknB,EAAM,GAAMxjC,GAAImI,EAAInI,GACrC4mC,GAAQ,EAAKn6B,KAAKod,IAAKpd,KAAK6X,GAAe,EAAV7X,KAAK6X,GAAS,GAASnc,EAAInI,KAAS,GAEzE4mC,EAAO4a,EAAM5a,KAETpD,GAAOpzB,EAAMpQ,KAET4mC,EAAOtqB,EAAI,EAAGD,EADdmnB,EAAMxjC,EAAI,EACQqc,EAAIlU,EAAG,IAAMnI,EAAIwjC,GAEjBr7B,EAAIq7B,EAFmB,KAKjDoD,EAAO4a,EAAM5a,IAEjB,OAAOA,EAAKzkC,KAAKyK,EAAE6Z,GAEvB8B,SAAU,SAASm5B,GACfv/C,KAAKkmB,2BACLlmB,KAAKmmB,KAAOo5B,GAAgBv/C,KAAKmmB,KACjCnmB,KAAK++C,mBAAqB/+C,KAAK2kC,KAAKya,aAAazH,YAAY57C,EAAEuC,QAAU,EACtEihD,GAAgC,IAAhBv/C,KAAK26B,KAAK/9B,IACzBoD,KAAKgG,EAAEse,EAAItkB,KAAK++C,oBAEpB,IAAIS,EAA0B,IAAhBx/C,KAAK26B,KAAK/9B,EAAU,EAAI,IAAMoD,KAAK26B,KAAKihB,WAClDr/C,EAAIyD,KAAKzD,EAAE+nB,EAAEk7B,EACb3hD,EAAImC,KAAKnC,EAAEymB,EAAEk7B,EAAUjjD,EACvByJ,EAAKhG,KAAKgG,EAAEse,EAAEk7B,EAAWjjD,EAC7B,GAAGsB,EAAEmI,EAAE,CACH,IAAIqoC,EAAKxwC,EACTA,EAAImI,EACJA,EAAIqoC,EAERruC,KAAKg/C,OAASnhD,EACdmC,KAAKi/C,OAASj5C,IAGtBusB,gBAAgB,CAACzM,0BAA2BsxB,GAMrC,CACHC,oBALJ,SAA6B1S,EAAMhK,EAAKvnB,GACpC,OAAO,IAAIgkC,EAAiBzS,EAAMhK,EAAMvnB,KA5IzB,GAqJnBqsC,aACI,SAASC,EAAerjC,EAASsjC,EAAUC,GAEjD,IAAIjqB,EAAU,EACV6R,EAAakY,EACb7xB,EAAO7L,iBAAiBwlB,GAO5B,SAASvT,IAQR,OANG0B,EAEQ9H,EADV8H,GAAW,GAGDtZ,IAsBZ,MAjCS,CACR4X,WAAYA,EACZia,QAcD,SAAiBrkC,GACb8rB,IAAY6R,IACd3Z,EAAOgyB,QAAQ/vB,OAAOjC,GACtB2Z,GAAwB,GAErBmY,GACHA,EAAS91C,GAEVgkB,EAAK8H,GAAW9rB,EAChB8rB,GAAW,KAYVkqB,QAMI,CACN/vB,OALD,SAAgB1c,GACf,OAAOA,EAAI1F,OAAOsU,iBAAiB5O,EAAI9U,WAOrCqpC,WAKI8X,aAAa,GAHpB,WACC,OAAOl6B,iBAAiB,UAAW,MAIjCkkB,YAiCCrpB,QAAUq/B,aAAa,GA/B3B,WACC,OAAO,IAAIlY,aAGZ,SAAiBuH,GAChB,IAA6BhzC,EAAzB0X,EAAMs7B,EAAUnZ,QACpB,IAAI75B,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACxB6rC,WAAWuG,QAAQY,EAAUxqB,EAAExoB,IAC/B6rC,WAAWuG,QAAQY,EAAUhzC,EAAEA,IAC/B6rC,WAAWuG,QAAQY,EAAUvyC,EAAET,IAC/BgzC,EAAUxqB,EAAExoB,GAAK,KACjBgzC,EAAUhzC,EAAEA,GAAK,KACjBgzC,EAAUvyC,EAAET,GAAK,KAElBgzC,EAAUnZ,QAAU,EACpBmZ,EAAU3yC,GAAI,KAiBfikB,QAAQyL,MAdR,SAAeuhB,GACd,IACItxC,EADAgkD,EAAS1/B,QAAQ6T,aACdzgB,OAAwB/S,IAAlB2sC,EAAMzX,QAAwByX,EAAM9oB,EAAEhmB,OAAS8uC,EAAMzX,QAKlE,IAJAmqB,EAAOpY,UAAUl0B,GACjBssC,EAAO3jD,EAAIixC,EAAMjxC,EAGbL,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACxBgkD,EAAOhY,YAAYsF,EAAM9oB,EAAExoB,GAAG,GAAGsxC,EAAM9oB,EAAExoB,GAAG,GAAGsxC,EAAM7wC,EAAET,GAAG,GAAGsxC,EAAM7wC,EAAET,GAAG,GAAGsxC,EAAMtxC,EAAEA,GAAG,GAAGsxC,EAAMtxC,EAAEA,GAAG,GAAIA,GAEzG,OAAOgkD,GAMD1/B,SAHHA,QAKDypB,qBAAwB,WAC3B,IAAI3Z,EAAK,CACR4Z,mBAQD,WACC,IAAIiW,EAGHA,EAFEpqB,EAEgB9H,EADlB8H,GAAW,GAGO,IAAI0W,gBAEvB,OAAO0T,GAfP7R,QAkBD,SAAiB6R,GAChB,IAAIjkD,EAAG0X,EAAMusC,EAAgBpqB,QAC7B,IAAI75B,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACxB2tC,WAAWyE,QAAQ6R,EAAgBvmB,OAAO19B,IAE3CikD,EAAgBpqB,QAAU,EAEvBA,IAAY6R,IACd3Z,EAAOgyB,QAAQ/vB,OAAOjC,GACtB2Z,GAAwB,GAEzB3Z,EAAK8H,GAAWoqB,EAChBpqB,GAAW,IA3BRA,EAAU,EACV6R,EAAa,EACb3Z,EAAO7L,iBAAiBwlB,GA4B5B,OAAOtX,EApCmB,GAsCvBoF,qBAiBImqB,aAAa,GAfpB,WACC,MAAO,CACNtrB,QAAS,GACTyB,YAAa,MAIf,SAAiB/rB,GAChB,IAAI/N,EAAG0X,EAAM3J,EAAQsqB,QAAQ71B,OAC7B,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EAChBk4B,mBAAmBka,QAAQrkC,EAAQsqB,QAAQr4B,IAE5C+N,EAAQsqB,QAAQ71B,OAAS,KAKvB01B,mBASIyrB,aAAa,GAPpB,WACC,MAAO,CACG5rB,YAAa,EACbK,SAAU3O,iBAAiB,UAAWtD,sBACtCkS,QAAS5O,iBAAiB,UAAWtD,0BAKjD,SAAS+9B,gBA+HT,SAASC,YAAYC,EAAeC,GAChCngD,KAAKkgD,cAAgBA,EACrBlgD,KAAKw4B,OAAS,KACdx4B,KAAKmkC,eAAiB,EACtBnkC,KAAKogD,WAAaz6B,SAAS,OAC3B,IAAInO,EAAY,GAChB,GAAI2oC,GAAUA,EAAOzoC,MAAO,CACxB,IAAI2oC,EAAe16B,SAAS,SACxB26B,EAAUp8B,kBACdm8B,EAAazjB,aAAa,KAAM0jB,GAChCD,EAAarjB,YAAcmjB,EAAOzoC,MAClC1X,KAAKogD,WAAWrxC,YAAYsxC,GAC5B7oC,GAAa8oC,EAEjB,GAAIH,GAAUA,EAAOI,YAAa,CAC9B,IAAIC,EAAc76B,SAAS,QACvB86B,EAASv8B,kBACbs8B,EAAY5jB,aAAa,KAAM6jB,GAC/BD,EAAYxjB,YAAcmjB,EAAOI,YACjCvgD,KAAKogD,WAAWrxC,YAAYyxC,GAC5BhpC,GAAa,IAAMipC,EAEnBjpC,GACAxX,KAAKogD,WAAWxjB,aAAa,kBAAmBplB,GAEpD,IAAI0mB,EAAOvY,SAAU,QACrB3lB,KAAKogD,WAAWrxC,YAAYmvB,GAC5B,IAAIwiB,EAAc/6B,SAAS,KAC3B3lB,KAAKogD,WAAWrxC,YAAY2xC,GAC5B1gD,KAAK2gD,aAAeD,EACpB1gD,KAAK4gD,aAAe,CAChBp4C,oBAAsB23C,GAAUA,EAAO33C,qBAAwB,gBAC/Dq4C,yBAA2BV,GAAUA,EAAOU,0BAA6B,iBACzEC,gBAAkBX,GAAUA,EAAOW,kBAAoB,EACvDC,mBAAoBZ,IAAuC,IAA7BA,EAAOY,kBACrCC,YAAcb,GAAUA,EAAOa,cAAgB,EAC/CC,YAAcd,GAAUA,EAAOc,cAAgB,EAC/C7+C,UAAY+9C,GAAUA,EAAO/9C,WAAc,GAC3CsC,GAAKy7C,GAAUA,EAAOz7C,IAAO,GAC7Bw8C,UAAWf,GAAUA,EAAOe,UAC5BC,WAAY,CACRt7C,MAAOs6C,GAAUA,EAAOgB,YAAchB,EAAOgB,WAAWt7C,OAAS,OACjEyC,OAAQ63C,GAAUA,EAAOgB,YAAchB,EAAOgB,WAAW74C,QAAU,OACnE0jB,EAAGm0B,GAAUA,EAAOgB,YAAchB,EAAOgB,WAAWn1B,GAAK,KACzDC,EAAGk0B,GAAUA,EAAOgB,YAAchB,EAAOgB,WAAWl1B,GAAK,OAIjEjsB,KAAK4kC,WAAa,CACdze,MAAM,EACNia,UAAW,EACXlC,KAAMA,EACN0iB,aAAc5gD,KAAK4gD,cAEvB5gD,KAAKgxC,SAAW,GAChBhxC,KAAKohD,gBAAkB,GACvBphD,KAAKqhD,WAAY,EACjBrhD,KAAKshD,aAAe,MA8MxB,SAASC,eAAerB,EAAeC,GACnCngD,KAAKkgD,cAAgBA,EACrBlgD,KAAK4gD,aAAe,CAChBY,aAAcrB,QAAiC1/C,IAAvB0/C,EAAOqB,aAA6BrB,EAAOqB,YACnEC,QAAUtB,GAAUA,EAAOsB,SAAY,KACvCX,gBAAkBX,GAAUA,EAAOW,kBAAoB,EACvDt4C,oBAAsB23C,GAAUA,EAAO33C,qBAAwB,gBAC/Dq4C,yBAA2BV,GAAUA,EAAOU,0BAA6B,iBACzEz+C,UAAY+9C,GAAUA,EAAO/9C,WAAc,GAC3CsC,GAAKy7C,GAAUA,EAAOz7C,IAAO,IAEjC1E,KAAK4gD,aAAac,IAAOvB,GAAUA,EAAOuB,KAAQ,EAC9C1hD,KAAKkgD,cAAct7C,UACnB5E,KAAK4gD,aAAac,IAAOvB,GAAUA,EAAOuB,KAAQ5jD,OAAO6jD,kBAAoB,GAEjF3hD,KAAKmkC,eAAiB,EACtBnkC,KAAK4kC,WAAa,CACdxE,UAAW,EACXja,MAAM,EACNy6B,aAAc5gD,KAAK4gD,aACnBgB,oBAAqB,GAEzB5hD,KAAK6hD,YAAc,IAAIC,cACvB9hD,KAAKgxC,SAAW,GAChBhxC,KAAKohD,gBAAkB,GACvBphD,KAAK+hD,aAAe,IAAIv6B,OACxBxnB,KAAKu4B,gBAAiB,EACtBv4B,KAAKshD,aAAe,SAiTxB,SAASU,eAAe9B,EAAeC,GACnCngD,KAAKkgD,cAAgBA,EACrBlgD,KAAKw4B,OAAS,KACdx4B,KAAKmkC,eAAiB,EACtBnkC,KAAK4gD,aAAe,CAChBx+C,UAAY+9C,GAAUA,EAAO/9C,WAAc,GAC3Cy+C,yBAA2BV,GAAUA,EAAOU,0BAA6B,iBACzEE,mBAAoBZ,IAAuC,IAA7BA,EAAOY,kBACrCI,WAAY,CACRt7C,MAAOs6C,GAAUA,EAAOgB,YAAchB,EAAOgB,WAAWt7C,OAAS,OACjEyC,OAAQ63C,GAAUA,EAAOgB,YAAchB,EAAOgB,WAAW74C,QAAU,OACnE0jB,EAAGm0B,GAAUA,EAAOgB,YAAchB,EAAOgB,WAAWn1B,GAAK,QACzDC,EAAGk0B,GAAUA,EAAOgB,YAAchB,EAAOgB,WAAWl1B,GAAK,UAGjEjsB,KAAK4kC,WAAa,CACdze,MAAM,EACNia,UAAW,EACXwgB,aAAc5gD,KAAK4gD,cAEvB5gD,KAAKohD,gBAAkB,GACvBphD,KAAKgxC,SAAW,GAChBhxC,KAAKiiD,eAAiB,GACtBjiD,KAAKqhD,WAAY,EACjBrhD,KAAKkiD,OAAS,KACdliD,KAAKmiD,YAAa,EAClBniD,KAAKshD,aAAe,OAqRxB,SAASc,YAAYznB,EAAK9wB,EAAQ+6B,GAC9B5kC,KAAK26B,KAAOA,EACZ36B,KAAK6J,QAAUA,EACf7J,KAAK4kC,WAAaA,EAClB5kC,KAAKy0B,WAAa,GAClBz0B,KAAKm5B,gBAAkBn5B,KAAK26B,KAAKxB,iBAAmB,GACpDn5B,KAAK0gD,YAAc,KACnB,IACI5kD,EADAoiC,EAAOl+B,KAAK4kC,WAAW1G,KACpB1qB,EAAMxT,KAAKm5B,gBAAkBn5B,KAAKm5B,gBAAgB76B,OAAS,EAClE0B,KAAKqiD,SAAWrgC,iBAAiBxO,GACjCxT,KAAKsiD,UAAY,GAGjB,IAAIz7C,EAGA8S,EAAGif,EAEH2pB,EAAMC,EAAUC,EAAQz2B,EALlB02B,EAAa1iD,KAAKm5B,gBACxB/K,EAAQ,EACRu0B,EAAe,GAEfC,EAAU1+B,kBAEVswB,EAAW,WAAYqO,EAAU,YACrC,IAAK/mD,EAAI,EAAGA,EAAI0X,EAAK1X,IAiBjB,IAhB2B,MAAvB4mD,EAAW5mD,GAAGmB,MAAuC,MAAvBylD,EAAW5mD,GAAGmB,MAAgBylD,EAAW5mD,GAAGy0C,KAA6B,MAAtBmS,EAAW5mD,GAAGS,EAAE+c,GAAaopC,EAAW5mD,GAAGS,EAAEyvB,KAC9HwoB,EAAW,OACXqO,EAAU,QAGY,KAAtBH,EAAW5mD,GAAGmB,MAAqC,KAAtBylD,EAAW5mD,GAAGmB,MAA0B,IAAVmxB,EAO3Dm0B,EAAO,OANPA,EAAO58B,SAAU,SACZiX,aAAa,OAAQ,WAC1B2lB,EAAK3lB,aAAa,QAAS58B,KAAK6J,QAAQq6B,KAAKvJ,KAAKtb,GAAK,GACvDkjC,EAAK3lB,aAAa,SAAU58B,KAAK6J,QAAQq6B,KAAKvJ,KAAKtW,GAAK,GACxDs+B,EAAav0C,KAAKm0C,IAKtB17C,EAAO8e,SAAU,QACQ,KAAtB+8B,EAAW5mD,GAAGmB,KAAjB,CAeA,IAAI6lD,EA+BJ,GAnCA10B,GAAS,EAETvnB,EAAK+1B,aAAa,OAA+B,MAAvB8lB,EAAW5mD,GAAGmB,KAAe,UAAU,WACjE4J,EAAK+1B,aAAa,YAAY,WAGJ,IAAtB8lB,EAAW5mD,GAAGkwB,EAAE1S,GAChBk7B,EAAW,OACXqO,EAAU,OACV72B,EAAIgU,gBAAgB4F,QAAQ5lC,KAAK6J,QAAQ64C,EAAW5mD,GAAGkwB,EAAE,EAAE,KAAKhsB,KAAK6J,SACrEi5C,EAAW5+B,mBACXs+B,EAAW78B,SAAS,WACXiX,aAAa,KAAKkmB,IAC3BL,EAAU98B,SAAS,iBACXiX,aAAa,WAAW,SAChC6lB,EAAQ7lB,aAAa,KAAK,iBAC1B6lB,EAAQ7lB,aAAa,SAAS,KAC9B4lB,EAASzzC,YAAY0zC,GACrBvkB,EAAKnvB,YAAYyzC,GACjB37C,EAAK+1B,aAAa,SAAiC,MAAvB8lB,EAAW5mD,GAAGmB,KAAe,UAAU,aAEnEwlD,EAAU,KACVz2B,EAAI,MAIRhsB,KAAKy0B,WAAW34B,GAAK,CAChB6oC,KAAM99B,EACNmlB,EAAGA,EACH+2B,MAAON,EACRO,SAAU,GACVC,aAAa,GACbC,SAASJ,EACTK,WAAW,GAEU,KAAtBT,EAAW5mD,GAAGmB,KAAY,CACzB27B,EAAO+pB,EAAarkD,OACpB,IAAIimB,EAAIoB,SAAS,KACjB,IAAIhM,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,EACd4K,EAAExV,YAAY4zC,EAAahpC,IAE/B,IAAIigC,EAAOj0B,SAAS,QACpBi0B,EAAKhd,aAAa,YAAY,SAC9Bgd,EAAKhd,aAAa,KAAKgmB,EAAQ,IAAIx0B,GACnCwrB,EAAK7qC,YAAYlI,GACjBq3B,EAAKnvB,YAAY6qC,GACjBr1B,EAAEqY,aAAa,OAAO,OAASrc,aAAe,IAAIqiC,EAAQ,IAAIx0B,EAAM,KAEpEu0B,EAAarkD,OAAS,EACtBqkD,EAAav0C,KAAKmW,QAElBo+B,EAAav0C,KAAKvH,GAEnB67C,EAAW5mD,GAAGy0C,MAAQvwC,KAAKsiD,YAC1BtiD,KAAKsiD,UAAYtiD,KAAKojD,wBAG1BpjD,KAAKqiD,SAASvmD,GAAK,CACf6oC,KAAM99B,EACNm8C,SAAU,GACV5Q,GAAIpS,gBAAgB4F,QAAQ5lC,KAAK6J,QAAQ64C,EAAW5mD,GAAGS,EAAE,EAAE,IAAKyD,KAAK6J,SACrE9E,KAAK6jC,qBAAqBya,aAAarjD,KAAK6J,QAAQ64C,EAAW5mD,GAAG,GAClEwnD,QAASf,GAETviD,KAAKqiD,SAASvmD,GAAGiJ,KAAKuU,GACtBtZ,KAAKujD,SAASb,EAAW5mD,GAAGkE,KAAKqiD,SAASvmD,GAAGiJ,KAAKuf,EAAEtkB,KAAKqiD,SAASvmD,SA1ElEkE,KAAKqiD,SAASvmD,GAAK,CACfs2C,GAAIpS,gBAAgB4F,QAAQ5lC,KAAK6J,QAAQ64C,EAAW5mD,GAAGS,EAAE,EAAE,IAAKyD,KAAK6J,SACrE9E,KAAM6jC,qBAAqBya,aAAarjD,KAAK6J,QAAQ64C,EAAW5mD,GAAG,GACnE6oC,KAAM99B,EACNm8C,SAAU,IAEd9kB,EAAKnvB,YAAYlI,GA2EzB,IAHA7G,KAAK0gD,YAAc/6B,SAAU6uB,GAE7BhhC,EAAMmvC,EAAarkD,OACfxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbkE,KAAK0gD,YAAY3xC,YAAY4zC,EAAa7mD,IAG3CsyB,EAAQ,IACPpuB,KAAK0gD,YAAY9jB,aAAa,KAAMgmB,GACpC5iD,KAAK6J,QAAQ25C,cAAc5mB,aAAaimB,EAAS,OAAStiC,aAAe,IAAMqiC,EAAU,KACzF1kB,EAAKnvB,YAAY/O,KAAK0gD,cAEtB1gD,KAAKqiD,SAAS/jD,QACd0B,KAAK6J,QAAQ45C,uBAAuBzjD,MAiG5C,SAAS0jD,oBAmDT,SAASC,gBA4CT,SAASC,oBA0ET,SAASC,qBAwFT,SAASC,wBA6DT,SAASC,iBAAiBl6C,EAAS2Y,GAClCxiB,KAAK2kC,KAAO96B,EACZ7J,KAAKsb,IAAMkH,EAEZ,SAASwhC,aAAarpB,EAAMspB,GAC3BjkD,KAAK26B,KAAOA,EACZ36B,KAAK8K,KAAO6vB,EAAKvR,GACjBppB,KAAK5D,EAAI,GACT4D,KAAKkkD,IAAMD,EACXjkD,KAAKmmB,MAAO,EACZnmB,KAAKu1B,QAAqB,IAAZoF,EAAKwpB,GACnBnkD,KAAKokD,MAAQz+B,SAAS,QACtB3lB,KAAKqkD,OAAS,KAOf,SAASC,aAAaC,EAAcN,EAAO7W,GACvCptC,KAAKwkD,OAAS,GACdxkD,KAAKN,OAAS,GACdM,KAAKukD,aAAeA,EACpBvkD,KAAKykD,KAAO,GACZzkD,KAAKmiC,GAAKiL,EACVptC,KAAKkkD,IAAMD,EAIXjkD,KAAKimB,cAAgBmnB,EAAM9zB,EAG3B,IADA,IAAIxd,EAAI,EAAG0X,EAAM+wC,EAAajmD,OACxBxC,EAAI0X,GAAK,CACd,GAAG+wC,EAAazoD,GAAGq2C,OAAOnsB,kBAAkB1nB,OAAQ,CACnD0B,KAAKimB,aAAc,EACnB,MAEDnqB,GAAK,GAOV,SAAS4oD,iBAAiBvS,EAAQC,EAAIj8B,GACrCnW,KAAKspB,UAAY,CAChB6oB,OAAQA,EACRC,GAAIA,EACJj8B,UAAWA,GAEZnW,KAAKgxC,SAAW,GACbhxC,KAAKimB,YAAcjmB,KAAKspB,UAAU6oB,OAAOnsB,kBAAkB1nB,QAAU0B,KAAKspB,UAAU8oB,GAAGtN,gBAAgBxmC,OAE3G,SAASqmD,mBAAmBhgB,EAAMhK,EAAMiqB,GACvC5kD,KAAKqmB,6BAA6Bse,GAClC3kC,KAAKomB,SAAWpmB,KAAKkmB,yBACrBlmB,KAAKzD,EAAIyjC,gBAAgB4F,QAAQjB,EAAKhK,EAAKp+B,EAAE,EAAE,IAAKyD,MACpDA,KAAKqf,EAAI2gB,gBAAgB4F,QAAQjB,EAAKhK,EAAKtb,EAAE,EAAE,KAAKrf,MACpDA,KAAK5D,EAAI,IAAIkwC,aAAa3H,EAAKhK,EAAKv+B,GAAG,GAAG,MAAM4D,MAChDA,KAAK7D,EAAI6jC,gBAAgB4F,QAAQjB,EAAKhK,EAAKx+B,EAAE,EAAE,IAAI6D,MACnDA,KAAKgF,MAAQ4/C,EACV5kD,KAAKimB,cAAgBjmB,KAAKimB,YAI9B,SAAS4+B,iBAAiBlgB,EAAMhK,EAAMiqB,GACrC5kD,KAAKqmB,6BAA6Bse,GAClC3kC,KAAKomB,SAAWpmB,KAAKkmB,yBACrBlmB,KAAKzD,EAAIyjC,gBAAgB4F,QAAQjB,EAAKhK,EAAKp+B,EAAE,EAAE,IAAKyD,MACpDA,KAAK7D,EAAI6jC,gBAAgB4F,QAAQjB,EAAKhK,EAAKx+B,EAAE,EAAE,IAAI6D,MACnDA,KAAKgF,MAAQ4/C,EAId,SAASE,yBAAyBngB,EAAMhK,EAAMiqB,GAC1C5kD,KAAKqmB,6BAA6Bse,GAClC3kC,KAAKomB,SAAWpmB,KAAKkmB,yBACrBlmB,KAAK+kD,iBAAiBpgB,EAAMhK,EAAMiqB,GAsEtC,SAASI,2BAA2BrgB,EAAMhK,EAAMiqB,GAC/C5kD,KAAKqmB,6BAA6Bse,GAClC3kC,KAAKomB,SAAWpmB,KAAKkmB,yBACrBlmB,KAAKqf,EAAI2gB,gBAAgB4F,QAAQjB,EAAKhK,EAAKtb,EAAE,EAAE,KAAKrf,MACpDA,KAAK5D,EAAI,IAAIkwC,aAAa3H,EAAKhK,EAAKv+B,GAAG,GAAG,MAAM4D,MAC7CA,KAAK+kD,iBAAiBpgB,EAAMhK,EAAMiqB,GAClC5kD,KAAKimB,cAAgBjmB,KAAKimB,YAI9B,SAASg/B,iBACRjlD,KAAK2M,GAAK,GACP3M,KAAKklD,aAAe,GACpBllD,KAAKmlD,GAAKx/B,SAAS,KAjsDvBq6B,aAAatiD,UAAU0nD,YAAc,SAAS7wC,GAC1C,IAAIzY,EAA6B6+B,EAA1BnnB,EAAMxT,KAAKw4B,OAAOl6B,OAEzB,IADA0B,KAAKu4B,gBAAiB,EACjBz8B,EAAI0X,EAAM,EAAG1X,GAAK,EAAGA,IACjBkE,KAAKgxC,SAASl1C,KACf6+B,EAAO36B,KAAKw4B,OAAO18B,IACXupD,GAAK1qB,EAAK8K,IAAOlxB,EAAMvU,KAAKw4B,OAAO18B,GAAG2pC,IAAO9K,EAAKyX,GAAKzX,EAAK8K,GAAMlxB,EAAMvU,KAAKw4B,OAAO18B,GAAG2pC,IAE3FzlC,KAAKslD,UAAUxpD,GAGvBkE,KAAKu4B,iBAAiBv4B,KAAKgxC,SAASl1C,IAAKkE,KAAKu4B,eAElDv4B,KAAKulD,wBAGTvF,aAAatiD,UAAU8nD,WAAa,SAASC,GACzC,OAAOA,EAAMr8B,IACT,KAAK,EACD,OAAOppB,KAAK0lD,YAAYD,GAC5B,KAAK,EACD,OAAOzlD,KAAK2lD,WAAWF,GAC3B,KAAK,EACD,OAAOzlD,KAAK4lD,YAAYH,GAC5B,KAAK,EACD,OAAOzlD,KAAK6lD,WAAWJ,GAC3B,KAAK,EACD,OAAOzlD,KAAK8lD,YAAYL,GAC5B,KAAK,EACD,OAAOzlD,KAAK+lD,WAAWN,GAC3B,KAAK,GACD,OAAOzlD,KAAKgmD,aAAaP,GAEjC,OAAOzlD,KAAK6lD,WAAWJ,IAG3BzF,aAAatiD,UAAUsoD,aAAe,WAClC,MAAM,IAAIjlD,MAAM,qDAGpBi/C,aAAatiD,UAAUuoD,cAAgB,WACnC,IAAInqD,EAAG0X,EAAMxT,KAAKw4B,OAAOl6B,OACzB,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbkE,KAAKslD,UAAUxpD,GAEnBkE,KAAKulD,wBAGTvF,aAAatiD,UAAUwoD,cAAgB,SAASC,GAC5CnmD,KAAKu4B,gBAAiB,EACtB,IAAIz8B,EACA6d,EADGnG,EAAM2yC,EAAU7nD,OAChBs6B,EAAO54B,KAAKw4B,OAAOl6B,OAC1B,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EAEb,IADA6d,EAAI,EACEA,EAAEif,GAAK,CACT,GAAG54B,KAAKw4B,OAAO7e,GAAGjV,IAAMyhD,EAAUrqD,GAAG4I,GAAG,CACpC1E,KAAKw4B,OAAO7e,GAAKwsC,EAAUrqD,GAC3B,MAEJ6d,GAAK,IAKjBqmC,aAAatiD,UAAU0oD,oBAAsB,SAASC,GAClDrmD,KAAK4kC,WAAW0hB,iBAAmBD,GAGvCrG,aAAatiD,UAAU6oD,UAAY,WAC3BvmD,KAAK4kC,WAAWkc,iBAChB9gD,KAAKimD,iBAGbjG,aAAatiD,UAAU8oD,sBAAwB,SAAS38C,EAAS48C,EAAYC,GAIzE,IAHA,IAAI1V,EAAWhxC,KAAKgxC,SAChBxY,EAASx4B,KAAKw4B,OACd18B,EAAE,EAAG0X,EAAMglB,EAAOl6B,OACfxC,EAAI0X,GACHglB,EAAO18B,GAAGulC,KAAOolB,IACZzV,EAASl1C,KAAsB,IAAhBk1C,EAASl1C,IAIzB4qD,EAAUt4C,KAAK4iC,EAASl1C,IACxBk1C,EAASl1C,GAAG6qD,mBACYlmD,IAArB+3B,EAAO18B,GAAG4E,OACTV,KAAKwmD,sBAAsB38C,EAAS2uB,EAAO18B,GAAG4E,OAAQgmD,GAEtD78C,EAAQ+8C,aAAaF,KARzB1mD,KAAKslD,UAAUxpD,GACfkE,KAAK6mD,kBAAkBh9C,KAW/B/N,GAAK,GAIbkkD,aAAatiD,UAAUmpD,kBAAoB,SAASh9C,GAChD7J,KAAKohD,gBAAgBhzC,KAAKvE,IAG9Bm2C,aAAatiD,UAAUopD,wBAA0B,SAASxsB,GACtD,IAAIx+B,EAAG0X,EAAM8mB,EAAOh8B,OACpB,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb,GAAGw+B,EAAOx+B,GAAGirD,GAAG,CACZ,IAAI7iB,EAAOlkC,KAAK2lD,WAAWrrB,EAAOx+B,IAClCooC,EAAK8iB,kBACLhnD,KAAK4kC,WAAW0hB,iBAAiBW,oBAAoB/iB,KAKjE8b,aAAatiD,UAAUwpD,gBAAkB,SAASC,EAAUC,GACxDpnD,KAAK4kC,WAAWlM,YAAc,IAAI2C,YAClCr7B,KAAK4kC,WAAWlM,YAAYoF,SAASqpB,EAAS3sB,OAC9Cx6B,KAAK4kC,WAAWlM,YAAYuF,SAASkpB,EAAS/pB,MAAOgqB,GACrDpnD,KAAK4kC,WAAWyiB,aAAernD,KAAKkgD,cAAcmH,aAAa/pD,KAAK0C,KAAKkgD,eACzElgD,KAAK4kC,WAAWuO,cAAgBnzC,KAAKkgD,cAAc/M,cAAc71C,KAAK0C,KAAKkgD,eAC3ElgD,KAAK4kC,WAAW0iB,YAActnD,KAAKkgD,cAAcqH,eACjDvnD,KAAK4kC,WAAWC,QAAU,EAC1B7kC,KAAK4kC,WAAWsC,UAAYigB,EAASK,GACrCxnD,KAAK4kC,WAAWzU,GAAKg3B,EAASh3B,GAC9BnwB,KAAK4kC,WAAW6iB,SAAW,CACvBpoC,EAAG8nC,EAAS9nC,EACZgF,EAAG8iC,EAAS9iC,IAgEpBkO,gBAAgB,CAACytB,cAAcC,aAE/BA,YAAYviD,UAAUmoD,WAAa,SAAUlrB,GACzC,OAAO,IAAI+sB,YAAY/sB,EAAK36B,KAAK4kC,WAAW5kC,OAGhDigD,YAAYviD,UAAUooD,YAAc,SAAUnrB,GAC1C,OAAO,IAAIgtB,gBAAgBhtB,EAAK36B,KAAK4kC,WAAW5kC,OAGpDigD,YAAYviD,UAAUqoD,WAAa,SAAUprB,GACzC,OAAO,IAAIitB,eAAejtB,EAAK36B,KAAK4kC,WAAW5kC,OAInDigD,YAAYviD,UAAUgoD,YAAc,SAAU/qB,GAC1C,OAAO,IAAIktB,cAAcltB,EAAK36B,KAAK4kC,WAAW5kC,OAGlDigD,YAAYviD,UAAUioD,WAAa,SAAUhrB,GACzC,OAAO,IAAImtB,eAAentB,EAAK36B,KAAK4kC,WAAW5kC,OAInDigD,YAAYviD,UAAUkoD,YAAc,SAAUjrB,GAC1C,OAAO,IAAIotB,cAAcptB,EAAK36B,KAAK4kC,WAAW5kC,OAGlDigD,YAAYviD,UAAUsqD,gBAAkB,SAASb,GAC7CnnD,KAAKogD,WAAWxjB,aAAa,QAAQ,8BAClC58B,KAAK4gD,aAAaK,YACjBjhD,KAAKogD,WAAWxjB,aAAa,UAAU58B,KAAK4gD,aAAaK,aAEzDjhD,KAAKogD,WAAWxjB,aAAa,UAAU,OAAOuqB,EAAS9nC,EAAE,IAAI8nC,EAAS9iC,GAGtErkB,KAAK4gD,aAAaI,cAClBhhD,KAAKogD,WAAWxjB,aAAa,QAAQuqB,EAAS9nC,GAC9Crf,KAAKogD,WAAWxjB,aAAa,SAASuqB,EAAS9iC,GAC/CrkB,KAAKogD,WAAWp7C,MAAMa,MAAQ,OAC9B7F,KAAKogD,WAAWp7C,MAAMsD,OAAS,OAC/BtI,KAAKogD,WAAWp7C,MAAMskB,UAAY,sBAElCtpB,KAAK4gD,aAAax+C,WAClBpC,KAAKogD,WAAWxjB,aAAa,QAAS58B,KAAK4gD,aAAax+C,WAExDpC,KAAK4gD,aAAal8C,IAClB1E,KAAKogD,WAAWxjB,aAAa,KAAM58B,KAAK4gD,aAAal8C,SAErBjE,IAAhCT,KAAK4gD,aAAaM,WAClBlhD,KAAKogD,WAAWxjB,aAAa,YAAa58B,KAAK4gD,aAAaM,WAEhElhD,KAAKogD,WAAWxjB,aAAa,sBAAsB58B,KAAK4gD,aAAap4C,qBAGrExI,KAAKkgD,cAAct7C,QAAQmK,YAAY/O,KAAKogD,YAE5C,IAAIliB,EAAOl+B,KAAK4kC,WAAW1G,KAE3Bl+B,KAAKknD,gBAAgBC,EAAUjpB,GAC/Bl+B,KAAK4kC,WAAWkc,gBAAkB9gD,KAAK4gD,aAAaE,gBACpD9gD,KAAK26B,KAAOwsB,EAEZ,IAAIzG,EAAc/6B,SAAU,YACxB48B,EAAO58B,SAAS,QACpB48B,EAAK3lB,aAAa,QAAQuqB,EAAS9nC,GACnCkjC,EAAK3lB,aAAa,SAASuqB,EAAS9iC,GACpCk+B,EAAK3lB,aAAa,IAAI,GACtB2lB,EAAK3lB,aAAa,IAAI,GACtB,IAAIqrB,EAAS/jC,kBACbw8B,EAAY9jB,aAAa,KAAMqrB,GAC/BvH,EAAY3xC,YAAYwzC,GACxBviD,KAAK2gD,aAAa/jB,aAAa,YAAa,OAASrc,aAAe,IAAI0nC,EAAO,KAE/E/pB,EAAKnvB,YAAY2xC,GACjB1gD,KAAKw4B,OAAS2uB,EAAS3uB,OACvBx4B,KAAKgxC,SAAWhvB,iBAAiBmlC,EAAS3uB,OAAOl6B,SAIrD2hD,YAAYviD,UAAU+Y,QAAU,WAC5BzW,KAAKkgD,cAAct7C,QAAQm3B,UAAY,GACvC/7B,KAAK2gD,aAAe,KACpB3gD,KAAK4kC,WAAW1G,KAAO,KACvB,IAAIpiC,EAAG0X,EAAMxT,KAAKw4B,OAASx4B,KAAKw4B,OAAOl6B,OAAS,EAChD,IAAKxC,EAAI,EAAGA,EAAI0X,EAAK1X,IACdkE,KAAKgxC,SAASl1C,IACbkE,KAAKgxC,SAASl1C,GAAG2a,UAGzBzW,KAAKgxC,SAAS1yC,OAAS,EACvB0B,KAAKqhD,WAAY,EACjBrhD,KAAKkgD,cAAgB,MAGzBD,YAAYviD,UAAUwqD,oBAAsB,aAG5CjI,YAAYviD,UAAU4nD,UAAa,SAAShqC,GACxC,IAAI01B,EAAWhxC,KAAKgxC,SACpB,IAAGA,EAAS11B,IAA+B,IAAvBtb,KAAKw4B,OAAOld,GAAK8N,GAArC,CAGA4nB,EAAS11B,IAAO,EAChB,IAAIzR,EAAU7J,KAAKwlD,WAAWxlD,KAAKw4B,OAAOld,IAE1C01B,EAAS11B,GAAOzR,EACb6W,oBAC4B,IAAxB1gB,KAAKw4B,OAAOld,GAAK8N,IAChBppB,KAAK4kC,WAAW0hB,iBAAiBW,oBAAoBp9C,GAEzDA,EAAQm9C,mBAEZhnD,KAAKmoD,mBAAmBt+C,EAAQyR,GAC7Btb,KAAKw4B,OAAOld,GAAKyd,KACZ/4B,KAAKgxC,SAAS11B,EAAM,KAAiC,IAA3Btb,KAAKgxC,SAAS11B,EAAM,GAI9CzR,EAAQu+C,SAASpX,EAAS11B,EAAM,GAAGsnC,UAHnC5iD,KAAKslD,UAAUhqC,EAAM,GACrBtb,KAAK6mD,kBAAkBh9C,OAOnCo2C,YAAYviD,UAAU6nD,qBAAwB,WAC1C,KAAMvlD,KAAKohD,gBAAgB9iD,QAAO,CAC9B,IAAIuL,EAAU7J,KAAKohD,gBAAgBt/C,MAEnC,GADA+H,EAAQw+C,iBACLx+C,EAAQ8wB,KAAK5B,GAEZ,IADA,IAAIj9B,EAAI,EAAG0X,EAAMxT,KAAKgxC,SAAS1yC,OACzBxC,EAAE0X,GAAI,CACR,GAAGxT,KAAKgxC,SAASl1C,KAAO+N,EAAQ,CAC5BA,EAAQu+C,SAASpoD,KAAKgxC,SAASl1C,EAAI,GAAG8mD,SACtC,MAEJ9mD,GAAK,KAMrBmkD,YAAYviD,UAAU4qD,YAAc,SAAS/zC,GACzC,GAAGvU,KAAKmkC,gBAAkB5vB,IAAOvU,KAAKqhD,UAAtC,CAGW,OAAR9sC,EACCA,EAAMvU,KAAKmkC,cAEXnkC,KAAKmkC,cAAgB5vB,EAIzBvU,KAAK4kC,WAAWxE,SAAW7rB,EAC3BvU,KAAK4kC,WAAWC,SAAW,EAC3B7kC,KAAK4kC,WAAW0hB,iBAAiBiC,aAAeh0C,EAChDvU,KAAK4kC,WAAWze,MAAO,EACvB,IAAIrqB,EAAG0X,EAAMxT,KAAKw4B,OAAOl6B,OAIzB,IAHI0B,KAAKu4B,gBACLv4B,KAAKolD,YAAY7wC,GAEhBzY,EAAI0X,EAAM,EAAG1X,GAAK,EAAGA,KACnBkE,KAAKu4B,gBAAkBv4B,KAAKgxC,SAASl1C,KACpCkE,KAAKgxC,SAASl1C,GAAG0sD,aAAaj0C,EAAMvU,KAAKw4B,OAAO18B,GAAG2pC,IAG3D,GAAGzlC,KAAK4kC,WAAWze,KACf,IAAKrqB,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,GACnBkE,KAAKu4B,gBAAkBv4B,KAAKgxC,SAASl1C,KACpCkE,KAAKgxC,SAASl1C,GAAGwsD,gBAMjCrI,YAAYviD,UAAUyqD,mBAAqB,SAASt+C,EAASyR,GACzD,IAAI2Y,EAAapqB,EAAQ4+C,iBACzB,GAAIx0B,EAAJ,CAKA,IAFA,IACIy0B,EADA5sD,EAAI,EAEFA,EAAEwf,GACDtb,KAAKgxC,SAASl1C,KAA0B,IAApBkE,KAAKgxC,SAASl1C,IAAckE,KAAKgxC,SAASl1C,GAAG2sD,mBAChEC,EAAc1oD,KAAKgxC,SAASl1C,GAAG2sD,kBAEnC3sD,GAAK,EAEN4sD,EACC1oD,KAAK2gD,aAAagI,aAAa10B,EAAYy0B,GAE3C1oD,KAAK2gD,aAAa5xC,YAAYklB,KAItCgsB,YAAYviD,UAAUiN,KAAO,WACzB3K,KAAK2gD,aAAa37C,MAAM8J,QAAU,QAGtCmxC,YAAYviD,UAAUkrD,KAAO,WACzB5oD,KAAK2gD,aAAa37C,MAAM8J,QAAU,SAgCtCyjB,gBAAgB,CAACytB,cAAcuB,gBAE/BA,eAAe7jD,UAAUooD,YAAc,SAAUnrB,GAC7C,OAAO,IAAIkuB,eAAeluB,EAAM36B,KAAK4kC,WAAY5kC,OAGrDuhD,eAAe7jD,UAAUqoD,WAAa,SAAUprB,GAC5C,OAAO,IAAImuB,cAAcnuB,EAAM36B,KAAK4kC,WAAY5kC,OAGpDuhD,eAAe7jD,UAAUgoD,YAAc,SAAU/qB,GAC7C,OAAO,IAAIouB,eAAepuB,EAAM36B,KAAK4kC,WAAY5kC,OAGrDuhD,eAAe7jD,UAAUioD,WAAa,SAAUhrB,GAC5C,OAAO,IAAIquB,cAAcruB,EAAM36B,KAAK4kC,WAAY5kC,OAGpDuhD,eAAe7jD,UAAUkoD,YAAc,SAAUjrB,GAC7C,OAAO,IAAIsuB,eAAetuB,EAAM36B,KAAK4kC,WAAY5kC,OAGrDuhD,eAAe7jD,UAAUmoD,WAAa5F,YAAYviD,UAAUmoD,WAE5DtE,eAAe7jD,UAAUwrD,aAAe,SAASxqD,GAC7C,GAAgB,IAAbA,EAAM,IAAyB,IAAbA,EAAM,IAAyB,IAAbA,EAAM,IAAyB,IAAbA,EAAM,IAA0B,IAAdA,EAAM,KAA2B,IAAdA,EAAM,IAGpG,GAAIsB,KAAK4gD,aAAaY,YAAtB,CAIAxhD,KAAK+hD,aAAaj2B,eAAeptB,GACjC,IAAIyqD,EAASnpD,KAAK6hD,YAAYuH,IAAI1qD,MAClCsB,KAAK+hD,aAAaz4B,UAAU6/B,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,IAAIA,EAAO,IAAIA,EAAO,IAAIA,EAAO,IAAIA,EAAO,IAAIA,EAAO,KAE9LnpD,KAAK6hD,YAAYuH,IAAIt9B,eAAe9rB,KAAK+hD,aAAarjD,OACtD,IAAI2qD,EAAUrpD,KAAK6hD,YAAYuH,IAAI1qD,MACnCsB,KAAKspD,cAAcrgC,aAAaogC,EAAQ,GAAGA,EAAQ,GAAGA,EAAQ,GAAGA,EAAQ,GAAGA,EAAQ,IAAIA,EAAQ,UAT5FrpD,KAAKspD,cAAchgC,UAAU5qB,EAAM,GAAGA,EAAM,GAAGA,EAAM,GAAGA,EAAM,GAAGA,EAAM,IAAIA,EAAM,MAYzF6iD,eAAe7jD,UAAU6rD,WAAa,SAASnX,GAI3C,IAAIpyC,KAAK4gD,aAAaY,YAGlB,OAFAxhD,KAAKspD,cAAcE,aAAepX,EAAK,EAAI,EAAIA,OAC/CpyC,KAAK4kC,WAAWgd,mBAAqB5hD,KAAK6hD,YAAY4H,IAG1DzpD,KAAK6hD,YAAY4H,IAAMrX,EAAK,EAAI,EAAIA,EACjCpyC,KAAK4kC,WAAWgd,qBAAuB5hD,KAAK6hD,YAAY4H,KACvDzpD,KAAKspD,cAAcE,YAAcxpD,KAAK6hD,YAAY4H,GAClDzpD,KAAK4kC,WAAWgd,mBAAqB5hD,KAAK6hD,YAAY4H,KAI9DlI,eAAe7jD,UAAUsqB,MAAQ,WACzBhoB,KAAK4gD,aAAaY,YAItBxhD,KAAK6hD,YAAY75B,QAHbhoB,KAAKspD,cAAcI,WAM3BnI,eAAe7jD,UAAUisD,KAAO,SAASC,GACrC,GAAI5pD,KAAK4gD,aAAaY,YAAtB,CAIGoI,GACC5pD,KAAKspD,cAAcK,OAEvB,IAAIjrD,EAAQsB,KAAK6hD,YAAYuH,IAAI1qD,MAC9BsB,KAAK6hD,YAAYlsB,SAAW31B,KAAK6hD,YAAYgI,SAC5C7pD,KAAK6hD,YAAYiI,YAErB,IAAIhuD,EAAGsX,EAAMpT,KAAK6hD,YAAYkI,MAAM/pD,KAAK6hD,YAAYgI,SACrD,IAAK/tD,EAAI,EAAGA,EAAI,GAAIA,GAAK,EACrBsX,EAAItX,GAAK4C,EAAM5C,GAEnBkE,KAAK6hD,YAAYmI,QAAQhqD,KAAK6hD,YAAYgI,SAAW7pD,KAAK6hD,YAAY4H,GACtEzpD,KAAK6hD,YAAYgI,SAAW,OAfxB7pD,KAAKspD,cAAcK,QAkB3BpI,eAAe7jD,UAAUgsD,QAAU,SAASE,GACxC,GAAI5pD,KAAK4gD,aAAaY,YAAtB,CAIGoI,IACC5pD,KAAKspD,cAAcI,UACnB1pD,KAAK4kC,WAAWqlB,UAAY,eAEhCjqD,KAAK6hD,YAAYgI,SAAW,EAC5B,IACI/tD,EADAouD,EAASlqD,KAAK6hD,YAAYkI,MAAM/pD,KAAK6hD,YAAYgI,SAC/Cz2C,EAAMpT,KAAK6hD,YAAYuH,IAAI1qD,MACjC,IAAI5C,EAAE,EAAEA,EAAE,GAAGA,GAAG,EACZsX,EAAItX,GAAKouD,EAAOpuD,GAEpBkE,KAAKspD,cAAcrgC,aAAaihC,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,GAAGA,EAAO,IAAIA,EAAO,KAC1FA,EAASlqD,KAAK6hD,YAAYmI,QAAQhqD,KAAK6hD,YAAYgI,SACnD7pD,KAAK6hD,YAAY4H,GAAKS,EACnBlqD,KAAK4kC,WAAWgd,qBAAuBsI,IACtClqD,KAAKspD,cAAcE,YAAcU,EACjClqD,KAAK4kC,WAAWgd,mBAAqBsI,QAlBrClqD,KAAKspD,cAAcI,WAsB3BnI,eAAe7jD,UAAUsqD,gBAAkB,SAASb,GAC7CnnD,KAAKkgD,cAAct7C,SAClB5E,KAAKkgD,cAAc/pC,UAAY0P,UAAU,UACzC7lB,KAAKkgD,cAAc/pC,UAAUnR,MAAMa,MAAQ,OAC3C7F,KAAKkgD,cAAc/pC,UAAUnR,MAAMsD,OAAS,OAG5CtI,KAAKkgD,cAAc/pC,UAAUnR,MAAM2d,gBAAkB3iB,KAAKkgD,cAAc/pC,UAAUnR,MAAMmlD,mBAAqBnqD,KAAKkgD,cAAc/pC,UAAUnR,MAAM4d,sBAAwB5iB,KAAKkgD,cAAc/pC,UAAUnR,MAAM,qBAAuB,cAClOhF,KAAKkgD,cAAct7C,QAAQmK,YAAY/O,KAAKkgD,cAAc/pC,WAC1DnW,KAAKspD,cAAgBtpD,KAAKkgD,cAAc/pC,UAAU+mB,WAAW,MAC1Dl9B,KAAK4gD,aAAax+C,WACjBpC,KAAKkgD,cAAc/pC,UAAUymB,aAAa,QAAS58B,KAAK4gD,aAAax+C,WAEtEpC,KAAK4gD,aAAal8C,IACjB1E,KAAKkgD,cAAc/pC,UAAUymB,aAAa,KAAM58B,KAAK4gD,aAAal8C,KAGtE1E,KAAKspD,cAAgBtpD,KAAK4gD,aAAaa,QAE3CzhD,KAAK26B,KAAOwsB,EACZnnD,KAAKw4B,OAAS2uB,EAAS3uB,OACvBx4B,KAAKoqD,gBAAkB,CACnB/qC,EAAG8nC,EAAS9nC,EACZgF,EAAE8iC,EAAS9iC,EACXoE,GAAG,EACHC,GAAG,EACHS,GAAG,EACHC,GAAG,GAEPppB,KAAKknD,gBAAgBC,EAAU1lD,SAAS4B,MACxCrD,KAAK4kC,WAAW0kB,cAAgBtpD,KAAKspD,cACrCtpD,KAAK4kC,WAAWxuB,SAAWpW,KAC3BA,KAAK4kC,WAAWylB,UAAW,EAC3BrqD,KAAK4kC,WAAWkc,gBAAkB9gD,KAAK4gD,aAAaE,gBACpD9gD,KAAK4kC,WAAWwlB,gBAAkBpqD,KAAKoqD,gBACvCpqD,KAAKgxC,SAAWhvB,iBAAiBmlC,EAAS3uB,OAAOl6B,QAEjD0B,KAAKkoD,uBAGT3G,eAAe7jD,UAAUwqD,oBAAsB,WAE3C,IAAIoC,EAAaC,EAUbC,EAAWC,EACf,GAZAzqD,KAAKgoB,QAEFhoB,KAAKkgD,cAAct7C,SAAW5E,KAAKkgD,cAAc/pC,WAChDm0C,EAAetqD,KAAKkgD,cAAct7C,QAAQy3B,YAC1CkuB,EAAgBvqD,KAAKkgD,cAAct7C,QAAQ8lD,aAC3C1qD,KAAKkgD,cAAc/pC,UAAUymB,aAAa,QAAQ0tB,EAAetqD,KAAK4gD,aAAac,KACnF1hD,KAAKkgD,cAAc/pC,UAAUymB,aAAa,SAAS2tB,EAAgBvqD,KAAK4gD,aAAac,OAErF4I,EAAetqD,KAAKspD,cAAc1W,OAAO/sC,MAAQ7F,KAAK4gD,aAAac,IACnE6I,EAAgBvqD,KAAKspD,cAAc1W,OAAOtqC,OAAStI,KAAK4gD,aAAac,MAGX,IAA3D1hD,KAAK4gD,aAAap4C,oBAAoB4L,QAAQ,UAA8E,IAA5DpU,KAAK4gD,aAAap4C,oBAAoB4L,QAAQ,SAAgB,CAC7H,IAAIu2C,EAAM3qD,KAAK4gD,aAAap4C,oBAAoB8F,MAAM,KAClDs8C,EAAWD,EAAI,IAAM,OACrBrvC,EAAMqvC,EAAI,IAAM,WAChBxR,EAAO79B,EAAI2hC,OAAO,EAAE,GACpB7D,EAAO99B,EAAI2hC,OAAO,GACtBuN,EAAaF,EAAaC,GAC1BE,EAAezqD,KAAKoqD,gBAAgB/qC,EAAErf,KAAKoqD,gBAAgB/lC,GAC3CmmC,GAA2B,SAAbI,GAAuBH,EAAaD,GAA2B,UAAbI,GAC5E5qD,KAAKoqD,gBAAgB3hC,GAAK6hC,GAActqD,KAAKoqD,gBAAgB/qC,EAAErf,KAAK4gD,aAAac,KACjF1hD,KAAKoqD,gBAAgB1hC,GAAK4hC,GAActqD,KAAKoqD,gBAAgB/qC,EAAErf,KAAK4gD,aAAac,OAEjF1hD,KAAKoqD,gBAAgB3hC,GAAK8hC,GAAevqD,KAAKoqD,gBAAgB/lC,EAAIrkB,KAAK4gD,aAAac,KACpF1hD,KAAKoqD,gBAAgB1hC,GAAK6hC,GAAevqD,KAAKoqD,gBAAgB/lC,EAAIrkB,KAAK4gD,aAAac,MAIpF1hD,KAAKoqD,gBAAgBjhC,GADb,SAATgwB,IAAqBsR,EAAaD,GAAyB,SAAXI,GAAuBH,EAAaD,GAA2B,UAAbI,IACtEN,EAAatqD,KAAKoqD,gBAAgB/qC,GAAGkrC,EAAcvqD,KAAKoqD,gBAAgB/lC,IAAI,EAAErkB,KAAK4gD,aAAac,IAC5G,SAATvI,IAAqBsR,EAAaD,GAAyB,SAAXI,GAAuBH,EAAaD,GAA2B,UAAbI,IAC7EN,EAAatqD,KAAKoqD,gBAAgB/qC,GAAGkrC,EAAcvqD,KAAKoqD,gBAAgB/lC,IAAIrkB,KAAK4gD,aAAac,IAE/F,EAG1B1hD,KAAKoqD,gBAAgBhhC,GADb,SAATgwB,IAAqBqR,EAAaD,GAAyB,SAAXI,GAAuBH,EAAaD,GAA2B,UAAbI,IACrEL,EAAcvqD,KAAKoqD,gBAAgB/lC,GAAGimC,EAAatqD,KAAKoqD,gBAAgB/qC,IAAI,EAAGrf,KAAK4gD,aAAac,IAC9G,SAATtI,IAAqBqR,EAAaD,GAAyB,SAAXI,GAAuBH,EAAaD,GAA2B,UAAbI,IAC5EL,EAAcvqD,KAAKoqD,gBAAgB/lC,GAAGimC,EAAatqD,KAAKoqD,gBAAgB/qC,IAAKrf,KAAK4gD,aAAac,IAEjG,MAGgB,QAAzC1hD,KAAK4gD,aAAap4C,qBACvBxI,KAAKoqD,gBAAgB3hC,GAAK6hC,GAActqD,KAAKoqD,gBAAgB/qC,EAAErf,KAAK4gD,aAAac,KACjF1hD,KAAKoqD,gBAAgB1hC,GAAK6hC,GAAevqD,KAAKoqD,gBAAgB/lC,EAAErkB,KAAK4gD,aAAac,KAClF1hD,KAAKoqD,gBAAgBjhC,GAAK,EAC1BnpB,KAAKoqD,gBAAgBhhC,GAAK,IAE1BppB,KAAKoqD,gBAAgB3hC,GAAKzoB,KAAK4gD,aAAac,IAC5C1hD,KAAKoqD,gBAAgB1hC,GAAK1oB,KAAK4gD,aAAac,IAC5C1hD,KAAKoqD,gBAAgBjhC,GAAK,EAC1BnpB,KAAKoqD,gBAAgBhhC,GAAK,GAE9BppB,KAAKoqD,gBAAgB1rD,MAAQ,CAACsB,KAAKoqD,gBAAgB3hC,GAAG,EAAE,EAAE,EAAE,EAAEzoB,KAAKoqD,gBAAgB1hC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE1oB,KAAKoqD,gBAAgBjhC,GAAGnpB,KAAKoqD,gBAAgBhhC,GAAG,EAAE,GAOpJppB,KAAKkpD,aAAalpD,KAAKoqD,gBAAgB1rD,OACvCsB,KAAKspD,cAAcuB,YACnB7qD,KAAKspD,cAAc/G,KAAK,EAAE,EAAEviD,KAAKoqD,gBAAgB/qC,EAAErf,KAAKoqD,gBAAgB/lC,GACxErkB,KAAKspD,cAAcwB,YACnB9qD,KAAKspD,cAAcyB,OAEnB/qD,KAAKsoD,YAAYtoD,KAAKmkC,eAAe,IAGzCod,eAAe7jD,UAAU+Y,QAAU,WAI/B,IAAI3a,EACJ,IAJGkE,KAAK4gD,aAAaY,cACjBxhD,KAAKkgD,cAAct7C,QAAQm3B,UAAY,IAGtCjgC,GADQkE,KAAKw4B,OAASx4B,KAAKw4B,OAAOl6B,OAAS,GACjC,EAAGxC,GAAK,EAAGA,GAAG,EACtBkE,KAAKgxC,SAASl1C,IACbkE,KAAKgxC,SAASl1C,GAAG2a,UAGzBzW,KAAKgxC,SAAS1yC,OAAS,EACvB0B,KAAK4kC,WAAW0kB,cAAgB,KAChCtpD,KAAKkgD,cAAc/pC,UAAY,KAC/BnW,KAAKqhD,WAAY,GAGrBE,eAAe7jD,UAAU4qD,YAAc,SAAS/zC,EAAKsyB,GACjD,IAAI7mC,KAAKmkC,gBAAkB5vB,IAAyC,IAAlCvU,KAAK4gD,aAAaY,aAAyB3a,KAAgB7mC,KAAKqhD,YAAsB,IAAT9sC,EAA/G,CAGAvU,KAAKmkC,cAAgB5vB,EACrBvU,KAAK4kC,WAAWxE,SAAW7rB,EAAMvU,KAAKkgD,cAAclb,cACpDhlC,KAAK4kC,WAAWC,SAAW,EAC3B7kC,KAAK4kC,WAAWze,MAAQnmB,KAAK4gD,aAAaY,aAAe3a,EACzD7mC,KAAK4kC,WAAW0hB,iBAAiBiC,aAAeh0C,EAIhD,IAAIzY,EAAG0X,EAAMxT,KAAKw4B,OAAOl6B,OAKzB,IAJI0B,KAAKu4B,gBACLv4B,KAAKolD,YAAY7wC,GAGhBzY,EAAI,EAAGA,EAAI0X,EAAK1X,KACdkE,KAAKu4B,gBAAkBv4B,KAAKgxC,SAASl1C,KACpCkE,KAAKgxC,SAASl1C,GAAG0sD,aAAaj0C,EAAMvU,KAAKw4B,OAAO18B,GAAG2pC,IAG3D,GAAGzlC,KAAK4kC,WAAWze,KAAM,CAMrB,KALqC,IAAlCnmB,KAAK4gD,aAAaY,YACjBxhD,KAAKspD,cAAc0B,UAAU,EAAG,EAAGhrD,KAAKoqD,gBAAgB/qC,EAAGrf,KAAKoqD,gBAAgB/lC,GAEhFrkB,KAAK2pD,OAEJ7tD,EAAI0X,EAAM,EAAG1X,GAAK,EAAGA,GAAG,GACtBkE,KAAKu4B,gBAAkBv4B,KAAKgxC,SAASl1C,KACpCkE,KAAKgxC,SAASl1C,GAAGwsD,eAGY,IAAlCtoD,KAAK4gD,aAAaY,aACjBxhD,KAAK0pD,aAKjBnI,eAAe7jD,UAAU4nD,UAAY,SAAShqC,GAC1C,IAAI01B,EAAWhxC,KAAKgxC,SACpB,IAAGA,EAAS11B,IAA+B,IAAvBtb,KAAKw4B,OAAOld,GAAK8N,GAArC,CAGA,IAAIvf,EAAU7J,KAAKwlD,WAAWxlD,KAAKw4B,OAAOld,GAAMtb,KAAKA,KAAK4kC,YAC1DoM,EAAS11B,GAAOzR,EAChBA,EAAQm9C,oBAMZzF,eAAe7jD,UAAU6nD,qBAAwB,WAC7C,KAAMvlD,KAAKohD,gBAAgB9iD,QAAO,CAChB0B,KAAKohD,gBAAgBt/C,MAC3BumD,mBAIhB9G,eAAe7jD,UAAUiN,KAAO,WAC5B3K,KAAKkgD,cAAc/pC,UAAUnR,MAAM8J,QAAU,QAGjDyyC,eAAe7jD,UAAUkrD,KAAO,WAC5B5oD,KAAKkgD,cAAc/pC,UAAUnR,MAAM8J,QAAU,SAiCjDyjB,gBAAgB,CAACytB,cAAcgC,gBAE/BA,eAAetkD,UAAU4nD,UAAYrF,YAAYviD,UAAU4nD,UAE3DtD,eAAetkD,UAAU6nD,qBAAwB,WAC7C,KAAMvlD,KAAKohD,gBAAgB9iD,QAAO,CAChB0B,KAAKohD,gBAAgBt/C,MAC3BumD,mBAIhBrG,eAAetkD,UAAUyqD,mBAAqB,SAASt+C,EAASyR,GAC5D,IAAI2vC,EAAgBphD,EAAQ4+C,iBAC5B,GAAIwC,EAAJ,CAGA,IAAIxF,EAAQzlD,KAAKw4B,OAAOld,GACxB,GAAImqC,EAAMyF,KAAQlrD,KAAKmiD,WA0BnBniD,KAAKmrD,iBAAiBF,EAAc3vC,QAzBpC,GAAGtb,KAAKiiD,eACJjiD,KAAKmrD,iBAAiBF,EAAc3vC,OACjC,CAGH,IAFA,IACI8vC,EAAgBC,EADhBvvD,EAAI,EAEFA,EAAEwf,GACDtb,KAAKgxC,SAASl1C,KAA0B,IAApBkE,KAAKgxC,SAASl1C,IAAckE,KAAKgxC,SAASl1C,GAAG2sD,iBAChE4C,EAAYrrD,KAAKgxC,SAASl1C,GAE1BsvD,GADgBprD,KAAKw4B,OAAO18B,GAAGovD,IAAMlrD,KAAKsrD,wBAAwBxvD,GAAKuvD,EAAU5C,mBAC/C2C,GAEtCtvD,GAAK,EAENsvD,EACK3F,EAAMyF,KAAQlrD,KAAKmiD,YACnBniD,KAAK2gD,aAAagI,aAAasC,EAAeG,GAG9C3F,EAAMyF,KAAQlrD,KAAKmiD,YACnBniD,KAAK2gD,aAAa5xC,YAAYk8C,MAUlDjJ,eAAetkD,UAAUooD,YAAc,SAAUnrB,GAC7C,OAAI36B,KAAKmiD,WAGF,IAAIoJ,cAAc5wB,EAAM36B,KAAK4kC,WAAY5kC,MAFrC,IAAI2nD,gBAAgBhtB,EAAM36B,KAAK4kC,WAAY5kC,OAK1DgiD,eAAetkD,UAAUqoD,WAAa,SAAUprB,GAC5C,OAAI36B,KAAKmiD,WAGF,IAAIqJ,aAAa7wB,EAAM36B,KAAK4kC,WAAY5kC,MAFpC,IAAI4nD,eAAejtB,EAAM36B,KAAK4kC,WAAY5kC,OAKzDgiD,eAAetkD,UAAUsoD,aAAe,SAAUrrB,GAE9C,OADA36B,KAAKkiD,OAAS,IAAIuJ,eAAe9wB,EAAM36B,KAAK4kC,WAAY5kC,MACjDA,KAAKkiD,QAGhBF,eAAetkD,UAAUgoD,YAAc,SAAU/qB,GAC7C,OAAI36B,KAAKmiD,WAGF,IAAIuJ,cAAc/wB,EAAM36B,KAAK4kC,WAAY5kC,MAFrC,IAAI6nD,cAAcltB,EAAM36B,KAAK4kC,WAAY5kC,OAKxDgiD,eAAetkD,UAAUioD,WAAa,SAAUhrB,GAC5C,OAAI36B,KAAKmiD,WAGF,IAAIwJ,aAAahxB,EAAM36B,KAAK4kC,WAAY5kC,MAFpC,IAAI8nD,eAAentB,EAAM36B,KAAK4kC,WAAY5kC,OAMzDgiD,eAAetkD,UAAUkoD,YAAc,SAAUjrB,GAC7C,OAAI36B,KAAKmiD,WAGF,IAAIyJ,cAAcjxB,EAAM36B,KAAK4kC,WAAY5kC,MAFrC,IAAI+nD,cAAcptB,EAAM36B,KAAK4kC,WAAY5kC,OAKxDgiD,eAAetkD,UAAUmoD,WAAa5F,YAAYviD,UAAUmoD,WAE5D7D,eAAetkD,UAAU4tD,wBAA0B,SAAShwC,GAExD,IADA,IAAIxf,EAAI,EAAG0X,EAAMxT,KAAKiiD,eAAe3jD,OAC/BxC,EAAE0X,GAAK,CACT,GAAGxT,KAAKiiD,eAAenmD,GAAG+vD,UAAYvwC,GAAOtb,KAAKiiD,eAAenmD,GAAGgwD,QAAUxwC,EAC1E,OAAOtb,KAAKiiD,eAAenmD,GAAGiwD,gBAElCjwD,GAAK,IAIbkmD,eAAetkD,UAAUsuD,sBAAwB,SAAS1wC,EAAKxQ,GAC3D,IAAIihD,EAAkBlmC,UAAU,OAChCtD,SAASwpC,GACT,IAAI51C,EAAY0P,UAAU,OAC1BtD,SAASpM,GACG,OAATrL,IACCihD,EAAgB/mD,MAAMa,MAAQ7F,KAAK4kC,WAAW6iB,SAASpoC,EAAE,KACzD0sC,EAAgB/mD,MAAMsD,OAAStI,KAAK4kC,WAAW6iB,SAASpjC,EAAE,KAC1D0nC,EAAgB/mD,MAAM2d,gBAAkBopC,EAAgB/mD,MAAMmlD,mBAAqB4B,EAAgB/mD,MAAM4d,sBAAwB,UACjIzM,EAAUnR,MAAMskB,UAAYnT,EAAUnR,MAAMinD,gBAAkB,6CAGlEF,EAAgBh9C,YAAYoH,GAE5B,IAAI+1C,EAAsB,CACtB/1C,UAAUA,EACV41C,gBAAgBA,EAChBF,SAAUvwC,EACVwwC,OAAQxwC,EACRxQ,KAAMA,GAGV,OADA9K,KAAKiiD,eAAe7zC,KAAK89C,GAClBA,GAGXlK,eAAetkD,UAAUyuD,kBAAoB,WACzC,IAAIrwD,EACAswD,EADG54C,EAAMxT,KAAKw4B,OAAOl6B,OAErB+tD,EAAmB,GACvB,IAAIvwD,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACVkE,KAAKw4B,OAAO18B,GAAGovD,KAA6B,IAAtBlrD,KAAKw4B,OAAO18B,GAAGstB,IACZ,OAArBijC,IACCA,EAAmB,KACnBD,EAA0BpsD,KAAKgsD,sBAAsBlwD,EAAE,OAE3DswD,EAAwBN,OAASxhD,KAAK6P,IAAIiyC,EAAwBN,OAAOhwD,KAEjD,OAArBuwD,IACCA,EAAmB,KACnBD,EAA0BpsD,KAAKgsD,sBAAsBlwD,EAAE,OAE3DswD,EAAwBN,OAASxhD,KAAK6P,IAAIiyC,EAAwBN,OAAOhwD,IAIjF,IAAIA,GADJ0X,EAAMxT,KAAKiiD,eAAe3jD,QACZ,EAAGxC,GAAK,EAAGA,IACrBkE,KAAKssD,YAAYv9C,YAAY/O,KAAKiiD,eAAenmD,GAAGiwD,kBAI5D/J,eAAetkD,UAAUytD,iBAAmB,SAASxmB,EAAKrpB,GAEtD,IADA,IAAIxf,EAAI,EAAG0X,EAAMxT,KAAKiiD,eAAe3jD,OAC/BxC,EAAE0X,GAAI,CACR,GAAG8H,GAAOtb,KAAKiiD,eAAenmD,GAAGgwD,OAAO,CAGpC,IAFA,IACIpD,EADA/uC,EAAI3Z,KAAKiiD,eAAenmD,GAAG+vD,SAEzBlyC,EAAE2B,GACDtb,KAAKgxC,SAASr3B,IAAM3Z,KAAKgxC,SAASr3B,GAAG8uC,iBACpCC,EAAc1oD,KAAKgxC,SAASr3B,GAAG8uC,kBAEnC9uC,GAAK,EAEN+uC,EACC1oD,KAAKiiD,eAAenmD,GAAGqa,UAAUwyC,aAAahkB,EAAM+jB,GAEpD1oD,KAAKiiD,eAAenmD,GAAGqa,UAAUpH,YAAY41B,GAEjD,MAEJ7oC,GAAK,IAIbkmD,eAAetkD,UAAUsqD,gBAAkB,SAASb,GAChD,IAAImF,EAAczmC,UAAU,OACxBjhB,EAAU5E,KAAKkgD,cAAct7C,QACjC0nD,EAAYtnD,MAAMa,MAAQshD,EAAS9nC,EAAE,KACrCitC,EAAYtnD,MAAMsD,OAAS6+C,EAAS9iC,EAAE,KACtCrkB,KAAKssD,YAAcA,EACnB/pC,SAAS+pC,GACTA,EAAYtnD,MAAM+d,eAAiBupC,EAAYtnD,MAAMge,qBAAuBspC,EAAYtnD,MAAMie,kBAAoB,OAC/GjjB,KAAK4gD,aAAax+C,WACnBkqD,EAAY1vB,aAAa,QAAS58B,KAAK4gD,aAAax+C,WAEtDwC,EAAQmK,YAAYu9C,GAEpBA,EAAYtnD,MAAM8S,SAAW,SAC7B,IAAI/Q,EAAM4e,SAAS,OACnB5e,EAAI61B,aAAa,QAAQ,KACzB71B,EAAI61B,aAAa,SAAS,KAC1Bra,SAASxb,GACT/G,KAAKssD,YAAYv9C,YAAYhI,GAC7B,IAAIm3B,EAAOvY,SAAS,QACpB5e,EAAIgI,YAAYmvB,GAChBl+B,KAAK26B,KAAOwsB,EAEZnnD,KAAKknD,gBAAgBC,EAAUpgD,GAC/B/G,KAAK4kC,WAAW1G,KAAOA,EACvBl+B,KAAKw4B,OAAS2uB,EAAS3uB,OACvBx4B,KAAK2gD,aAAe3gD,KAAKssD,YACzBtsD,KAAKmsD,oBACLnsD,KAAKkoD,uBAGTlG,eAAetkD,UAAU+Y,QAAU,WAC/BzW,KAAKkgD,cAAct7C,QAAQm3B,UAAY,GACvC/7B,KAAKkgD,cAAc/pC,UAAY,KAC/BnW,KAAK4kC,WAAW1G,KAAO,KACvB,IAAIpiC,EAAG0X,EAAMxT,KAAKw4B,OAASx4B,KAAKw4B,OAAOl6B,OAAS,EAChD,IAAKxC,EAAI,EAAGA,EAAI0X,EAAK1X,IACjBkE,KAAKgxC,SAASl1C,GAAG2a,UAErBzW,KAAKgxC,SAAS1yC,OAAS,EACvB0B,KAAKqhD,WAAY,EACjBrhD,KAAKkgD,cAAgB,MAGzB8B,eAAetkD,UAAUwqD,oBAAsB,WAC3C,IAIIz/B,EAAGC,EAAGS,EAAGC,EAJTkhC,EAAetqD,KAAKkgD,cAAct7C,QAAQy3B,YAC1CkuB,EAAgBvqD,KAAKkgD,cAAct7C,QAAQ8lD,aAC3CF,EAAaF,EAAaC,EACXvqD,KAAK4kC,WAAW6iB,SAASpoC,EAAErf,KAAK4kC,WAAW6iB,SAASpjC,EAEvDmmC,GACZ/hC,EAAK6hC,EAActqD,KAAK4kC,WAAW6iB,SAAU,EAC7C/+B,EAAK4hC,EAActqD,KAAK4kC,WAAW6iB,SAAU,EAC7Ct+B,EAAK,EACLC,GAAOmhC,EAAcvqD,KAAK4kC,WAAW6iB,SAASpjC,GAAGimC,EAAatqD,KAAK4kC,WAAW6iB,SAASpoC,IAAI,IAE3FoJ,EAAK8hC,EAAevqD,KAAK4kC,WAAW6iB,SAAU,EAC9C/+B,EAAK6hC,EAAevqD,KAAK4kC,WAAW6iB,SAAU,EAC9Ct+B,GAAMmhC,EAAatqD,KAAK4kC,WAAW6iB,SAASpoC,GAAGkrC,EAAcvqD,KAAK4kC,WAAW6iB,SAASpjC,IAAI,EAC1F+E,EAAK,GAETppB,KAAKssD,YAAYtnD,MAAMskB,UAAYtpB,KAAKssD,YAAYtnD,MAAMinD,gBAAkB,YAAcxjC,EAAK,YAAYC,EAAG,gBAAgBS,EAAG,IAAIC,EAAG,SAG5I44B,eAAetkD,UAAU4qD,YAAcrI,YAAYviD,UAAU4qD,YAE7DtG,eAAetkD,UAAUiN,KAAO,WAC5B3K,KAAKssD,YAAYtnD,MAAM8J,QAAU,QAGrCkzC,eAAetkD,UAAUkrD,KAAO,WAC5B5oD,KAAKssD,YAAYtnD,MAAM8J,QAAU,SAGrCkzC,eAAetkD,UAAU6oD,UAAY,WAEjC,GADAvmD,KAAKimD,gBACFjmD,KAAKkiD,OACJliD,KAAKkiD,OAAOqK,YACT,CACH,IAEIzwD,EAFA0wD,EAASxsD,KAAK4kC,WAAW6iB,SAASpoC,EAClCotC,EAAUzsD,KAAK4kC,WAAW6iB,SAASpjC,EAChC7Q,EAAMxT,KAAKiiD,eAAe3jD,OACjC,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbkE,KAAKiiD,eAAenmD,GAAGiwD,gBAAgB/mD,MAAM0nD,YAAc1sD,KAAKiiD,eAAenmD,GAAGiwD,gBAAgB/mD,MAAM2nD,kBAAoBriD,KAAK+W,KAAK/W,KAAK6W,IAAIqrC,EAAO,GAAKliD,KAAK6W,IAAIsrC,EAAQ,IAAM,OAK9LzK,eAAetkD,UAAUopD,wBAA0B,SAASxsB,GACxD,IAAIx+B,EAAG0X,EAAM8mB,EAAOh8B,OAChBsuD,EAAoB/mC,UAAU,OAClC,IAAI/pB,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb,GAAGw+B,EAAOx+B,GAAGirD,GAAG,CACZ,IAAI7iB,EAAOlkC,KAAK2lD,WAAWrrB,EAAOx+B,GAAG8wD,EAAkB5sD,KAAK4kC,WAAWV,KAAK,MAC5EA,EAAK8iB,kBACLhnD,KAAK4kC,WAAW0hB,iBAAiBW,oBAAoB/iB,KA4IjEke,YAAY1kD,UAAUu7C,gBAAkB,SAAS39B,GAC7C,OAAOtb,KAAKqiD,SAAS/mC,GAAKvW,MAG9Bq9C,YAAY1kD,UAAU4qD,YAAc,SAAUuE,GAC1C,IACI/wD,EADAgxD,EAAW9sD,KAAK6J,QAAQkjD,eAAenmB,IACpCpzB,EAAMxT,KAAKm5B,gBAAgB76B,OAClC,IAAKxC,EAAI,EAAGA,EAAI0X,EAAK1X,IAOjB,IANGkE,KAAKqiD,SAASvmD,GAAGiJ,KAAKohB,MAAQ0mC,IAC7B7sD,KAAKujD,SAASvjD,KAAKm5B,gBAAgBr9B,GAAGkE,KAAKqiD,SAASvmD,GAAGiJ,KAAKuf,EAAEtkB,KAAKqiD,SAASvmD,KAE7EkE,KAAKqiD,SAASvmD,GAAGs2C,GAAGjsB,MAAQ0mC,IAC3B7sD,KAAKqiD,SAASvmD,GAAG6oC,KAAK/H,aAAa,eAAe58B,KAAKqiD,SAASvmD,GAAGs2C,GAAG9tB,GAEtC,MAAjCtkB,KAAKm5B,gBAAgBr9B,GAAGmB,OACpB+C,KAAKqiD,SAASvmD,GAAGwnD,UAAYtjD,KAAK6J,QAAQkjD,eAAeC,MAAM7mC,MAAQ0mC,IACtE7sD,KAAKqiD,SAASvmD,GAAGwnD,QAAQ1mB,aAAa,YAAakwB,EAASxgC,mBAAmBsB,WAEhF5tB,KAAKy0B,WAAW34B,GAAGkwB,IAAMhsB,KAAKy0B,WAAW34B,GAAGkwB,EAAE7F,MAAQ0mC,IAAc,CACnE,IAAIpK,EAAUziD,KAAKy0B,WAAW34B,GAAGinD,MAC9B/iD,KAAKy0B,WAAW34B,GAAGkwB,EAAE1H,EAAI,GACe,UAApCtkB,KAAKy0B,WAAW34B,GAAGmnD,eAClBjjD,KAAKy0B,WAAW34B,GAAGmnD,aAAe,QAClCjjD,KAAKy0B,WAAW34B,GAAG6oC,KAAK/H,aAAa,SAAS,OAASrc,aAAe,IAAIvgB,KAAKy0B,WAAW34B,GAAGonD,SAAS,MAE1GT,EAAQ7lB,aAAa,UAAU58B,KAAKy0B,WAAW34B,GAAGkwB,EAAE1H,KAEb,WAApCtkB,KAAKy0B,WAAW34B,GAAGmnD,eAClBjjD,KAAKy0B,WAAW34B,GAAGmnD,aAAe,SAClCjjD,KAAKy0B,WAAW34B,GAAG6oC,KAAK/H,aAAa,SAAS,OAElD58B,KAAKy0B,WAAW34B,GAAG6oC,KAAK/H,aAAa,eAAuC,EAAvB58B,KAAKy0B,WAAW34B,GAAGkwB,EAAE1H,MAQ9F89B,YAAY1kD,UAAUuvD,eAAiB,WACnC,OAAOjtD,KAAK0gD,aAGhB0B,YAAY1kD,UAAU0lD,qBAAuB,WACzC,IAAIv8C,EAAO,QAKX,OAJAA,GAAQ,KAAO7G,KAAK4kC,WAAW6iB,SAASpoC,EACxCxY,GAAQ,KAAO7G,KAAK4kC,WAAW6iB,SAASpjC,EACxCxd,GAAQ,MAAQ7G,KAAK4kC,WAAW6iB,SAASpoC,EACzCxY,GAAQ,MAAQ7G,KAAK4kC,WAAW6iB,SAASpjC,EAAI,KAIjD+9B,YAAY1kD,UAAU6lD,SAAW,SAAS9oB,EAAS8X,EAAU8P,GACzD,IACIvmD,EAAG0X,EADH05C,EAAa,KAAK3a,EAAUjuB,EAAE,GAAG,GAAG,IAAIiuB,EAAUjuB,EAAE,GAAG,GAG3D,IADA9Q,EAAM++B,EAAU5c,QACZ75B,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EAEboxD,GAAc,KAAK3a,EAAUh2C,EAAET,EAAE,GAAG,GAAG,IAAIy2C,EAAUh2C,EAAET,EAAE,GAAG,GAAK,IAAIy2C,EAAUz2C,EAAEA,GAAG,GAAG,IAAIy2C,EAAUz2C,EAAEA,GAAG,GAAK,IAAIy2C,EAAUjuB,EAAExoB,GAAG,GAAG,IAAIy2C,EAAUjuB,EAAExoB,GAAG,GAQ5J,GALGy2C,EAAUp2C,GAAKqX,EAAM,IACpB05C,GAAc,KAAK3a,EAAUh2C,EAAET,EAAE,GAAG,GAAG,IAAIy2C,EAAUh2C,EAAET,EAAE,GAAG,GAAK,IAAIy2C,EAAUz2C,EAAE,GAAG,GAAG,IAAIy2C,EAAUz2C,EAAE,GAAG,GAAK,IAAIy2C,EAAUjuB,EAAE,GAAG,GAAG,IAAIiuB,EAAUjuB,EAAE,GAAG,IAIzJ+9B,EAASW,WAAakK,EAAW,CAChC,IAAIC,EAAiB,GAClB9K,EAAS1d,OACL4N,EAAUp2C,IACTgxD,EAAiB1yB,EAAS8V,IAAMvwC,KAAKsiD,UAAY4K,EAAaA,GAElE7K,EAAS1d,KAAK/H,aAAa,IAAIuwB,IAEnC9K,EAASW,SAAWkK,IAI5B9K,YAAY1kD,UAAU+Y,QAAU,WAC5BzW,KAAK6J,QAAU,KACf7J,KAAK4kC,WAAa,KAClB5kC,KAAK0gD,YAAc,KACnB1gD,KAAK26B,KAAO,KACZ36B,KAAKm5B,gBAAkB,MAW3BuqB,iBAAiBhmD,UAAY,CAM5B0vD,cAAe,WAEXptD,KAAK0mD,UAAY,GAEjB1mD,KAAKqtD,WAAY,EACjBrtD,KAAKqoD,kBASTzB,aAAc,SAASF,GACnB1mD,KAAK0mD,UAAYA,GAOrBC,YAAa,WACT3mD,KAAKqtD,WAAY,GAOrBhF,eAAgB,gBACa5nD,IAArBT,KAAK26B,KAAKj6B,QACVV,KAAKkkC,KAAKsiB,sBAAsBxmD,KAAMA,KAAK26B,KAAKj6B,OAAQ,MAajEijD,aAAajmD,UAAY,CAMrBuiC,UAAW,WAEPjgC,KAAKglC,eAAgB,EAErBhlC,KAAKgmB,kBAAoB,GAEzBhmB,KAAKmmB,MAAO,GAYhBmnC,kBAAmB,SAAS/4C,EAAKg5C,GAC7B,IAAIzxD,EAAG0X,EAAMxT,KAAKgmB,kBAAkB1nB,OACpC,IAAKxC,EAAI,EAAEA,EAAI0X,EAAK1X,GAAK,GACjByxD,GAAcvtD,KAAKqtD,WAAoD,cAAvCrtD,KAAKgmB,kBAAkBlqB,GAAG0kC,YAC1DxgC,KAAKgmB,kBAAkBlqB,GAAGsqB,WACtBpmB,KAAKgmB,kBAAkBlqB,GAAGqqB,OAC1BnmB,KAAK4kC,WAAWze,MAAO,EACvBnmB,KAAKmmB,MAAO,KAK5BJ,mBAAoB,SAAShhB,IACoB,IAA1C/E,KAAKgmB,kBAAkB5R,QAAQrP,IAC9B/E,KAAKgmB,kBAAkB5X,KAAKrJ,KAMxC6+C,iBAAiBlmD,UAAY,CACzB8vD,cAAe,WACXxtD,KAAK+sD,eAAiB,CAClBC,MAAOhtD,KAAK26B,KAAKf,GAAKiM,yBAAyByB,qBAAqBtnC,KAAMA,KAAK26B,KAAKf,GAAI55B,MAAQ,CAACzD,EAAE,GACnGkxD,SAAS,EACTC,QAAQ,EACR9mB,IAAK,IAAIpf,QAETxnB,KAAK26B,KAAKgzB,KACV3tD,KAAK+sD,eAAeC,MAAMjmB,cAAe,GAIzC/mC,KAAK26B,KAAKvR,IAIlBwkC,gBAAiB,WAKb,GAHA5tD,KAAK+sD,eAAeW,OAAS1tD,KAAK+sD,eAAeC,MAAMzwD,EAAE4pB,MAAQnmB,KAAKglC,cACtEhlC,KAAK+sD,eAAeU,QAAUztD,KAAK+sD,eAAeC,MAAM7mC,MAAQnmB,KAAKglC,cAEjEhlC,KAAK0mD,UAAW,CAChB,IAAI9f,EACAkmB,EAAW9sD,KAAK+sD,eAAenmB,IAC/B9qC,EAAI,EAAG0X,EAAMxT,KAAK0mD,UAAUpoD,OAEhC,IAAK0B,KAAK+sD,eAAeU,QACrB,KAAO3xD,EAAI0X,GAAK,CACZ,GAAIxT,KAAK0mD,UAAU5qD,GAAGixD,eAAeC,MAAM7mC,KAAM,CAC7CnmB,KAAK+sD,eAAeU,SAAU,EAC9B,MAEJ3xD,GAAK,EAIb,GAAIkE,KAAK+sD,eAAeU,QAGpB,IAFA7mB,EAAM5mC,KAAK+sD,eAAeC,MAAM1oC,EAAE5lB,MAClCouD,EAAShhC,eAAe8a,GACnB9qC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACtB8qC,EAAM5mC,KAAK0mD,UAAU5qD,GAAGixD,eAAeC,MAAM1oC,EAAE5lB,MAC/CouD,EAASxjC,UAAUsd,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAAKA,EAAI,IAAKA,EAAI,IAAKA,EAAI,IAAKA,EAAI,IAAKA,EAAI,OAKpKinB,cAAe,SAASnhC,GACpB,IAAIohC,EAAa,GACjBA,EAAW1/C,KAAKpO,KAAK+sD,gBAGrB,IAFA,IAAIzqC,GAAO,EACP4hB,EAAOlkC,KAAKkkC,KACT5hB,GACC4hB,EAAK6oB,gBACD7oB,EAAKvJ,KAAK1B,SACV60B,EAAWxoC,OAAO,EAAG,EAAG4e,EAAK6oB,gBAEjC7oB,EAAOA,EAAKA,MAEZ5hB,GAAO,EAGf,IAAIxmB,EAA2BiyD,EAAxBv6C,EAAMs6C,EAAWxvD,OACxB,IAAKxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACtBiyD,EAAQD,EAAWhyD,GAAG8qC,IAAIja,kBAAkB,EAAG,EAAG,GAElDD,EAAK,CAACA,EAAG,GAAKqhC,EAAM,GAAIrhC,EAAG,GAAKqhC,EAAM,GAAI,GAE9C,OAAOrhC,GAEXqtB,QAAS,IAAIvyB,QAMjBq8B,kBAAkBnmD,UAAY,CAC1BswD,eAAgB,WAEZhuD,KAAKiuD,WAAY,EAEjBjuD,KAAKkuD,QAAS,EAEdluD,KAAKmuD,eAAgB,EAErBnuD,KAAKouD,qBAAuB,IAEhC3K,uBAAwB,SAAS4K,IACwB,IAAlDruD,KAAKouD,qBAAqBh6C,QAAQi6C,IACjCruD,KAAKouD,qBAAqBhgD,KAAKigD,IAGvCC,0BAA2B,SAASD,IACqB,IAAlDruD,KAAKouD,qBAAqBh6C,QAAQi6C,IACjCruD,KAAKouD,qBAAqB9oC,OAAOtlB,KAAKouD,qBAAqBh6C,QAAQi6C,GAAY,IAGvFE,uBAAwB,SAASh6C,GAC7BvU,KAAKwuD,iBAAiBj6C,IAE1Bk6C,kBAAmB,WACZzuD,KAAK+sD,eAAeC,MAAMzwD,EAAE+nB,GAAK,GAC5BtkB,KAAKmuD,eAAiBnuD,KAAK4kC,WAAWgc,aAAaG,oBACnD/gD,KAAKmuD,eAAgB,EACrBnuD,KAAK2K,QAEH3K,KAAKmuD,gBACXnuD,KAAKmuD,eAAgB,EACrBnuD,KAAK4oD,SAWb4F,iBAAkB,SAASj6C,GACpBvU,KAAK26B,KAAK0qB,GAAKrlD,KAAK26B,KAAK8K,IAAMlxB,GAAOvU,KAAK26B,KAAKyX,GAAKpyC,KAAK26B,KAAK8K,GAAKlxB,GAE7C,IAAnBvU,KAAKiuD,YACJjuD,KAAK4kC,WAAWze,MAAO,EACvBnmB,KAAKmmB,MAAO,EACZnmB,KAAKiuD,WAAY,EACjBjuD,KAAK4oD,SAGa,IAAnB5oD,KAAKiuD,YACJjuD,KAAK4kC,WAAWze,MAAO,EACvBnmB,KAAKiuD,WAAY,EACjBjuD,KAAK2K,SAIjB+jD,iBAAkB,WACd,IAAI5yD,EAAG0X,EAAMxT,KAAKouD,qBAAqB9vD,OACvC,IAAIxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACrBkE,KAAKouD,qBAAqBtyD,GAAGwsD,YAAYtoD,KAAKglC,gBAKtD2pB,iBAAkB,WACd,MAAO,CACHlsC,IAAI,EACJC,KAAK,EACL7c,MAAM,IACNyC,OAAO,MAGfsmD,aAAc,WACV,OAAoB,IAAjB5uD,KAAK26B,KAAKvR,GACF,CAAC/J,EAAErf,KAAK26B,KAAKmb,SAASjwC,MAAMwe,EAAErkB,KAAK26B,KAAKmb,SAASxtC,QAEjD,CAAC+W,EAAErf,KAAK26B,KAAK90B,MAAMwe,EAAErkB,KAAK26B,KAAKryB,UA+D9CiqB,gBAAgB,CAACsxB,kBAAmBjxB,oBAxDnB,CACbi8B,YAAa,SAASl0B,EAAKiK,EAAWV,GAClClkC,KAAKigC,YACLjgC,KAAK8uD,aAAan0B,EAAMiK,EAAYV,GACpClkC,KAAKwtD,cAAc7yB,EAAMiK,EAAYV,GACrClkC,KAAKotD,gBACLptD,KAAKguD,iBACLhuD,KAAK+uD,sBACL/uD,KAAKgvD,0BACLhvD,KAAKivD,6BACLjvD,KAAKkvD,gBACLlvD,KAAK2K,QAETA,KAAM,WACG3K,KAAKkuD,QAAYluD,KAAKiuD,YAAajuD,KAAKmuD,iBAC9BnuD,KAAKmvD,aAAenvD,KAAK2gD,cAC/B37C,MAAM8J,QAAU,OACrB9O,KAAKkuD,QAAS,IAGtBtF,KAAM,WACE5oD,KAAKiuD,YAAcjuD,KAAKmuD,gBACnBnuD,KAAK26B,KAAKwpB,MACAnkD,KAAKmvD,aAAenvD,KAAK2gD,cAC/B37C,MAAM8J,QAAU,SAEzB9O,KAAKkuD,QAAS,EACdluD,KAAKglC,eAAgB,IAG7BsjB,YAAa,WAGLtoD,KAAK26B,KAAKwpB,IAAMnkD,KAAKkuD,SAGzBluD,KAAK4tD,kBACL5tD,KAAK0uD,mBACL1uD,KAAKovD,gBACLpvD,KAAKqvD,qBACDrvD,KAAKglC,gBACLhlC,KAAKglC,eAAgB,KAG7BqqB,mBAAoB,aACpB7G,aAAc,SAASj0C,GACnBvU,KAAKmmB,MAAO,EACZnmB,KAAKuuD,uBAAuBh6C,GAC5BvU,KAAKstD,kBAAkB/4C,EAAKvU,KAAKiuD,WACjCjuD,KAAKyuD,qBAETh4C,QAAS,WACLzW,KAAKsvD,UAAa,KAClBtvD,KAAKuvD,yBAGyDzL,sBAiB1EE,aAAatmD,UAAUsqB,MAAQ,WAC9BhoB,KAAK5D,EAAI,GACT4D,KAAKmmB,MAAO,GAwBbm+B,aAAa5mD,UAAU2vC,cAAgB,WACnCrtC,KAAKimB,aAAc,GAsBvBsM,gBAAgB,CAACzM,0BAA2B6+B,oBAS5CpyB,gBAAgB,CAACzM,0BAA2B++B,kBAO5CC,yBAAyBpnD,UAAUqnD,iBAAmB,SAASpgB,EAAMhK,EAAMiqB,GACvE5kD,KAAKzD,EAAIyjC,gBAAgB4F,QAAQjB,EAAKhK,EAAKp+B,EAAE,EAAE,IAAKyD,MACpDA,KAAKnC,EAAImiC,gBAAgB4F,QAAQjB,EAAKhK,EAAK98B,EAAE,EAAE,KAAKmC,MACpDA,KAAKgG,EAAIg6B,gBAAgB4F,QAAQjB,EAAKhK,EAAK30B,EAAE,EAAE,KAAKhG,MACpDA,KAAKqkB,EAAI2b,gBAAgB4F,QAAQjB,EAAKhK,EAAKtW,GAAG,CAAC/K,EAAE,GAAG,EAAE,IAAKtZ,MAC3DA,KAAKyK,EAAIu1B,gBAAgB4F,QAAQjB,EAAKhK,EAAKlwB,GAAG,CAAC6O,EAAE,GAAG,EAAE4I,UAAUliB,MAChEA,KAAKukB,EAAI,IAAIooB,iBAAiBhI,EAAKhK,EAAKpW,EAAEvkB,MAC1CA,KAAKgF,MAAQ4/C,EACb5kD,KAAKwvD,MAAQ,GACbxvD,KAAKyvD,gBAAgB7K,EAAQR,MAAOzpB,GACpC36B,KAAK0vD,mBAAmB/0B,EAAMiqB,GAC9B5kD,KAAKimB,cAAgBjmB,KAAKimB,aAI9B6+B,yBAAyBpnD,UAAU+xD,gBAAkB,SAASE,EAAYh1B,GAEtE,IAAIi1B,EAAa1rC,kBACb2rC,EAAQlqC,SAAoB,IAAXgV,EAAK39B,EAAU,iBAAmB,kBACvD6yD,EAAMjzB,aAAa,KAAKgzB,GACxBC,EAAMjzB,aAAa,eAAe,OAClCizB,EAAMjzB,aAAa,gBAAgB,kBACnC,IACIjmB,EAAMgD,EAAGif,EADT42B,EAAQ,GAGZ,IADA52B,EAAgB,EAAT+B,EAAKpW,EAAE3mB,EACV+b,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,EACdhD,EAAOgP,SAAS,QAChBkqC,EAAM9gD,YAAY4H,GAClB64C,EAAMphD,KAAKuI,GAEfg5C,EAAY/yB,aAA0B,OAAZjC,EAAKvR,GAAc,OAAO,SAAS,OAAS7I,aAAe,IAAIqvC,EAAW,KAEpG5vD,KAAK8vD,GAAKD,EACV7vD,KAAK+vD,IAAMP,GAGf1K,yBAAyBpnD,UAAUgyD,mBAAqB,SAAS/0B,EAAMiqB,GACnE,GAAG5kD,KAAKukB,EAAE0oB,cAAgBjtC,KAAKukB,EAAEwoB,aAAa,CAC1C,IAAIp2B,EAAMgD,EAAGif,EACTghB,EAAOj0B,SAAS,QAChB+6B,EAAc/6B,SAAU,QAC5Bi0B,EAAK7qC,YAAY2xC,GACjB,IAAIsP,EAAY9rC,kBACZ+jC,EAAS/jC,kBACb01B,EAAKhd,aAAa,KAAKqrB,GACvB,IAAIgI,EAAStqC,SAAoB,IAAXgV,EAAK39B,EAAU,iBAAmB,kBACxDizD,EAAOrzB,aAAa,KAAKozB,GACzBC,EAAOrzB,aAAa,eAAe,OACnCqzB,EAAOrzB,aAAa,gBAAgB,kBACpChE,EAAO+B,EAAKpW,EAAEjL,EAAEA,EAAE,GAAGzb,EAAI88B,EAAKpW,EAAEjL,EAAEA,EAAE,GAAGzb,EAAES,OAASq8B,EAAKpW,EAAEjL,EAAEA,EAAEhb,OAC7D,IAAIkxD,EAAQxvD,KAAKwvD,MACjB,IAAI71C,EAAW,EAATghB,EAAKpW,EAAE3mB,EAAI+b,EAAEif,EAAKjf,GAAG,GACvBhD,EAAOgP,SAAS,SACXiX,aAAa,aAAa,oBAC/BqzB,EAAOlhD,YAAY4H,GACnB64C,EAAMphD,KAAKuI,GAEf+pC,EAAY9jB,aAA0B,OAAZjC,EAAKvR,GAAc,OAAO,SAAS,OAAS7I,aAAe,IAAIyvC,EAAU,KACnGhwD,KAAKm4C,GAAK8X,EACVjwD,KAAKkwD,GAAKtW,EACV55C,KAAKmwD,IAAMX,EACXxvD,KAAKioD,OAASA,EACdrD,EAAQP,OAAS3D,IAIzBnuB,gBAAgB,CAACzM,0BAA2Bg/B,0BAU5CvyB,gBAAgB,CAACuyB,yBAA0Bh/B,0BAA2Bk/B,4BAMtE,IAAIoL,oBAAuB,WAC1B,IAAIC,EAAkB,IAAI7oC,OACtB8oC,EAAgB,IAAI9oC,OA2BxB,SAAS+oC,EAAuBC,EAAWC,EAAU5D,IAC9CA,GAAgB4D,EAASnnC,UAAU8oB,GAAGjsB,OACrCsqC,EAASnnC,UAAUnT,UAAUymB,aAAa,UAAU6zB,EAASnnC,UAAU8oB,GAAG9tB,IAE3EuoC,GAAgB4D,EAASnnC,UAAU6oB,OAAOhsB,OACzCsqC,EAASnnC,UAAUnT,UAAUymB,aAAa,YAAY6zB,EAASnnC,UAAU6oB,OAAO7tB,EAAEsJ,WAI1F,SAAS8iC,EAAWF,EAAWC,EAAU5D,GACrC,IAAIlzC,EAAGif,EAAK+3B,EAAsBC,EAAOre,EAAUx2C,EAE/C2+B,EAAOkM,EAAKloC,EAAOmyD,EAAYv3C,EAFmBw3C,EAAOL,EAAS/wD,OAAOpB,OACzE4lD,EAAMuM,EAASvM,IAEnB,IAAInoD,EAAE,EAAEA,EAAE+0D,EAAK/0D,GAAG,EAAE,CAEhB,GADA60D,EAASH,EAAStuB,GAAGhc,MAAQ0mC,EAC1B4D,EAAS/wD,OAAO3D,GAAGmoD,IAAMA,EAAI,CAI5B,IAHAtd,EAAM0pB,EAActoC,QACpB6oC,EAAa3M,EAAMuM,EAAS/wD,OAAO3D,GAAGmoD,IACtC5qC,EAAIm3C,EAASlM,aAAajmD,OAAO,GAC1BsyD,GAAUC,EAAa,GAC1BD,EAASH,EAASlM,aAAajrC,GAAG64B,OAAOhsB,MAAQyqC,EACjDC,IACAv3C,IAEJ,GAAGs3C,EAGC,IAFAC,EAAa3M,EAAMuM,EAAS/wD,OAAO3D,GAAGmoD,IACtC5qC,EAAIm3C,EAASlM,aAAajmD,OAAO,EAC3BuyD,EAAa,GACfnyD,EAAQ+xD,EAASlM,aAAajrC,GAAG64B,OAAO7tB,EAAE5lB,MAC1CkoC,EAAItd,UAAU5qB,EAAM,GAAGA,EAAM,GAAGA,EAAM,GAAGA,EAAM,GAAGA,EAAM,GAAGA,EAAM,GAAGA,EAAM,GAAGA,EAAM,GAAGA,EAAM,GAAGA,EAAM,GAAGA,EAAM,IAAIA,EAAM,IAAIA,EAAM,IAAIA,EAAM,IAAIA,EAAM,IAAIA,EAAM,KAChKmyD,IACAv3C,SAIRstB,EAAMypB,EAIV,GADAz3B,GADA8B,EAAQ+1B,EAAStuB,GAAGzH,OACP/E,QACVi7B,EAAO,CAEN,IADAD,EAAwB,GACpBh3C,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,GACd44B,EAAY7X,EAAMlB,OAAO7f,KACT44B,EAAU5c,UACtBg7B,GAAyBre,iBAAiBC,EAAWA,EAAU5c,QAAS4c,EAAUp2C,EAAGyqC,IAG7F6pB,EAASjM,OAAOzoD,GAAK40D,OAErBA,EAAwBF,EAASjM,OAAOzoD,GAE5C00D,EAAS/wD,OAAO3D,GAAGK,IAAsB,IAAjBo0D,EAAUrM,GAAc,GAAKwM,EACrDF,EAAS/wD,OAAO3D,GAAGoqB,KAAOyqC,GAAUH,EAAS/wD,OAAO3D,GAAGoqB,MAI/D,SAAS4qC,EAAYP,EAAUC,EAAU5D,GACrC,IAAImE,EAAYP,EAASzrD,OAEtByrD,EAASt0D,EAAEgqB,MAAQ0mC,IAClBmE,EAAU5M,MAAMxnB,aAAa,OAAO,OAAOpb,SAASivC,EAASt0D,EAAEmoB,EAAE,IAAI,IAAI9C,SAASivC,EAASt0D,EAAEmoB,EAAE,IAAI,IAAI9C,SAASivC,EAASt0D,EAAEmoB,EAAE,IAAI,MAElImsC,EAASl0D,EAAE4pB,MAAQ0mC,IAClBmE,EAAU5M,MAAMxnB,aAAa,eAAe6zB,EAASl0D,EAAE+nB,GAI/D,SAAS2sC,EAAsBT,EAAWC,EAAU5D,GAChDqE,EAAeV,EAAWC,EAAU5D,GACpCsE,EAAaX,EAAWC,EAAU5D,GAGtC,SAASqE,EAAeV,EAAWC,EAAU5D,GACzC,IAkBI2C,EAAO1zD,EAAG0X,EAAKmD,EAqCXi0B,EAvDJilB,EAAQY,EAASX,GACjBsB,EAAaX,EAASlsC,EAAE0oB,YACxBjgB,EAAMyjC,EAAS5yD,EAAEymB,EAAG2I,EAAMwjC,EAASzqD,EAAEse,EAEzC,GAAImsC,EAASl0D,EAAE4pB,MAAQ0mC,EAAc,CACjC,IAAIzlD,EAAwB,OAAjBopD,EAAUpnC,GAAc,eAAiB,iBACpDqnC,EAASzrD,MAAMo/C,MAAMxnB,aAAax1B,EAAMqpD,EAASl0D,EAAE+nB,GAEvD,GAAImsC,EAAS5yD,EAAEsoB,MAAQ0mC,EAAc,CACjC,IAAIwE,EAAwB,IAAhBb,EAAUxzD,EAAU,KAAO,KACnCs0D,EAAkB,OAAVD,EAAiB,KAAO,KACpCxB,EAAMjzB,aAAay0B,EAAOrkC,EAAI,IAC9B6iC,EAAMjzB,aAAa00B,EAAOtkC,EAAI,IAC1BokC,IAAeX,EAASlsC,EAAEwoB,eAC1B0jB,EAAStY,GAAGvb,aAAay0B,EAAOrkC,EAAI,IACpCyjC,EAAStY,GAAGvb,aAAa00B,EAAOtkC,EAAI,KAI5C,GAAIyjC,EAASlsC,EAAEsoB,OAASggB,EAAc,CAClC2C,EAAQiB,EAASV,IACjB,IAAIwB,EAAUd,EAASlsC,EAAEpoB,EAEzB,IADAqX,EAAMg8C,EAAMlxD,OACPxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,GACtB6a,EAAO64C,EAAM1zD,IACR8gC,aAAa,SAAU20B,EAAY,EAAJz1D,GAAS,KAC7C6a,EAAKimB,aAAa,aAAa,OAAQ20B,EAAY,EAAJz1D,EAAQ,GAAK,IAAMy1D,EAAY,EAAJz1D,EAAQ,GAAK,IAAIy1D,EAAY,EAAJz1D,EAAQ,GAAK,KAGxH,GAAIs1D,IAAeX,EAASlsC,EAAEuoB,OAAS+f,GAAe,CAClD,IAAI2E,EAAUf,EAASlsC,EAAEhoB,EAOzB,IADAiX,GAJIg8C,EADDiB,EAASlsC,EAAEwoB,aACF0jB,EAASV,IAETU,EAASN,KAET7xD,OACPxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACtB6a,EAAO64C,EAAM1zD,GACT20D,EAASlsC,EAAEwoB,cACXp2B,EAAKimB,aAAa,SAAU40B,EAAY,EAAJ11D,GAAS,KAEjD6a,EAAKimB,aAAa,eAAgB40B,EAAY,EAAJ11D,EAAQ,IAG1D,GAAoB,IAAhB00D,EAAUxzD,GACNyzD,EAASzqD,EAAEmgB,MAAS0mC,KACpBgD,EAAMjzB,aAAa,KAAM3P,EAAI,IAC7B4iC,EAAMjzB,aAAa,KAAM3P,EAAI,IACzBmkC,IAAeX,EAASlsC,EAAEwoB,eAC1B0jB,EAAStY,GAAGvb,aAAa,KAAM3P,EAAI,IACnCwjC,EAAStY,GAAGvb,aAAa,KAAM3P,EAAI,WAY3C,IAPIwjC,EAAS5yD,EAAEsoB,MAAQsqC,EAASzqD,EAAEmgB,MAAQ0mC,KACtCjiB,EAAMtgC,KAAK+W,KAAK/W,KAAK6W,IAAI6L,EAAI,GAAKC,EAAI,GAAI,GAAK3iB,KAAK6W,IAAI6L,EAAI,GAAKC,EAAI,GAAI,IACzE4iC,EAAMjzB,aAAa,IAAKgO,GACrBwmB,IAAeX,EAASlsC,EAAEwoB,cACzB0jB,EAAStY,GAAGvb,aAAa,IAAKgO,IAGlC6lB,EAASzqD,EAAEmgB,MAAQsqC,EAASpsC,EAAE8B,MAAQsqC,EAAShmD,EAAE0b,MAAQ0mC,EAAc,CAClEjiB,IACDA,EAAMtgC,KAAK+W,KAAK/W,KAAK6W,IAAI6L,EAAI,GAAKC,EAAI,GAAI,GAAK3iB,KAAK6W,IAAI6L,EAAI,GAAKC,EAAI,GAAI,KAE7E,IAAIwkC,EAAMnnD,KAAKo4B,MAAMzV,EAAI,GAAKD,EAAI,GAAIC,EAAI,GAAKD,EAAI,IAG/C0kC,EAAO9mB,GADG6lB,EAASpsC,EAAEC,GAAK,EAAI,IAAOmsC,EAASpsC,EAAEC,IAAM,GAAK,IAAMmsC,EAASpsC,EAAEC,GAE5E0H,EAAI1hB,KAAKod,IAAI+pC,EAAMhB,EAAShmD,EAAE6Z,GAAKotC,EAAO1kC,EAAI,GAC9Cf,EAAI3hB,KAAKsd,IAAI6pC,EAAMhB,EAAShmD,EAAE6Z,GAAKotC,EAAO1kC,EAAI,GAClD6iC,EAAMjzB,aAAa,KAAM5Q,GACzB6jC,EAAMjzB,aAAa,KAAM3Q,GACrBmlC,IAAeX,EAASlsC,EAAEwoB,eAC1B0jB,EAAStY,GAAGvb,aAAa,KAAM5Q,GAC/BykC,EAAStY,GAAGvb,aAAa,KAAM3Q,KAO/C,SAASklC,EAAaX,EAAWC,EAAU5D,GACvC,IAAImE,EAAYP,EAASzrD,MACrB5I,EAAIq0D,EAASr0D,EACbA,IAAMA,EAAE+pB,MAAQ0mC,IAAiBzwD,EAAEowC,UACnCwkB,EAAU5M,MAAMxnB,aAAa,mBAAoBxgC,EAAEowC,SACnDwkB,EAAU5M,MAAMxnB,aAAa,oBAAqBxgC,EAAEswC,WAAW,KAEhE+jB,EAASt0D,IAAMs0D,EAASt0D,EAAEgqB,MAAQ0mC,IACjCmE,EAAU5M,MAAMxnB,aAAa,SAAS,OAASpb,SAASivC,EAASt0D,EAAEmoB,EAAE,IAAM,IAAM9C,SAASivC,EAASt0D,EAAEmoB,EAAE,IAAM,IAAM9C,SAASivC,EAASt0D,EAAEmoB,EAAE,IAAM,MAEhJmsC,EAASl0D,EAAE4pB,MAAQ0mC,IAClBmE,EAAU5M,MAAMxnB,aAAa,iBAAkB6zB,EAASl0D,EAAE+nB,IAE3DmsC,EAASpxC,EAAE8G,MAAQ0mC,KAClBmE,EAAU5M,MAAMxnB,aAAa,eAAgB6zB,EAASpxC,EAAEiF,GACrD0sC,EAAU3M,QACT2M,EAAU3M,OAAOznB,aAAa,eAAgB6zB,EAASpxC,EAAEiF,IAKrE,MA3MS,CACRqtC,qBAGD,SAA8Bh3B,GACjBA,EAAKvR,GACd,OAAOuR,EAAKvR,IACR,IAAK,KACL,OAAO2nC,EACP,IAAK,KACL,OAAOG,EACP,IAAK,KACL,OAAOD,EACP,IAAK,KACL,OAAOE,EACP,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,OAAOT,EACP,IAAK,KACL,OAAOH,KAzBU,GAiN1B,SAASqB,wBACR5xD,KAAK6xD,UAAY,GACjB7xD,KAAK8xD,aAAe,GACjB9xD,KAAK+xD,oBAAsB,EAqD/B,SAASC,YAAYnoD,EAAS8wB,EAAMj7B,EAAQuyD,GACxCjyD,KAAKkyD,aAAe,GACpBlyD,KAAK8vC,GAAK,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,GACrB,IAAI1mB,EAAK,EACK,MAAXuR,EAAKvR,GACJA,EAAK,EACW,MAAXuR,EAAKvR,GACVA,EAAK,EACW,MAAXuR,EAAKvR,KACVA,EAAK,GAETppB,KAAKmiC,GAAKyG,qBAAqBya,aAAax5C,EAAQ8wB,EAAKvR,EAAGvf,GAC5D,IAAI/N,EAAwBq2D,EAApB3+C,EAAM9T,EAAOpB,OACrB,IAAKxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACjB4D,EAAO5D,GAAGy5B,SACX48B,EAAc,CACVrE,WAAYmE,EAAkBG,qBAAqB1yD,EAAO5D,GAAGgyD,YAC7DuE,QAAS,IAEbryD,KAAKkyD,aAAa9jD,KAAK+jD,GACvBzyD,EAAO5D,GAAGk1C,SAAS5iC,KAAK+jD,IAMpC,SAASG,eA4DT,SAAS5K,YAAY/sB,EAAKiK,EAAWV,GACjClkC,KAAKigC,YACRjgC,KAAK8uD,aAAan0B,EAAMiK,EAAYV,GACjClkC,KAAKigC,YACLjgC,KAAKwtD,cAAc7yB,EAAMiK,EAAYV,GACrClkC,KAAKotD,gBAyBT,SAASmF,kBA6JT,SAASC,iBAuET,SAASC,gBAgFT,SAASC,gBA8FT,SAAS7K,cAAcltB,EAAKiK,EAAWV,GACnClkC,KAAKozC,UAAYxO,EAAWyiB,aAAa1sB,EAAKrB,OAC9Ct5B,KAAK6uD,YAAYl0B,EAAKiK,EAAWV,GACjClkC,KAAK2yD,WAAa,CAAClwC,IAAI,EAAEC,KAAK,EAAE7c,MAAM7F,KAAKozC,UAAU/zB,EAAE/W,OAAOtI,KAAKozC,UAAU/uB,GAqBjF,SAAS0jC,cAAcptB,EAAKiK,EAAWV,GACnClkC,KAAK6uD,YAAYl0B,EAAKiK,EAAWV,GAerC,SAAS4jB,eAAentB,EAAKiK,EAAWV,GACpClkC,KAAKw4B,OAASmC,EAAKnC,OACnBx4B,KAAKmiD,YAAa,EAClBniD,KAAKu4B,gBAAiB,EACtBv4B,KAAKohD,gBAAkB,GACvBphD,KAAKgxC,SAAWhxC,KAAKw4B,OAASxW,iBAAiBhiB,KAAKw4B,OAAOl6B,QAAU,GAErE0B,KAAK6uD,YAAYl0B,EAAKiK,EAAWV,GACjClkC,KAAK4yD,GAAKj4B,EAAKi4B,GAAK5yB,gBAAgB4F,QAAQ5lC,KAAK26B,EAAKi4B,GAAG,EAAEhuB,EAAWsC,UAAUlnC,MAAQ,CAAC6yD,cAAa,GAI1G,SAASjL,eAAejtB,EAAKiK,EAAWV,GACpClkC,KAAK8yD,UAAY,GACjB9yD,KAAK+1C,WAAa,MAClB/1C,KAAK6uD,YAAYl0B,EAAKiK,EAAWV,GA8MrC,SAASyjB,gBAAgBhtB,EAAKiK,EAAWV,GAErClkC,KAAKw5B,OAAS,GAEdx5B,KAAK+yD,WAAap4B,EAAKnB,OAEvBx5B,KAAKgzD,WAAa,GAElBhzD,KAAKizD,eAAiB,GAEtBjzD,KAAKkzD,UAAY,GAEjBlzD,KAAKmzD,kBAAoB,GAEzBnzD,KAAKozD,iBAAmB,GACxBpzD,KAAK6uD,YAAYl0B,EAAKiK,EAAWV,GAGjClkC,KAAKklD,aAAe,GAySxB,SAASmO,cAAcnqD,EAAQoqD,GAC3BtzD,KAAKszD,cAAgBA,EACrB,IAAIxe,EAAgBnvB,SAAS,iBAa7B,GAZAmvB,EAAclY,aAAa,OAAO,UAClCkY,EAAclY,aAAa,8BAA8B,aACzDkY,EAAclY,aAAa,SAAS,wFACpCkY,EAAclY,aAAa,SAAS,MACpC1zB,EAAO6F,YAAY+lC,IACnBA,EAAgBnvB,SAAS,kBACXiX,aAAa,OAAO,UAClCkY,EAAclY,aAAa,8BAA8B,QACzDkY,EAAclY,aAAa,SAAS,2CACpCkY,EAAclY,aAAa,SAAS,MACpC1zB,EAAO6F,YAAY+lC,GACnB90C,KAAKuzD,aAAeze,EACuB,MAAxCwe,EAAcE,eAAe,GAAG51D,EAAE0mB,GAAagvC,EAAcE,eAAe,GAAG51D,EAAE0b,EAAE,CAClF,IAEIm6C,EAFAC,EAAU/tC,SAAS,WACvBzc,EAAO6F,YAAY2kD,IAEnBD,EAAc9tC,SAAS,gBACXiX,aAAa,KAAK,iBAC9B82B,EAAQ3kD,YAAY0kD,IACpBA,EAAc9tC,SAAS,gBACXiX,aAAa,KAAK,MAC9B82B,EAAQ3kD,YAAY0kD,IAY5B,SAASE,cAAczqD,EAAQoqD,GAC3BtzD,KAAKszD,cAAgBA,EACrB,IAAIxe,EAAgBnvB,SAAS,iBAC7BmvB,EAAclY,aAAa,OAAO,UAClCkY,EAAclY,aAAa,8BAA8B,QACzDkY,EAAclY,aAAa,SAAS,2CACpC1zB,EAAO6F,YAAY+lC,GACnB90C,KAAKuzD,aAAeze,EASxB,SAAS8e,sBAAsB1qD,EAAQoqD,GAEnCpqD,EAAO0zB,aAAa,IAAI,SACxB1zB,EAAO0zB,aAAa,IAAI,SACxB1zB,EAAO0zB,aAAa,QAAQ,QAC5B1zB,EAAO0zB,aAAa,SAAS,QAE7B58B,KAAKszD,cAAgBA,EACrB,IAAIO,EAAiBluC,SAAS,kBAC9Bzc,EAAO6F,YAAY8kD,GACnB7zD,KAAK6zD,eAAiBA,EA6B1B,SAASC,gBAAgBnvB,EAAM2uB,GAC3BtzD,KAAK+zD,aAAc,EACnB/zD,KAAKszD,cAAgBA,EACrBtzD,KAAK2kC,KAAOA,EACZ3kC,KAAK06B,MAAQ,GAuGjB,SAASs5B,iBAAiB9qD,EAAQoqD,GAC9BtzD,KAAKszD,cAAgBA,EACrB,IAAIxe,EAAgBnvB,SAAS,iBAC7BmvB,EAAclY,aAAa,OAAO,UAClCkY,EAAclY,aAAa,8BAA8B,aACzDkY,EAAclY,aAAa,SAAS,wFACpCkY,EAAclY,aAAa,SAAS,MACpC1zB,EAAO6F,YAAY+lC,GACnB,IAAImf,EAAsBtuC,SAAS,uBACnCsuC,EAAoBr3B,aAAa,8BAA8B,QAC/D1zB,EAAO6F,YAAYklD,GACnBj0D,KAAKuzD,aAAeU,EACpB,IAAIC,EAAUvuC,SAAS,WACvBuuC,EAAQt3B,aAAa,OAAO,SAC5Bq3B,EAAoBllD,YAAYmlD,GAChCl0D,KAAKk0D,QAAUA,EACf,IAAIC,EAAUxuC,SAAS,WACvBwuC,EAAQv3B,aAAa,OAAO,SAC5Bq3B,EAAoBllD,YAAYolD,GAChCn0D,KAAKm0D,QAAUA,EACf,IAAIC,EAAUzuC,SAAS,WACvByuC,EAAQx3B,aAAa,OAAO,SAC5Bq3B,EAAoBllD,YAAYqlD,GAChCp0D,KAAKo0D,QAAUA,EAkBnB,SAASC,mBAAmBnrD,EAAQoqD,GAChCtzD,KAAKszD,cAAgBA,EACrB,IAAIE,EAAiBxzD,KAAKszD,cAAcE,eACpCS,EAAsBtuC,SAAS,wBAGhC6tC,EAAe,IAAI51D,EAAE0b,GAAgC,IAA3Bk6C,EAAe,IAAI51D,EAAE0mB,GAAWkvC,EAAe,IAAI51D,EAAE0b,GAAgC,IAA3Bk6C,EAAe,IAAI51D,EAAE0mB,GAAWkvC,EAAe,IAAI51D,EAAE0b,GAAgC,IAA3Bk6C,EAAe,IAAI51D,EAAE0mB,GAAWkvC,EAAe,IAAI51D,EAAE0b,GAAgC,IAA3Bk6C,EAAe,IAAI51D,EAAE0mB,GAAWkvC,EAAe,IAAI51D,EAAE0b,GAAgC,IAA3Bk6C,EAAe,IAAI51D,EAAE0mB,KACtRtkB,KAAKk0D,QAAUl0D,KAAKs0D,aAAa,UAAWL,KAE7CT,EAAe,IAAI51D,EAAE0b,GAAgC,IAA3Bk6C,EAAe,IAAI51D,EAAE0mB,GAAWkvC,EAAe,IAAI51D,EAAE0b,GAAgC,IAA3Bk6C,EAAe,IAAI51D,EAAE0mB,GAAWkvC,EAAe,IAAI51D,EAAE0b,GAAgC,IAA3Bk6C,EAAe,IAAI51D,EAAE0mB,GAAWkvC,EAAe,IAAI51D,EAAE0b,GAAgC,IAA3Bk6C,EAAe,IAAI51D,EAAE0mB,GAAWkvC,EAAe,IAAI51D,EAAE0b,GAAgC,IAA3Bk6C,EAAe,IAAI51D,EAAE0mB,KACtRtkB,KAAKm0D,QAAUn0D,KAAKs0D,aAAa,UAAWL,KAE7CT,EAAe,IAAI51D,EAAE0b,GAAgC,IAA3Bk6C,EAAe,IAAI51D,EAAE0mB,GAAWkvC,EAAe,IAAI51D,EAAE0b,GAAgC,IAA3Bk6C,EAAe,IAAI51D,EAAE0mB,GAAWkvC,EAAe,IAAI51D,EAAE0b,GAAgC,IAA3Bk6C,EAAe,IAAI51D,EAAE0mB,GAAWkvC,EAAe,IAAI51D,EAAE0b,GAAgC,IAA3Bk6C,EAAe,IAAI51D,EAAE0mB,GAAWkvC,EAAe,IAAI51D,EAAE0b,GAAgC,IAA3Bk6C,EAAe,IAAI51D,EAAE0mB,KACtRtkB,KAAKo0D,QAAUp0D,KAAKs0D,aAAa,UAAWL,KAE7CT,EAAe,IAAI51D,EAAE0b,GAAgC,IAA3Bk6C,EAAe,IAAI51D,EAAE0mB,GAAWkvC,EAAe,IAAI51D,EAAE0b,GAAgC,IAA3Bk6C,EAAe,IAAI51D,EAAE0mB,GAAWkvC,EAAe,IAAI51D,EAAE0b,GAAgC,IAA3Bk6C,EAAe,IAAI51D,EAAE0mB,GAAWkvC,EAAe,IAAI51D,EAAE0b,GAAgC,IAA3Bk6C,EAAe,IAAI51D,EAAE0mB,GAAWkvC,EAAe,IAAI51D,EAAE0b,GAAgC,IAA3Bk6C,EAAe,IAAI51D,EAAE0mB,KACtRtkB,KAAKu0D,QAAUv0D,KAAKs0D,aAAa,UAAWL,KAG7Cj0D,KAAKk0D,SAAWl0D,KAAKm0D,SAAWn0D,KAAKo0D,SAAWp0D,KAAKu0D,WACpDN,EAAoBr3B,aAAa,8BAA8B,QAC/D1zB,EAAO6F,YAAYklD,GACnBA,EAAsBtuC,SAAS,yBAGhC6tC,EAAe,GAAG51D,EAAE0b,GAA+B,IAA1Bk6C,EAAe,GAAG51D,EAAE0mB,GAAWkvC,EAAe,GAAG51D,EAAE0b,GAA+B,IAA1Bk6C,EAAe,GAAG51D,EAAE0mB,GAAWkvC,EAAe,GAAG51D,EAAE0b,GAA+B,IAA1Bk6C,EAAe,GAAG51D,EAAE0mB,GAAWkvC,EAAe,GAAG51D,EAAE0b,GAA+B,IAA1Bk6C,EAAe,GAAG51D,EAAE0mB,GAAWkvC,EAAe,GAAG51D,EAAE0b,GAA+B,IAA1Bk6C,EAAe,GAAG51D,EAAE0mB,KAE5Q2vC,EAAoBr3B,aAAa,8BAA8B,QAC/D1zB,EAAO6F,YAAYklD,GACnBj0D,KAAKw0D,gBAAkBx0D,KAAKs0D,aAAa,UAAWL,GACpDj0D,KAAKy0D,gBAAkBz0D,KAAKs0D,aAAa,UAAWL,GACpDj0D,KAAK00D,gBAAkB10D,KAAKs0D,aAAa,UAAWL,IAuE5D,SAASU,oBAAoBzrD,EAAQoqD,GACjC,IAAInS,EAAamS,EAAcn9C,UAAUyuB,WAAWgc,aAAaO,WACjEj4C,EAAO0zB,aAAa,IAAKukB,EAAWn1B,GACpC9iB,EAAO0zB,aAAa,IAAKukB,EAAWl1B,GACpC/iB,EAAO0zB,aAAa,QAASukB,EAAWt7C,OACxCqD,EAAO0zB,aAAa,SAAUukB,EAAW74C,QACzCtI,KAAKszD,cAAgBA,EAErB,IAAIO,EAAiBluC,SAAS,kBAC9BkuC,EAAej3B,aAAa,KAAK,eACjCi3B,EAAej3B,aAAa,SAAS,iBACrCi3B,EAAej3B,aAAa,eAAe,KAC3C58B,KAAK6zD,eAAiBA,EACtB3qD,EAAO6F,YAAY8kD,GAEnB,IAAIe,EAAWjvC,SAAS,YACxBivC,EAASh4B,aAAa,KAAK,MAC3Bg4B,EAASh4B,aAAa,KAAK,KAC3Bg4B,EAASh4B,aAAa,KAAK,iBAC3Bg4B,EAASh4B,aAAa,SAAS,iBAC/B58B,KAAK40D,SAAWA,EAChB1rD,EAAO6F,YAAY6lD,GACnB,IAAIC,EAAUlvC,SAAS,WACvBkvC,EAAQj4B,aAAa,cAAc,WACnCi4B,EAAQj4B,aAAa,gBAAgB,KACrCi4B,EAAQj4B,aAAa,SAAS,iBAC9B58B,KAAK60D,QAAUA,EACf3rD,EAAO6F,YAAY8lD,GAEnB,IAAIC,EAAcnvC,SAAS,eAC3BmvC,EAAYl4B,aAAa,KAAK,iBAC9Bk4B,EAAYl4B,aAAa,MAAM,iBAC/Bk4B,EAAYl4B,aAAa,WAAW,MACpCk4B,EAAYl4B,aAAa,SAAS,iBAClC1zB,EAAO6F,YAAY+lD,GAGnB,IAEIrB,EAFAC,EAAU/tC,SAAS,WACvBzc,EAAO6F,YAAY2kD,GAEnBD,EAAc9tC,SAAS,eACvB+tC,EAAQ3kD,YAAY0kD,IACpBA,EAAc9tC,SAAS,gBACXiX,aAAa,KAAK,iBAC9B58B,KAAKyzD,YAAcA,EACnBzzD,KAAK0zD,QAAUA,EACf1zD,KAAK+0D,mBAAoB,EACzBrB,EAAQ3kD,YAAY0kD,GA5/CxB7B,sBAAsBl0D,UAAY,CACjC00D,qBAAsB,SAAStE,GAC9B,IAAIhyD,EAAG0X,EAAMs6C,EAAWxvD,OACpBjB,EAAM,IACV,IAAIvB,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACxBuB,GAAOywD,EAAWhyD,GAAGwtB,UAAUjsB,IAAM,IAEtC,IAAI23D,EAAWh1D,KAAK6xD,UAAUx0D,GAU9B,OATI23D,IACHA,EAAW,CACVlH,WAAY,GAAGpgD,OAAOogD,GACtBf,eAAgB,IAAIvlC,OACpBrB,MAAM,GAEPnmB,KAAK6xD,UAAUx0D,GAAO23D,EACtBh1D,KAAK8xD,aAAa1jD,KAAK4mD,IAEjBA,GAERC,gBAAiB,SAASD,EAAUnI,GAEnC,IADA,IASKnuD,EATD5C,EAAI,EAAG0X,EAAMwhD,EAASlH,WAAWxvD,OAAQ6nB,EAAO0mC,EAC7C/wD,EAAI0X,IAAQq5C,GAAc,CAChC,GAAImI,EAASlH,WAAWhyD,GAAGwtB,UAAU6oB,OAAOhsB,KAAM,CACjDA,GAAO,EACP,MAEDrqB,GAAK,EAEN,GAAIqqB,EAGH,IADA6uC,EAASjI,eAAe/kC,QACnBlsB,EAAI0X,EAAM,EAAG1X,GAAK,EAAGA,GAAK,EACxB4C,EAAQs2D,EAASlH,WAAWhyD,GAAGwtB,UAAU6oB,OAAO7tB,EAAE5lB,MAClDs2D,EAASjI,eAAezjC,UAAU5qB,EAAM,GAAGA,EAAM,GAAGA,EAAM,GAAGA,EAAM,GAAGA,EAAM,GAAGA,EAAM,GAAGA,EAAM,GAAGA,EAAM,GAAGA,EAAM,GAAGA,EAAM,GAAGA,EAAM,IAAIA,EAAM,IAAIA,EAAM,IAAIA,EAAM,IAAIA,EAAM,IAAIA,EAAM,KAG5Ls2D,EAAS7uC,KAAOA,GAGjB+uC,iBAAkB,SAASrI,GAC1B,IAAI/wD,EAAG0X,EAAMxT,KAAK8xD,aAAaxzD,OAC/B,IAAKxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACzBkE,KAAKi1D,gBAAgBj1D,KAAK8xD,aAAah2D,GAAI+wD,IAI7CsI,UAAW,WACV,MAAO,IAAMn1D,KAAK+xD,wBA4BpBC,YAAYt0D,UAAU2vC,cAAgBiX,aAAa5mD,UAAU2vC,cAI7DilB,YAAY50D,UAAY,CACpB03D,WAAY,WACR,IAAIp1D,KAAK26B,KAAK1B,QACV,OAAO,EAGX,IADA,IAAIn9B,EAAI,EAAG0X,EAAMxT,KAAK26B,KAAKxB,gBAAgB76B,OACrCxC,EAAE0X,GAAK,CACT,GAA0C,MAAtCxT,KAAK26B,KAAKxB,gBAAgBr9B,GAAGmB,OAAoD,IAApC+C,KAAK26B,KAAKxB,gBAAgBr9B,GAAGk/B,GAC1E,OAAO,EAEXl/B,GAAK,EAET,OAAO,GAEXkrD,gBAAiB,WACbhnD,KAAKq1D,eAAiBC,yBAAyBt1D,MAC5CA,KAAK26B,KAAK1B,SAAWj5B,KAAKg5C,aACzBh5C,KAAKq1D,eAAeE,sBAAsBv1D,KAAKg5C,aAEnD,IAAIwc,EAAmBC,2BAA2BC,uBAAuB11D,KAAKA,KAAKq1D,gBACnFr1D,KAAKq1D,eAAeM,yBAAyBH,GAEzB,IAAjBx1D,KAAK26B,KAAKvR,IAAYppB,KAAK26B,KAAKosB,GAC/B/mD,KAAK41D,cAAgBC,wBAAwB71D,MACtB,IAAjBA,KAAK26B,KAAKvR,IAChBppB,KAAKq1D,eAAeS,eAAiBC,yBAAyB/1D,KAAK+yD,WAAW/yD,KAAKkzD,UAAUlzD,KAAKq1D,gBAClGr1D,KAAKq1D,eAAeW,QAAUh2D,KAAKq1D,eAAeS,gBAC3B,IAAjB91D,KAAK26B,KAAKvR,KAChBppB,KAAKq1D,eAAeY,cAAgBC,wBAAwBl2D,MAC5DA,KAAKq1D,eAAevY,KAAO98C,KAAKq1D,eAAeY,gBAGvDE,aAAc,WACV,IAAIC,EAAiB9vC,aAAatmB,KAAK26B,KAAK07B,KACjCr2D,KAAKmvD,aAAenvD,KAAK2gD,cAE/B37C,MAAM,kBAAoBoxD,GAEnCtH,aAAc,SAASn0B,EAAMiK,EAAYV,GACrClkC,KAAK4kC,WAAaA,EAClB5kC,KAAKkkC,KAAOA,EACZlkC,KAAK26B,KAAOA,EACZ36B,KAAK4iD,QAAU1+B,kBAGXlkB,KAAK26B,KAAK27B,KACVt2D,KAAK26B,KAAK27B,GAAK,GAGnBt2D,KAAKu2D,eAAiB,IAAIC,eAAex2D,KAAK26B,KAAK36B,KAAKA,KAAKgmB,oBAGjEywC,QAAS,WACL,OAAOz2D,KAAK8K,MAEf6jD,iBAAkB,cAUvBjH,YAAYhqD,UAAU8qD,aAAe,SAASj0C,GAC1CvU,KAAKstD,kBAAkB/4C,GAAK,IAGhCmzC,YAAYhqD,UAAU4qD,YAAc,aAGpCZ,YAAYhqD,UAAU+qD,eAAiB,WACtC,OAAO,MAGRf,YAAYhqD,UAAU+Y,QAAU,aAGhCixC,YAAYhqD,UAAUixD,iBAAmB,aAGzCjH,YAAYhqD,UAAUiN,KAAO,aAG7B4nB,gBAAgB,CAAC+/B,YAAY1O,iBAAiBF,iBAAiBC,cAAe+D,aAK9E6K,eAAe70D,UAAY,CACvBqxD,oBAAqB,WACjB/uD,KAAK2gD,aAAeh7B,SAAS,MAEjCqpC,wBAAyB,WACrBhvD,KAAK02D,aAAe/wC,SAAS,KAC7B3lB,KAAK22D,mBAAqB32D,KAAK2gD,aAC/B3gD,KAAKwjD,cAAgBxjD,KAAK2gD,aAC1B3gD,KAAK42D,cAAe,EACpB,IAEIjiB,EAAOC,EAAKiiB,EAFZC,EAAqB,KAGzB,GAAI92D,KAAK26B,KAAK3B,IACV,GAAoB,GAAhBh5B,KAAK26B,KAAK3B,IAA2B,GAAhBh5B,KAAK26B,KAAK3B,GAAS,CACxC,IAAI+9B,EAASpxC,SAAS,QACtBoxC,EAAOn6B,aAAa,KAAM58B,KAAK4iD,SAC/BmU,EAAOn6B,aAAa,YAA6B,GAAhB58B,KAAK26B,KAAK3B,GAAU,YAAc,SACnE+9B,EAAOhoD,YAAY/O,KAAK2gD,cACxBmW,EAAqBC,EACrB/2D,KAAK4kC,WAAW1G,KAAKnvB,YAAYgoD,GAE5BxiB,eAAeC,UAA4B,GAAhBx0C,KAAK26B,KAAK3B,KACtC+9B,EAAOn6B,aAAa,YAAa,aACjC+X,EAAQzwB,kBACR0wB,EAAMH,eAAeC,aAAaC,GAClC30C,KAAK4kC,WAAW1G,KAAKnvB,YAAY6lC,GACjCA,EAAI7lC,YAAY0lC,eAAeI,iCAC/BgiB,EAAKlxC,SAAS,MACX5W,YAAY/O,KAAK2gD,cACpBmW,EAAqBD,EACrBE,EAAOhoD,YAAY8nD,GACnBA,EAAGj6B,aAAa,SAAS,OAASrc,aAAe,IAAMo0B,EAAQ,WAEhE,GAAmB,GAAhB30C,KAAK26B,KAAK3B,GAAS,CACzB,IAAIg+B,EAAYrxC,SAAS,QACzBqxC,EAAUp6B,aAAa,KAAM58B,KAAK4iD,SAClCoU,EAAUp6B,aAAa,YAAY,SACnC,IAAIq6B,EAActxC,SAAS,KAC3BqxC,EAAUjoD,YAAYkoD,GACtBtiB,EAAQzwB,kBACR0wB,EAAMH,eAAeC,aAAaC,GAUlC,IAAIuiB,EAAQvxC,SAAS,uBACrBuxC,EAAMt6B,aAAa,KAAK,iBACxBgY,EAAI7lC,YAAYmoD,GAChB,IAAIC,EAASxxC,SAAS,WACtBwxC,EAAOv6B,aAAa,OAAO,SAC3Bu6B,EAAOv6B,aAAa,cAAc,WAClCs6B,EAAMnoD,YAAYooD,GAElBn3D,KAAK4kC,WAAW1G,KAAKnvB,YAAY6lC,GACjC,IAAIwiB,EAAYzxC,SAAS,QACzByxC,EAAUx6B,aAAa,QAAU58B,KAAKkkC,KAAKvJ,KAAKtb,GAChD+3C,EAAUx6B,aAAa,SAAU58B,KAAKkkC,KAAKvJ,KAAKtW,GAChD+yC,EAAUx6B,aAAa,IAAI,KAC3Bw6B,EAAUx6B,aAAa,IAAI,KAC3Bw6B,EAAUx6B,aAAa,OAAO,WAC9Bw6B,EAAUx6B,aAAa,UAAU,KACjCq6B,EAAYr6B,aAAa,SAAU,OAASrc,aAAe,IAAIo0B,EAAM,KACrEsiB,EAAYloD,YAAYqoD,GACxBH,EAAYloD,YAAY/O,KAAK2gD,cAC7BmW,EAAqBG,EAChB1iB,eAAeC,WAChBwiB,EAAUp6B,aAAa,YAAa,aACpCgY,EAAI7lC,YAAY0lC,eAAeI,gCAC/BgiB,EAAKlxC,SAAS,KACdsxC,EAAYloD,YAAYqoD,GACxBP,EAAG9nD,YAAY/O,KAAK2gD,cACpBmW,EAAqBD,EACrBI,EAAYloD,YAAY8nD,IAE5B72D,KAAK4kC,WAAW1G,KAAKnvB,YAAYioD,SAE9Bh3D,KAAK26B,KAAK5B,IACjB/4B,KAAK02D,aAAa3nD,YAAY/O,KAAK2gD,cACnCmW,EAAqB92D,KAAK02D,aAC1B12D,KAAKmvD,YAAcnvD,KAAK02D,cAExB12D,KAAKmvD,YAAcnvD,KAAK2gD,aAS5B,GAPI3gD,KAAK26B,KAAK08B,IACVr3D,KAAK2gD,aAAa/jB,aAAa,KAAM58B,KAAK26B,KAAK08B,IAE/Cr3D,KAAK26B,KAAKK,IACVh7B,KAAK2gD,aAAa/jB,aAAa,QAAS58B,KAAK26B,KAAKK,IAGjC,IAAjBh7B,KAAK26B,KAAKvR,KAAappB,KAAK26B,KAAKwpB,GAAI,CACrC,IAAImT,EAAK3xC,SAAU,YACf+G,EAAK/G,SAAS,QAClB+G,EAAGkQ,aAAa,IAAI,SAAW58B,KAAK26B,KAAKtb,EAArB,OAAuCrf,KAAK26B,KAAKtb,EAAI,IAAMrf,KAAK26B,KAAKtW,EAAI,OAASrkB,KAAK26B,KAAKtW,EAAI,KACpH,IAAIkzC,EAASrzC,kBAKb,GAJAozC,EAAG16B,aAAa,KAAK26B,GACrBD,EAAGvoD,YAAY2d,GACf1sB,KAAK4kC,WAAW1G,KAAKnvB,YAAYuoD,GAE7Bt3D,KAAKo1D,aAAc,CACnB,IAAIoC,EAAU7xC,SAAS,KACvB6xC,EAAQ56B,aAAa,YAAY,OAASrc,aAAe,IAAIg3C,EAAS,KACtEC,EAAQzoD,YAAY/O,KAAK2gD,cACzB3gD,KAAK22D,mBAAqBa,EACtBV,EACAA,EAAmB/nD,YAAY/O,KAAK22D,oBAEpC32D,KAAKmvD,YAAcnvD,KAAK22D,wBAG5B32D,KAAK2gD,aAAa/jB,aAAa,YAAY,OAASrc,aAAe,IAAIg3C,EAAO,KAIjE,IAAjBv3D,KAAK26B,KAAK07B,IACVr2D,KAAKm2D,gBAIb/G,cAAe,WACPpvD,KAAK+sD,eAAeU,SACpBztD,KAAK22D,mBAAmB/5B,aAAa,YAAa58B,KAAK+sD,eAAenmB,IAAIhZ,WAE1E5tB,KAAK+sD,eAAeW,QACpB1tD,KAAK22D,mBAAmB/5B,aAAa,UAAW58B,KAAK+sD,eAAeC,MAAMzwD,EAAE+nB,IAGpFirC,mBAAoB,WAChBvvD,KAAK2gD,aAAe,KACpB3gD,KAAK02D,aAAe,KACpB12D,KAAKg5C,YAAYviC,WAErBgyC,eAAgB,WACZ,OAAIzoD,KAAK26B,KAAKwpB,GACH,KAEJnkD,KAAKmvD,aAEhBF,2BAA4B,WACxBjvD,KAAKg5C,YAAc,IAAIoJ,YAAYpiD,KAAK26B,KAAM36B,KAAMA,KAAK4kC,YACzD5kC,KAAKy3D,yBAA2B,IAAIC,WAAW13D,OAEnDooD,SAAU,SAAS1jD,GACV1E,KAAK02D,cAGV12D,KAAK02D,aAAa95B,aAAa,OAAQ,OAASrc,aAAe,IAAM7b,EAAK,OAMlF8tD,cAAc90D,UAAY,CACtBi6D,oBAAqB,SAASh9B,GAC1B,IAAI7+B,EAAG0X,EAAMxT,KAAKizD,eAAe30D,OACjC,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbkE,KAAKizD,eAAen3D,GAAG6tC,SAAShP,IAGxCi9B,2BAA4B,SAASj9B,GAEjC,IADA,IAAWnnB,EAAMxT,KAAKizD,eAAe30D,OAA7B,EACEkV,GACN,GAAGxT,KAAKizD,eAFJ,GAEsB4E,oBAAoBl9B,GAC1C,OAAO,EAGf,OAAO,GAEXm9B,gBAAiB,WACb,GAAI93D,KAAKizD,eAAe30D,OAAxB,CAGA,IAAIxC,EAAG0X,EAAMxT,KAAKw5B,OAAOl7B,OACzB,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbkE,KAAKw5B,OAAO19B,GAAGqmC,GAAGna,QAItB,IAAIlsB,GADJ0X,EAAMxT,KAAKizD,eAAe30D,QAChB,EAAExC,GAAG,EAAEA,GAAG,EAChBkE,KAAKizD,eAAen3D,GAAGqyC,cAAcnuC,KAAKglC,iBAGlD+yB,OAAQ,CACJ,EAAK,OACL,EAAK,QACL,EAAK,UAETC,OAAQ,CACJ,EAAK,QACL,EAAK,QACL,EAAK,SAETC,uBAAwB,SAAStzB,GAG7B,IAFA,IAAIqM,EAAWhxC,KAAKmzD,kBAChBr3D,EAAI,EAAG0X,EAAMw9B,EAAS1yC,OACnBxC,EAAI0X,GAAK,CACZ,GAAIw9B,EAASl1C,GAAG6oC,OAASA,EACrB,OAAOqM,EAASl1C,GAAGwf,IAEvBxf,GAAK,EAET,OAAO,GAEXo8D,oBAAqB,SAASvzB,EAAMrpB,GAGhC,IAFA,IAAI01B,EAAWhxC,KAAKmzD,kBAChBr3D,EAAIk1C,EAAS1yC,OACXxC,GAEF,GAAIk1C,EADJl1C,GAAK,GACW6oC,OAASA,EAErB,YADAqM,EAASl1C,GAAGwf,IAAMA,GAI1B01B,EAAS5iC,KAAK,IAAI21C,iBAAiBpf,EAAMrpB,KAE7CktC,aAAc,SAASj0C,GACnBvU,KAAKuuD,uBAAuBh6C,GAC5BvU,KAAKstD,kBAAkB/4C,EAAKvU,KAAKiuD,aAMzCwE,aAAa/0D,UAAUmxD,YAAc,SAASl0B,EAAKiK,EAAWV,GAC1DlkC,KAAK02C,oBAAqB,EAC1B12C,KAAKigC,YACLjgC,KAAK8uD,aAAan0B,EAAMiK,EAAYV,GACpClkC,KAAKo/C,aAAe,IAAI7H,aAAav3C,KAAM26B,EAAK39B,EAAGgD,KAAKgmB,mBACxDhmB,KAAKm4D,aAAe,IAAItiB,qBAAqBlb,EAAK39B,EAAGgD,KAAK+1C,WAAY/1C,MACtEA,KAAKwtD,cAAc7yB,EAAMiK,EAAYV,GACrClkC,KAAKotD,gBACLptD,KAAKguD,iBACLhuD,KAAK+uD,sBACL/uD,KAAKgvD,0BACLhvD,KAAKivD,6BACLjvD,KAAKkvD,gBACLlvD,KAAK2K,OACL3K,KAAKm4D,aAAapf,iBAAiB/4C,KAAKgmB,oBAG5CysC,aAAa/0D,UAAU8qD,aAAe,SAASj0C,GAC3CvU,KAAKmmB,MAAO,EACZnmB,KAAKuuD,uBAAuBh6C,GAC5BvU,KAAKstD,kBAAkB/4C,EAAKvU,KAAKiuD,YAC9BjuD,KAAKo/C,aAAaj5B,MAAQnmB,KAAKo/C,aAAapa,iBAC3ChlC,KAAKo4D,eACLp4D,KAAKo/C,aAAapa,eAAgB,EAClChlC,KAAKo/C,aAAaj5B,MAAO,IAIjCssC,aAAa/0D,UAAU26D,gBAAkB,SAASve,EAActgB,GAC5D,IAAI7f,EACS44B,EADP3Z,EAAOY,EAAOl7B,OAEhBg6D,EAAW,GACf,IAAI3+C,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,EACd44B,EAAY/Y,EAAO7f,GAAGigB,GAAGtgB,EACzBg/C,GAAYhmB,iBAAiBC,EAAWA,EAAUz2C,EAAEwC,QAAQ,EAAMw7C,GAEtE,OAAOwe,GAGX7F,aAAa/0D,UAAU6gD,mBAAqB,SAASC,EAASp5C,GAC1DpF,KAAKo/C,aAAab,mBAAmBC,EAASp5C,IAGlDqtD,aAAa/0D,UAAUihD,cAAgB,SAASC,GAC5C5+C,KAAKo/C,aAAaT,cAAcC,IAGpC6T,aAAa/0D,UAAUmhD,mBAAqB,SAAS0Z,GACjDv4D,KAAKo/C,aAAaP,mBAAmB0Z,IAGzC9F,aAAa/0D,UAAU86D,4BAA8B,SAASn+B,EAAcyf,EAAc2e,EAAYtf,EAAMC,GAKxG,OAJG/e,EAAa+d,IACZ0B,EAAa5wB,UAAUmR,EAAa+d,GAAG,GAAG/d,EAAa+d,GAAG,GAAK/d,EAAaud,OAAO,GAEvFkC,EAAa5wB,UAAU,GAAGmR,EAAa6d,GAAG,GACnC7d,EAAa1gB,GAChB,KAAK,EACDmgC,EAAa5wB,UAAUmR,EAAa0d,eAAiB1d,EAAawd,SAAWxd,EAAa4d,WAAWwgB,IAAa,EAAE,GACpH,MACJ,KAAK,EACD3e,EAAa5wB,UAAUmR,EAAa0d,eAAiB1d,EAAawd,SAAWxd,EAAa4d,WAAWwgB,IAAc,EAAE,EAAE,GAG/H3e,EAAa5wB,UAAUiwB,EAAMC,EAAM,IAIvCqZ,aAAa/0D,UAAUg7D,WAAa,SAASC,GACzC,MAAO,OAASruD,KAAK0W,MAAmB,IAAb23C,EAAU,IAAU,IAAMruD,KAAK0W,MAAmB,IAAb23C,EAAU,IAAU,IAAMruD,KAAK0W,MAAmB,IAAb23C,EAAU,IAAU,KAG7HlG,aAAa/0D,UAAUk7D,UAAY,IAAIthB,YAEvCmb,aAAa/0D,UAAU+Y,QAAU,aAKjC8b,gBAAgB,CAAC+/B,YAAa1O,iBAAkBF,iBAAkBC,aAAcG,sBAAuB4O,cAEvGA,aAAah1D,UAAUmxD,YAAc,SAASl0B,EAAKiK,EAAWV,GAC1DlkC,KAAKigC,YACLjgC,KAAK8uD,aAAan0B,EAAMiK,EAAYV,GACpClkC,KAAKwtD,cAAc7yB,EAAMiK,EAAYV,GACrClkC,KAAKguD,iBACLhuD,KAAKotD,gBACLptD,KAAK+uD,sBACL/uD,KAAKgvD,0BACLhvD,KAAKivD,8BACFjvD,KAAK26B,KAAKosB,IAAOniB,EAAWkc,iBAC3B9gD,KAAKimD,gBAETjmD,KAAK2K,QAeT+nD,aAAah1D,UAAU8qD,aAAe,SAASj0C,GAI3C,GAHAvU,KAAKmmB,MAAO,EACZnmB,KAAKuuD,uBAAuBh6C,GAC5BvU,KAAKstD,kBAAkB/4C,EAAKvU,KAAKiuD,WAC7BjuD,KAAKiuD,WAAcjuD,KAAK26B,KAAKosB,GAAjC,CAIA,GAAK/mD,KAAK4yD,GAAGC,aAOT7yD,KAAKmkC,cAAgB5vB,EAAIvU,KAAK26B,KAAK27B,OAPZ,CACvB,IAAIuC,EAAe74D,KAAK4yD,GAAGtuC,EACxBu0C,IAAiB74D,KAAK26B,KAAKyX,KAC1BymB,EAAe74D,KAAK26B,KAAKyX,GAAK,GAElCpyC,KAAKmkC,cAAgB00B,EAIzB,IAAI/8D,EAAE0X,EAAMxT,KAAKgxC,SAAS1yC,OAK1B,IAJI0B,KAAKu4B,gBACLv4B,KAAKolD,YAAYplD,KAAKmkC,eAGrBroC,EAAI0X,EAAM,EAAG1X,GAAK,EAAGA,GAAK,GACxBkE,KAAKu4B,gBAAkBv4B,KAAKgxC,SAASl1C,MACpCkE,KAAKgxC,SAASl1C,GAAG0sD,aAAaxoD,KAAKmkC,cAAgBnkC,KAAKw4B,OAAO18B,GAAG2pC,IAC/DzlC,KAAKgxC,SAASl1C,GAAGqqB,OAChBnmB,KAAKmmB,MAAO,MAM5BusC,aAAah1D,UAAU2xD,mBAAqB,WACxC,IAAIvzD,EAAE0X,EAAMxT,KAAKw4B,OAAOl6B,OACxB,IAAKxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,GACnBkE,KAAKu4B,gBAAkBv4B,KAAKgxC,SAASl1C,KACpCkE,KAAKgxC,SAASl1C,GAAGwsD,eAK7BoK,aAAah1D,UAAUo7D,YAAc,SAASC,GAC1C/4D,KAAKgxC,SAAW+nB,GAGpBrG,aAAah1D,UAAUs7D,YAAc,WACjC,OAAOh5D,KAAKgxC,UAGhB0hB,aAAah1D,UAAUu7D,gBAAkB,WACrC,IAAIn9D,EAAE0X,EAAMxT,KAAKw4B,OAAOl6B,OACxB,IAAKxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAG,EACjBkE,KAAKgxC,SAASl1C,IACbkE,KAAKgxC,SAASl1C,GAAG2a,WAK7Bi8C,aAAah1D,UAAU+Y,QAAU,WAC7BzW,KAAKi5D,kBACLj5D,KAAKuvD,sBASTh9B,gBAAgB,CAAC+/B,YAAY1O,iBAAiB2O,eAAe7O,iBAAiBC,aAAaG,sBAAuB+D,eAElHA,cAAcnqD,UAAUwxD,cAAgB,WAEpC,IAAIgK,EAAYl5D,KAAK4kC,WAAWuO,cAAcnzC,KAAKozC,WAEnDpzC,KAAKsvD,UAAY3pC,SAAS,SAC1B3lB,KAAKsvD,UAAU1yB,aAAa,QAAQ58B,KAAKozC,UAAU/zB,EAAE,MACrDrf,KAAKsvD,UAAU1yB,aAAa,SAAS58B,KAAKozC,UAAU/uB,EAAE,MACtDrkB,KAAKsvD,UAAU1yB,aAAa,sBAAsB58B,KAAKozC,UAAU+lB,IAAMn5D,KAAK4kC,WAAWgc,aAAaC,0BACpG7gD,KAAKsvD,UAAUjb,eAAe,+BAA+B,OAAO6kB,GAEpEl5D,KAAK2gD,aAAa5xC,YAAY/O,KAAKsvD,YAGvCzH,cAAcnqD,UAAUixD,iBAAmB,WAC1C,OAAO3uD,KAAK2yD,YAKbpgC,gBAAgB,CAACs1B,eAAgBE,eAEjCA,cAAcrqD,UAAUwxD,cAAgB,WAEpC,IAAI3M,EAAO58B,SAAS,QAIpB48B,EAAK3lB,aAAa,QAAQ58B,KAAK26B,KAAKoc,IACpCwL,EAAK3lB,aAAa,SAAS58B,KAAK26B,KAAKwH,IACrCogB,EAAK3lB,aAAa,OAAO58B,KAAK26B,KAAKsE,IACnCj/B,KAAK2gD,aAAa5xC,YAAYwzC,IAalChwB,gBAAgB,CAAC0tB,YAAayS,aAAcH,gBAAiBzK,gBAO7Dv1B,gBAAgB,CAAC+/B,YAAY1O,iBAAiB2O,eAAe7O,iBAAiBC,aAAaG,qBAAqB2O,cAAe7K,gBAE/HA,eAAelqD,UAAUwxD,cAAgB,WAEjClvD,KAAK26B,KAAKM,cAAgBj7B,KAAK4kC,WAAWlM,YAAY8B,QACtDx6B,KAAKo5D,cAAgBzzC,SAAS,UAItCiiC,eAAelqD,UAAU27D,kBAAoB,SAASC,GAGlD,IAFA,IAAIx9D,EAAI,EAAG0X,EAAM8lD,EAAUh7D,OACvBi7D,EAAe,GAAIC,EAAqB,GACrC19D,EAAI0X,GACJ8lD,EAAUx9D,KAAOif,OAAO4T,aAAa,KAAO2qC,EAAUx9D,KAAOif,OAAO4T,aAAa,IAChF4qC,EAAanrD,KAAKorD,GAClBA,EAAqB,IAErBA,GAAsBF,EAAUx9D,GAEpCA,GAAK,EAGT,OADAy9D,EAAanrD,KAAKorD,GACXD,GAGX3R,eAAelqD,UAAU06D,aAAe,WACpC,IAAIt8D,EAAG0X,EAEH6mB,EAAer6B,KAAKo/C,aAAazH,YACrC33C,KAAKy2C,gBAAkBz0B,iBAAiBqY,EAAeA,EAAat+B,EAAEuC,OAAS,GAC5E+7B,EAAa2c,GACZh3C,KAAK2gD,aAAa/jB,aAAa,OAAQ58B,KAAK04D,WAAWr+B,EAAa2c,KAEpEh3C,KAAK2gD,aAAa/jB,aAAa,OAAQ,iBAExCvC,EAAa4E,KACZj/B,KAAK2gD,aAAa/jB,aAAa,SAAU58B,KAAK04D,WAAWr+B,EAAa4E,KACtEj/B,KAAK2gD,aAAa/jB,aAAa,eAAgBvC,EAAa0c,KAEhE/2C,KAAK2gD,aAAa/jB,aAAa,YAAavC,EAAaoe,WACzD,IAAI/b,EAAW18B,KAAK4kC,WAAWlM,YAAY6G,cAAclF,EAAa7tB,GACtE,GAAGkwB,EAASO,OACRj9B,KAAK2gD,aAAa/jB,aAAa,QAAQF,EAASO,YAC7C,CACHj9B,KAAK2gD,aAAa/jB,aAAa,cAAeF,EAASG,SACvD,IAAIE,EAAU1C,EAAa0C,QAASD,EAASzC,EAAayC,OAC1D98B,KAAK2gD,aAAa/jB,aAAa,aAAcE,GAC7C98B,KAAK2gD,aAAa/jB,aAAa,cAAeG,GAElD/8B,KAAK2gD,aAAa/jB,aAAa,aAAcvC,EAAar9B,GAE1D,IAIIy8D,EAJAxf,EAAU5f,EAAat+B,GAAK,GAC5B29D,IAAe15D,KAAK4kC,WAAWlM,YAAY8B,MAC/ChnB,EAAMymC,EAAQ37C,OAGd,IACIk7B,EADAsgB,EAAe95C,KAAK+5C,QACZue,EAAW,GAAIr9B,EAAcj7B,KAAK26B,KAAKM,YAC/Cke,EAAO,EAAGC,EAAO,EAAGkB,GAAY,EAChCoD,EAAiBrjB,EAAayV,GAAG,IAAKzV,EAAaoe,UACvD,IAAGxd,GAAgBy+B,GAAer/B,EAAarR,GA4BxC,CACH,IACIoM,EAAW+nB,EADXwc,EAAoB35D,KAAK8yD,UAAUx0D,OAEvC,IAAKxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EAClB49D,GAAez+B,GAAqB,IAANn/B,IAC9B29D,EAAQE,EAAoB79D,EAAIkE,KAAK8yD,UAAUh3D,GAAK6pB,SAAS+zC,EAAW,OAAO,QAC3EC,GAAqB79D,IACrB29D,EAAM78B,aAAa,iBAAkB,QACrC68B,EAAM78B,aAAa,kBAAkB,SACrC68B,EAAM78B,aAAa,oBAAoB,KACvC58B,KAAK8yD,UAAUh3D,GAAK29D,EACpBz5D,KAAK2gD,aAAa5xC,YAAY0qD,IAElCA,EAAMz0D,MAAM8J,QAAU,WAG1BgrC,EAAa9xB,QACb8xB,EAAa/wB,MAAMsR,EAAaoe,UAAY,IAAKpe,EAAaoe,UAAY,KACtExd,IACGgf,EAAQn+C,GAAGyB,IACV47C,GAAQuE,EACRtE,GAAQ/e,EAAame,QACrBY,GAAQkB,EAAY,EAAI,EACxBA,GAAY,GAEhBt6C,KAAKw4D,4BAA4Bn+B,EAAcyf,EAAcG,EAAQn+C,GAAG+/C,KAAM1C,EAAMC,GACpFD,GAAQc,EAAQn+C,GAAGC,GAAK,EAExBo9C,GAAQuE,GAETgc,GAGClgC,GADApE,GADA+nB,EAAWn9C,KAAK4kC,WAAWlM,YAAY0G,YAAY/E,EAAaqe,UAAU58C,GAAI4gC,EAASI,OAAQ98B,KAAK4kC,WAAWlM,YAAY6G,cAAclF,EAAa7tB,GAAGqwB,WACjIsgB,EAASxiB,MAAQ,IACtBnB,OAASpE,EAAUoE,OAAO,GAAG7sB,GAAK,GACjDsuB,EAGAq9B,GAAYt4D,KAAKq4D,gBAAgBve,EAAatgB,GAF9CigC,EAAM78B,aAAa,IAAI58B,KAAKq4D,gBAAgBve,EAAatgB,MAK1DyB,GACCw+B,EAAM78B,aAAa,YAAa,aAAekd,EAAap7C,MAAM,IAAM,IAAMo7C,EAAap7C,MAAM,IAAM,KAE3G+6D,EAAMz8B,YAAcid,EAAQn+C,GAAGgS,IAC/B2rD,EAAMplB,eAAe,uCAAwC,YAAY,aAI7EpZ,GAAew+B,GACfA,EAAM78B,aAAa,IAAI07B,OA7EoB,CAC/C,IAAIsB,EAAW55D,KAAKo5D,cAChBS,EAAU,QACd,OAAOx/B,EAAa1gB,GAChB,KAAK,EACDkgD,EAAU,MACV,MACJ,KAAK,EACDA,EAAU,SAGlBD,EAASh9B,aAAa,cAAci9B,GACpCD,EAASh9B,aAAa,iBAAiB8gB,GACvC,IAAI1gB,EAAch9B,KAAKq5D,kBAAkBh/B,EAAaqe,WAGtD,IAFAllC,EAAMwpB,EAAY1+B,OAClB86C,EAAO/e,EAAa+d,GAAK/d,EAAa+d,GAAG,GAAK/d,EAAaud,OAAS,EAC9D97C,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,GACvB29D,EAAQz5D,KAAK8yD,UAAUh3D,IAAM6pB,SAAS,UAChCqX,YAAcA,EAAYlhC,GAChC29D,EAAM78B,aAAa,IAAK,GACxB68B,EAAM78B,aAAa,IAAKwc,GACxBqgB,EAAMz0D,MAAM8J,QAAU,UACtB8qD,EAAS7qD,YAAY0qD,GACrBz5D,KAAK8yD,UAAUh3D,GAAK29D,EACpBrgB,GAAQ/e,EAAase,gBAGzB34C,KAAK2gD,aAAa5xC,YAAY6qD,GAqDlC,KAAO99D,EAAIkE,KAAK8yD,UAAUx0D,QACtB0B,KAAK8yD,UAAUh3D,GAAGkJ,MAAM8J,QAAU,OAClChT,GAAK,EAGTkE,KAAK42D,cAAe,GAGxBhP,eAAelqD,UAAUixD,iBAAmB,SAASmL,GAGjD,GAFA95D,KAAKwoD,aAAaxoD,KAAKkkC,KAAKC,cAAgBnkC,KAAK26B,KAAK8K,IACtDzlC,KAAKqvD,qBACFrvD,KAAK42D,aAAa,CACjB52D,KAAK42D,cAAe,EACpB,IAAImD,EAAU/5D,KAAK2gD,aAAaqZ,UAChCh6D,KAAKi6D,KAAO,CACRx3C,IAAKs3C,EAAQ9tC,EACbvJ,KAAMq3C,EAAQ/tC,EACdnmB,MAAOk0D,EAAQl0D,MACfyC,OAAQyxD,EAAQzxD,QAGxB,OAAOtI,KAAKi6D,MAGhBrS,eAAelqD,UAAU2xD,mBAAqB,WAE1C,IAAIrvD,KAAK26B,KAAKM,cACVj7B,KAAKm4D,aAAajf,YAAYl5C,KAAKo/C,aAAazH,YAAa33C,KAAK02C,oBAC/D12C,KAAK02C,oBAAsB12C,KAAKm4D,aAAazhB,oBAAmB,CAE/D,IAAK56C,EAAE0X,EADPxT,KAAK42D,cAAe,EAEpB,IAKIsD,EAAgBC,EALhB1jB,EAAkBz2C,KAAKm4D,aAAa1hB,gBAEpCwD,EAAUj6C,KAAKo/C,aAAazH,YAAY57C,EAI5C,IAFAyX,EAAMymC,EAAQ37C,OAEVxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACVm+C,EAAQn+C,GAAGyB,IAGd28D,EAAiBzjB,EAAgB36C,GACjCq+D,EAAWn6D,KAAK8yD,UAAUh3D,GACvBo+D,EAAe/zC,KAAKjqB,GACnBi+D,EAASv9B,aAAa,YAAYs9B,EAAeh+D,GAElDg+D,EAAe/zC,KAAK5pB,GACnB49D,EAASv9B,aAAa,UAAUs9B,EAAe39D,GAEhD29D,EAAe/zC,KAAK4wB,IACnBojB,EAASv9B,aAAa,eAAes9B,EAAenjB,IAErDmjB,EAAe/zC,KAAK8Y,IACnBk7B,EAASv9B,aAAa,SAASs9B,EAAej7B,IAE/Ci7B,EAAe/zC,KAAK6wB,IACnBmjB,EAASv9B,aAAa,OAAOs9B,EAAeljB,OA6BhEzkB,gBAAgB,CAAC+/B,YAAY1O,iBAAiB2O,eAAeC,cAAc9O,iBAAiBC,aAAaG,sBAAuB6D,iBAEhIA,gBAAgBjqD,UAAU08D,qBAAuB,aAGjDzS,gBAAgBjqD,UAAU28D,eAAiB,IAAI7yC,OAE/CmgC,gBAAgBjqD,UAAU48D,yBAA2B,aAErD3S,gBAAgBjqD,UAAUwxD,cAAgB,WACtClvD,KAAKu6D,aAAav6D,KAAK+yD,WAAW/yD,KAAKkzD,UAAUlzD,KAAKklD,aAAallD,KAAK2gD,aAAc,EAAG,IAAI,GAC7F3gD,KAAKw6D,sBAMT7S,gBAAgBjqD,UAAU88D,mBAAqB,WAC3C,IAAI1+D,EAA6BsxC,EAC7BzzB,EACA3U,EAFGwO,EAAMxT,KAAKw5B,OAAOl7B,OAClBs6B,EAAO54B,KAAKgzD,WAAW10D,OAE1Bm8D,EAAa,GACbC,GAAc,EAClB,IAAI/gD,EAAI,EAAGA,EAAIif,EAAMjf,GAAK,EAAG,CAIzB,IAHA3U,EAAQhF,KAAKgzD,WAAWr5C,GACxB+gD,GAAc,EACdD,EAAWn8D,OAAS,EAChBxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,GAEe,KADpCsxC,EAAQptC,KAAKw5B,OAAO19B,IACX4D,OAAO0U,QAAQpP,KACpBy1D,EAAWrsD,KAAKg/B,GAChBstB,EAActtB,EAAMnnB,aAAey0C,GAGxCD,EAAWn8D,OAAS,GAAKo8D,GACxB16D,KAAK26D,oBAAoBF,KAKrC9S,gBAAgBjqD,UAAUi9D,oBAAsB,SAASnhC,GACrD,IAAI19B,EAAG0X,EAAMgmB,EAAOl7B,OACpB,IAAIxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACrB09B,EAAO19B,GAAGuxC,iBAIlBsa,gBAAgBjqD,UAAUk9D,mBAAqB,SAASjgC,EAAMspB,GAE1D,IAAI4W,EACAjW,EAAU,IAAIZ,aAAarpB,EAAMspB,GAEjC0L,EAAc/K,EAAQR,MAC1B,GAAe,OAAZzpB,EAAKvR,GACJyxC,EAAc,IAAIlW,mBAAmB3kD,KAAM26B,EAAMiqB,QAC9C,GAAe,OAAZjqB,EAAKvR,GACXyxC,EAAc,IAAIhW,iBAAiB7kD,KAAM26B,EAAMiqB,QAC5C,GAAe,OAAZjqB,EAAKvR,IAA2B,OAAZuR,EAAKvR,GAAa,CAE5CyxC,EAAc,IADwB,OAAZlgC,EAAKvR,GAAc07B,yBAA2BE,4BAClChlD,KAAM26B,EAAMiqB,GAClD5kD,KAAK4kC,WAAW1G,KAAKnvB,YAAY8rD,EAAY/K,IACzC+K,EAAY5S,SACZjoD,KAAK4kC,WAAW1G,KAAKnvB,YAAY8rD,EAAY3K,IAC7ClwD,KAAK4kC,WAAW1G,KAAKnvB,YAAY8rD,EAAY1iB,IAC7CwX,EAAY/yB,aAAa,OAAO,OAASrc,aAAe,IAAMs6C,EAAY5S,OAAS,MA4B3F,MAxBe,OAAZttB,EAAKvR,IAA2B,OAAZuR,EAAKvR,KACxBumC,EAAY/yB,aAAa,iBAAkB58B,KAAK+3D,OAAOp9B,EAAKmgC,KAAO,SACnEnL,EAAY/yB,aAAa,kBAAkB58B,KAAKg4D,OAAOr9B,EAAKogC,KAAO,SACnEpL,EAAY/yB,aAAa,eAAe,KACzB,IAAZjC,EAAKogC,IACJpL,EAAY/yB,aAAa,oBAAoBjC,EAAKqgC,KAI5C,IAAXrgC,EAAK/9B,GACJ+yD,EAAY/yB,aAAa,YAAa,WAGvCjC,EAAK08B,IACJ1H,EAAY/yB,aAAa,KAAKjC,EAAK08B,IAEpC18B,EAAKK,IACJ20B,EAAY/yB,aAAa,QAAQjC,EAAKK,IAEvCL,EAAK07B,KACJ1G,EAAY3qD,MAAM,kBAAoBshB,aAAaqU,EAAK07B,KAE5Dr2D,KAAKgzD,WAAW5kD,KAAKw2C,GACrB5kD,KAAKi7D,sBAAsBtgC,EAAMkgC,GAC1BA,GAGXlT,gBAAgBjqD,UAAUw9D,mBAAqB,SAASvgC,GACpD,IAAIkgC,EAAc,IAAI5V,eAUtB,OATGtqB,EAAK08B,IACJwD,EAAY1V,GAAGvoB,aAAa,KAAKjC,EAAK08B,IAEvC18B,EAAKK,IACJ6/B,EAAY1V,GAAGvoB,aAAa,QAAQjC,EAAKK,IAE1CL,EAAK07B,KACJwE,EAAY1V,GAAGngD,MAAM,kBAAoBshB,aAAaqU,EAAK07B,KAExDwE,GAGXlT,gBAAgBjqD,UAAUy9D,uBAAyB,SAASxgC,EAAMxkB,GAC9D,IAAIilD,EAAoBv1B,yBAAyByB,qBAAqBtnC,KAAK26B,EAAK36B,MAC5E66D,EAAc,IAAInW,iBAAiB0W,EAAmBA,EAAkB7+D,EAAG4Z,GAE/E,OADAnW,KAAKi7D,sBAAsBtgC,EAAMkgC,GAC1BA,GAGXlT,gBAAgBjqD,UAAU29D,mBAAqB,SAAS1gC,EAAM2gC,EAAiBrX,GAC3E,IAAI76B,EAAK,EACM,OAAZuR,EAAKvR,GACJA,EAAK,EACY,OAAZuR,EAAKvR,GACVA,EAAK,EACY,OAAZuR,EAAKvR,KACVA,EAAK,GAET,IACIyxC,EAAc,IAAIvW,aAAagX,EAAiBrX,EADhCrb,qBAAqBya,aAAarjD,KAAK26B,EAAKvR,EAAGppB,OAKnE,OAHAA,KAAKw5B,OAAOprB,KAAKysD,GACjB76D,KAAK23D,oBAAoBkD,GACzB76D,KAAKi7D,sBAAsBtgC,EAAMkgC,GAC1BA,GAGXlT,gBAAgBjqD,UAAUu9D,sBAAwB,SAAStgC,EAAM9wB,GAE7D,IADA,IAAI/N,EAAI,EAAG0X,EAAMxT,KAAKozD,iBAAiB90D,OACjCxC,EAAI0X,GAAK,CACX,GAAGxT,KAAKozD,iBAAiBt3D,GAAG+N,UAAYA,EACpC,OAEJ/N,GAAK,EAETkE,KAAKozD,iBAAiBhlD,KAAK,CACvBP,GAAIuiD,oBAAoBuB,qBAAqBh3B,GAC7C9wB,QAASA,EACT8wB,KAAMA,KAIdgtB,gBAAgBjqD,UAAU69D,iBAAmB,SAASV,GAClD,IACIlhD,EADAvG,EAAMynD,EAAYn7D,OACfk5B,EAAO54B,KAAKgzD,WAAW10D,OAC9B,IAAKqb,EAAI,EAAGA,EAAIif,EAAMjf,GAAK,EAClB3Z,KAAKgzD,WAAWr5C,GAAG4b,QACpBniB,EAAIhF,KAAKpO,KAAKgzD,WAAWr5C,KAKrCguC,gBAAgBjqD,UAAUk0C,aAAe,WACrC5xC,KAAKglC,eAAgB,EACrB,IAAIlpC,EAAG0X,EAAMxT,KAAKkzD,UAAU50D,OAC5B,IAAKxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACtBkE,KAAKklD,aAAappD,GAAKkE,KAAKkzD,UAAUp3D,GAK1C,IAHAkE,KAAKu6D,aAAav6D,KAAK+yD,WAAW/yD,KAAKkzD,UAAUlzD,KAAKklD,aAAallD,KAAK2gD,aAAc,EAAG,IAAI,GAC7F3gD,KAAKw6D,qBACLhnD,EAAMxT,KAAKgmB,kBAAkB1nB,OACzBxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACrBkE,KAAKgmB,kBAAkBlqB,GAAGsqB,WAE9BpmB,KAAK83D,mBAGTnQ,gBAAgBjqD,UAAU68D,aAAe,SAASnnD,EAAI8/C,EAAUhO,EAAa/uC,EAAW8tC,EAAOM,EAAciX,GACzG,IACI1/D,EACA6d,EAAGif,EACyC6iC,EAAkBC,EAAUC,EAHxEL,EAAkB,GAAG5tD,OAAO62C,GACzB/wC,EAAMJ,EAAI9U,OAAS,EAEtBs9D,EAAY,GAAIC,EAAe,GACnC,IAAI//D,EAAE0X,EAAI1X,GAAG,EAAEA,GAAG,EAAE,CAOhB,IANA6/D,EAAe37D,KAAKi4D,uBAAuB7kD,EAAItX,KAI3Co3D,EAAUp3D,GAAKopD,EAAayW,EAAe,GAF3CvoD,EAAItX,GAAGw1C,QAAUkqB,EAIL,MAAbpoD,EAAItX,GAAGstB,IAA2B,MAAbhW,EAAItX,GAAGstB,IAA2B,MAAbhW,EAAItX,GAAGstB,IAA2B,MAAbhW,EAAItX,GAAGstB,GACjEuyC,EAGAzI,EAAUp3D,GAAGkJ,MAAMuwB,QAAS,EAF5B29B,EAAUp3D,GAAKkE,KAAK46D,mBAAmBxnD,EAAItX,GAAImoD,GAIhD7wC,EAAItX,GAAGw1C,SACNn7B,EAAUpH,YAAYmkD,EAAUp3D,GAAGkJ,MAAMo/C,OAE7CwX,EAAUxtD,KAAK8kD,EAAUp3D,GAAGkJ,YAC1B,GAAgB,MAAboO,EAAItX,GAAGstB,GAAW,CACvB,GAAIuyC,EAIA,IADA/iC,EAAOs6B,EAAUp3D,GAAG6Q,GAAGrO,OACnBqb,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,EACdu5C,EAAUp3D,GAAGopD,aAAavrC,GAAKu5C,EAAUp3D,GAAG6Q,GAAGgN,QAJnDu5C,EAAUp3D,GAAKkE,KAAKk7D,mBAAmB9nD,EAAItX,IAO/CkE,KAAKu6D,aAAannD,EAAItX,GAAG6Q,GAAGumD,EAAUp3D,GAAG6Q,GAAGumD,EAAUp3D,GAAGopD,aAAagO,EAAUp3D,GAAGqpD,GAAIlB,EAAQ,EAAGqX,EAAiBE,GAChHpoD,EAAItX,GAAGw1C,SACNn7B,EAAUpH,YAAYmkD,EAAUp3D,GAAGqpD,QAErB,MAAb/xC,EAAItX,GAAGstB,IACRuyC,IACAzI,EAAUp3D,GAAKkE,KAAKm7D,uBAAuB/nD,EAAItX,GAAIqa,IAEvDslD,EAAmBvI,EAAUp3D,GAAGwtB,UAChCgyC,EAAgBltD,KAAKqtD,IACH,MAAbroD,EAAItX,GAAGstB,IAA2B,MAAbhW,EAAItX,GAAGstB,IAA2B,MAAbhW,EAAItX,GAAGstB,IAA2B,MAAbhW,EAAItX,GAAGstB,IACvEuyC,IACAzI,EAAUp3D,GAAKkE,KAAKq7D,mBAAmBjoD,EAAItX,GAAIw/D,EAAiBrX,IAEpEjkD,KAAKu7D,iBAAiBrI,EAAUp3D,KAEd,MAAbsX,EAAItX,GAAGstB,IAA2B,MAAbhW,EAAItX,GAAGstB,IAA2B,MAAbhW,EAAItX,GAAGstB,IAClDuyC,GAMAD,EAAWxI,EAAUp3D,IACZy5B,QAAS,IANlBmmC,EAAW7vB,eAAeG,YAAY54B,EAAItX,GAAGstB,KACpCsf,KAAK1oC,KAAKoT,EAAItX,IACvBo3D,EAAUp3D,GAAK4/D,EACf17D,KAAKizD,eAAe7kD,KAAKstD,IAK7BG,EAAaztD,KAAKstD,IACA,MAAbtoD,EAAItX,GAAGstB,KACRuyC,GAOAD,EAAWxI,EAAUp3D,IACZy5B,QAAS,GAPlBmmC,EAAW7vB,eAAeG,YAAY54B,EAAItX,GAAGstB,IAC7C8pC,EAAUp3D,GAAK4/D,EACfA,EAAShzB,KAAK1oC,KAAKoT,EAAItX,EAAEo3D,GACzBlzD,KAAKizD,eAAe7kD,KAAKstD,GACzBF,GAAS,GAKbK,EAAaztD,KAAKstD,IAEtB17D,KAAKk4D,oBAAoB9kD,EAAItX,GAAIA,EAAI,GAGzC,IADA0X,EAAMooD,EAAUt9D,OACZxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb8/D,EAAU9/D,GAAGy5B,QAAS,EAG1B,IADA/hB,EAAMqoD,EAAav9D,OACfxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb+/D,EAAa//D,GAAGy5B,QAAS,GAIjCoyB,gBAAgBjqD,UAAU2xD,mBAAqB,WAC3CrvD,KAAK83D,kBACL,IAAIh8D,EAAG0X,EAAMxT,KAAKgzD,WAAW10D,OAC7B,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbkE,KAAKgzD,WAAWl3D,GAAGksB,QAIvB,IAFAhoB,KAAK87D,cAEAhgE,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,GAClBkE,KAAKgzD,WAAWl3D,GAAGqqB,MAAQnmB,KAAKglC,iBAC7BhlC,KAAKgzD,WAAWl3D,GAAGuoD,SAClBrkD,KAAKgzD,WAAWl3D,GAAGuoD,OAAOznB,aAAa,IAAK58B,KAAKgzD,WAAWl3D,GAAGM,GAE/D4D,KAAKgzD,WAAWl3D,GAAGM,EAAI,OAAS4D,KAAKgzD,WAAWl3D,GAAGM,GAEvD4D,KAAKgzD,WAAWl3D,GAAGsoD,MAAMxnB,aAAa,IAAK58B,KAAKgzD,WAAWl3D,GAAGM,GAAK,UAK/EurD,gBAAgBjqD,UAAUo+D,YAAc,WACpC,IAAIhgE,EACAigE,EADGvoD,EAAMxT,KAAKozD,iBAAiB90D,OAEnC,IAAIxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACrBigE,EAAkB/7D,KAAKozD,iBAAiBt3D,IACpCkE,KAAKglC,eAAiB+2B,EAAgBlyD,QAAQoc,eAAyC,IAAzB81C,EAAgBphC,MAC9EohC,EAAgBluD,GAAGkuD,EAAgBphC,KAAMohC,EAAgBlyD,QAAS7J,KAAKglC,gBAKnF2iB,gBAAgBjqD,UAAU+Y,QAAU,WAChCzW,KAAKuvD,qBACLvvD,KAAK+yD,WAAa,KAClB/yD,KAAKkzD,UAAY,MA+BrBG,cAAc31D,UAAU4qD,YAAc,SAASzhB,GAC3C,GAAGA,GAAe7mC,KAAKszD,cAAcntC,KAAK,CACtC,IAAI61C,EAAah8D,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EACpD23C,EAAaj8D,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EACpD43C,EAAUl8D,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EAAE,IACvDtkB,KAAKuzD,aAAa32B,aAAa,SAAUq/B,EAAW,GAAID,EAAW,GAAI,UAAWA,EAAW,GAAI,KAAMC,EAAW,GAAID,EAAW,IAAK,UAAWA,EAAW,GAAI,KAAMC,EAAW,GAAID,EAAW,IAAK,UAAWA,EAAW,GAAI,UAAYE,EAAU,QAY7PvI,cAAcj2D,UAAU4qD,YAAc,SAASzhB,GAC3C,GAAGA,GAAe7mC,KAAKszD,cAAcntC,KAAK,CACtC,IAAIxB,EAAQ3kB,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EAC/C43C,EAAUl8D,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EACrDtkB,KAAKuzD,aAAa32B,aAAa,SAAS,WAAWjY,EAAM,GAAG,YAAYA,EAAM,GAAG,YAAYA,EAAM,GAAG,UAAUu3C,EAAQ,QAgBhItI,sBAAsBl2D,UAAU4qD,YAAc,SAASzhB,GACnD,GAAGA,GAAe7mC,KAAKszD,cAAcntC,KAAK,CAEtC,IACIg2C,EADqB,GACbn8D,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EAQ/C83C,EAAap8D,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EACpD+3C,EAAwB,GAAdD,EAAmB,EAAID,EACjCG,EAAwB,GAAdF,EAAmB,EAAID,EAErCn8D,KAAK6zD,eAAej3B,aAAa,eAAgBy/B,EAAS,IAAMC,GAMhE,IAAIC,EAAwD,GAA5Cv8D,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EAAU,OAAS,YAC1EtkB,KAAK6zD,eAAej3B,aAAa,WAAY2/B,KAUrDzI,gBAAgBp2D,UAAU8+D,WAAa,WAEnC,IACI31D,EAAK41D,EAAW3gE,EAAG0X,EADnBkpD,EAAe18D,KAAK2kC,KAAKgc,aAAa73C,UAAY9I,KAAK2kC,KAAKgc,aAAagc,WAa7E,IAXgD,IAA7C38D,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,GACtC9Q,EAAMxT,KAAK2kC,KAAKqU,YAAY7f,gBAAgB76B,OAC5CxC,EAAI,GAGJ0X,GADA1X,EAAIkE,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EAAI,GACrC,GAEdm4C,EAAY92C,SAAS,MACXiX,aAAa,OAAO,QAC9B6/B,EAAU7/B,aAAa,iBAAiB,SACxC6/B,EAAU7/B,aAAa,oBAAoB,GACrC9gC,EAAE0X,EAAI1X,GAAG,EACX+K,EAAO8e,SAAS,QAChB82C,EAAU1tD,YAAYlI,GACtB7G,KAAK06B,MAAMtsB,KAAK,CAACxQ,EAAEiJ,EAAK3K,EAAEJ,IAE9B,GAAiD,IAA9CkE,KAAKszD,cAAcE,eAAe,IAAI51D,EAAE0mB,EAAQ,CAC/C,IAAIs1B,EAAOj0B,SAAS,QAChBjhB,EAAKwf,kBACT01B,EAAKhd,aAAa,KAAKl4B,GACvBk1C,EAAKhd,aAAa,YAAY,SAC9Bgd,EAAK7qC,YAAY0tD,GACjBz8D,KAAK2kC,KAAKC,WAAW1G,KAAKnvB,YAAY6qC,GACtC,IAAIr1B,EAAIoB,SAAS,KAEjB,IADApB,EAAEqY,aAAa,OAAO,OAASrc,aAAe,IAAI7b,EAAG,KAC9Cg4D,EAAa,IAChBn4C,EAAExV,YAAY2tD,EAAa,IAE/B18D,KAAK2kC,KAAKgc,aAAa5xC,YAAYwV,GACnCvkB,KAAK+2D,OAASnd,EACd6iB,EAAU7/B,aAAa,SAAS,aAC7B,GAAiD,IAA9C58B,KAAKszD,cAAcE,eAAe,IAAI51D,EAAE0mB,GAAyD,IAA9CtkB,KAAKszD,cAAcE,eAAe,IAAI51D,EAAE0mB,EAAQ,CACzG,GAAiD,IAA9CtkB,KAAKszD,cAAcE,eAAe,IAAI51D,EAAE0mB,EAEvC,IADAo4C,EAAe18D,KAAK2kC,KAAKgc,aAAa73C,UAAY9I,KAAK2kC,KAAKgc,aAAagc,WACnED,EAAap+D,QACf0B,KAAK2kC,KAAKgc,aAAa5gB,YAAY28B,EAAa,IAGxD18D,KAAK2kC,KAAKgc,aAAa5xC,YAAY0tD,GACnCz8D,KAAK2kC,KAAKgc,aAAaic,gBAAgB,QACvCH,EAAU7/B,aAAa,SAAS,QAEpC58B,KAAK+zD,aAAc,EACnB/zD,KAAK68D,WAAaJ,GAGtB3I,gBAAgBp2D,UAAU4qD,YAAc,SAASzhB,GACzC7mC,KAAK+zD,aACL/zD,KAAKw8D,aAET,IAAI1gE,EACA89C,EAAM/yC,EADH2M,EAAMxT,KAAK06B,MAAMp8B,OAExB,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb,IAAwB,IAArBkE,KAAK06B,MAAM5+B,GAAGI,IAGjB09C,EAAO55C,KAAK2kC,KAAKqU,YAAYqJ,SAASriD,KAAK06B,MAAM5+B,GAAGI,GACpD2K,EAAO7G,KAAK06B,MAAM5+B,GAAG8B,GAClBipC,GAAe7mC,KAAKszD,cAAcntC,MAAQyzB,EAAK70C,KAAKohB,OACnDtf,EAAK+1B,aAAa,IAAIgd,EAAKoJ,UAE5Bnc,GAAe7mC,KAAKszD,cAAcE,eAAe,GAAG51D,EAAEuoB,MAAQnmB,KAAKszD,cAAcE,eAAe,GAAG51D,EAAEuoB,MAAQnmB,KAAKszD,cAAcE,eAAe,GAAG51D,EAAEuoB,MAAQnmB,KAAKszD,cAAcE,eAAe,GAAG51D,EAAEuoB,MAAQyzB,EAAK70C,KAAKohB,MAAK,CACzN,IAAI22C,EACJ,GAAgD,IAA7C98D,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,GAAwD,MAA7CtkB,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EAAU,CAClG,IAAIzmB,EAAIyM,KAAK4P,IAAIla,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EAAEtkB,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,GAAG,IAChGte,EAAIsE,KAAK6P,IAAIna,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EAAEtkB,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,GAAG,IAChGvoB,EAAI8K,EAAKk2D,iBACbD,EAAiB,SAAW/gE,EAAE8B,EAAI,IAClC,IAGI8b,EAHAqjD,EAAajhE,GAAGiK,EAAEnI,GAClBuxC,EAAU,EAA2C,EAAzCpvC,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EAAItkB,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EAAE,IAChG24C,EAAQ3yD,KAAK2D,MAAM+uD,EAAW5tB,GAElC,IAAIz1B,EAAE,EAAEA,EAAEsjD,EAAMtjD,GAAG,EACfmjD,GAAkB,KAAgD,EAAzC98D,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EAAItkB,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EAAE,IAAM,IAEvHw4C,GAAkB,KAAS,GAAF/gE,EAAO,YAEhC+gE,EAAiB,KAAgD,EAAzC98D,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EAAItkB,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EAAE,IAEhHzd,EAAK+1B,aAAa,mBAAmBkgC,GAU7C,IAPGj2B,GAAe7mC,KAAKszD,cAAcE,eAAe,GAAG51D,EAAEuoB,OACrDnmB,KAAK68D,WAAWjgC,aAAa,eAAwD,EAAzC58B,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,IAGpFuiB,GAAe7mC,KAAKszD,cAAcE,eAAe,GAAG51D,EAAEuoB,OACrDnmB,KAAK68D,WAAWjgC,aAAa,UAAU58B,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,IAEjC,IAA9CtkB,KAAKszD,cAAcE,eAAe,IAAI51D,EAAE0mB,GAAyD,IAA9CtkB,KAAKszD,cAAcE,eAAe,IAAI51D,EAAE0mB,KACvFuiB,GAAe7mC,KAAKszD,cAAcE,eAAe,GAAG51D,EAAEuoB,MAAK,CAC1D,IAAIxB,EAAQ3kB,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EACnDtkB,KAAK68D,WAAWjgC,aAAa,SAAS,OAAOpb,SAAkB,IAATmD,EAAM,IAAQ,IAAInD,SAAkB,IAATmD,EAAM,IAAQ,IAAInD,SAAkB,IAATmD,EAAM,IAAQ,OA8BtIqvC,iBAAiBt2D,UAAU4qD,YAAc,SAASzhB,GAC9C,GAAGA,GAAe7mC,KAAKszD,cAAcntC,KAAK,CACtC,IAAI+2C,EAASl9D,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EAChD64C,EAASn9D,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EAChD84C,EAASp9D,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EAChD+4C,EAASD,EAAO,GAAK,IAAMD,EAAO,GAAK,IAAMD,EAAO,GACpDI,EAASF,EAAO,GAAK,IAAMD,EAAO,GAAK,IAAMD,EAAO,GACpDK,EAASH,EAAO,GAAK,IAAMD,EAAO,GAAK,IAAMD,EAAO,GACxDl9D,KAAKk0D,QAAQt3B,aAAa,cAAeygC,GACzCr9D,KAAKm0D,QAAQv3B,aAAa,cAAe0gC,GACzCt9D,KAAKo0D,QAAQx3B,aAAa,cAAe2gC,KAwCjDlJ,mBAAmB32D,UAAU42D,aAAe,SAASxpD,EAAMmpD,GACvD,IAAIkD,EAASxxC,SAAS7a,GAGtB,OAFAqsD,EAAOv6B,aAAa,OAAO,SAC3Bq3B,EAAoBllD,YAAYooD,GACzBA,GAGX9C,mBAAmB32D,UAAU8/D,cAAgB,SAASC,EAAYC,EAAYC,EAAOC,EAAaC,GAW9F,IAVA,IAEInqC,EAIAoqC,EANAn1B,EAAM,EAGNzuB,EAAM5P,KAAK4P,IAAIujD,EAAYC,GAC3BvjD,EAAM7P,KAAK6P,IAAIsjD,EAAYC,GAC3BK,EAAQx8D,MAAMtF,KAAK,KAAK,CAACqC,OAJd,MAMXgd,EAAM,EACN0iD,EAAcH,EAAcD,EAC5BK,EAAaP,EAAaD,EACxB90B,GAAO,KAGLm1B,GAFJpqC,EAAOiV,EAAI,MACAzuB,EACM+jD,EAAa,EAAIJ,EAAcD,EACtClqC,GAAQvZ,EACD8jD,EAAa,EAAIL,EAAcC,EAE9BD,EAAcI,EAAc1zD,KAAK6W,KAAKuS,EAAO+pC,GAAcQ,EAAY,EAAIN,GAE7FI,EAAMziD,KAASwiD,EACfn1B,GAAO,IAAI,IAEf,OAAOo1B,EAAM50D,KAAK,MAGtBkrD,mBAAmB32D,UAAU4qD,YAAc,SAASzhB,GAChD,GAAGA,GAAe7mC,KAAKszD,cAAcntC,KAAK,CACtC,IAAIrY,EACA0lD,EAAiBxzD,KAAKszD,cAAcE,eACrCxzD,KAAKw0D,kBAAoB3tB,GAAe2sB,EAAe,GAAG51D,EAAEuoB,MAAQqtC,EAAe,GAAG51D,EAAEuoB,MAAQqtC,EAAe,GAAG51D,EAAEuoB,MAAQqtC,EAAe,GAAG51D,EAAEuoB,MAAQqtC,EAAe,GAAG51D,EAAEuoB,QAC3KrY,EAAM9N,KAAKw9D,cAAchK,EAAe,GAAG51D,EAAE0mB,EAAEkvC,EAAe,GAAG51D,EAAE0mB,EAAEkvC,EAAe,GAAG51D,EAAE0mB,EAAEkvC,EAAe,GAAG51D,EAAE0mB,EAAEkvC,EAAe,GAAG51D,EAAE0mB,GACrItkB,KAAKw0D,gBAAgB53B,aAAa,cAAc9uB,GAChD9N,KAAKy0D,gBAAgB73B,aAAa,cAAc9uB,GAChD9N,KAAK00D,gBAAgB93B,aAAa,cAAc9uB,IAIjD9N,KAAKk0D,UAAYrtB,GAAe2sB,EAAe,IAAI51D,EAAEuoB,MAAQqtC,EAAe,IAAI51D,EAAEuoB,MAAQqtC,EAAe,IAAI51D,EAAEuoB,MAAQqtC,EAAe,IAAI51D,EAAEuoB,MAAQqtC,EAAe,IAAI51D,EAAEuoB,QACxKrY,EAAM9N,KAAKw9D,cAAchK,EAAe,IAAI51D,EAAE0mB,EAAEkvC,EAAe,IAAI51D,EAAE0mB,EAAEkvC,EAAe,IAAI51D,EAAE0mB,EAAEkvC,EAAe,IAAI51D,EAAE0mB,EAAEkvC,EAAe,IAAI51D,EAAE0mB,GAC1ItkB,KAAKk0D,QAAQt3B,aAAa,cAAc9uB,IAGzC9N,KAAKm0D,UAAYttB,GAAe2sB,EAAe,IAAI51D,EAAEuoB,MAAQqtC,EAAe,IAAI51D,EAAEuoB,MAAQqtC,EAAe,IAAI51D,EAAEuoB,MAAQqtC,EAAe,IAAI51D,EAAEuoB,MAAQqtC,EAAe,IAAI51D,EAAEuoB,QACxKrY,EAAM9N,KAAKw9D,cAAchK,EAAe,IAAI51D,EAAE0mB,EAAEkvC,EAAe,IAAI51D,EAAE0mB,EAAEkvC,EAAe,IAAI51D,EAAE0mB,EAAEkvC,EAAe,IAAI51D,EAAE0mB,EAAEkvC,EAAe,IAAI51D,EAAE0mB,GAC1ItkB,KAAKm0D,QAAQv3B,aAAa,cAAc9uB,IAGzC9N,KAAKo0D,UAAYvtB,GAAe2sB,EAAe,IAAI51D,EAAEuoB,MAAQqtC,EAAe,IAAI51D,EAAEuoB,MAAQqtC,EAAe,IAAI51D,EAAEuoB,MAAQqtC,EAAe,IAAI51D,EAAEuoB,MAAQqtC,EAAe,IAAI51D,EAAEuoB,QACxKrY,EAAM9N,KAAKw9D,cAAchK,EAAe,IAAI51D,EAAE0mB,EAAEkvC,EAAe,IAAI51D,EAAE0mB,EAAEkvC,EAAe,IAAI51D,EAAE0mB,EAAEkvC,EAAe,IAAI51D,EAAE0mB,EAAEkvC,EAAe,IAAI51D,EAAE0mB,GAC1ItkB,KAAKo0D,QAAQx3B,aAAa,cAAc9uB,IAGzC9N,KAAKu0D,UAAY1tB,GAAe2sB,EAAe,IAAI51D,EAAEuoB,MAAQqtC,EAAe,IAAI51D,EAAEuoB,MAAQqtC,EAAe,IAAI51D,EAAEuoB,MAAQqtC,EAAe,IAAI51D,EAAEuoB,MAAQqtC,EAAe,IAAI51D,EAAEuoB,QACxKrY,EAAM9N,KAAKw9D,cAAchK,EAAe,IAAI51D,EAAE0mB,EAAEkvC,EAAe,IAAI51D,EAAE0mB,EAAEkvC,EAAe,IAAI51D,EAAE0mB,EAAEkvC,EAAe,IAAI51D,EAAE0mB,EAAEkvC,EAAe,IAAI51D,EAAE0mB,GAC1ItkB,KAAKu0D,QAAQ33B,aAAa,cAAc9uB,MAuDpD6mD,oBAAoBj3D,UAAU4qD,YAAc,SAASzhB,GACjD,GAAGA,GAAe7mC,KAAKszD,cAAcntC,KAAK,CAItC,IAHG0gB,GAAe7mC,KAAKszD,cAAcE,eAAe,GAAG51D,EAAEuoB,OACrDnmB,KAAK6zD,eAAej3B,aAAa,eAAgB58B,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EAAI,GAE7FuiB,GAAe7mC,KAAKszD,cAAcE,eAAe,GAAG51D,EAAEuoB,KAAK,CAC1D,IAAI+3C,EAAMl+D,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EACjDtkB,KAAK60D,QAAQj4B,aAAa,cAAc5X,SAAS1a,KAAK0W,MAAa,IAAPk9C,EAAI,IAAQ5zD,KAAK0W,MAAa,IAAPk9C,EAAI,IAAQ5zD,KAAK0W,MAAa,IAAPk9C,EAAI,MAKlH,IAHGr3B,GAAe7mC,KAAKszD,cAAcE,eAAe,GAAG51D,EAAEuoB,OACrDnmB,KAAK60D,QAAQj4B,aAAa,gBAAgB58B,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EAAE,KAEpFuiB,GAAe7mC,KAAKszD,cAAcE,eAAe,GAAG51D,EAAEuoB,MAAQnmB,KAAKszD,cAAcE,eAAe,GAAG51D,EAAEuoB,KAAK,CACzG,IAAIypB,EAAW5vC,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EAClD4D,GAASloB,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EAAI,IAAMpC,UAC1D8J,EAAI4jB,EAAWtlC,KAAKod,IAAIQ,GACxB+D,EAAI2jB,EAAWtlC,KAAKsd,IAAIM,GAC5BloB,KAAK40D,SAASh4B,aAAa,KAAM5Q,GACjChsB,KAAK40D,SAASh4B,aAAa,KAAM3Q,MAa7C,IAAIkyC,iBAAmB,GAEvB,SAASC,gBAAgBC,EAAY/K,EAAe3uB,GAChD3kC,KAAK+zD,aAAc,EACnB/zD,KAAKszD,cAAgBA,EACrBtzD,KAAKq+D,WAAaA,EAClBr+D,KAAK2kC,KAAOA,EACZA,EAAK+xB,aAAe/wC,SAAS,KAC7Bgf,EAAK+xB,aAAa3nD,YAAY41B,EAAKgc,cACnChc,EAAK+xB,aAAa3nD,YAAY41B,EAAKgyB,oBACnChyB,EAAKwqB,YAAcxqB,EAAK+xB,aAiF5B,SAASgB,WAAW/yB,GAChB,IAAI7oC,EAKAw3D,EALG9/C,EAAMmxB,EAAKhK,KAAK2jC,GAAK35B,EAAKhK,KAAK2jC,GAAGhgE,OAAS,EAC9Cq2C,EAAQzwB,kBACR0wB,EAAMH,eAAeC,aAAaC,GAClCvmB,EAAQ,EAGZ,IAFApuB,KAAKu+D,QAAU,GAEXziE,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbw3D,EAAgB,KACU,KAAvB3uB,EAAKhK,KAAK2jC,GAAGxiE,GAAGstB,IACfgF,GAAS,EACTklC,EAAgB,IAAID,cAAcze,EAAKjQ,EAAK4xB,eAAe/C,eAAe13D,KAC9C,KAAvB6oC,EAAKhK,KAAK2jC,GAAGxiE,GAAGstB,IACrBgF,GAAS,EACTklC,EAAgB,IAAIK,cAAc/e,EAAKjQ,EAAK4xB,eAAe/C,eAAe13D,KAC9C,KAAvB6oC,EAAKhK,KAAK2jC,GAAGxiE,GAAGstB,GACrBkqC,EAAgB,IAAIQ,gBAAgBnvB,EAAMA,EAAK4xB,eAAe/C,eAAe13D,IACjD,KAAvB6oC,EAAKhK,KAAK2jC,GAAGxiE,GAAGstB,IACrBgF,GAAS,EACTklC,EAAgB,IAAIU,iBAAiBpf,EAAKjQ,EAAK4xB,eAAe/C,eAAe13D,KACjD,KAAvB6oC,EAAKhK,KAAK2jC,GAAGxiE,GAAGstB,IACrBgF,GAAS,EACTklC,EAAgB,IAAIe,mBAAmBzf,EAAKjQ,EAAK4xB,eAAe/C,eAAe13D,KACnD,KAAvB6oC,EAAKhK,KAAK2jC,GAAGxiE,GAAGstB,IACrBgF,GAAS,EACTklC,EAAgB,IAAIqB,oBAAoB/f,EAAKjQ,EAAK4xB,eAAe/C,eAAe13D,KACpD,KAAvB6oC,EAAKhK,KAAK2jC,GAAGxiE,GAAGstB,GAErBkqC,EAAgB,IAAI8K,gBAAgBxpB,EAAKjQ,EAAK4xB,eAAe/C,eAAe13D,GAAI6oC,GACpD,KAAvBA,EAAKhK,KAAK2jC,GAAGxiE,GAAGstB,KACrBgF,GAAS,EACTklC,EAAgB,IAAIM,sBAAsBhf,EAAKjQ,EAAK4xB,eAAe/C,eAAe13D,KAEnFw3D,GACCtzD,KAAKu+D,QAAQnwD,KAAKklD,GAGvBllC,IACCuW,EAAKC,WAAW1G,KAAKnvB,YAAY6lC,GACjCjQ,EAAKgc,aAAa/jB,aAAa,SAAS,OAASrc,aAAe,IAAIo0B,EAAM,MAE1E30C,KAAKu+D,QAAQjgE,QACbqmC,EAAK8e,uBAAuBzjD,MAUpC,SAAS8hD,gBACR9hD,KAAK+pD,MAAQ,GACV/pD,KAAK6pD,QAAU,EACf7pD,KAAKopD,IAAM,IAAI5hC,OACfxnB,KAAKypD,GAAK,EACV,IAAI3tD,EAEJ,IADAkE,KAAKgqD,QAAUzkC,iBAAiB,UADnB,IAETzpB,EAAE,EAAEA,EAFK,GAECA,GAAG,EACbkE,KAAK+pD,MAAMjuD,GAAKypB,iBAAiB,UAAW,IAEhDvlB,KAAK21B,QALQ,GAyBjB,SAAS6oC,iBAiET,SAASzV,eAAepuB,EAAMiK,EAAYV,GACtClkC,KAAKozC,UAAYxO,EAAWyiB,aAAa1sB,EAAKrB,OAC9Ct5B,KAAKi0C,IAAMrP,EAAW0iB,YAAYtT,SAASh0C,KAAKozC,WAChDpzC,KAAK6uD,YAAYl0B,EAAKiK,EAAWV,GAyCrC,SAAS8kB,cAAcruB,EAAMiK,EAAYV,GACrClkC,KAAKu4B,gBAAiB,EACtBv4B,KAAKw4B,OAASmC,EAAKnC,OACnBx4B,KAAKohD,gBAAkB,GACvBphD,KAAKgxC,SAAWhvB,iBAAiBhiB,KAAKw4B,OAAOl6B,QAC7C0B,KAAK6uD,YAAYl0B,EAAMiK,EAAYV,GACnClkC,KAAK4yD,GAAKj4B,EAAKi4B,GAAK5yB,gBAAgB4F,QAAQ5lC,KAAK26B,EAAKi4B,GAAG,EAAEhuB,EAAWsC,UAAWlnC,MAAQ,CAAC6yD,cAAa,GAiC3G,SAAS4L,cAAc9jC,EAAK9wB,GACxB7J,KAAK26B,KAAOA,EACZ36B,KAAK6J,QAAUA,EACf7J,KAAKm5B,gBAAkBn5B,KAAK26B,KAAKxB,iBAAmB,GACpDn5B,KAAKqiD,SAAWrgC,iBAAiBhiB,KAAKm5B,gBAAgB76B,QACtD,IAAIxC,EAAG0X,EAAMxT,KAAKm5B,gBAAgB76B,OAAQogE,GAAW,EACrD,IAAK5iE,EAAI,EAAGA,EAAI0X,EAAK1X,IACmB,MAAjCkE,KAAKm5B,gBAAgBr9B,GAAGmB,OACvByhE,GAAW,GAEf1+D,KAAKqiD,SAASvmD,GAAK8sC,qBAAqBya,aAAarjD,KAAK6J,QAAQ7J,KAAKm5B,gBAAgBr9B,GAAG,GAE9FkE,KAAK0+D,SAAWA,EACbA,GACC1+D,KAAK6J,QAAQ45C,uBAAuBzjD,MA2C5C,SAAS6oD,eAAeluB,EAAMiK,EAAYV,GACtClkC,KAAKw5B,OAAS,GACdx5B,KAAK+yD,WAAap4B,EAAKnB,OACvBx5B,KAAKgzD,WAAa,GAClBhzD,KAAKkzD,UAAY,GACjBlzD,KAAKklD,aAAe,GACpBllD,KAAKizD,eAAiB,GACtBjzD,KAAKmzD,kBAAoB,GACzBnzD,KAAKiyD,kBAAoB,IAAIL,sBAC7B5xD,KAAK6uD,YAAYl0B,EAAMiK,EAAYV,GAkcvC,SAAS+kB,eAAetuB,EAAMiK,EAAYV,GACtClkC,KAAK6uD,YAAYl0B,EAAKiK,EAAWV,GAarC,SAAS4kB,cAAcnuB,EAAMiK,EAAYV,GACrClkC,KAAK8yD,UAAY,GACjB9yD,KAAKw4C,QAAU,EACfx4C,KAAKq4C,eAAgB,EACrBr4C,KAAKs4C,iBAAkB,EACvBt4C,KAAKu4C,iBAAkB,EACvBv4C,KAAK2+D,QAAS,EACd3+D,KAAK4+D,MAAO,EACZ5+D,KAAK+3C,cAAgB,EACrB/3C,KAAK6+D,cAAgB,KACrB7+D,KAAK+1C,WAAa,SAClB/1C,KAAKoS,OAAS,CACVwsD,KAAM,gBACND,OAAQ,gBACRG,OAAQ,EACRC,OAAQ,IAEZ/+D,KAAK6uD,YAAYl0B,EAAKiK,EAAWV,GA8KrC,SAAS86B,aAIT,SAASC,aAAatkC,EAAKiK,EAAWV,IAyEtC,SAAS0nB,cAAcjxB,EAAKiK,EAAWV,GACnClkC,KAAK6uD,YAAYl0B,EAAKiK,EAAWV,GAsBrC,SAASynB,aAAahxB,EAAKiK,EAAWV,GAClClkC,KAAKw4B,OAASmC,EAAKnC,OACnBx4B,KAAKmiD,YAAcxnB,EAAK1B,QACxBj5B,KAAKu4B,gBAAiB,EACtBv4B,KAAKohD,gBAAkB,GACvBphD,KAAKgxC,SAAWhxC,KAAKw4B,OAASxW,iBAAiBhiB,KAAKw4B,OAAOl6B,QAAU,GACrE0B,KAAK6uD,YAAYl0B,EAAKiK,EAAWV,GACjClkC,KAAK4yD,GAAKj4B,EAAKi4B,GAAK5yB,gBAAgB4F,QAAQ5lC,KAAK26B,EAAKi4B,GAAG,EAAEhuB,EAAWsC,UAAUlnC,MAAQ,CAAC6yD,cAAa,GAkC1G,SAAStH,cAAc5wB,EAAKiK,EAAWV,GAEnClkC,KAAKw5B,OAAS,GAEdx5B,KAAK+yD,WAAap4B,EAAKnB,OAEvBx5B,KAAKgzD,WAAa,GAElBhzD,KAAKizD,eAAiB,GAEtBjzD,KAAKkzD,UAAY,GAEjBlzD,KAAKmzD,kBAAoB,GAEzBnzD,KAAKozD,iBAAmB,GACxBpzD,KAAKk/D,gBAAkBv5C,SAAS,KAChC3lB,KAAK6uD,YAAYl0B,EAAKiK,EAAWV,GAGjClkC,KAAKklD,aAAe,GACpBllD,KAAKm/D,YAAc,CACfnzC,EAAE,OACFC,GAAI,OACJ5H,EAAG,EACHhF,EAAG,GAmMX,SAASmsC,aAAa7wB,EAAKiK,EAAWV,GAClClkC,KAAK8yD,UAAY,GACjB9yD,KAAKo/D,UAAY,GACjBp/D,KAAKm/D,YAAc,CACfnzC,EAAE,OACFC,GAAI,OACJ5H,EAAG,EACHhF,EAAG,GAEPrf,KAAK+1C,WAAa,MAClB/1C,KAAKq/D,UAAW,EAChBr/D,KAAK6uD,YAAYl0B,EAAKiK,EAAWV,GA8OrC,SAASwnB,cAAc/wB,EAAKiK,EAAWV,GACnClkC,KAAKozC,UAAYxO,EAAWyiB,aAAa1sB,EAAKrB,OAC9Ct5B,KAAK6uD,YAAYl0B,EAAKiK,EAAWV,GA0BrC,SAASunB,eAAe9wB,EAAKiK,EAAWV,GACpClkC,KAAKigC,YACLjgC,KAAK8uD,aAAan0B,EAAKiK,EAAWV,GAClClkC,KAAKotD,gBACL,IAAIxnB,EAAU5F,gBAAgB4F,QAY9B,GAXA5lC,KAAKs/D,GAAK15B,EAAQ5lC,KAAK26B,EAAK2kC,GAAG,EAAE,EAAEt/D,MAChC26B,EAAKf,GAAGh8B,EAAEC,GACTmC,KAAKwN,GAAKo4B,EAAQ5lC,KAAK26B,EAAKf,GAAGh8B,EAAEouB,EAAE,EAAE,EAAEhsB,MACvCA,KAAKkmC,GAAKN,EAAQ5lC,KAAK26B,EAAKf,GAAGh8B,EAAEquB,EAAE,EAAE,EAAEjsB,MACvCA,KAAKmmC,GAAKP,EAAQ5lC,KAAK26B,EAAKf,GAAGh8B,EAAEsuB,EAAE,EAAE,EAAElsB,OAEvCA,KAAKpC,EAAIgoC,EAAQ5lC,KAAK26B,EAAKf,GAAGh8B,EAAE,EAAE,EAAEoC,MAErC26B,EAAKf,GAAGnvB,IACPzK,KAAKyK,EAAIm7B,EAAQ5lC,KAAK26B,EAAKf,GAAGnvB,EAAE,EAAE,EAAEzK,OAErC26B,EAAKf,GAAG2M,GAAGjtB,EAAEhb,QAAUq8B,EAAKf,GAAG2M,GAAGjtB,EAAE,GAAG6nB,GAAG,CACzC,IAAIrlC,EAAE0X,EAAMmnB,EAAKf,GAAG2M,GAAGjtB,EAAEhb,OACzB,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb6+B,EAAKf,GAAG2M,GAAGjtB,EAAExd,GAAGqlC,GAAK,KACrBxG,EAAKf,GAAG2M,GAAGjtB,EAAExd,GAAGslC,GAAK,KAG7BphC,KAAKumC,GAAKX,EAAQ5lC,KAAK26B,EAAKf,GAAG2M,GAAG,EAAErkB,UAAUliB,MAC9CA,KAAKumC,GAAGpE,IAAK,EACbniC,KAAKomC,GAAKR,EAAQ5lC,KAAK26B,EAAKf,GAAGwM,GAAG,EAAElkB,UAAUliB,MAC9CA,KAAKqmC,GAAKT,EAAQ5lC,KAAK26B,EAAKf,GAAGyM,GAAG,EAAEnkB,UAAUliB,MAC9CA,KAAKsmC,GAAKV,EAAQ5lC,KAAK26B,EAAKf,GAAG0M,GAAG,EAAEpkB,UAAUliB,MAC9CA,KAAK4mC,IAAM,IAAIpf,OACfxnB,KAAKu/D,SAAW,IAAI/3C,OACpBxnB,KAAKglC,eAAgB,EAGrBhlC,KAAK+sD,eAAiB,CAClBC,MAAOhtD,MAyGf,SAASw/D,YA7wDTpB,gBAAgB1gE,UAAU+hE,WAAa,SAAS7lB,GAE5C,IADA,IAAI99C,EAAI,EAAG0X,EAAM2qD,iBAAiB7/D,OAC5BxC,EAAI0X,GAAK,CACX,GAAG2qD,iBAAiBriE,KAAO89C,EACvB,OAAOukB,iBAAiBriE,GAE5BA,GAAK,EAET,OAAO,MAGXsiE,gBAAgB1gE,UAAUgiE,gBAAkB,SAAS9lB,EAAM+lB,GACvD,IAAI/jC,EAAage,EAAK+G,aAAa/kB,WACnC,GAAIA,EAAJ,CAKA,IAFA,IAQIgkC,EARA92D,EAAW8yB,EAAW9yB,SACtBhN,EAAI,EAAG0X,EAAM1K,EAASxK,OACnBxC,EAAI0X,GACH1K,EAAShN,KAAO89C,EAAK+G,cAGzB7kD,GAAK,EAGLA,GAAK0X,EAAM,IACXosD,EAAY92D,EAAShN,EAAI,IAE7B,IAAI+jE,EAAUl6C,SAAS,OACvBk6C,EAAQjjC,aAAa,OAAQ,IAAM+iC,GAChCC,EACChkC,EAAW+sB,aAAakX,EAASD,GAEjChkC,EAAW7sB,YAAY8wD,KAI/BzB,gBAAgB1gE,UAAUoiE,iBAAmB,SAASn7B,EAAMiV,GACxD,IAAI55C,KAAKy/D,WAAW7lB,GAAO,CACvB,IAAI+lB,EAAWz7C,kBACX6yC,EAASpxC,SAAS,QACtBoxC,EAAOn6B,aAAa,KAAMgd,EAAKgJ,SAC/BmU,EAAOn6B,aAAa,YAAa,SACjCuhC,iBAAiB/vD,KAAKwrC,GACtB,IAAI1b,EAAOyG,EAAKC,WAAW1G,KAC3BA,EAAKnvB,YAAYgoD,GACjB,IAAIgJ,EAASp6C,SAAS,UACtBo6C,EAAOnjC,aAAa,KAAM+iC,GAC1B3/D,KAAK0/D,gBAAgB9lB,EAAM+lB,GAC3BI,EAAOhxD,YAAY6qC,EAAK+G,cACxBziB,EAAKnvB,YAAYgxD,GACjB,IAAIF,EAAUl6C,SAAS,OACvBk6C,EAAQjjC,aAAa,OAAQ,IAAM+iC,GACnC5I,EAAOhoD,YAAY8wD,GACnBjmB,EAAKjf,KAAKwpB,IAAK,EACfvK,EAAKgP,OAETjkB,EAAKyjB,SAASxO,EAAKgJ,UAGvBwb,gBAAgB1gE,UAAU8+D,WAAa,WAInC,IAHA,IAAIn7B,EAAMrhC,KAAKszD,cAAcE,eAAe,GAAG51D,EAAE0mB,EAC7C0sB,EAAWhxC,KAAK2kC,KAAKT,KAAK8M,SAC1Bl1C,EAAI,EAAG0X,EAAMw9B,EAAS1yC,OACnBxC,EAAI0X,GACNw9B,EAASl1C,IAAMk1C,EAASl1C,GAAG6+B,KAAK0G,MAAQA,GAC3CrhC,KAAK8/D,iBAAiB9/D,KAAK2kC,KAAMqM,EAASl1C,IAE3CA,GAAK,EAENkE,KAAK+zD,aAAc,GAGvBqK,gBAAgB1gE,UAAU4qD,YAAc,WACnCtoD,KAAK+zD,aACR/zD,KAAKw8D,cAiDP9E,WAAWh6D,UAAU4qD,YAAc,SAAStjB,GACxC,IAAIlpC,EAAG0X,EAAMxT,KAAKu+D,QAAQjgE,OAC1B,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbkE,KAAKu+D,QAAQziE,GAAGwsD,YAAYtjB,IAgBpC8c,cAAcpkD,UAAUosD,UAAY,WACnC,IAAIkW,EAA2B,EAAfhgE,KAAK21B,QACjBsqC,EAAiBjgE,KAAKgqD,QACvBhqD,KAAKgqD,QAAUzkC,iBAAiB,UAAWy6C,GAC3ChgE,KAAKgqD,QAAQlmD,IAAIm8D,GACjB,IAAInkE,EAAI,EACR,IAAIA,EAAIkE,KAAK21B,QAAS75B,EAAIkkE,EAAWlkE,GAAK,EACtCkE,KAAK+pD,MAAMjuD,GAAKypB,iBAAiB,UAAW,IAEhDvlB,KAAK21B,QAAUqqC,GAGnBle,cAAcpkD,UAAUsqB,MAAQ,WAC/BhoB,KAAK6pD,QAAU,EACf7pD,KAAKopD,IAAIphC,QACNhoB,KAAKypD,GAAK,GAKd+U,cAAc9gE,UAAY,CACtBwiE,eAAgB,aAChBnR,oBAAqB,aACrBC,wBAAyB,WACrBhvD,KAAKspD,cAAgBtpD,KAAK4kC,WAAW0kB,cACrCtpD,KAAKy3D,yBAA2B,IAAIuH,UAAUh/D,OAElDkvD,cAAe,aACfiH,aAAc,WACV,IAAIvxB,EAAa5kC,KAAK4kC,WACtB,GAAGA,EAAWqlB,YAAcjqD,KAAK26B,KAAK07B,GAAI,CACtCzxB,EAAWqlB,UAAYjqD,KAAK26B,KAAK07B,GACjC,IAAID,EAAiB9vC,aAAatmB,KAAK26B,KAAK07B,IAC5CzxB,EAAW0kB,cAAc6W,yBAA2B/J,IAG5DnH,2BAA4B,WACxBjvD,KAAKg5C,YAAc,IAAIylB,cAAcz+D,KAAK26B,KAAM36B,OAEpDogE,YAAa,WACJpgE,KAAKkuD,QAAYluD,KAAKiuD,YAAajuD,KAAKmuD,gBACzCnuD,KAAKkuD,QAAS,IAGtBmS,YAAa,WACLrgE,KAAKiuD,YAAcjuD,KAAKmuD,gBACxBnuD,KAAKkuD,QAAS,EACdluD,KAAKglC,eAAgB,EACrBhlC,KAAKg5C,YAAYhU,eAAgB,IAGzCsjB,YAAa,WACT,IAAItoD,KAAKkuD,SAAUluD,KAAK26B,KAAKwpB,GAA7B,CAGAnkD,KAAK4tD,kBACL5tD,KAAK0uD,mBACL1uD,KAAKm2D,eACL,IAAImK,EAAkC,IAAjBtgE,KAAK26B,KAAKvR,GAC/BppB,KAAK4kC,WAAWxuB,SAASuzC,KAAK2W,GAC9BtgE,KAAK4kC,WAAWxuB,SAAS8yC,aAAalpD,KAAK+sD,eAAenmB,IAAIloC,OAC9DsB,KAAK4kC,WAAWxuB,SAASmzC,WAAWvpD,KAAK+sD,eAAeC,MAAMzwD,EAAE+nB,GAChEtkB,KAAKqvD,qBACLrvD,KAAK4kC,WAAWxuB,SAASszC,QAAQ4W,GAC9BtgE,KAAKg5C,YAAY0lB,UAChB1+D,KAAK4kC,WAAWxuB,SAASszC,SAAQ,GAEjC1pD,KAAKglC,gBACLhlC,KAAKglC,eAAgB,KAG7BvuB,QAAS,WACLzW,KAAKspD,cAAgB,KACrBtpD,KAAK26B,KAAO,KACZ36B,KAAK4kC,WAAa,KAClB5kC,KAAKg5C,YAAYviC,WAErBsjC,QAAS,IAAIvyB,QAEjBg3C,cAAc9gE,UAAUiN,KAAO6zD,cAAc9gE,UAAU0iE,YACvD5B,cAAc9gE,UAAUkrD,KAAO4V,cAAc9gE,UAAU2iE,YAOvD9tC,gBAAgB,CAAC+/B,YAAa1O,iBAAkB4a,cAAe9a,iBAAkBC,aAAcE,mBAAoBkF,gBAEnHA,eAAerrD,UAAUmxD,YAAclH,gBAAgBjqD,UAAUmxD,YACjE9F,eAAerrD,UAAU8qD,aAAeX,cAAcnqD,UAAU8qD,aAEhEO,eAAerrD,UAAUwxD,cAAgB,WAErC,GAAIlvD,KAAKi0C,IAAIpuC,QAAU7F,KAAKozC,UAAU/zB,IAAMrf,KAAKi0C,IAAIpuC,OAAS7F,KAAKozC,UAAU/uB,IAAMrkB,KAAKi0C,IAAI3rC,QAAS,CACjG,IAAIsqC,EAAS/sB,UAAU,UACvB+sB,EAAO/sC,MAAQ7F,KAAKozC,UAAU/zB,EAC9BuzB,EAAOtqC,OAAStI,KAAKozC,UAAU/uB,EAC/B,IAMIk8C,EAAWC,EANX91D,EAAMkoC,EAAO1V,WAAW,MAExBujC,EAAOzgE,KAAKi0C,IAAIpuC,MAChB66D,EAAO1gE,KAAKi0C,IAAI3rC,OAChBq4D,EAASF,EAAOC,EAChBE,EAAY5gE,KAAKozC,UAAU/zB,EAAErf,KAAKozC,UAAU/uB,EAE5CsmC,EAAM3qD,KAAKozC,UAAU+lB,IAAMn5D,KAAK4kC,WAAWgc,aAAaC,yBACxD8f,EAASC,GAAqB,mBAARjW,GAA8BgW,EAASC,GAAqB,mBAARjW,EAE1E4V,GADAC,EAAaE,GACUE,EAGvBJ,GADAD,EAAYE,GACWG,EAE3Bl2D,EAAIm2D,UAAU7gE,KAAKi0C,KAAKwsB,EAAKF,GAAW,GAAGG,EAAKF,GAAY,EAAED,EAAUC,EAAW,EAAE,EAAExgE,KAAKozC,UAAU/zB,EAAErf,KAAKozC,UAAU/uB,GACvHrkB,KAAKi0C,IAAMrB,IAKnBmW,eAAerrD,UAAU2xD,mBAAqB,SAASyR,GACnD9gE,KAAKspD,cAAcuX,UAAU7gE,KAAKi0C,IAAK,EAAG,IAG9C8U,eAAerrD,UAAU+Y,QAAU,WAC/BzW,KAAKi0C,IAAM,MAWf1hB,gBAAgB,CAACgvB,eAAgBmR,aAAc8L,eAAgBxV,eAE/DA,cAActrD,UAAU2xD,mBAAqB,WACzC,IAQIvzD,EARA4O,EAAM1K,KAAKspD,cASf,IARA5+C,EAAImgD,YACJngD,EAAIq2D,OAAO,EAAG,GACdr2D,EAAIs2D,OAAOhhE,KAAK26B,KAAKtb,EAAG,GACxB3U,EAAIs2D,OAAOhhE,KAAK26B,KAAKtb,EAAGrf,KAAK26B,KAAKtW,GAClC3Z,EAAIs2D,OAAO,EAAGhhE,KAAK26B,KAAKtW,GACxB3Z,EAAIs2D,OAAO,EAAG,GACdt2D,EAAIqgD,OAECjvD,EADOkE,KAAKw4B,OAAOl6B,OACT,EAAGxC,GAAK,EAAGA,GAAK,GACxBkE,KAAKu4B,gBAAkBv4B,KAAKgxC,SAASl1C,KACpCkE,KAAKgxC,SAASl1C,GAAGwsD,eAK7BU,cAActrD,UAAU+Y,QAAU,WAC9B,IAAI3a,EACJ,IAAKA,EADOkE,KAAKw4B,OAAOl6B,OACT,EAAGxC,GAAK,EAAGA,GAAK,EACxBkE,KAAKgxC,SAASl1C,IACbkE,KAAKgxC,SAASl1C,GAAG2a,UAGzBzW,KAAKw4B,OAAS,KACdx4B,KAAKgxC,SAAW,MAqBpBytB,cAAc/gE,UAAU4qD,YAAc,WAClC,GAAItoD,KAAK0+D,SAAT,CAGA,IAEI5iE,EACA4wB,EAAGG,EAAI8N,EAHPrR,EAAYtpB,KAAK6J,QAAQkjD,eAAenmB,IACxCl8B,EAAM1K,KAAK6J,QAAQy/C,cAChB91C,EAAMxT,KAAKm5B,gBAAgB76B,OAGlC,IADAoM,EAAImgD,YACC/uD,EAAI,EAAGA,EAAI0X,EAAK1X,IACjB,GAAoC,MAAjCkE,KAAKm5B,gBAAgBr9B,GAAGmB,KAAa,CAChC+C,KAAKm5B,gBAAgBr9B,GAAGy0C,MACxB7lC,EAAIq2D,OAAO,EAAG,GACdr2D,EAAIs2D,OAAOhhE,KAAK6J,QAAQ+6B,WAAW6iB,SAASpoC,EAAG,GAC/C3U,EAAIs2D,OAAOhhE,KAAK6J,QAAQ+6B,WAAW6iB,SAASpoC,EAAGrf,KAAK6J,QAAQ+6B,WAAW6iB,SAASpjC,GAChF3Z,EAAIs2D,OAAO,EAAGhhE,KAAK6J,QAAQ+6B,WAAW6iB,SAASpjC,GAC/C3Z,EAAIs2D,OAAO,EAAG,IAElBrmC,EAAO36B,KAAKqiD,SAASvmD,GAAGwoB,EACxBoI,EAAKpD,EAAUqD,kBAAkBgO,EAAKrW,EAAE,GAAG,GAAGqW,EAAKrW,EAAE,GAAG,GAAG,GAC3D5Z,EAAIq2D,OAAOr0C,EAAG,GAAIA,EAAG,IACrB,IAAI/S,EAAGif,EAAO+B,EAAKhF,QACnB,IAAKhc,EAAI,EAAGA,EAAIif,EAAMjf,IAClBkT,EAAMvD,EAAUyD,oBAAoB4N,EAAKp+B,EAAEod,EAAI,GAAIghB,EAAK7+B,EAAE6d,GAAIghB,EAAKrW,EAAE3K,IACrEjP,EAAIu2D,cAAcp0C,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAElEA,EAAMvD,EAAUyD,oBAAoB4N,EAAKp+B,EAAEod,EAAI,GAAIghB,EAAK7+B,EAAE,GAAI6+B,EAAKrW,EAAE,IACrE5Z,EAAIu2D,cAAcp0C,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAGtE7sB,KAAK6J,QAAQ+6B,WAAWxuB,SAASuzC,MAAK,GACtCj/C,EAAIqgD,SAGR0T,cAAc/gE,UAAUu7C,gBAAkBmJ,YAAY1kD,UAAUu7C,gBAEhEwlB,cAAc/gE,UAAU+Y,QAAU,WAC9BzW,KAAK6J,QAAU,MAcnB0oB,gBAAgB,CAAC+/B,YAAY1O,iBAAiB4a,cAAchM,cAAc9O,iBAAiBC,aAAaE,mBAAoBgF,gBAE5HA,eAAenrD,UAAUmxD,YAAc/K,qBAAqBpmD,UAAUmxD,YAEtEhG,eAAenrD,UAAUwjE,gBAAkB,CAAChF,QAAQ,EAAExO,QAAO,GAE7D7E,eAAenrD,UAAUyjE,aAAe,GAExCtY,eAAenrD,UAAUwxD,cAAgB,WACrClvD,KAAKu6D,aAAav6D,KAAK+yD,WAAW/yD,KAAKkzD,UAAUlzD,KAAKklD,cAAc,EAAM,KAG9E2D,eAAenrD,UAAUk9D,mBAAqB,SAASjgC,EAAMmzB,GACzD,IAAIkD,EAAY,CACZr2B,KAAMA,EACN7vB,KAAM6vB,EAAKvR,GACXg4C,cAAephE,KAAKiyD,kBAAkBG,qBAAqBtE,GAC3DA,WAAY,GACZ9c,SAAU,GACVzb,QAAoB,IAAZoF,EAAKwpB,IAEb0W,EAAc,GAclB,GAbc,MAAXlgC,EAAKvR,IAAyB,MAAXuR,EAAKvR,IACvByxC,EAAY1+D,EAAI6jC,gBAAgB4F,QAAQ5lC,KAAK26B,EAAKx+B,EAAE,EAAE,IAAI6D,MACtD66D,EAAY1+D,EAAEmd,IACd03C,EAAUqQ,GAAK,OAAO7/C,SAASq5C,EAAY1+D,EAAEmoB,EAAE,IAAI,IAAI9C,SAASq5C,EAAY1+D,EAAEmoB,EAAE,IAAI,IAAI9C,SAASq5C,EAAY1+D,EAAEmoB,EAAE,IAAI,MAEtG,OAAZqW,EAAKvR,IAA2B,OAAZuR,EAAKvR,KAChCyxC,EAAYh9D,EAAImiC,gBAAgB4F,QAAQ5lC,KAAK26B,EAAK98B,EAAE,EAAE,KAAKmC,MAC3D66D,EAAY70D,EAAIg6B,gBAAgB4F,QAAQ5lC,KAAK26B,EAAK30B,EAAE,EAAE,KAAKhG,MAC3D66D,EAAYx2C,EAAI2b,gBAAgB4F,QAAQ5lC,KAAK26B,EAAKtW,GAAG,CAAC/K,EAAE,GAAG,EAAE,IAAKtZ,MAClE66D,EAAYpwD,EAAIu1B,gBAAgB4F,QAAQ5lC,KAAK26B,EAAKlwB,GAAG,CAAC6O,EAAE,GAAG,EAAE4I,UAAUliB,MACvE66D,EAAYt2C,EAAI,IAAIooB,iBAAiB3sC,KAAK26B,EAAKpW,EAAEvkB,OAErD66D,EAAYt+D,EAAIyjC,gBAAgB4F,QAAQ5lC,KAAK26B,EAAKp+B,EAAE,EAAE,IAAKyD,MAC7C,MAAX26B,EAAKvR,IAAyB,MAAXuR,EAAKvR,IAUvB,GATA4nC,EAAU8J,GAAK96D,KAAK+3D,OAAOp9B,EAAKmgC,KAAO,QACvC9J,EAAU+J,GAAK/6D,KAAKg4D,OAAOr9B,EAAKogC,KAAO,QACzB,GAAXpgC,EAAKogC,KACJ/J,EAAUgK,GAAKrgC,EAAKqgC,IAExBH,EAAYx7C,EAAI2gB,gBAAgB4F,QAAQ5lC,KAAK26B,EAAKtb,EAAE,EAAE,KAAKrf,MACvD66D,EAAYx7C,EAAE/F,IACd03C,EAAUsQ,GAAKzG,EAAYx7C,EAAEiF,GAE9BqW,EAAKv+B,EAAE,CACN,IAAIA,EAAI,IAAIkwC,aAAatsC,KAAK26B,EAAKv+B,EAAE,SAAU4D,MAC/C66D,EAAYz+D,EAAIA,EACZy+D,EAAYz+D,EAAEkd,IACd03C,EAAUuQ,GAAK1G,EAAYz+D,EAAEqwC,UAC7BukB,EAAUwQ,GAAK3G,EAAYz+D,EAAEswC,WAAW,UAIhDskB,EAAUp0D,EAAe,IAAX+9B,EAAK/9B,EAAU,UAAY,UAI7C,OAFAoD,KAAKgzD,WAAW5kD,KAAK4iD,GACrB6J,EAAY71D,MAAQgsD,EACb6J,GAGXhS,eAAenrD,UAAUw9D,mBAAqB,SAASvgC,GAKnD,MAJkB,CACdhuB,GAAI,GACJu4C,aAAc,KAKtB2D,eAAenrD,UAAUy9D,uBAAyB,SAASxgC,GAUvD,MATkB,CACdrR,UAAY,CACR4yC,QAAS,EACTxO,QAAO,EACPrwD,IAAK2C,KAAKiyD,kBAAkBkD,YAC5B/iB,GAAIpS,gBAAgB4F,QAAQ5lC,KAAK26B,EAAKp+B,EAAE,EAAE,IAAKyD,MAC/CmyC,OAAQtM,yBAAyByB,qBAAqBtnC,KAAK26B,EAAK36B,SAM5E6oD,eAAenrD,UAAU29D,mBAAqB,SAAS1gC,GACnD,IAAIkgC,EAAc,IAAI7I,YAAYhyD,KAAM26B,EAAM36B,KAAKgzD,WAAYhzD,KAAKiyD,mBAIpE,OAFAjyD,KAAKw5B,OAAOprB,KAAKysD,GACjB76D,KAAK23D,oBAAoBkD,GAClBA,GAGXhS,eAAenrD,UAAUk0C,aAAe,WACpC5xC,KAAKglC,eAAgB,EACrB,IAAIlpC,EAAG0X,EAAMxT,KAAKkzD,UAAU50D,OAC5B,IAAKxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACtBkE,KAAKklD,aAAappD,GAAKkE,KAAKkzD,UAAUp3D,GAI1C,IAFAkE,KAAKu6D,aAAav6D,KAAK+yD,WAAW/yD,KAAKkzD,UAAUlzD,KAAKklD,cAAc,EAAM,IAC1E1xC,EAAMxT,KAAKgmB,kBAAkB1nB,OACxBxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACtBkE,KAAKgmB,kBAAkBlqB,GAAGsqB,WAE9BpmB,KAAK83D,kBACL93D,KAAKiyD,kBAAkBiD,iBAAiBl1D,KAAKglC,gBAGjD6jB,eAAenrD,UAAU+jE,wBAA0B,SAASn4C,GACxD,IAAIxtB,EAAG0X,EAAMxT,KAAKgzD,WAAW10D,OAC7B,IAAKxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EAClBkE,KAAKgzD,WAAWl3D,GAAGy5B,QACnBv1B,KAAKgzD,WAAWl3D,GAAGgyD,WAAW1/C,KAAKkb,IAK/Cu/B,eAAenrD,UAAUgkE,6BAA+B,WACpD,IAAI5lE,EAAG0X,EAAMxT,KAAKgzD,WAAW10D,OAC7B,IAAKxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EAClBkE,KAAKgzD,WAAWl3D,GAAGy5B,QACnBv1B,KAAKgzD,WAAWl3D,GAAGgyD,WAAWhsD,OAK1C+mD,eAAenrD,UAAUikE,YAAc,SAASjiE,GAC5C,IAAI5D,EAAG0X,EAAM9T,EAAOpB,OACpB,IAAKxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACtB4D,EAAO5D,GAAGy5B,QAAS,GAI3BszB,eAAenrD,UAAU68D,aAAe,SAASnnD,EAAI8/C,EAAWhO,EAAc0c,EAAc9T,GACxF,IAAIhyD,EACA6d,EAAGif,EACgC+iC,EAAcD,EAAUD,EAFxDjoD,EAAMJ,EAAI9U,OAAS,EAEtBs9D,EAAY,GAAIC,EAAe,GAC/BgG,EAAgB,GAAGn0D,OAAOogD,GAC9B,IAAIhyD,EAAE0X,EAAI1X,GAAG,EAAEA,GAAG,EAAE,CAOhB,IANA6/D,EAAe37D,KAAKi4D,uBAAuB7kD,EAAItX,KAI3Co3D,EAAUp3D,GAAKopD,EAAayW,EAAe,GAF3CvoD,EAAItX,GAAGgmE,cAAgBF,EAIX,MAAbxuD,EAAItX,GAAGstB,IAA2B,MAAbhW,EAAItX,GAAGstB,IAA0B,MAAbhW,EAAItX,GAAGstB,IAA0B,MAAbhW,EAAItX,GAAGstB,GAC/DuyC,EAGAzI,EAAUp3D,GAAGkJ,MAAMuwB,QAAS,EAF5B29B,EAAUp3D,GAAKkE,KAAK46D,mBAAmBxnD,EAAItX,GAAI+lE,GAKnDjG,EAAUxtD,KAAK8kD,EAAUp3D,GAAGkJ,YAC1B,GAAgB,MAAboO,EAAItX,GAAGstB,GAAW,CACvB,GAAIuyC,EAIA,IADA/iC,EAAOs6B,EAAUp3D,GAAG6Q,GAAGrO,OACnBqb,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,EACdu5C,EAAUp3D,GAAGopD,aAAavrC,GAAKu5C,EAAUp3D,GAAG6Q,GAAGgN,QAJnDu5C,EAAUp3D,GAAKkE,KAAKk7D,mBAAmB9nD,EAAItX,IAO/CkE,KAAKu6D,aAAannD,EAAItX,GAAG6Q,GAAGumD,EAAUp3D,GAAG6Q,GAAGumD,EAAUp3D,GAAGopD,aAAc0c,EAAcC,OACnE,MAAbzuD,EAAItX,GAAGstB,IACRuyC,IACAF,EAAmBz7D,KAAKm7D,uBAAuB/nD,EAAItX,IACnDo3D,EAAUp3D,GAAK2/D,GAEnBoG,EAAczzD,KAAK8kD,EAAUp3D,IAC7BkE,KAAKyhE,wBAAwBvO,EAAUp3D,KACrB,MAAbsX,EAAItX,GAAGstB,IAA2B,MAAbhW,EAAItX,GAAGstB,IAA2B,MAAbhW,EAAItX,GAAGstB,IAA2B,MAAbhW,EAAItX,GAAGstB,GACvEuyC,IACAzI,EAAUp3D,GAAKkE,KAAKq7D,mBAAmBjoD,EAAItX,KAG7B,MAAbsX,EAAItX,GAAGstB,IAA2B,MAAbhW,EAAItX,GAAGstB,IAC7BuyC,GAMAD,EAAWxI,EAAUp3D,IACZy5B,QAAS,IANlBmmC,EAAW7vB,eAAeG,YAAY54B,EAAItX,GAAGstB,KACpCsf,KAAK1oC,KAAKoT,EAAItX,IACvBo3D,EAAUp3D,GAAK4/D,EACf17D,KAAKizD,eAAe7kD,KAAKstD,IAK7BG,EAAaztD,KAAKstD,IACC,MAAbtoD,EAAItX,GAAGstB,KACTuyC,GAOAD,EAAWxI,EAAUp3D,IACZy5B,QAAS,GAPlBmmC,EAAW7vB,eAAeG,YAAY54B,EAAItX,GAAGstB,IAC7C8pC,EAAUp3D,GAAK4/D,EACfA,EAAShzB,KAAK1oC,KAAKoT,EAAItX,EAAEo3D,GACzBlzD,KAAKizD,eAAe7kD,KAAKstD,GACzBkG,GAAe,GAKnB/F,EAAaztD,KAAKstD,IAEtB17D,KAAKk4D,oBAAoB9kD,EAAItX,GAAIA,EAAI,GAKzC,IAHAkE,KAAK0hE,+BACL1hE,KAAK2hE,YAAY/F,GACjBpoD,EAAMqoD,EAAav9D,OACfxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb+/D,EAAa//D,GAAGy5B,QAAS,GAIjCszB,eAAenrD,UAAU2xD,mBAAqB,WAC1CrvD,KAAKkhE,gBAAgBhF,QAAU,EAC/Bl8D,KAAKkhE,gBAAgBxT,QAAS,EAC9B1tD,KAAK83D,kBACL93D,KAAKiyD,kBAAkBiD,iBAAiBl1D,KAAKglC,eAC7ChlC,KAAK87D,YAAY97D,KAAKkhE,gBAAgBlhE,KAAK+yD,WAAW/yD,KAAKkzD,WAAU,IAGzErK,eAAenrD,UAAUqkE,qBAAuB,SAASC,EAAiBC,IAEnED,EAAgBtU,QAAUuU,EAAe7vB,GAAGjsB,MAAQnmB,KAAKglC,iBACxDi9B,EAAe/F,QAAU8F,EAAgB9F,QACzC+F,EAAe/F,SAAW+F,EAAe7vB,GAAG9tB,EAC5C29C,EAAevU,QAAS,IAIhC7E,eAAenrD,UAAUwkE,UAAY,WACjC,IAAIpmE,EACA6d,EAAGif,EAAMtf,EAAGuf,EAAKkgC,EAAMoJ,EAAiFr3D,EAAMs3D,EAD3G5uD,EAAMxT,KAAKgzD,WAAW10D,OACK8X,EAAWpW,KAAK4kC,WAAWxuB,SAAU1L,EAAM1K,KAAK4kC,WAAW0kB,cAC7F,IAAIxtD,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EASb,IAAc,QAPdgP,GADAs3D,EAAepiE,KAAKgzD,WAAWl3D,IACXgP,OAOW,OAATA,GAAsC,IAApBs3D,EAAad,KAAcc,EAAaznC,KAAKmnC,eAAuC,IAAtBM,EAAaC,MAAqD,IAAvCriE,KAAK4kC,WAAWgd,mBAAjJ,CAoBA,IAjBAxrC,EAASuzC,OACToP,EAAQqJ,EAAapxB,SACT,OAATlmC,GAA0B,OAATA,GAChBJ,EAAI43D,YAAuB,OAATx3D,EAAgBs3D,EAAaf,GAAKe,EAAaG,IACjE73D,EAAI6yC,UAAY6kB,EAAad,GAC7B52D,EAAI83D,QAAUJ,EAAatH,GAC3BpwD,EAAI+3D,SAAWL,EAAarH,GAC5BrwD,EAAIg4D,WAAaN,EAAapH,IAAM,GAEpCtwD,EAAImoC,UAAqB,OAAT/nC,EAAgBs3D,EAAaf,GAAKe,EAAaG,IAEnEnsD,EAASmzC,WAAW6Y,EAAaC,MACrB,OAATv3D,GAA0B,OAATA,GAChBJ,EAAImgD,YAERz0C,EAAS8yC,aAAakZ,EAAahB,cAAcrU,eAAeruD,OAChEk6B,EAAOmgC,EAAMz6D,OACTqb,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,EAAE,CAWhB,IAVY,OAAT7O,GAA0B,OAATA,IAChBJ,EAAImgD,YACDuX,EAAab,KACZ72D,EAAIi4D,YAAYP,EAAab,IAC7B72D,EAAIk4D,eAAiBR,EAAaZ,KAI1C3oC,GADAspC,EAAQpJ,EAAMp/C,GAAG04C,SACJ/zD,OAETgb,EAAE,EAAEA,EAAEuf,EAAKvf,GAAG,EACG,KAAd6oD,EAAM7oD,GAAGtc,EACR0N,EAAIq2D,OAAOoB,EAAM7oD,GAAG1b,EAAE,GAAGukE,EAAM7oD,GAAG1b,EAAE,IACjB,KAAdukE,EAAM7oD,GAAGtc,EACd0N,EAAIu2D,cAAckB,EAAM7oD,GAAGuT,IAAI,GAAGs1C,EAAM7oD,GAAGuT,IAAI,GAAGs1C,EAAM7oD,GAAGuT,IAAI,GAAGs1C,EAAM7oD,GAAGuT,IAAI,GAAGs1C,EAAM7oD,GAAGuT,IAAI,GAAGs1C,EAAM7oD,GAAGuT,IAAI,IAE/GniB,EAAIogD,YAGA,OAAThgD,GAA0B,OAATA,IAChBJ,EAAIi0D,SACDyD,EAAab,IACZ72D,EAAIi4D,YAAY3iE,KAAKmhE,eAIrB,OAATr2D,GAA0B,OAATA,GAChBJ,EAAIk0D,KAAKwD,EAAaxlE,GAE1BwZ,EAASszC,YAIjBb,eAAenrD,UAAUo+D,YAAc,SAASkG,EAAgBzwB,EAAM5W,EAAKkoC,GACvE,IAAI/mE,EACAmmE,EAEJ,IADAA,EAAiBD,EACblmE,EAHSy1C,EAAMjzC,OAAS,EAGlBxC,GAAG,EAAEA,GAAG,EACI,MAAfy1C,EAAMz1C,GAAGstB,IACR64C,EAAiBtnC,EAAK7+B,GAAGwtB,UACzBtpB,KAAK+hE,qBAAqBC,EAAiBC,IACvB,MAAf1wB,EAAMz1C,GAAGstB,IAA6B,MAAfmoB,EAAMz1C,GAAGstB,IAA6B,MAAfmoB,EAAMz1C,GAAGstB,IAA6B,MAAfmoB,EAAMz1C,GAAGstB,GACnFppB,KAAK0wD,WAAWnf,EAAMz1C,GAAG6+B,EAAK7+B,IACV,MAAfy1C,EAAMz1C,GAAGstB,GACdppB,KAAK+wD,WAAWxf,EAAMz1C,GAAG6+B,EAAK7+B,GAAGmmE,GACb,MAAf1wB,EAAMz1C,GAAGstB,GACdppB,KAAKmxD,aAAa5f,EAAMz1C,GAAG6+B,EAAK7+B,GAAGmmE,GACf,MAAf1wB,EAAMz1C,GAAGstB,IAA6B,MAAfmoB,EAAMz1C,GAAGstB,GACrCppB,KAAK8iE,mBAAmBvxB,EAAMz1C,GAAG6+B,EAAK7+B,GAAGmmE,GACrB,MAAf1wB,EAAMz1C,GAAGstB,GACdppB,KAAK87D,YAAYmG,EAAe1wB,EAAMz1C,GAAG6Q,GAAGguB,EAAK7+B,GAAG6Q,IAC/C4kC,EAAMz1C,GAAGstB,GAInBy5C,GACC7iE,KAAKkiE,aAKbrZ,eAAenrD,UAAUqlE,kBAAoB,SAAS5Q,EAAa/kB,GAC/D,GAAGptC,KAAKglC,eAAiBoI,EAAMjnB,MAAQgsC,EAAYrE,WAAW3nC,KAAM,CAChE,IAEIrqB,EAAG0X,EAAKmG,EAFRqpD,EAAa7Q,EAAYE,QACzB33B,EAAQ0S,EAAM1S,MACH9B,EAAO8B,EAAM/E,QAC5BqtC,EAAW1kE,OAAS,EACpB,IAAI2kE,EAAoB9Q,EAAYrE,WAAWf,eAC/C,IAAKpzC,EAAI,EAAGA,EAAIif,EAAMjf,GAAK,EAAG,CAC1B,IAAI44B,EAAY7X,EAAMlB,OAAO7f,GAC7B,GAAG44B,GAAaA,EAAUjuB,EAAE,CAExB,IADA9Q,EAAM++B,EAAU5c,QACX75B,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACZ,IAANA,GACAknE,EAAW50D,KAAK,CACZpR,EAAG,IACHY,EAAGqlE,EAAkBt2C,kBAAkB4lB,EAAUjuB,EAAE,GAAG,GAAIiuB,EAAUjuB,EAAE,GAAG,GAAI,KAGrF0+C,EAAW50D,KAAK,CACZpR,EAAG,IACH6vB,IAAKo2C,EAAkBl2C,oBAAoBwlB,EAAUh2C,EAAET,EAAI,GAAIy2C,EAAUz2C,EAAEA,GAAIy2C,EAAUjuB,EAAExoB,MAGvF,IAAR0X,GACAwvD,EAAW50D,KAAK,CACZpR,EAAG,IACHY,EAAGqlE,EAAkBt2C,kBAAkB4lB,EAAUjuB,EAAE,GAAG,GAAIiuB,EAAUjuB,EAAE,GAAG,GAAI,KAGjFiuB,EAAUp2C,GAAKqX,IACfwvD,EAAW50D,KAAK,CACZpR,EAAG,IACH6vB,IAAKo2C,EAAkBl2C,oBAAoBwlB,EAAUh2C,EAAET,EAAI,GAAIy2C,EAAUz2C,EAAE,GAAIy2C,EAAUjuB,EAAE,MAE/F0+C,EAAW50D,KAAK,CACZpR,EAAG,QAKnBm1D,EAAYE,QAAU2Q,IAI9Bna,eAAenrD,UAAUgzD,WAAa,SAASj2B,EAASg2B,GACpD,IAAmB,IAAhBh2B,EAAS0pB,IAAe1pB,EAASqnC,cAAe,CAC/C,IAAIhmE,EAAG0X,EAAMi9C,EAASyB,aAAa5zD,OACnC,IAAKxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACtBkE,KAAK+iE,kBAAkBtS,EAASyB,aAAap2D,GAAI20D,EAAStuB,MAKtE0mB,eAAenrD,UAAUqzD,WAAa,SAASP,EAAUC,EAAUwR,GAC/D,IAAIjR,EAAYP,EAASzrD,OAErByrD,EAASt0D,EAAEgqB,MAAQnmB,KAAKglC,iBACxBgsB,EAAUqQ,GAAK,OACb7/C,SAASivC,EAASt0D,EAAEmoB,EAAE,IAAM,IAC5B9C,SAASivC,EAASt0D,EAAEmoB,EAAE,IAAM,IAC5B9C,SAASivC,EAASt0D,EAAEmoB,EAAE,IAAM,MAE9BmsC,EAASl0D,EAAE4pB,MAAQ87C,EAAevU,QAAU1tD,KAAKglC,iBACjDgsB,EAAUqR,KAAO5R,EAASl0D,EAAE+nB,EAAI29C,EAAe/F,UAIvDrT,eAAenrD,UAAUolE,mBAAqB,SAAStS,EAAUC,EAAUwR,GACvE,IAAIjR,EAAYP,EAASzrD,MACzB,IAAIgsD,EAAUuR,KAAO9R,EAASlsC,EAAE4B,MAAQsqC,EAAS5yD,EAAEsoB,MAAQsqC,EAASzqD,EAAEmgB,MAAyB,IAAhBqqC,EAAUxzD,IAAYyzD,EAASpsC,EAAE8B,MAAQsqC,EAAShmD,EAAE0b,MAAQ,CACvI,IAAIzb,EAAM1K,KAAK4kC,WAAW0kB,cAEtBt8B,EAAMyjC,EAAS5yD,EAAEymB,EAAG2I,EAAMwjC,EAASzqD,EAAEse,EACzC,GAAoB,IAAhBksC,EAAUxzD,EACVulE,EAAM73D,EAAIw4D,qBAAqBl2C,EAAI,GAAIA,EAAI,GAAIC,EAAI,GAAIA,EAAI,SAE3D,IAAI2d,EAAMtgC,KAAK+W,KAAK/W,KAAK6W,IAAI6L,EAAI,GAAKC,EAAI,GAAI,GAAK3iB,KAAK6W,IAAI6L,EAAI,GAAKC,EAAI,GAAI,IACzEwkC,EAAMnnD,KAAKo4B,MAAMzV,EAAI,GAAKD,EAAI,GAAIC,EAAI,GAAKD,EAAI,IAG/C0kC,EAAO9mB,GADG6lB,EAASpsC,EAAEC,GAAK,EAAI,IAAOmsC,EAASpsC,EAAEC,IAAM,GAAK,IAAMmsC,EAASpsC,EAAEC,GAE5E0H,EAAI1hB,KAAKod,IAAI+pC,EAAMhB,EAAShmD,EAAE6Z,GAAKotC,EAAO1kC,EAAI,GAC9Cf,EAAI3hB,KAAKsd,IAAI6pC,EAAMhB,EAAShmD,EAAE6Z,GAAKotC,EAAO1kC,EAAI,GAC9Cu1C,EAAM73D,EAAIy4D,qBAAqBn3C,EAAGC,EAAG,EAAGe,EAAI,GAAIA,EAAI,GAAI4d,GAGhE,IAAI9uC,EAAG0X,EAAMg9C,EAAUjsC,EAAE3mB,EACrB2zD,EAAUd,EAASlsC,EAAEpoB,EACrB+/D,EAAU,EAEd,IAAKpgE,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACnB20D,EAASlsC,EAAE0oB,aAAewjB,EAASlsC,EAAEwoB,eACpCmvB,EAAUzL,EAASlsC,EAAEhoB,EAAI,EAAFT,EAAM,IAEjCymE,EAAIa,aAAa7R,EAAY,EAAJz1D,GAAS,IAAI,QAASy1D,EAAY,EAAJz1D,EAAQ,GAAK,IAAMy1D,EAAY,EAAJz1D,EAAQ,GAAK,IAAIy1D,EAAY,EAAJz1D,EAAQ,GAAK,IAAMogE,EAAU,KAE5IlL,EAAUuR,IAAMA,EAEpBvR,EAAUqR,KAAO5R,EAASl0D,EAAE+nB,EAAE29C,EAAe/F,SAIjDrT,eAAenrD,UAAUyzD,aAAe,SAASX,EAAUC,EAAUwR,GACjE,IAAIjR,EAAYP,EAASzrD,MACrB5I,EAAIq0D,EAASr0D,EACdA,IAAMA,EAAE+pB,MAASnmB,KAAKglC,iBACrBgsB,EAAUuQ,GAAKnlE,EAAEqwC,UACjBukB,EAAUwQ,GAAKplE,EAAEswC,WAAW,KAE7B+jB,EAASt0D,EAAEgqB,MAAQnmB,KAAKglC,iBACvBgsB,EAAUqQ,GAAK,OAAO7/C,SAASivC,EAASt0D,EAAEmoB,EAAE,IAAI,IAAI9C,SAASivC,EAASt0D,EAAEmoB,EAAE,IAAI,IAAI9C,SAASivC,EAASt0D,EAAEmoB,EAAE,IAAI,MAE7GmsC,EAASl0D,EAAE4pB,MAAQ87C,EAAevU,QAAU1tD,KAAKglC,iBAChDgsB,EAAUqR,KAAO5R,EAASl0D,EAAE+nB,EAAE29C,EAAe/F,UAE9CzL,EAASpxC,EAAE8G,MAAQnmB,KAAKglC,iBACvBgsB,EAAUsQ,GAAK7Q,EAASpxC,EAAEiF,IAKlCukC,eAAenrD,UAAU+Y,QAAU,WAC/BzW,KAAK+yD,WAAa,KAClB/yD,KAAK4kC,WAAa,KAClB5kC,KAAKspD,cAAgB,KACrBtpD,KAAKgzD,WAAW10D,OAAS,EACzB0B,KAAKkzD,UAAU50D,OAAS,GAO5Bi0B,gBAAgB,CAAC+/B,YAAa1O,iBAAkB4a,cAAe9a,iBAAkBC,aAAcE,mBAAoBoF,gBAEnHA,eAAevrD,UAAUmxD,YAAclH,gBAAgBjqD,UAAUmxD,YACjE5F,eAAevrD,UAAU8qD,aAAeX,cAAcnqD,UAAU8qD,aAEhES,eAAevrD,UAAU2xD,mBAAqB,WAC1C,IAAI3kD,EAAM1K,KAAKspD,cACf5+C,EAAImoC,UAAY7yC,KAAK26B,KAAKsE,GAC1Bv0B,EAAIooC,SAAS,EAAG,EAAG9yC,KAAK26B,KAAKoc,GAAI/2C,KAAK26B,KAAKwH,KAsB/C5P,gBAAgB,CAAC+/B,YAAY1O,iBAAiB4a,cAAc9a,iBAAiBC,aAAaE,kBAAkB4O,cAAe3J,eAE3HA,cAAcprD,UAAUi/B,QAAU9W,UAAU,UAAUqX,WAAW,MAEjE4rB,cAAcprD,UAAU06D,aAAe,WACnC,IAAI/9B,EAAer6B,KAAKo/C,aAAazH,YACrC33C,KAAKy2C,gBAAkBz0B,iBAAiBqY,EAAat+B,EAAIs+B,EAAat+B,EAAEuC,OAAS,GAEjF,IAAI+kE,GAAU,EACXhpC,EAAa2c,IACZqsB,GAAU,EACVrjE,KAAKoS,OAAOwsD,KAAO5+D,KAAK04D,WAAWr+B,EAAa2c,KAEhDh3C,KAAKoS,OAAOwsD,KAAO,gBAEvB5+D,KAAK4+D,KAAOyE,EACZ,IAAIC,GAAY,EACbjpC,EAAa4E,KACZqkC,GAAY,EACZtjE,KAAKoS,OAAOusD,OAAS3+D,KAAK04D,WAAWr+B,EAAa4E,IAClDj/B,KAAKoS,OAAO0sD,OAASzkC,EAAa0c,IAEtC,IACIj7C,EAAG0X,EADHkpB,EAAW18B,KAAK4kC,WAAWlM,YAAY6G,cAAclF,EAAa7tB,GAElEytC,EAAU5f,EAAat+B,EACvB+9C,EAAe95C,KAAK+5C,QACxB/5C,KAAK2+D,OAAS2E,EACdtjE,KAAKoS,OAAO2sD,OAAS1kC,EAAaoe,UAAY,MAAOz4C,KAAK4kC,WAAWlM,YAAY6G,cAAclF,EAAa7tB,GAAGqwB,QAC/GrpB,EAAM6mB,EAAaqe,UAAUp6C,OAE7B,IAAI6+C,EAAU/nB,EAAW9b,EAAGuf,EAAMW,EAAQ7f,EAAGif,EAAM2Z,EAAWgxB,EAAUC,EAASvoC,EAAcj7B,KAAK26B,KAAKM,YACrGyiB,EAAiBrjB,EAAayV,GAAG,IAAKzV,EAAaoe,UACnDU,EAAO,EAAGC,EAAO,EAAGkB,GAAY,EAChC3R,EAAM,EACV,IAAK7sC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EAAG,CAkBzB,IAhBAs5B,GADA+nB,EAAWn9C,KAAK4kC,WAAWlM,YAAY0G,YAAY/E,EAAaqe,UAAU58C,GAAI4gC,EAASI,OAAQ98B,KAAK4kC,WAAWlM,YAAY6G,cAAclF,EAAa7tB,GAAGqwB,WACjIsgB,EAASxiB,MAAQ,GACzCmf,EAAa9xB,QACViT,GAAegf,EAAQn+C,GAAGyB,IACzB47C,GAAQuE,EACRtE,GAAQ/e,EAAame,QACrBY,GAAQkB,EAAY,EAAI,EACxBA,GAAY,GAIhB1hB,GADAY,EAASpE,EAAUoE,OAASpE,EAAUoE,OAAO,GAAG7sB,GAAK,IACvCrO,OACdw7C,EAAa/wB,MAAMsR,EAAaoe,UAAU,IAAIpe,EAAaoe,UAAU,KAClExd,GACCj7B,KAAKw4D,4BAA4Bn+B,EAAcyf,EAAcG,EAAQn+C,GAAG+/C,KAAM1C,EAAMC,GAExFmqB,EAAWvhD,iBAAiB4W,GACxBjf,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,EAAE,CAIhB,IAHAkf,EAAOW,EAAO7f,GAAGigB,GAAGtgB,EAAExd,EAAEwC,OACxBi0C,EAAY/Y,EAAO7f,GAAGigB,GAAGtgB,EACzBkqD,EAAU,GACNlqD,EAAE,EAAEA,EAAEuf,EAAKvf,GAAG,EACR,GAAHA,GACCkqD,EAAQp1D,KAAK0rC,EAAa3tB,SAASomB,EAAUjuB,EAAE,GAAG,GAAGiuB,EAAUjuB,EAAE,GAAG,GAAG,GAAGw1B,EAAa1tB,SAASmmB,EAAUjuB,EAAE,GAAG,GAAGiuB,EAAUjuB,EAAE,GAAG,GAAG,IAExIk/C,EAAQp1D,KAAK0rC,EAAa3tB,SAASomB,EAAUh2C,EAAE+c,EAAE,GAAG,GAAGi5B,EAAUh2C,EAAE+c,EAAE,GAAG,GAAG,GAAGwgC,EAAa1tB,SAASmmB,EAAUh2C,EAAE+c,EAAE,GAAG,GAAGi5B,EAAUh2C,EAAE+c,EAAE,GAAG,GAAG,GAAGwgC,EAAa3tB,SAASomB,EAAUz2C,EAAEwd,GAAG,GAAGi5B,EAAUz2C,EAAEwd,GAAG,GAAG,GAAGwgC,EAAa1tB,SAASmmB,EAAUz2C,EAAEwd,GAAG,GAAGi5B,EAAUz2C,EAAEwd,GAAG,GAAG,GAAGwgC,EAAa3tB,SAASomB,EAAUjuB,EAAEhL,GAAG,GAAGi5B,EAAUjuB,EAAEhL,GAAG,GAAG,GAAGwgC,EAAa1tB,SAASmmB,EAAUjuB,EAAEhL,GAAG,GAAGi5B,EAAUjuB,EAAEhL,GAAG,GAAG,IAEpYkqD,EAAQp1D,KAAK0rC,EAAa3tB,SAASomB,EAAUh2C,EAAE+c,EAAE,GAAG,GAAGi5B,EAAUh2C,EAAE+c,EAAE,GAAG,GAAG,GAAGwgC,EAAa1tB,SAASmmB,EAAUh2C,EAAE+c,EAAE,GAAG,GAAGi5B,EAAUh2C,EAAE+c,EAAE,GAAG,GAAG,GAAGwgC,EAAa3tB,SAASomB,EAAUz2C,EAAE,GAAG,GAAGy2C,EAAUz2C,EAAE,GAAG,GAAG,GAAGg+C,EAAa1tB,SAASmmB,EAAUz2C,EAAE,GAAG,GAAGy2C,EAAUz2C,EAAE,GAAG,GAAG,GAAGg+C,EAAa3tB,SAASomB,EAAUjuB,EAAE,GAAG,GAAGiuB,EAAUjuB,EAAE,GAAG,GAAG,GAAGw1B,EAAa1tB,SAASmmB,EAAUjuB,EAAE,GAAG,GAAGiuB,EAAUjuB,EAAE,GAAG,GAAG,IAChYi/C,EAAS5pD,GAAK6pD,EAEfvoC,IACCke,GAAQc,EAAQn+C,GAAGC,EACnBo9C,GAAQuE,GAET19C,KAAK8yD,UAAUnqB,GACd3oC,KAAK8yD,UAAUnqB,GAAKhE,KAAO4+B,EAE3BvjE,KAAK8yD,UAAUnqB,GAAO,CAAChE,KAAM4+B,GAEjC56B,GAAM,IAIdmgB,cAAcprD,UAAU2xD,mBAAqB,WACzC,IAWKvzD,EAAE0X,EAAKmG,EAAGif,EAAMtf,EAAGuf,EAXpBnuB,EAAM1K,KAAKspD,cACAtpD,KAAK+sD,eAAenmB,IAAIloC,MACvCgM,EAAIgxB,KAAO17B,KAAKoS,OAAO2sD,OACvBr0D,EAAI83D,QAAU,OACd93D,EAAI+3D,SAAW,QACf/3D,EAAIg4D,WAAa,EAEb1iE,KAAK26B,KAAKM,aACVj7B,KAAKm4D,aAAajf,YAAYl5C,KAAKo/C,aAAazH,YAAa33C,KAAK02C,oBAItE,IAKIwjB,EALAzjB,EAAkBz2C,KAAKm4D,aAAa1hB,gBAEpCwD,EAAUj6C,KAAKo/C,aAAazH,YAAY57C,EAE5CyX,EAAMymC,EAAQ37C,OAEd,IAA4DilE,EAAUC,EAAlEC,EAAW,KAAMC,EAAa,KAAMC,EAAc,KACtD,IAAI7nE,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb,IAAGm+C,EAAQn+C,GAAGyB,EAAd,CASA,IANA28D,EAAiBzjB,EAAgB36C,MAE7BkE,KAAK4kC,WAAWxuB,SAASuzC,OACzB3pD,KAAK4kC,WAAWxuB,SAAS8yC,aAAagR,EAAet8D,GACrDoC,KAAK4kC,WAAWxuB,SAASmzC,WAAW2Q,EAAe39D,IAEpDyD,KAAK4+D,KAAK,CAaT,IAZG1E,GAAkBA,EAAeljB,GAC7BysB,IAAavJ,EAAeljB,KAC3BysB,EAAWvJ,EAAeljB,GAC1BtsC,EAAImoC,UAAYqnB,EAAeljB,IAE9BysB,IAAazjE,KAAKoS,OAAOwsD,OAC9B6E,EAAWzjE,KAAKoS,OAAOwsD,KACvBl0D,EAAImoC,UAAY7yC,KAAKoS,OAAOwsD,MAGhChmC,GADA2qC,EAAWvjE,KAAK8yD,UAAUh3D,GAAG6oC,MACbrmC,OAChB0B,KAAK4kC,WAAW0kB,cAAcuB,YAC1BlxC,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,EAId,IAFAkf,GADA2qC,EAAUD,EAAS5pD,IACJrb,OACf0B,KAAK4kC,WAAW0kB,cAAcyX,OAAOyC,EAAQ,GAAIA,EAAQ,IACpDlqD,EAAI,EAAGA,EAAIuf,EAAMvf,GAAK,EACvBtZ,KAAK4kC,WAAW0kB,cAAc2X,cAAcuC,EAAQlqD,GAAIkqD,EAAQlqD,EAAI,GAAIkqD,EAAQlqD,EAAI,GAAIkqD,EAAQlqD,EAAI,GAAIkqD,EAAQlqD,EAAI,GAAIkqD,EAAQlqD,EAAI,IAG5ItZ,KAAK4kC,WAAW0kB,cAAcwB,YAC9B9qD,KAAK4kC,WAAW0kB,cAAcsV,OAGlC,GAAG5+D,KAAK2+D,OAAO,CAsBX,IArBGzE,GAAkBA,EAAenjB,GAC7B4sB,IAAgBzJ,EAAenjB,KAC9B4sB,EAAczJ,EAAenjB,GAC7BrsC,EAAI6yC,UAAY2c,EAAenjB,IAE9B4sB,IAAgB3jE,KAAKoS,OAAO0sD,SACjC6E,EAAc3jE,KAAKoS,OAAO0sD,OAC1Bp0D,EAAI6yC,UAAYv9C,KAAKoS,OAAO0sD,QAE7B5E,GAAkBA,EAAej7B,GAC7BykC,IAAexJ,EAAej7B,KAC7BykC,EAAaxJ,EAAej7B,GAC5Bv0B,EAAI43D,YAAcpI,EAAej7B,IAEhCykC,IAAe1jE,KAAKoS,OAAOusD,SAChC+E,EAAa1jE,KAAKoS,OAAOusD,OACzBj0D,EAAI43D,YAActiE,KAAKoS,OAAOusD,QAGlC/lC,GADA2qC,EAAWvjE,KAAK8yD,UAAUh3D,GAAG6oC,MACbrmC,OAChB0B,KAAK4kC,WAAW0kB,cAAcuB,YAC1BlxC,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,EAId,IAFAkf,GADA2qC,EAAUD,EAAS5pD,IACJrb,OACf0B,KAAK4kC,WAAW0kB,cAAcyX,OAAOyC,EAAQ,GAAIA,EAAQ,IACpDlqD,EAAI,EAAGA,EAAIuf,EAAMvf,GAAK,EACvBtZ,KAAK4kC,WAAW0kB,cAAc2X,cAAcuC,EAAQlqD,GAAIkqD,EAAQlqD,EAAI,GAAIkqD,EAAQlqD,EAAI,GAAIkqD,EAAQlqD,EAAI,GAAIkqD,EAAQlqD,EAAI,GAAIkqD,EAAQlqD,EAAI,IAG5ItZ,KAAK4kC,WAAW0kB,cAAcwB,YAC9B9qD,KAAK4kC,WAAW0kB,cAAcqV,SAG/BzE,GACCl6D,KAAK4kC,WAAWxuB,SAASszC,YAOrCsV,UAAUthE,UAAU4qD,YAAc,aAElC2W,aAAavhE,UAAY,CACrBkmE,eAAgB,aAChB7U,oBAAqB,WACjB/uD,KAAKmvD,YAActpC,UAAU7lB,KAAK26B,KAAKkpC,IAAM,OAC1C7jE,KAAK26B,KAAK1B,SACTj5B,KAAKogD,WAAaz6B,SAAS,OAC3B3lB,KAAK2gD,aAAeh7B,SAAS,KAC7B3lB,KAAKwjD,cAAgBxjD,KAAK2gD,aAC1B3gD,KAAKogD,WAAWrxC,YAAY/O,KAAK2gD,cACjC3gD,KAAKmvD,YAAYpgD,YAAY/O,KAAKogD,aAElCpgD,KAAK2gD,aAAe3gD,KAAKmvD,YAE7B5sC,SAASviB,KAAKmvD,cAElBH,wBAAyB,WACrBhvD,KAAKy3D,yBAA2B,IAAIuH,UAAUh/D,MAC9CA,KAAK22D,mBAAqB32D,KAAKmvD,YAC/BnvD,KAAKwjD,cAAgBxjD,KAAK2gD,aACtB3gD,KAAK26B,KAAK08B,IACVr3D,KAAK2gD,aAAa/jB,aAAa,KAAK58B,KAAK26B,KAAK08B,IAE9Cr3D,KAAK26B,KAAKK,IACVh7B,KAAK2gD,aAAa/jB,aAAa,QAAS58B,KAAK26B,KAAKK,IAEjC,IAAjBh7B,KAAK26B,KAAK07B,IACVr2D,KAAKm2D,gBAGb/G,cAAe,WACRpvD,KAAK+sD,eAAeU,UACnBztD,KAAK22D,mBAAmB3xD,MAAMskB,UAAYtpB,KAAK22D,mBAAmB3xD,MAAMinD,gBAAkBjsD,KAAK+sD,eAAenmB,IAAInZ,SAEnHztB,KAAK+sD,eAAeW,SACnB1tD,KAAK22D,mBAAmB3xD,MAAMk3D,QAAUl8D,KAAK+sD,eAAeC,MAAMzwD,EAAE+nB,IAG5EgkC,YAAa,WAGLtoD,KAAK26B,KAAKwpB,IAAMnkD,KAAKkuD,SAGzBluD,KAAK4tD,kBACL5tD,KAAK0uD,mBACL1uD,KAAKovD,gBACLpvD,KAAKqvD,qBACDrvD,KAAKglC,gBACLhlC,KAAKglC,eAAgB,KAG7BvuB,QAAS,WACLzW,KAAK2gD,aAAe,KACpB3gD,KAAK22D,mBAAqB,KACvB32D,KAAK02D,eACJ12D,KAAK02D,aAAe,MAErB12D,KAAKg5C,cACJh5C,KAAKg5C,YAAYviC,UACjBzW,KAAKg5C,YAAc,OAG3BiW,2BAA4B,WACxBjvD,KAAKg5C,YAAc,IAAIoJ,YAAYpiD,KAAK26B,KAAM36B,KAAMA,KAAK4kC,aAE7Dk/B,WAAY,aAEZ1b,SAAU,cAEd6W,aAAavhE,UAAU+qD,eAAiB8J,eAAe70D,UAAU+qD,eACjEwW,aAAavhE,UAAU6xD,mBAAqB0P,aAAavhE,UAAU+Y,QACnEwoD,aAAavhE,UAAU8oD,sBAAwBxE,eAAetkD,UAAU8oD,sBAIxEj0B,gBAAgB,CAAC+/B,YAAY1O,iBAAiBqb,aAAavb,iBAAiBC,aAAaG,sBAAuB8H,eAEhHA,cAAcluD,UAAUwxD,cAAgB,WACpC,IAAI3M,EACDviD,KAAK26B,KAAK1B,UACTspB,EAAO58B,SAAS,SACXiX,aAAa,QAAQ58B,KAAK26B,KAAKoc,IACpCwL,EAAK3lB,aAAa,SAAS58B,KAAK26B,KAAKwH,IACrCogB,EAAK3lB,aAAa,OAAO58B,KAAK26B,KAAKsE,IACnCj/B,KAAKogD,WAAWxjB,aAAa,QAAQ58B,KAAK26B,KAAKoc,IAC/C/2C,KAAKogD,WAAWxjB,aAAa,SAAS58B,KAAK26B,KAAKwH,OAEhDogB,EAAO18B,UAAU,QACZ7gB,MAAMa,MAAQ7F,KAAK26B,KAAKoc,GAAK,KAClCwL,EAAKv9C,MAAMsD,OAAStI,KAAK26B,KAAKwH,GAAK,KACnCogB,EAAKv9C,MAAM++D,gBAAkB/jE,KAAK26B,KAAKsE,IAE3Cj/B,KAAK2gD,aAAa5xC,YAAYwzC,IAalChwB,gBAAgB,CAACyvB,eAAgB0Q,aAAcuM,cAAetT,cAC9DA,aAAajuD,UAAUsmE,6BAA+BrY,aAAajuD,UAAUsxD,wBAE7ErD,aAAajuD,UAAUsxD,wBAA0B,WAC7ChvD,KAAKgkE,+BAEFhkE,KAAK26B,KAAK1B,SACTj5B,KAAKogD,WAAWxjB,aAAa,QAAQ58B,KAAK26B,KAAKtb,GAC/Crf,KAAKogD,WAAWxjB,aAAa,SAAS58B,KAAK26B,KAAKtW,GAChDrkB,KAAK22D,mBAAqB32D,KAAKmvD,aAE/BnvD,KAAK22D,mBAAqB32D,KAAK2gD,cAIvCgL,aAAajuD,UAAUytD,iBAAmB,SAASxmB,EAAKrpB,GAGpD,IAFA,IACIotC,EADA/uC,EAAI,EAEFA,EAAE2B,GACDtb,KAAKgxC,SAASr3B,IAAM3Z,KAAKgxC,SAASr3B,GAAG8uC,iBACpCC,EAAc1oD,KAAKgxC,SAASr3B,GAAG8uC,kBAEnC9uC,GAAK,EAEN+uC,EACC1oD,KAAK2gD,aAAagI,aAAahkB,EAAM+jB,GAErC1oD,KAAK2gD,aAAa5xC,YAAY41B,IA+BtCpS,gBAAgB,CAAC+/B,YAAY1O,iBAAiBgI,cAAcjE,gBAAgBsX,aAAavb,iBAAiBC,aAAaE,mBAAoB0H,eAC3IA,cAAc7tD,UAAUumE,kBAAoB1Y,cAAc7tD,UAAU2xD,mBAEpE9D,cAAc7tD,UAAUwxD,cAAgB,WACpC,IAAIzd,EAEJ,GADAzxC,KAAKmvD,YAAYnqD,MAAMg3B,SAAW,EAC9Bh8B,KAAK26B,KAAK1B,QACVj5B,KAAK2gD,aAAa5xC,YAAY/O,KAAKk/D,iBACnCztB,EAAOzxC,KAAKogD,eACT,CACH3O,EAAO9rB,SAAS,OAChB,IAAI4V,EAAOv7B,KAAKkkC,KAAKvJ,KAAO36B,KAAKkkC,KAAKvJ,KAAO36B,KAAK4kC,WAAW6iB,SAC7DhW,EAAK7U,aAAa,QAAQrB,EAAKlc,GAC/BoyB,EAAK7U,aAAa,SAASrB,EAAKlX,GAChCotB,EAAK1iC,YAAY/O,KAAKk/D,iBACtBl/D,KAAK2gD,aAAa5xC,YAAY0iC,GAGlCzxC,KAAKu6D,aAAav6D,KAAK+yD,WAAW/yD,KAAKkzD,UAAUlzD,KAAKklD,aAAallD,KAAKk/D,gBAAgB,EAAG,IAAI,GAC/Fl/D,KAAKw6D,qBACLx6D,KAAKkkE,UAAYzyB,GAGrB8Z,cAAc7tD,UAAUymE,oBAAsB,SAAS5f,EAAcppC,GACjE,IAAIrf,EAAG0X,EAAM+wC,EAAajmD,OAC1B,IAAIxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACrBqf,EAAQopC,EAAazoD,GAAGq2C,OAAO7tB,EAAEqI,kBAAkBxR,EAAM,GAAIA,EAAM,GAAI,GAE3E,OAAOA,GAGXowC,cAAc7tD,UAAU0mE,0BAA4B,SAASr7D,EAAMs7D,GAC/D,IAEIvoE,EAAwBwoE,EAAQC,EAAQC,EAAYC,EAFpDr3B,EAAQrkC,EAAKo5B,GAAG7d,EAChBigC,EAAex7C,EAAKw7C,aACjB/wC,EAAM45B,EAAMzX,QACnB,KAAIniB,GAAO,GAAX,CAGA,IAAK1X,EAAI,EAAGA,EAAI0X,EAAM,EAAG1X,GAAK,EAC1BwoE,EAAStkE,KAAKmkE,oBAAoB5f,EAAcnX,EAAM9oB,EAAExoB,IACxDyoE,EAASvkE,KAAKmkE,oBAAoB5f,EAAcnX,EAAM7wC,EAAET,IACxD0oE,EAAaxkE,KAAKmkE,oBAAoB5f,EAAcnX,EAAMtxC,EAAEA,EAAI,IAChE2oE,EAAazkE,KAAKmkE,oBAAoB5f,EAAcnX,EAAM9oB,EAAExoB,EAAI,IAChEkE,KAAK0kE,YAAYJ,EAAQC,EAAQC,EAAYC,EAAYJ,GAE1Dj3B,EAAMjxC,IACLmoE,EAAStkE,KAAKmkE,oBAAoB5f,EAAcnX,EAAM9oB,EAAExoB,IACxDyoE,EAASvkE,KAAKmkE,oBAAoB5f,EAAcnX,EAAM7wC,EAAET,IACxD0oE,EAAaxkE,KAAKmkE,oBAAoB5f,EAAcnX,EAAMtxC,EAAE,IAC5D2oE,EAAazkE,KAAKmkE,oBAAoB5f,EAAcnX,EAAM9oB,EAAE,IAC5DtkB,KAAK0kE,YAAYJ,EAAQC,EAAQC,EAAYC,EAAYJ,MAIjE9Y,cAAc7tD,UAAUgnE,YAAc,SAASJ,EAAQC,EAAQC,EAAYC,EAAYJ,GACnFrkE,KAAK2kE,iBAAiBL,EAAQC,EAAQC,EAAYC,GAClD,IAAIG,EAAS5kE,KAAK6kE,iBAClBR,EAAYr4C,EAAItK,OAAOkjD,EAAOliD,KAAM2hD,EAAYr4C,GAChDq4C,EAAYS,KAAOrjD,OAAOmjD,EAAO7+D,MAAOs+D,EAAYS,MACpDT,EAAYp4C,EAAIvK,OAAOkjD,EAAOniD,IAAK4hD,EAAYp4C,GAC/Co4C,EAAYU,KAAOtjD,OAAOmjD,EAAOI,OAAQX,EAAYU,OAGzDxZ,cAAc7tD,UAAUmnE,iBAAmB,CACvCniD,KAAK,EACL3c,MAAM,EACN0c,IAAI,EACJuiD,OAAO,GAGXzZ,cAAc7tD,UAAUunE,gBAAkB,CACtCj5C,EAAE,EACF84C,KAAK,EACL74C,EAAE,EACF84C,KAAK,EACLl/D,MAAM,EACNyC,OAAO,GAGXijD,cAAc7tD,UAAUinE,iBAAmB,SAASx3C,EAAI3B,EAAIlB,EAAI46C,GAI5D,IAFA,IAESz6D,EAAGsB,EAAG5P,EAAGa,EAAGmoE,EAAMlvC,EAAImvC,EAF3BR,EAAS,CAAC,CAACz3C,EAAG,GAAG+3C,EAAG,IAAK,CAAC/3C,EAAG,GAAG+3C,EAAG,KAEJppE,EAAI,EAAGA,EAAI,IAAKA,EAUjD,GARAiQ,EAAI,EAAIohB,EAAGrxB,GAAK,GAAK0vB,EAAG1vB,GAAK,EAAIwuB,EAAGxuB,GACpC2O,GAAK,EAAI0iB,EAAGrxB,GAAK,EAAI0vB,EAAG1vB,GAAK,EAAIwuB,EAAGxuB,GAAK,EAAIopE,EAAGppE,GAChDK,EAAI,EAAIqvB,EAAG1vB,GAAK,EAAIqxB,EAAGrxB,GAEvBiQ,GAAQ,EAER5P,GAAQ,EAEE,KAHVsO,GAAQ,IAiBR06D,EAAOp5D,EAAIA,EAAI,EAAI5P,EAAIsO,GAEZ,IAKP,GADJwrB,IAAOlqB,EAAIqV,QAAQ+jD,KAAQ,EAAI16D,KACjBwrB,EAAK,GAAG2uC,EAAO9oE,GAAGsS,KAAKpO,KAAKqlE,WAAWpvC,EAAG9I,EAAG3B,EAAGlB,EAAG46C,EAAGppE,IAGhE,GADJspE,IAAOr5D,EAAIqV,QAAQ+jD,KAAQ,EAAI16D,KACjB26D,EAAK,GAAGR,EAAO9oE,GAAGsS,KAAKpO,KAAKqlE,WAAWD,EAAGj4C,EAAG3B,EAAGlB,EAAG46C,EAAGppE,SAxBpE,CAEE,GAAU,IAANiQ,EACF,SAKE,GAFJ/O,GAAKb,EAAI4P,IAEI/O,EAAI,GACf4nE,EAAO9oE,GAAGsS,KAAKpO,KAAKqlE,WAAWroE,EAAEmwB,EAAG3B,EAAGlB,EAAG46C,EAAGppE,IAmBnDkE,KAAK6kE,iBAAiBniD,KAAOhB,OAAO1V,MAAM,KAAM44D,EAAO,IACvD5kE,KAAK6kE,iBAAiBpiD,IAAMf,OAAO1V,MAAM,KAAM44D,EAAO,IACtD5kE,KAAK6kE,iBAAiB9+D,MAAQ0b,OAAOzV,MAAM,KAAM44D,EAAO,IACxD5kE,KAAK6kE,iBAAiBG,OAASvjD,OAAOzV,MAAM,KAAM44D,EAAO,KAG3DrZ,cAAc7tD,UAAU2nE,WAAa,SAASroE,EAAGmwB,EAAI3B,EAAIlB,EAAI46C,EAAIppE,GAC/D,OAAOolB,OAAO,EAAElkB,EAAG,GAAKmwB,EAAGrxB,GACrB,EAAIolB,OAAO,EAAElkB,EAAG,GAAKA,EAAIwuB,EAAG1vB,GAC5B,GAAK,EAAEkB,GAAKkkB,OAAOlkB,EAAG,GAAKstB,EAAGxuB,GAC9BolB,OAAOlkB,EAAG,GAAKkoE,EAAGppE,IAG5ByvD,cAAc7tD,UAAU4nE,qBAAuB,SAASpS,EAAWmR,GAC/D,IAAIvoE,EAAG0X,EAAM0/C,EAAU50D,OACvB,IAAIxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EAClBo3D,EAAUp3D,IAAMo3D,EAAUp3D,GAAGqmC,GAC5BniC,KAAKokE,0BAA0BlR,EAAUp3D,GAAIuoE,GACvCnR,EAAUp3D,IAAMo3D,EAAUp3D,GAAG6Q,IACnC3M,KAAKslE,qBAAqBpS,EAAUp3D,GAAG6Q,GAAI03D,IAKvD9Y,cAAc7tD,UAAU6nE,mBAAqB,SAASC,GAClD,OAAOxlE,KAAKm/D,YAAYnzC,GAAKw5C,EAAIx5C,GAC9BhsB,KAAKm/D,YAAYlzC,GAAKu5C,EAAIv5C,GAC1BjsB,KAAKm/D,YAAYt5D,MAAQ7F,KAAKm/D,YAAYnzC,GAAKw5C,EAAIx5C,EAAIw5C,EAAI3/D,OAC3D7F,KAAKm/D,YAAY72D,OAAStI,KAAKm/D,YAAYlzC,GAAKu5C,EAAIv5C,EAAIu5C,EAAIl9D,QAGnEijD,cAAc7tD,UAAU2xD,mBAAqB,WAGzC,GAFArvD,KAAKikE,qBAEDjkE,KAAKkuD,SAAWluD,KAAKglC,eAAiBhlC,KAAKmmB,MAAO,CAClD,IAAI8+C,EAAkBjlE,KAAKilE,gBACvB9qD,EAAM,OASV,GARA8qD,EAAgBj5C,EAAI7R,EACpB8qD,EAAgBH,MAAQ3qD,EACxB8qD,EAAgBh5C,EAAI9R,EACpB8qD,EAAgBF,MAAQ5qD,EACxBna,KAAKslE,qBAAqBtlE,KAAKkzD,UAAW+R,GAC1CA,EAAgBp/D,MAAQo/D,EAAgBH,KAAOG,EAAgBj5C,EAAI,EAAIi5C,EAAgBH,KAAOG,EAAgBj5C,EAC9Gi5C,EAAgB38D,OAAS28D,EAAgBF,KAAOE,EAAgBh5C,EAAI,EAAIg5C,EAAgBF,KAAOE,EAAgBh5C,EAE5GjsB,KAAKulE,mBAAmBN,GACvB,OAEJ,IAAIQ,GAAU,EACXzlE,KAAKm/D,YAAY9/C,IAAM4lD,EAAgBp/D,QACtC7F,KAAKm/D,YAAY9/C,EAAI4lD,EAAgBp/D,MACrC7F,KAAKkkE,UAAUtnC,aAAa,QAAQqoC,EAAgBp/D,OACpD4/D,GAAU,GAEXzlE,KAAKm/D,YAAY96C,IAAM4gD,EAAgB38D,SACtCtI,KAAKm/D,YAAY96C,EAAI4gD,EAAgB38D,OACrCtI,KAAKkkE,UAAUtnC,aAAa,SAASqoC,EAAgB38D,QACrDm9D,GAAU,IAEXA,GAAYzlE,KAAKm/D,YAAYnzC,IAAMi5C,EAAgBj5C,GAAMhsB,KAAKm/D,YAAYlzC,IAAMg5C,EAAgBh5C,KAC/FjsB,KAAKm/D,YAAY9/C,EAAI4lD,EAAgBp/D,MACrC7F,KAAKm/D,YAAY96C,EAAI4gD,EAAgB38D,OACrCtI,KAAKm/D,YAAYnzC,EAAIi5C,EAAgBj5C,EACrChsB,KAAKm/D,YAAYlzC,EAAIg5C,EAAgBh5C,EAErCjsB,KAAKkkE,UAAUtnC,aAAa,UAAU58B,KAAKm/D,YAAYnzC,EAAE,IAAIhsB,KAAKm/D,YAAYlzC,EAAE,IAAIjsB,KAAKm/D,YAAY9/C,EAAE,IAAIrf,KAAKm/D,YAAY96C,GAC5HrkB,KAAKkkE,UAAUl/D,MAAMskB,UAAYtpB,KAAKkkE,UAAUl/D,MAAMinD,gBAAkB,aAAejsD,KAAKm/D,YAAYnzC,EAAI,MAAQhsB,KAAKm/D,YAAYlzC,EAAI,SAmBrJsG,gBAAgB,CAAC+/B,YAAY1O,iBAAiBqb,aAAavb,iBAAiBC,aAAaG,qBAAqB2O,cAAejH,cAE7HA,aAAa9tD,UAAUwxD,cAAgB,WAEnC,GADAlvD,KAAKq/D,SAAWr/D,KAAKo1D,aAClBp1D,KAAKq/D,SAAS,CACbr/D,KAAK+1C,WAAa,MAClB/1C,KAAK0lE,MAAQ1lE,KAAKkkC,KAAKvJ,KAAKtb,EAC5Brf,KAAK2lE,MAAQ3lE,KAAKkkC,KAAKvJ,KAAKtW,EAC5BrkB,KAAKogD,WAAWxjB,aAAa,QAAQ58B,KAAK0lE,OAC1C1lE,KAAKogD,WAAWxjB,aAAa,SAAS58B,KAAK2lE,OAC3C,IAAIphD,EAAIoB,SAAS,KACjB3lB,KAAKwjD,cAAcz0C,YAAYwV,GAC/BvkB,KAAKsvD,UAAY/qC,OAEjBvkB,KAAK+1C,WAAa,OAClB/1C,KAAKsvD,UAAYtvD,KAAK2gD,aAG1B3gD,KAAKqoD,kBAITmD,aAAa9tD,UAAU06D,aAAe,WAClC,IAAI/9B,EAAer6B,KAAKo/C,aAAazH,YACrC33C,KAAKy2C,gBAAkBz0B,iBAAiBqY,EAAat+B,EAAIs+B,EAAat+B,EAAEuC,OAAS,GACjF,IAAIsnE,EAAiB5lE,KAAKsvD,UAAUtqD,MACpC4gE,EAAejhD,MAAQihD,EAAehH,KAAOvkC,EAAa2c,GAAKh3C,KAAK04D,WAAWr+B,EAAa2c,IAAM,gBAC/F3c,EAAa4E,KACZ2mC,EAAejH,OAAS3+D,KAAK04D,WAAWr+B,EAAa4E,IACrD2mC,EAAeC,YAAcxrC,EAAa0c,GAAG,MAEjD,IAaIj7C,EAAG0X,EAbHkpB,EAAW18B,KAAK4kC,WAAWlM,YAAY6G,cAAclF,EAAa7tB,GACtE,IAAIxM,KAAK4kC,WAAWlM,YAAY8B,MAG5B,GAFAorC,EAAe5pC,SAAW3B,EAAaoe,UAAU,KACjDmtB,EAAeE,WAAazrC,EAAaoe,UAAU,KAChD/b,EAASO,OACRj9B,KAAKsvD,UAAUltD,UAAYs6B,EAASO,WACjC,CACH2oC,EAAe/pC,WAAaa,EAASG,QACrC,IAAIE,EAAU1C,EAAa0C,QAASD,EAASzC,EAAayC,OAC1D8oC,EAAe1pC,UAAYY,EAC3B8oC,EAAezpC,WAAaY,EAKpC,IAEI08B,EAAMsM,EAAQC,EAFd/rB,EAAU5f,EAAat+B,EAC3ByX,EAAMymC,EAAQ37C,OAEd,IACIk7B,EADAsgB,EAAe95C,KAAK+5C,QACZue,EAAW,GACnB3vB,EAAM,EACV,IAAK7sC,EAAI,EAAEA,EAAI0X,EAAK1X,GAAK,EAAG,CAwCxB,GAvCGkE,KAAK4kC,WAAWlM,YAAY8B,OACvBx6B,KAAKo/D,UAAUz2B,GAMf8wB,EAAQz5D,KAAKo/D,UAAUz2B,KALvB8wB,EAAQ9zC,SAAS,SACXiX,aAAa,iBAAkB,QACrC68B,EAAM78B,aAAa,kBAAkB,SACrC68B,EAAM78B,aAAa,oBAAoB,MAIvC58B,KAAKq/D,WACFr/D,KAAK8yD,UAAUnqB,GAEdq9B,GADAD,EAAU/lE,KAAK8yD,UAAUnqB,IACT7/B,SAAS,KAGzBi9D,EAAUlgD,UAAU,QACZ7gB,MAAM8gE,WAAa,GAC3BE,EAAQrgD,SAAS,QACX5W,YAAY0qD,GAClBl3C,SAASwjD,MAIb/lE,KAAKq/D,SAYL5F,EAAQz5D,KAAKo/D,UAAUz2B,GAAO3oC,KAAKo/D,UAAUz2B,GAAOhjB,SAAS,QAX1D3lB,KAAK8yD,UAAUnqB,IACdo9B,EAAU/lE,KAAK8yD,UAAUnqB,GACzB8wB,EAAQz5D,KAAKo/D,UAAUz2B,KAGvBpmB,SADAwjD,EAAUlgD,UAAU,SAGpBtD,SADAk3C,EAAQ5zC,UAAU,SAElBkgD,EAAQh3D,YAAY0qD,IAO7Bz5D,KAAK4kC,WAAWlM,YAAY8B,MAAM,CACjC,IACIpF,EADA+nB,EAAWn9C,KAAK4kC,WAAWlM,YAAY0G,YAAY/E,EAAaqe,UAAU58C,GAAI4gC,EAASI,OAAQ98B,KAAK4kC,WAAWlM,YAAY6G,cAAclF,EAAa7tB,GAAGqwB,SAc7J,GAXIzH,EADD+nB,EACaA,EAASxiB,KAET,KAEhBmf,EAAa9xB,QACVoN,GAAaA,EAAUoE,SACtBA,EAASpE,EAAUoE,OAAO,GAAG7sB,GAC7BmtC,EAAa/wB,MAAMsR,EAAaoe,UAAU,IAAIpe,EAAaoe,UAAU,KACrE6f,EAAWt4D,KAAKq4D,gBAAgBve,EAAatgB,GAC7CigC,EAAM78B,aAAa,IAAI07B,IAEvBt4D,KAAKq/D,SAoBLr/D,KAAKsvD,UAAUvgD,YAAY0qD,OApBb,CAEd,GADAz5D,KAAKsvD,UAAUvgD,YAAYg3D,GACxB3wC,GAAaA,EAAUoE,OAAO,CAG7B/3B,SAAS4B,KAAK0L,YAAYi3D,GAC1B,IAAI3B,EAAc2B,EAAMhM,UACxBgM,EAAMppC,aAAa,QAAQynC,EAAYx+D,MAAQ,GAC/CmgE,EAAMppC,aAAa,SAASynC,EAAY/7D,OAAS,GACjD09D,EAAMppC,aAAa,UAAWynC,EAAYr4C,EAAE,EAAG,KAAMq4C,EAAYp4C,EAAE,GAAG,KAAMo4C,EAAYx+D,MAAM,GAAG,KAAMw+D,EAAY/7D,OAAO,IAC1H09D,EAAMhhE,MAAMskB,UAAY08C,EAAMhhE,MAAMinD,gBAAkB,cAAgBoY,EAAYr4C,EAAE,GAAK,OAASq4C,EAAYp4C,EAAE,GAAK,MAErHguB,EAAQn+C,GAAG08C,QAAU6rB,EAAYp4C,EAAE,OAGnC+5C,EAAMppC,aAAa,QAAQ,GAC3BopC,EAAMppC,aAAa,SAAS,GAE5BmpC,EAAQh3D,YAAYi3D,SAK5BvM,EAAMz8B,YAAcid,EAAQn+C,GAAGgS,IAC/B2rD,EAAMplB,eAAe,uCAAwC,YAAY,YACrEr0C,KAAKq/D,SAKLr/D,KAAKsvD,UAAUvgD,YAAY0qD,IAJ3Bz5D,KAAKsvD,UAAUvgD,YAAYg3D,GAE3BtM,EAAMz0D,MAAMskB,UAAYmwC,EAAMz0D,MAAMinD,gBAAkB,kBAAmB5xB,EAAaoe,UAAU,IAAI,SAMxGz4C,KAAKq/D,SAGLr/D,KAAK8yD,UAAUnqB,GAAO8wB,EAFtBz5D,KAAK8yD,UAAUnqB,GAAOo9B,EAI1B/lE,KAAK8yD,UAAUnqB,GAAK3jC,MAAM8J,QAAU,QACpC9O,KAAKo/D,UAAUz2B,GAAO8wB,EACtB9wB,GAAO,EAEX,KAAMA,EAAM3oC,KAAK8yD,UAAUx0D,QACvB0B,KAAK8yD,UAAUnqB,GAAK3jC,MAAM8J,QAAU,OACpC65B,GAAO,GAIf6iB,aAAa9tD,UAAU2xD,mBAAqB,WAExC,GAAGrvD,KAAK26B,KAAKM,YAAY,CACrB,IAAIj7B,KAAKglC,gBAAkBhlC,KAAK02C,mBAC5B,OAGI12C,KAAKq/D,UAAYr/D,KAAK+sD,eAAeU,UACpCztD,KAAKogD,WAAWxjB,aAAa,WAAW58B,KAAK+sD,eAAeC,MAAMpvD,EAAE0mB,EAAE,GAAG,KAAMtkB,KAAK+sD,eAAeC,MAAMpvD,EAAE0mB,EAAE,GAAG,IAAItkB,KAAK0lE,MAAM,IAAI1lE,KAAK2lE,OACzI3lE,KAAKogD,WAAWp7C,MAAMskB,UAAYtpB,KAAKogD,WAAWp7C,MAAMinD,gBAAkB,cAAgBjsD,KAAK+sD,eAAeC,MAAMpvD,EAAE0mB,EAAE,GAAK,OAAStkB,KAAK+sD,eAAeC,MAAMpvD,EAAE0mB,EAAE,GAAK,OAMrL,GADAtkB,KAAKm4D,aAAajf,YAAYl5C,KAAKo/C,aAAazH,YAAa33C,KAAK02C,oBAC9D12C,KAAK02C,oBAAuB12C,KAAKm4D,aAAazhB,mBAAlD,CAGA,IAAK56C,EAAE0X,EAMH0mD,EAAgBC,EAAU8L,EANlB73C,EAAQ,EAChBqoB,EAAkBz2C,KAAKm4D,aAAa1hB,gBAEpCwD,EAAUj6C,KAAKo/C,aAAazH,YAAY57C,EAI5C,IAFAyX,EAAMymC,EAAQ37C,OAEVxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACVm+C,EAAQn+C,GAAGyB,EACV6wB,GAAS,GAGb+rC,EAAWn6D,KAAK8yD,UAAUh3D,GAC1BmqE,EAAWjmE,KAAKo/D,UAAUtjE,GAC1Bo+D,EAAiBzjB,EAAgBroB,GACjCA,GAAS,EACN8rC,EAAe/zC,KAAKjqB,IACf8D,KAAKq/D,SAGLlF,EAASv9B,aAAa,YAAYs9B,EAAeh+D,GAFjDi+D,EAASn1D,MAAMskB,UAAY6wC,EAASn1D,MAAMinD,gBAAkBiO,EAAeh+D,GAMnFi+D,EAASn1D,MAAMk3D,QAAUhC,EAAe39D,EACrC29D,EAAenjB,IAAMmjB,EAAe/zC,KAAK4wB,IACxCkvB,EAASrpC,aAAa,eAAes9B,EAAenjB,IAErDmjB,EAAej7B,IAAMi7B,EAAe/zC,KAAK8Y,IACxCgnC,EAASrpC,aAAa,SAASs9B,EAAej7B,IAE/Ci7B,EAAeljB,IAAMkjB,EAAe/zC,KAAK6wB,KACxCivB,EAASrpC,aAAa,OAAOs9B,EAAeljB,IAC5CivB,EAASjhE,MAAM2f,MAAQu1C,EAAeljB,KAI9C,GAAGh3C,KAAKsvD,UAAU0K,UAAYh6D,KAAKkuD,SAAWluD,KAAKglC,eAAiBhlC,KAAKmmB,MAAM,CAC3E,IAAIk+C,EAAcrkE,KAAKsvD,UAAU0K,UAE9Bh6D,KAAKm/D,YAAY9/C,IAAMglD,EAAYx+D,QAClC7F,KAAKm/D,YAAY9/C,EAAIglD,EAAYx+D,MACjC7F,KAAKogD,WAAWxjB,aAAa,QAAQynC,EAAYx+D,QAElD7F,KAAKm/D,YAAY96C,IAAMggD,EAAY/7D,SAClCtI,KAAKm/D,YAAY96C,EAAIggD,EAAY/7D,OACjCtI,KAAKogD,WAAWxjB,aAAa,SAASynC,EAAY/7D,SAInDtI,KAAKm/D,YAAY9/C,IAAOglD,EAAYx+D,MAAQkS,GAAa/X,KAAKm/D,YAAY96C,IAAOggD,EAAY/7D,OAASyP,GAAc/X,KAAKm/D,YAAYnzC,IAAOq4C,EAAYr4C,EAD9I,GAC8JhsB,KAAKm/D,YAAYlzC,IAAOo4C,EAAYp4C,EADlM,IAETjsB,KAAKm/D,YAAY9/C,EAAIglD,EAAYx+D,MAAQkS,EACzC/X,KAAKm/D,YAAY96C,EAAIggD,EAAY/7D,OAASyP,EAC1C/X,KAAKm/D,YAAYnzC,EAAIq4C,EAAYr4C,EAJxB,EAKThsB,KAAKm/D,YAAYlzC,EAAIo4C,EAAYp4C,EALxB,EAOTjsB,KAAKogD,WAAWxjB,aAAa,UAAU58B,KAAKm/D,YAAYnzC,EAAE,IAAIhsB,KAAKm/D,YAAYlzC,EAAE,IAAIjsB,KAAKm/D,YAAY9/C,EAAE,IAAIrf,KAAKm/D,YAAY96C,GAC7HrkB,KAAKogD,WAAWp7C,MAAMskB,UAAYtpB,KAAKogD,WAAWp7C,MAAMinD,gBAAkB,aAAejsD,KAAKm/D,YAAYnzC,EAAI,MAAQhsB,KAAKm/D,YAAYlzC,EAAI,UASvJsG,gBAAgB,CAAC+/B,YAAY1O,iBAAiBqb,aAAarT,cAAclI,iBAAiBC,aAAaE,mBAAoB6H,eAG3HA,cAAchuD,UAAUwxD,cAAgB,WACpC,IAAIgK,EAAYl5D,KAAK4kC,WAAWuO,cAAcnzC,KAAKozC,WAC/Ca,EAAM,IAAIiyB,MAEXlmE,KAAK26B,KAAK1B,SACTj5B,KAAKmmE,UAAYxgD,SAAS,SAC1B3lB,KAAKmmE,UAAUvpC,aAAa,QAAQ58B,KAAKozC,UAAU/zB,EAAE,MACrDrf,KAAKmmE,UAAUvpC,aAAa,SAAS58B,KAAKozC,UAAU/uB,EAAE,MACtDrkB,KAAKmmE,UAAU9xB,eAAe,+BAA+B,OAAO6kB,GACpEl5D,KAAK2gD,aAAa5xC,YAAY/O,KAAKmmE,WACnCnmE,KAAKmvD,YAAYvyB,aAAa,QAAQ58B,KAAKozC,UAAU/zB,GACrDrf,KAAKmvD,YAAYvyB,aAAa,SAAS58B,KAAKozC,UAAU/uB,IAEtDrkB,KAAK2gD,aAAa5xC,YAAYklC,GAElCA,EAAIjlC,IAAMkqD,EACPl5D,KAAK26B,KAAK08B,IACTr3D,KAAKmvD,YAAYvyB,aAAa,KAAK58B,KAAK26B,KAAK08B,KAwCrD9kC,gBAAgB,CAAC+/B,YAAa3O,aAAcD,kBAAmB+H,gBAE/DA,eAAe/tD,UAAU6uD,MAAQ,WAC7B,IAAIzwD,EAA0CooC,EAAvC1wB,EAAMxT,KAAKkkC,KAAK+d,eAAe3jD,OACtC,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EAGI,QADjBooC,EAAOlkC,KAAKkkC,KAAK+d,eAAenmD,IACxBgP,OACJo5B,EAAK6nB,gBAAgB/mD,MAAM0nD,YAAcxoB,EAAK6nB,gBAAgB/mD,MAAM2nD,kBAAoB3sD,KAAKs/D,GAAGh7C,EAAE,KAClG4f,EAAK/tB,UAAUnR,MAAM2d,gBAAkBuhB,EAAK/tB,UAAUnR,MAAMmlD,mBAAqBjmB,EAAK/tB,UAAUnR,MAAM4d,sBAAwB,cAC9HshB,EAAK6nB,gBAAgB/mD,MAAMskB,UAAY4a,EAAK6nB,gBAAgB/mD,MAAMinD,gBAAkB,8CAKhGR,eAAe/tD,UAAUwiE,eAAiB,aAG1CzU,eAAe/tD,UAAUiN,KAAO,aAGhC8gD,eAAe/tD,UAAU4qD,YAAc,WACnC,IACIxsD,EAAG0X,EADH2S,EAAOnmB,KAAKglC,cAEhB,GAAGhlC,KAAK0mD,UAEJ,IADAlzC,EAAMxT,KAAK0mD,UAAUpoD,OACjBxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbqqB,EAAOnmB,KAAK0mD,UAAU5qD,GAAGixD,eAAeC,MAAM7mC,MAAQA,EAG9D,GAAGA,GAAQnmB,KAAKs/D,GAAGn5C,MAASnmB,KAAKpC,GAAKoC,KAAKpC,EAAEuoB,MAAUnmB,KAAKwN,KAAOxN,KAAKwN,GAAG2Y,MAAQnmB,KAAKkmC,GAAG/f,MAAQnmB,KAAKmmC,GAAGhgB,OAAUnmB,KAAKomC,GAAGjgB,MAAQnmB,KAAKqmC,GAAGlgB,MAAQnmB,KAAKsmC,GAAGngB,MAAQnmB,KAAKumC,GAAGpgB,MAASnmB,KAAKyK,GAAKzK,KAAKyK,EAAE0b,KAAO,CAG1M,GAFAnmB,KAAK4mC,IAAI5e,QAENhoB,KAAK0mD,UAGJ,IAAK5qD,EADL0X,EAAMxT,KAAK0mD,UAAUpoD,OAAS,EAChBxC,GAAK,EAAGA,GAAK,EAAG,CAC1B,IAAIsqE,EAAUpmE,KAAK0mD,UAAU5qD,GAAGixD,eAAeC,MAC/ChtD,KAAK4mC,IAAI1d,WAAWk9C,EAAQxoE,EAAE0mB,EAAE,IAAI8hD,EAAQxoE,EAAE0mB,EAAE,GAAG8hD,EAAQxoE,EAAE0mB,EAAE,IAC/DtkB,KAAK4mC,IAAIve,SAAS+9C,EAAQ7/B,GAAGjiB,EAAE,IAAIgE,SAAS89C,EAAQ7/B,GAAGjiB,EAAE,IAAIiE,QAAQ69C,EAAQ7/B,GAAGjiB,EAAE,IAClFtkB,KAAK4mC,IAAIve,SAAS+9C,EAAQhgC,GAAG9hB,GAAGgE,SAAS89C,EAAQ//B,GAAG/hB,GAAGiE,QAAQ69C,EAAQ9/B,GAAGhiB,GAC1EtkB,KAAK4mC,IAAI7d,MAAM,EAAEq9C,EAAQvoE,EAAEymB,EAAE,GAAG,EAAE8hD,EAAQvoE,EAAEymB,EAAE,GAAG,EAAE8hD,EAAQvoE,EAAEymB,EAAE,IAC/DtkB,KAAK4mC,IAAI1d,UAAUk9C,EAAQ37D,EAAE6Z,EAAE,GAAG8hD,EAAQ37D,EAAE6Z,EAAE,GAAG8hD,EAAQ37D,EAAE6Z,EAAE,IAQrE,GALItkB,KAAKpC,EACLoC,KAAK4mC,IAAI1d,WAAWlpB,KAAKpC,EAAE0mB,EAAE,IAAItkB,KAAKpC,EAAE0mB,EAAE,GAAGtkB,KAAKpC,EAAE0mB,EAAE,IAEtDtkB,KAAK4mC,IAAI1d,WAAWlpB,KAAKwN,GAAG8W,GAAGtkB,KAAKkmC,GAAG5hB,EAAEtkB,KAAKmmC,GAAG7hB,GAEjDtkB,KAAKyK,EAAG,CACR,IAAI47D,EAEAA,EADArmE,KAAKpC,EACQ,CAACoC,KAAKpC,EAAE0mB,EAAE,GAAKtkB,KAAKyK,EAAE6Z,EAAE,GAAItkB,KAAKpC,EAAE0mB,EAAE,GAAKtkB,KAAKyK,EAAE6Z,EAAE,GAAItkB,KAAKpC,EAAE0mB,EAAE,GAAKtkB,KAAKyK,EAAE6Z,EAAE,IAE9E,CAACtkB,KAAKwN,GAAG8W,EAAItkB,KAAKyK,EAAE6Z,EAAE,GAAItkB,KAAKkmC,GAAG5hB,EAAItkB,KAAKyK,EAAE6Z,EAAE,GAAItkB,KAAKmmC,GAAG7hB,EAAItkB,KAAKyK,EAAE6Z,EAAE,IAEzF,IAAIgiD,EAAMh8D,KAAK+W,KAAK/W,KAAK6W,IAAIklD,EAAW,GAAG,GAAG/7D,KAAK6W,IAAIklD,EAAW,GAAG,GAAG/7D,KAAK6W,IAAIklD,EAAW,GAAG,IAE3FE,EAAU,CAACF,EAAW,GAAGC,EAAID,EAAW,GAAGC,EAAID,EAAW,GAAGC,GAC7DE,EAAiBl8D,KAAK+W,KAAMklD,EAAQ,GAAGA,EAAQ,GAAKA,EAAQ,GAAGA,EAAQ,IACvEE,EAAen8D,KAAKo4B,MAAO6jC,EAAQ,GAAIC,GACvCE,EAAep8D,KAAKo4B,MAAO6jC,EAAQ,IAAKA,EAAQ,IACpDvmE,KAAK4mC,IAAIte,QAAQo+C,GAAar+C,SAASo+C,GAG3CzmE,KAAK4mC,IAAIve,SAASroB,KAAKomC,GAAG9hB,GAAGgE,SAAStoB,KAAKqmC,GAAG/hB,GAAGiE,QAAQvoB,KAAKsmC,GAAGhiB,GACjEtkB,KAAK4mC,IAAIve,SAASroB,KAAKumC,GAAGjiB,EAAE,IAAIgE,SAAStoB,KAAKumC,GAAGjiB,EAAE,IAAIiE,QAAQvoB,KAAKumC,GAAGjiB,EAAE,IACzEtkB,KAAK4mC,IAAI1d,UAAUlpB,KAAK4kC,WAAW6iB,SAASpoC,EAAE,EAAErf,KAAK4kC,WAAW6iB,SAASpjC,EAAE,EAAE,GAC7ErkB,KAAK4mC,IAAI1d,UAAU,EAAE,EAAElpB,KAAKs/D,GAAGh7C,GAK/B,IAAIqiD,GAAoB3mE,KAAKu/D,SAAS5zC,OAAO3rB,KAAK4mC,KAClD,IAAI+/B,GAAoB3mE,KAAKs/D,GAAGn5C,OAASnmB,KAAKkkC,KAAK+d,eAAgB,CAE/D,IAAI/d,EACJ,IAFA1wB,EAAMxT,KAAKkkC,KAAK+d,eAAe3jD,OAE3BxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EAEI,QADjBooC,EAAOlkC,KAAKkkC,KAAK+d,eAAenmD,IACxBgP,OACD67D,IACCziC,EAAK/tB,UAAUnR,MAAMskB,UAAY4a,EAAK/tB,UAAUnR,MAAMinD,gBAAkBjsD,KAAK4mC,IAAInZ,SAElFztB,KAAKs/D,GAAGn5C,OACP+d,EAAK6nB,gBAAgB/mD,MAAM0nD,YAAcxoB,EAAK6nB,gBAAgB/mD,MAAM2nD,kBAAoB3sD,KAAKs/D,GAAGh7C,EAAE,OAI9GtkB,KAAK4mC,IAAI/a,MAAM7rB,KAAKu/D,WAG5Bv/D,KAAKglC,eAAgB,GAGzBymB,eAAe/tD,UAAU8qD,aAAe,SAASj0C,GAC7CvU,KAAKstD,kBAAkB/4C,GAAK,IAGhCk3C,eAAe/tD,UAAU+Y,QAAU,aAEnCg1C,eAAe/tD,UAAU+qD,eAAiB,WAAW,OAAO,MAG5D+W,SAAS9hE,UAAU4qD,YAAc,aACjC,IAAIse,iBAAoB,WACpB,IAAI1rC,EAAW,GACX2rC,EAAuB,GACvBtpC,EAAW,EACX/pB,EAAM,EACNszD,EAAuB,EACvBC,GAAW,EACXC,GAAY,EAEhB,SAASC,EAAcC,GAGnB,IAFA,IAAIprE,EAAI,EACJqrE,EAAWD,EAAG9oE,OACZtC,EAAE0X,GACAqzD,EAAqB/qE,GAAGsrE,YAAcD,IACtCN,EAAqBvhD,OAAOxpB,EAAG,GAC/BA,GAAK,EACL0X,GAAO,EACH2zD,EAAS1xD,UACT4xD,KAGRvrE,GAAK,EAIb,SAASwrE,EAAkBz9D,EAASmM,GAChC,IAAInM,EACA,OAAO,KAGX,IADA,IAAI/N,EAAE,EACAA,EAAE0X,GAAI,CACR,GAAGqzD,EAAqB/qE,GAAG6oC,MAAQ96B,GAA4C,OAAjCg9D,EAAqB/qE,GAAG6oC,KAClE,OAAOkiC,EAAqB/qE,GAAGsrE,UAEnCtrE,GAAG,EAEP,IAAIqrE,EAAW,IAAII,cAGnB,OAFAC,EAAeL,EAAUt9D,GACzBs9D,EAASM,QAAQ59D,EAASmM,GACnBmxD,EAYX,SAASO,IACLZ,GAAwB,EACxBa,IAGJ,SAASN,IACLP,GAAwB,EAG5B,SAASU,EAAeL,EAAUt9D,GAC9Bs9D,EAAS1gE,iBAAiB,UAAUwgE,GACpCE,EAAS1gE,iBAAiB,UAAUihE,GACpCP,EAAS1gE,iBAAiB,QAAQ4gE,GAClCR,EAAqBz4D,KAAK,CAACu2B,KAAM96B,EAAQu9D,UAAUD,IACnD3zD,GAAO,EA+BX,SAASo0D,EAAOC,GACZ,IACI/rE,EADAgsE,EAAcD,EAAUtqC,EAE5B,IAAIzhC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb+qE,EAAqB/qE,GAAGsrE,UAAUW,YAAYD,GAElDvqC,EAAWsqC,EACRf,IAAyBE,EACxBlpE,OAAOk6B,sBAAsB4vC,GAE7Bb,GAAW,EAInB,SAASiB,EAAMH,GACXtqC,EAAWsqC,EACX/pE,OAAOk6B,sBAAsB4vC,GAsEjC,SAASD,KACDX,GAAaF,GACVC,IACCjpE,OAAOk6B,sBAAsBgwC,GAC7BjB,GAAW,GA8BvB,OAhBA7rC,EAASosC,kBAAoBA,EAC7BpsC,EAAS7kB,cArIT,SAAuB4xD,GACnB,IAAId,EAAW,IAAII,cAGnB,OAFAC,EAAeL,EAAU,MACzBA,EAASe,UAAUD,GACZd,GAkIXjsC,EAASrkB,SA9HT,SAAkB/I,EAAIs5D,GAClB,IAAItrE,EACJ,IAAIA,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb+qE,EAAqB/qE,GAAGsrE,UAAUvwD,SAAS/I,EAAKs5D,IA4HxDlsC,EAASpkB,aAxHT,SAAsBhJ,EAAKs5D,GACvB,IAAItrE,EACJ,IAAIA,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb+qE,EAAqB/qE,GAAGsrE,UAAUtwD,aAAahJ,EAAKs5D,IAsH5DlsC,EAASxlB,KAlHT,SAAc0xD,GACV,IAAItrE,EACJ,IAAIA,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb+qE,EAAqB/qE,GAAGsrE,UAAU1xD,KAAK0xD,IAgH/ClsC,EAASvlB,MA1FT,SAAeyxD,GACX,IAAItrE,EACJ,IAAIA,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb+qE,EAAqB/qE,GAAGsrE,UAAUzxD,MAAMyxD,IAwFhDlsC,EAASvkB,KA7ET,SAAcywD,GACV,IAAItrE,EACJ,IAAIA,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb+qE,EAAqB/qE,GAAGsrE,UAAUzwD,KAAKywD,IA2E/ClsC,EAASitC,YAvET,SAAqBf,GACjB,IAAItrE,EACJ,IAAIA,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb+qE,EAAqB/qE,GAAGsrE,UAAUe,YAAYf,IAqEtDlsC,EAASktC,iBA1DT,SAA0BpyD,EAAeqyD,EAAYjyD,GACjD,IAEIta,EAFAwsE,EAAe,GAAG56D,OAAO,GAAG0C,MAAMnU,KAAKwF,SAASC,uBAAuB,WACjE,GAAG0O,MAAMnU,KAAKwF,SAASC,uBAAuB,eACjD8R,EAAM80D,EAAahqE,OAC1B,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACVsa,GACCkyD,EAAaxsE,GAAG8gC,aAAa,eAAexmB,GAEhDkxD,EAAkBgB,EAAaxsE,GAAIka,GAEvC,GAAGqyD,GAAsB,IAAR70D,EAAU,CACnB4C,IACAA,EAAW,OAEf,IAAI/S,EAAO5B,SAAS8mE,qBAAqB,QAAQ,GACjDllE,EAAK04B,UAAY,GACjB,IAAIysC,EAAM3iD,UAAU,OACpB2iD,EAAIxjE,MAAMa,MAAQ,OAClB2iE,EAAIxjE,MAAMsD,OAAS,OACnBkgE,EAAI5rC,aAAa,eAAexmB,GAChC/S,EAAK0L,YAAYy5D,GACjBlB,EAAkBkB,EAAKxyD,KAsC/BklB,EAASutC,OAlCT,WACI,IAAI3sE,EACJ,IAAIA,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb+qE,EAAqB/qE,GAAGsrE,UAAUqB,UAiC1CvtC,EAASwtC,YAzFT,SAAqB3rE,EAAM4rE,EAAQvB,GAC/B,IAAItrE,EACJ,IAAIA,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb+qE,EAAqB/qE,GAAGsrE,UAAUsB,YAAY3rE,EAAM4rE,EAAQvB,IAuFpElsC,EAASzkB,QArET,SAAiB2wD,GACb,IAAItrE,EACJ,IAAIA,EAAG0X,EAAI,EAAG1X,GAAG,EAAEA,GAAG,EAClB+qE,EAAqB/qE,GAAGsrE,UAAU3wD,QAAQ2wD,IAmElDlsC,EAAS0tC,OAtBT,WACI5B,GAAY,GAsBhB9rC,EAAS2tC,SAnBT,WACI7B,GAAY,EACZW,KAkBJzsC,EAAS4tC,wBA7KT,WACI,IAAIhtE,EAAG0X,EAAMqzD,EAAqBvoE,OAC9ByqE,EAAa,GACjB,IAAIjtE,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACrBitE,EAAW36D,KAAKy4D,EAAqB/qE,GAAGsrE,WAE5C,OAAO2B,GAwKJ7tC,EAxNY,GA2NnBqsC,cAAgB,WAChBvnE,KAAKqlB,KAAO,GACZrlB,KAAK3D,KAAO,GACZ2D,KAAK6G,KAAO,GACZ7G,KAAKs9B,UAAW,EAChBt9B,KAAKuoD,aAAe,EACpBvoD,KAAKgpE,gBAAkB,EACvBhpE,KAAK2jB,WAAa,EAClB3jB,KAAK4jB,YAAc,EACnB5jB,KAAKknC,UAAY,EACjBlnC,KAAKipE,UAAY,EACjBjpE,KAAKkpE,UAAY,EACjBlpE,KAAKmpE,cAAgB,EACrBnpE,KAAKopE,UAAY,EACjBppE,KAAKgW,cAAgB,GACrBhW,KAAKs6B,OAAS,GACdt6B,KAAKyV,UAAW,EAChBzV,KAAK+V,UAAW,EAChB/V,KAAK8V,MAAO,EACZ9V,KAAKoW,SAAW,KAChBpW,KAAKqpE,YAAcnlD,kBACnBlkB,KAAKqzC,WAAa,GAClBrzC,KAAKspE,cAAgB,EACrBtpE,KAAKupE,WAAa,EAClBvpE,KAAKwpE,kBAAoB/oD,gBACzBzgB,KAAKkW,SAAW,GAChBlW,KAAKypE,OAAQ,EACbzpE,KAAK0pE,gBAAiB,EACtB1pE,KAAKsmD,iBAAmBzkC,mBACxB7hB,KAAKunD,eAAiB,IAAI7U,gBAG9BngB,gBAAgB,CAACpN,WAAYoiD,eAE7BA,cAAc7pE,UAAUwqE,UAAY,SAASD,GACtCA,EAAOxmB,UACNzhD,KAAKyhD,QAAUwmB,EAAOxmB,UAEvBwmB,EAAOrjE,SAAWqjE,EAAO9xD,aACxBnW,KAAK4E,QAAUqjE,EAAOrjE,SAAWqjE,EAAO9xD,WAE5C,IAAIwzD,EAAW1B,EAAO0B,SAAW1B,EAAO0B,SAAW1B,EAAO7xD,SAAW6xD,EAAO7xD,SAAW,MACvF,OAAOuzD,GACH,IAAK,SACD3pE,KAAKoW,SAAW,IAAImrC,eAAevhD,KAAMioE,EAAOhyD,kBAChD,MACJ,IAAK,MACDjW,KAAKoW,SAAW,IAAI6pC,YAAYjgD,KAAMioE,EAAOhyD,kBAC7C,MACJ,QACIjW,KAAKoW,SAAW,IAAI4rC,eAAehiD,KAAMioE,EAAOhyD,kBAGxDjW,KAAKunD,eAAejT,aAAaq1B,GACjC3pE,KAAKoW,SAASgwC,oBAAoBpmD,KAAKsmD,kBACvCtmD,KAAK2pE,SAAWA,EACI,KAAhB1B,EAAOnyD,MACY,OAAhBmyD,EAAOnyD,WACSrV,IAAhBwnE,EAAOnyD,OACS,IAAhBmyD,EAAOnyD,KAEV9V,KAAK8V,MAAO,GACW,IAAhBmyD,EAAOnyD,KACd9V,KAAK8V,MAAO,EAEZ9V,KAAK8V,KAAOnD,SAASs1D,EAAOnyD,MAEhC9V,KAAK+V,WAAW,aAAckyD,IAASA,EAAOlyD,SAC9C/V,KAAK3D,KAAO4rE,EAAO5rE,KAAO4rE,EAAO5rE,KAAQ,GACzC2D,KAAK4pE,kBAAmB3B,EAAOtqE,eAAe,qBAAsBsqE,EAAO2B,iBAC3E5pE,KAAKqzC,WAAa40B,EAAO50B,WACzBrzC,KAAK6pE,eAAiB5B,EAAO4B,eACzB5B,EAAOjyD,cACPhW,KAAKgoD,gBAAgBigB,EAAOjyD,eACtBiyD,EAAOphE,QAE0B,IAAnCohE,EAAOphE,KAAKijE,YAAY,MACxB9pE,KAAK6G,KAAOohE,EAAOphE,KAAKo2C,OAAO,EAAEgrB,EAAOphE,KAAKijE,YAAY,MAAM,GAE/D9pE,KAAK6G,KAAOohE,EAAOphE,KAAKo2C,OAAO,EAAEgrB,EAAOphE,KAAKijE,YAAY,KAAK,GAElE9pE,KAAK+pE,SAAW9B,EAAOphE,KAAKo2C,OAAOgrB,EAAOphE,KAAKijE,YAAY,KAAK,GAChE9pE,KAAK+pE,SAAW/pE,KAAK+pE,SAAS9sB,OAAO,EAAEj9C,KAAK+pE,SAASD,YAAY,UAEjE/0B,YAAYK,KAAK6yB,EAAOphE,KAAM7G,KAAKgoD,gBAAgB1qD,KAAK0C,MAAO,WAC3DA,KAAKgqE,QAAQ,gBACf1sE,KAAK0C,SAKfunE,cAAc7pE,UAAU+pE,QAAU,SAAU7iE,EAASoR,GACjD,IAAIiyD,EAAS,CACTrjE,QAASA,EACToR,cAAeA,EAA2C,iBAAnBA,EAA+BA,EAAgB4G,KAAK+c,MAAM3jB,GAAiB,MAElHi0D,EAAoBrlE,EAAQslE,WAEhCjC,EAAOphE,KAAOojE,EAAkBE,aAAa,uBAAyBF,EAAkBE,aAAa,uBAAuBptE,MAAQktE,EAAkBE,aAAa,gBAAkBF,EAAkBE,aAAa,gBAAgBptE,MAASktE,EAAkBE,aAAa,WAAaF,EAAkBE,aAAa,WAAWptE,MAAQ,GAC3UkrE,EAAO0B,SAAWM,EAAkBE,aAAa,kBAAoBF,EAAkBE,aAAa,kBAAkBptE,MAAQktE,EAAkBE,aAAa,gBAAkBF,EAAkBE,aAAa,gBAAgBptE,MAAQktE,EAAkBE,aAAa,WAAaF,EAAkBE,aAAa,WAAWptE,MAASktE,EAAkBE,aAAa,oBAAsBF,EAAkBE,aAAa,oBAAoBptE,MAAQktE,EAAkBE,aAAa,eAAiBF,EAAkBE,aAAa,eAAeptE,MAAQ,SAE3hB,IAAI+Y,EAAOm0D,EAAkBE,aAAa,kBAAoBF,EAAkBE,aAAa,kBAAkBptE,MAASktE,EAAkBE,aAAa,gBAAkBF,EAAkBE,aAAa,gBAAgBptE,MAASktE,EAAkBE,aAAa,WAAaF,EAAkBE,aAAa,WAAWptE,MAAQ,GACnT,KAAT+Y,IAECmyD,EAAOnyD,KADO,UAATA,IAES,SAATA,GAGSnD,SAASmD,KAE3B,IAAIC,EAAWk0D,EAAkBE,aAAa,sBAAwBF,EAAkBE,aAAa,sBAAsBptE,MAASktE,EAAkBE,aAAa,oBAAsBF,EAAkBE,aAAa,oBAAoBptE,OAASktE,EAAkBE,aAAa,gBAAiBF,EAAkBE,aAAa,eAAeptE,MACnVkrE,EAAOlyD,SAAwB,UAAbA,EAElBkyD,EAAO5rE,KAAO4tE,EAAkBE,aAAa,aAAeF,EAAkBE,aAAa,aAAaptE,MAASktE,EAAkBE,aAAa,gBAAkBF,EAAkBE,aAAa,gBAAgBptE,MAAQktE,EAAkBE,aAAa,WAAaF,EAAkBE,aAAa,WAAWptE,MAAS,GAGvS,WAFDktE,EAAkBE,aAAa,uBAAyBF,EAAkBE,aAAa,uBAAuBptE,MAASktE,EAAkBE,aAAa,qBAAuBF,EAAkBE,aAAa,qBAAqBptE,MAASktE,EAAkBE,aAAa,gBAAkBF,EAAkBE,aAAa,gBAAgBptE,MAAQ,MAG9VkrE,EAAOmC,WAAY,GAEvBpqE,KAAKkoE,UAAUD,IAGnBV,cAAc7pE,UAAUwoD,cAAgB,SAASvrB,GAC1CA,EAAKyX,GAAKpyC,KAAKgW,cAAco8B,KAC5BpyC,KAAKgW,cAAco8B,GAAKzX,EAAKyX,GAC7BpyC,KAAK4jB,YAActZ,KAAK2D,MAAM0sB,EAAKyX,GAAKpyC,KAAKgW,cAAcqvC,KAE/D,IACIvpD,EAEA6d,EAHA6e,EAASx4B,KAAKgW,cAAcwiB,OACzBhlB,EAAMglB,EAAOl6B,OAChB6nD,EAAYxrB,EAAKnC,OACdI,EAAOutB,EAAU7nD,OACxB,IAAIqb,EAAE,EAAEA,EAAEif,EAAKjf,GAAG,EAEd,IADA7d,EAAI,EACEA,EAAE0X,GAAI,CACR,GAAGglB,EAAO18B,GAAG4I,IAAMyhD,EAAUxsC,GAAGjV,GAAG,CAC/B8zB,EAAO18B,GAAKqqD,EAAUxsC,GACtB,MAEJ7d,GAAK,EAOb,IAJG6+B,EAAKH,OAASG,EAAKyC,SAClBp9B,KAAKoW,SAASwuB,WAAWlM,YAAYoF,SAASnD,EAAKH,OACnDx6B,KAAKoW,SAASwuB,WAAWlM,YAAYuF,SAAStD,EAAKyC,MAAOp9B,KAAKoW,SAASwuB,WAAW1G,OAEpFvD,EAAKL,OAEJ,IADA9mB,EAAMmnB,EAAKL,OAAOh8B,OACdxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACrBkE,KAAKgW,cAAcskB,OAAOlsB,KAAKusB,EAAKL,OAAOx+B,IAGnDkE,KAAKgW,cAAcmlB,YAAa,EAChCC,YAAYivC,aAAarqE,KAAKgW,cAAchW,KAAKoW,SAASwuB,WAAWlM,aACrE14B,KAAKoW,SAAS8vC,cAAcvrB,EAAKnC,QAC9B9X,mBACCA,kBAAkBsmC,gBAAgBhnD,MAEtCA,KAAKsqE,mBAGT/C,cAAc7pE,UAAU4sE,gBAAkB,WACtC,IAAIp0D,EAAWlW,KAAKgW,cAAcE,SAClC,IAAIA,GAAgC,IAApBA,EAAS5X,SAAiB0B,KAAK4pE,iBAG3C,OAFA5pE,KAAKgqE,QAAQ,mBACbhqE,KAAKspE,cAAgBtpE,KAAK4jB,aAG9B,IAAIwrB,EAAUl5B,EAASvU,QACvB3B,KAAKspE,cAAgBl6B,EAAQ0qB,KAAO95D,KAAKknC,UACzC,IAAIqjC,EAAcvqE,KAAK6G,KAAK7G,KAAK+pE,SAAS,IAAM/pE,KAAKupE,WAAa,QAClEvpE,KAAKupE,YAAc,EACnBx0B,YAAYK,KAAKm1B,EAAavqE,KAAKkmD,cAAc5oD,KAAK0C,MAAO,WACzDA,KAAKgqE,QAAQ,gBACf1sE,KAAK0C,QAGXunE,cAAc7pE,UAAU8sE,aAAe,WACpBxqE,KAAKgW,cAAcE,WAE9BlW,KAAKspE,cAAgBtpE,KAAK4jB,aAE9B5jB,KAAKsqE,mBAGT/C,cAAc7pE,UAAU+sE,aAAe,WACnCzqE,KAAKgqE,QAAQ,iBACbhqE,KAAK0qE,eAGTnD,cAAc7pE,UAAUitE,cAAgB,WACpC3qE,KAAKunD,eAAezT,cAAc9zC,KAAKqzC,YACvCrzC,KAAKunD,eAAexT,QAAQ/zC,KAAK6G,MACjC7G,KAAKunD,eAAe5T,WAAW3zC,KAAKgW,cAAcskB,OAAQt6B,KAAKyqE,aAAantE,KAAK0C,QAGrFunE,cAAc7pE,UAAUsqD,gBAAkB,SAAUb,GAChD,GAAInnD,KAAKoW,SAGT,IACIpW,KAAKgW,cAAgBmxC,EAEjBnnD,KAAK6pE,gBACL7pE,KAAK4jB,YAActZ,KAAK2D,MAAMjO,KAAK6pE,eAAe,GAAK7pE,KAAK6pE,eAAe,IAC3E7pE,KAAK2jB,WAAarZ,KAAK0W,MAAMhhB,KAAK6pE,eAAe,MAEjD7pE,KAAK4jB,YAActZ,KAAK2D,MAAMjO,KAAKgW,cAAco8B,GAAKpyC,KAAKgW,cAAcqvC,IACzErlD,KAAK2jB,WAAarZ,KAAK0W,MAAMhhB,KAAKgW,cAAcqvC,KAEpDrlD,KAAKoW,SAAS4xC,gBAAgBb,GAC1BA,EAAS7sB,SACT6sB,EAAS7sB,OAAS,IAGtBt6B,KAAKs6B,OAASt6B,KAAKgW,cAAcskB,OACjCt6B,KAAKknC,UAAYlnC,KAAKgW,cAAcwxC,GACpCxnD,KAAKipE,UAAYjpE,KAAKgW,cAAcwxC,GAAK,IACzCxnD,KAAKoW,SAAS0wC,wBAAwBK,EAAS7sB,QAC/Ct6B,KAAKgqE,QAAQ,gBACbhqE,KAAK2qE,gBACL3qE,KAAKwqE,eACLxqE,KAAK4qE,oBACL5qE,KAAK6qE,qBACP,MAAM1lE,GACJnF,KAAK8qE,mBAAmB3lE,KAIhCoiE,cAAc7pE,UAAUmtE,mBAAqB,WACrC7qE,KAAKoW,WAGNpW,KAAKoW,SAASwuB,WAAWlM,YAAY4E,SACpCt9B,KAAK0qE,cAELlnE,WAAWxD,KAAK6qE,mBAAmBvtE,KAAK0C,MAAM,MAItDunE,cAAc7pE,UAAUgtE,YAAc,WAC7B1qE,KAAKs9B,WACHt9B,KAAKoW,SAASwuB,WAAWlM,YAAY4E,WACpCt9B,KAAKunD,eAAe/oB,UAA2C,WAA/Bx+B,KAAKoW,SAASkrC,eAElDthD,KAAKs9B,UAAW,EAChBlC,YAAYivC,aAAarqE,KAAKgW,cAAehW,KAAKoW,SAASwuB,WAAWlM,aACnEhY,mBACCA,kBAAkBsmC,gBAAgBhnD,MAEtCA,KAAKoW,SAASmwC,YACd/iD,WAAW,WACPxD,KAAKgqE,QAAQ,cACf1sE,KAAK0C,MAAO,GACdA,KAAK+qE,YACF/qE,KAAK+V,UACJ/V,KAAK0V,SAKjB6xD,cAAc7pE,UAAU+qE,OAAS,WAC7BzoE,KAAKoW,SAAS8xC,uBAGlBqf,cAAc7pE,UAAUstE,YAAc,SAAS1oD,GAC3CtiB,KAAKwpE,oBAAsBlnD,GAG/BilD,cAAc7pE,UAAUqtE,UAAY,WAChC/qE,KAAKuoD,aAAevoD,KAAKwpE,kBAAoBxpE,KAAKgpE,kBAAoBhpE,KAAKgpE,gBAExEhpE,KAAKspE,gBAAkBtpE,KAAK4jB,aAAe5jB,KAAKuoD,aAAevoD,KAAKspE,gBACnEtpE,KAAKuoD,aAAevoD,KAAKspE,eAE7BtpE,KAAKgqE,QAAQ,cACbhqE,KAAKsoD,eAGTif,cAAc7pE,UAAU4qD,YAAc,WAClC,IAAqB,IAAlBtoD,KAAKs9B,SAGR,IACIt9B,KAAKoW,SAASkyC,YAAYtoD,KAAKuoD,aAAevoD,KAAK2jB,YACrD,MAAMxe,GACJnF,KAAKirE,wBAAwB9lE,KAIrCoiE,cAAc7pE,UAAUgY,KAAO,SAAUrZ,GAClCA,GAAQ2D,KAAK3D,MAAQA,IAGH,IAAlB2D,KAAKyV,WACJzV,KAAKyV,UAAW,EACbzV,KAAKypE,QACJzpE,KAAKypE,OAAQ,EACbzpE,KAAKgqE,QAAQ,cAKzBzC,cAAc7pE,UAAUiY,MAAQ,SAAUtZ,GACnCA,GAAQ2D,KAAK3D,MAAQA,IAGH,IAAlB2D,KAAKyV,WACJzV,KAAKyV,UAAW,EAChBzV,KAAKypE,OAAQ,EACbzpE,KAAKgqE,QAAQ,WAIrBzC,cAAc7pE,UAAUyqE,YAAc,SAAU9rE,GACzCA,GAAQ2D,KAAK3D,MAAQA,KAGH,IAAlB2D,KAAKyV,SACJzV,KAAK0V,OAEL1V,KAAK2V,UAIb4xD,cAAc7pE,UAAUiZ,KAAO,SAAUta,GAClCA,GAAQ2D,KAAK3D,MAAQA,IAGxB2D,KAAK2V,QACL3V,KAAKopE,UAAY,EACjBppE,KAAK0pE,gBAAiB,EACtB1pE,KAAKkrE,wBAAwB,KAGjC3D,cAAc7pE,UAAUgrE,YAAc,SAAU3rE,EAAO4rE,EAAStsE,GACzDA,GAAQ2D,KAAK3D,MAAQA,IAGrBssE,EACC3oE,KAAKkrE,wBAAwBnuE,GAE7BiD,KAAKkrE,wBAAwBnuE,EAAQiD,KAAKmrE,eAE9CnrE,KAAK2V,UAGT4xD,cAAc7pE,UAAU0tE,YAAc,SAAUruE,EAAO4rE,EAAStsE,GAC5D2D,KAAK0oE,YAAY3rE,EAAO4rE,EAAStsE,GACjC2D,KAAK0V,QAGT6xD,cAAc7pE,UAAUqqE,YAAc,SAAUhrE,GAC5C,IAAsB,IAAlBiD,KAAKyV,WAAuC,IAAlBzV,KAAKs9B,SAAnC,CAGA,IAAI+tC,EAAYrrE,KAAKgpE,gBAAkBjsE,EAAQiD,KAAKmrE,cAChDG,GAAc,EAGdD,GAAarrE,KAAK4jB,YAAc,GAAK5jB,KAAKmrE,cAAgB,EACrDnrE,KAAK8V,MAAQ9V,KAAKopE,YAAcppE,KAAK8V,KAK/Bu1D,GAAarrE,KAAK4jB,aACzB5jB,KAAKopE,WAAa,EACbppE,KAAKurE,cAAcF,EAAYrrE,KAAK4jB,eACrC5jB,KAAKkrE,wBAAwBG,EAAYrrE,KAAK4jB,aAC9C5jB,KAAK0pE,gBAAiB,EACtB1pE,KAAKgqE,QAAQ,kBAGjBhqE,KAAKkrE,wBAAwBG,GAZxBrrE,KAAKurE,cAAcF,EAAarrE,KAAK4jB,YAAcynD,EAAYrrE,KAAK4jB,YAAc,KACnF0nD,GAAc,EACdD,EAAYrrE,KAAK4jB,YAAc,GAYjCynD,EAAY,EACbrrE,KAAKurE,cAAcF,EAAYrrE,KAAK4jB,gBACjC5jB,KAAK8V,MAAU9V,KAAKopE,aAAe,IAAmB,IAAdppE,KAAK8V,MAQ7Cw1D,GAAc,EACdD,EAAY,IARZrrE,KAAKkrE,wBAAwBlrE,KAAK4jB,YAAeynD,EAAYrrE,KAAK4jB,aAC9D5jB,KAAK0pE,eAGL1pE,KAAKgqE,QAAQ,gBAFbhqE,KAAK0pE,gBAAiB,IAUlC1pE,KAAKkrE,wBAAwBG,GAE7BC,IACAtrE,KAAKkrE,wBAAwBG,GAC7BrrE,KAAK2V,QACL3V,KAAKgqE,QAAQ,eAIrBzC,cAAc7pE,UAAU8tE,cAAgB,SAASp4D,EAAKwR,GAClD5kB,KAAKopE,UAAY,EACdh2D,EAAI,GAAKA,EAAI,IACTpT,KAAKmrE,cAAgB,IACjBnrE,KAAKkpE,UAAY,EAChBlpE,KAAK6W,UAAU7W,KAAKkpE,WAEpBlpE,KAAK8W,cAAc,IAG3B9W,KAAKspE,cAAgBtpE,KAAK4jB,YAAcxQ,EAAI,GAAKA,EAAI,GACrDpT,KAAK2jB,WAAavQ,EAAI,GACtBpT,KAAKkrE,wBAAwBlrE,KAAK4jB,YAAc,KAAQgB,IAClDxR,EAAI,GAAKA,EAAI,KAChBpT,KAAKmrE,cAAgB,IACjBnrE,KAAKkpE,UAAY,EAChBlpE,KAAK6W,UAAU7W,KAAKkpE,WAEpBlpE,KAAK8W,aAAa,IAG1B9W,KAAKspE,cAAgBtpE,KAAK4jB,YAAcxQ,EAAI,GAAKA,EAAI,GACrDpT,KAAK2jB,WAAavQ,EAAI,GACtBpT,KAAKkrE,wBAAwB,KAAQtmD,IAEzC5kB,KAAKgqE,QAAQ,iBAEjBzC,cAAc7pE,UAAU+tE,WAAa,SAAU/iC,EAAKp0B,GAChD,IAAIo3D,GAAgB,EACjB1rE,KAAKyV,WACAzV,KAAKgpE,gBAAkBhpE,KAAK2jB,WAAa+kB,EACzCgjC,EAAehjC,EACR1oC,KAAKgpE,gBAAkBhpE,KAAK2jB,WAAarP,IAChDo3D,EAAep3D,EAAMo0B,IAI7B1oC,KAAK2jB,WAAa+kB,EAClB1oC,KAAKspE,cAAgBtpE,KAAK4jB,YAActP,EAAMo0B,GACzB,IAAlBgjC,GACC1rE,KAAK0oE,YAAYgD,GAAa,IAItCnE,cAAc7pE,UAAUkZ,aAAe,SAAUxD,EAAKu4D,GAIlD,GAHIA,IACA3rE,KAAKkW,SAAS5X,OAAS,GAEL,iBAAX8U,EAAI,GAAiB,CAC5B,IAAItX,EAAG0X,EAAMJ,EAAI9U,OACjB,IAAKxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACtBkE,KAAKkW,SAAS9H,KAAKgF,EAAItX,SAG3BkE,KAAKkW,SAAS9H,KAAKgF,GAEnBpT,KAAKkW,SAAS5X,QAAUqtE,GACxB3rE,KAAKwrE,cAAcxrE,KAAKkW,SAASvU,QAAS,GAE1C3B,KAAKyV,UACLzV,KAAK0V,QAIb6xD,cAAc7pE,UAAUkuE,cAAgB,SAAUD,GAC9C3rE,KAAKkW,SAAS5X,OAAS,EACvB0B,KAAKkW,SAAS9H,KAAK,CAACpO,KAAKgW,cAAcqvC,GAAGrlD,KAAKgW,cAAco8B,KAEzDu5B,GACA3rE,KAAKurE,cAAc,IAG3BhE,cAAc7pE,UAAU6tE,cAAgB,SAAS3mD,GAC7C,QAAI5kB,KAAKkW,SAAS5X,SACd0B,KAAKwrE,cAAcxrE,KAAKkW,SAASvU,QAASijB,IACnC,IAKf2iD,cAAc7pE,UAAU+Y,QAAU,SAAUpa,GACnCA,GAAQ2D,KAAK3D,MAAQA,IAAU2D,KAAKoW,WAGzCpW,KAAKoW,SAASK,UACdzW,KAAKunD,eAAe9wC,UACpBzW,KAAKgqE,QAAQ,WACbhqE,KAAKqlB,KAAO,KACZrlB,KAAK6rE,aAAe7rE,KAAK8rE,eAAiB9rE,KAAK+rE,WAAa/rE,KAAKgsE,eAAiBhsE,KAAKisE,UAAY,KACnGjsE,KAAKoW,SAAW,OAGpBmxD,cAAc7pE,UAAUwtE,wBAA0B,SAASnuE,GACvDiD,KAAKgpE,gBAAkBjsE,EACvBiD,KAAK+qE,aAGTxD,cAAc7pE,UAAUmZ,SAAW,SAAU/I,GACzC9N,KAAKkpE,UAAYp7D,EACjB9N,KAAK4qE,qBAGTrD,cAAc7pE,UAAUoZ,aAAe,SAAUhJ,GAC7C9N,KAAKmpE,cAAgBr7D,EAAM,GAAK,EAAI,EACpC9N,KAAK4qE,qBAGTrD,cAAc7pE,UAAUktE,kBAAoB,WACxC5qE,KAAKmrE,cAAgBnrE,KAAKipE,UAAYjpE,KAAKkpE,UAAYlpE,KAAKmpE,eAGhE5B,cAAc7pE,UAAUwuE,QAAU,WAC9B,OAAOlsE,KAAK6G,MAGhB0gE,cAAc7pE,UAAUy1C,cAAgB,SAAUC,GAC9C,IAAIvsC,EAAO,GACX,GAAGusC,EAAUptC,EACTa,EAAOusC,EAAUx1C,OACd,GAAGoC,KAAKqzC,WAAW,CACtB,IAAIE,EAAYH,EAAUx1C,GACW,IAAlC21C,EAAUn/B,QAAQ,aACjBm/B,EAAYA,EAAUjlC,MAAM,KAAK,IAErCzH,EAAO7G,KAAKqzC,WAAaE,OAEzB1sC,EAAO7G,KAAK6G,KACZA,GAAQusC,EAAUI,EAAIJ,EAAUI,EAAI,GACpC3sC,GAAQusC,EAAUx1C,EAEtB,OAAOiJ,GAGX0gE,cAAc7pE,UAAU2pD,aAAe,SAAU3iD,GAE7C,IADA,IAAI5I,EAAI,EAAG0X,EAAMxT,KAAKs6B,OAAOh8B,OACtBxC,EAAI0X,GAAK,CACZ,GAAG9O,GAAM1E,KAAKs6B,OAAOx+B,GAAG4I,GACpB,OAAO1E,KAAKs6B,OAAOx+B,GAEvBA,GAAK,IAIbyrE,cAAc7pE,UAAUiN,KAAO,WAC3B3K,KAAKoW,SAASzL,QAGlB48D,cAAc7pE,UAAUkrD,KAAO,WAC3B5oD,KAAKoW,SAASwyC,QAGlB2e,cAAc7pE,UAAUyuE,YAAc,SAAUxD,GAC5C,OAAOA,EAAU3oE,KAAK4jB,YAAc5jB,KAAK4jB,YAAc5jB,KAAKknC,WAGhEqgC,cAAc7pE,UAAUssE,QAAU,SAAS3tE,GACvC,GAAG2D,KAAKqlB,MAAQrlB,KAAKqlB,KAAKhpB,GACtB,OAAOA,GACH,IAAK,aACD2D,KAAKolB,aAAa/oB,EAAK,IAAI6mB,kBAAkB7mB,EAAK2D,KAAKuoD,aAAavoD,KAAK4jB,YAAY5jB,KAAKmrE,gBAC1F,MACJ,IAAK,eACDnrE,KAAKolB,aAAa/oB,EAAK,IAAIknB,oBAAoBlnB,EAAK2D,KAAK8V,KAAK9V,KAAKopE,UAAUppE,KAAKipE,YAClF,MACJ,IAAK,WACDjpE,KAAKolB,aAAa/oB,EAAK,IAAIinB,gBAAgBjnB,EAAK2D,KAAKipE,YACrD,MACJ,IAAK,eACDjpE,KAAKolB,aAAa/oB,EAAK,IAAIqnB,oBAAoBrnB,EAAK2D,KAAK2jB,WAAW3jB,KAAK4jB,cACzE,MACJ,IAAK,UACD5jB,KAAKolB,aAAa/oB,EAAK,IAAIwnB,eAAexnB,EAAK2D,OAC/C,MACJ,QACIA,KAAKolB,aAAa/oB,GAGlB,eAATA,GAAyB2D,KAAK6rE,cAC7B7rE,KAAK6rE,aAAa5vE,KAAK+D,KAAK,IAAIkjB,kBAAkB7mB,EAAK2D,KAAKuoD,aAAavoD,KAAK4jB,YAAY5jB,KAAKipE,YAEvF,iBAAT5sE,GAA2B2D,KAAK8rE,gBAC/B9rE,KAAK8rE,eAAe7vE,KAAK+D,KAAK,IAAIujB,oBAAoBlnB,EAAK2D,KAAK8V,KAAK9V,KAAKopE,UAAUppE,KAAKipE,YAEjF,aAAT5sE,GAAuB2D,KAAK+rE,YAC3B/rE,KAAK+rE,WAAW9vE,KAAK+D,KAAK,IAAIsjB,gBAAgBjnB,EAAK2D,KAAKipE,YAEhD,iBAAT5sE,GAA2B2D,KAAKgsE,gBAC/BhsE,KAAKgsE,eAAe/vE,KAAK+D,KAAK,IAAI0jB,oBAAoBrnB,EAAK2D,KAAK2jB,WAAW3jB,KAAK4jB,cAExE,YAATvnB,GAAsB2D,KAAKisE,WAC1BjsE,KAAKisE,UAAUhwE,KAAK+D,KAAK,IAAI6jB,eAAexnB,EAAK2D,QAIzDunE,cAAc7pE,UAAUutE,wBAA0B,SAASlnD,GAEvD,IAAI5e,EAAQ,IAAI2e,wBAAwBC,EAAa/jB,KAAKuoD,cAC1DvoD,KAAKolB,aAAa,QAASjgB,GAEvBnF,KAAKosE,SACLpsE,KAAKosE,QAAQnwE,KAAK+D,KAAMmF,IAIhCoiE,cAAc7pE,UAAUotE,mBAAqB,SAAS/mD,GAElD,IAAI5e,EAAQ,IAAI6e,mBAAmBD,EAAa/jB,KAAKuoD,cACrDvoD,KAAKolB,aAAa,QAASjgB,GAEvBnF,KAAKosE,SACLpsE,KAAKosE,QAAQnwE,KAAK+D,KAAMmF,IAGhC,IAAIknE,YAAe,WACf,IAAIn8C,EAAK,GAwCV,OAvCCA,EAAG82B,gBAGH,SAAyBogB,GAExB,IAAIkF,EAAa,EACbC,EAAY,GA2BbnF,EAAUhxD,SAASw/C,cAAgBC,wBAAwBuR,EAAUhxD,UACrEgxD,EAAUhxD,SAASwuB,WAAW0hB,iBAAiBW,oBAAoBmgB,EAAUhxD,UAC7EgxD,EAAUhxD,SAASwuB,WAAW4nC,eA3BjC,WACFF,GAAc,GA2BTlF,EAAUhxD,SAASwuB,WAAW6nC,cAxBjC,WAEiB,KADnBH,GAAc,IAYZ,WACC,IAAIxwE,EAAG0X,EAAM+4D,EAAUjuE,OACvB,IAAKxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EAC5BywE,EAAUzwE,GAAGoyC,UAEXq+B,EAAUjuE,OAAS,EAfrBouE,IAsBItF,EAAUhxD,SAASwuB,WAAW+nC,2BAlBjC,SAAoCC,IACI,IAAnCL,EAAUn4D,QAAQw4D,IACxBL,EAAUn+D,KAAKw+D,KAkBT18C,EAzCQ,GA4ClBxP,kBAAoB2rD,YAEpB,IAAIQ,kBAAqB,WAErB,IAAI38C,GAAK,GACL5lB,KAAOsX,OACP9jB,OAAS,KACT2D,SAAW,KAEf,SAASqrE,sBAAsB15D,GAC3B,OAAOA,EAAIlS,cAAgBK,OAAS6R,EAAIlS,cAAgBukB,aAG5D,SAASsnD,YAAYC,EAAM1oD,GACvB,MAAgB,WAAT0oD,GAA8B,YAATA,GAA+B,WAATA,GAAqB1oD,aAAa2oD,OAGxF,SAASC,QAAQziE,GACb,IAAI0iE,SAAc1iE,EAClB,GAAY,WAAT0iE,GAA8B,YAATA,GAAuB1iE,aAAawiE,OACxD,OAAQxiE,EAEZ,GAAGqiE,sBAAsBriE,GAAG,CACxB,IAAI3O,EAAGsxE,EAAO3iE,EAAEnM,OACZ+uE,EAAS,GACb,IAAIvxE,EAAE,EAAEA,EAAEsxE,EAAKtxE,GAAG,EACduxE,EAAOvxE,IAAM2O,EAAE3O,GAEnB,OAAOuxE,EAEX,OAAI5iE,EAAE+1B,SACK/1B,EAAE6Z,OADb,EAKJ,IAAIgpD,UAAYr9C,cAAcsR,gBAAgB,KAAM,EAAE,KAAK,KAAM,UAAU5kC,IACvE4wE,WAAat9C,cAAcsR,gBAAgB,KAAM,KAAM,KAAK,EAAG,WAAW5kC,IAC1E6wE,aAAev9C,cAAcsR,gBAAgB,IAAI,EAAE,KAAK,EAAG,aAAa5kC,IAE5E,SAAS8wE,IAAIhjE,EAAEsB,GACX,IAAIohE,SAAc1iE,EACdijE,SAAc3hE,EAClB,GAAY,WAATohE,GAA8B,WAATO,EACpB,OAAOjjE,EAAIsB,EAEf,GAAGghE,YAAYI,EAAM1iE,IAAMsiE,YAAYW,EAAM3hE,GACzC,OAAOtB,EAAIsB,EAEf,GAAG+gE,sBAAsBriE,IAAMsiE,YAAYW,EAAM3hE,GAG7C,OAFAtB,EAAIA,EAAE2F,MAAM,IACV,GAAK3F,EAAE,GAAKsB,EACPtB,EAEX,GAAGsiE,YAAYI,EAAM1iE,IAAMqiE,sBAAsB/gE,GAG7C,OAFAA,EAAIA,EAAEqE,MAAM,IACV,GAAK3F,EAAIsB,EAAE,GACNA,EAEX,GAAG+gE,sBAAsBriE,IAAMqiE,sBAAsB/gE,GAAG,CAIpD,IAFA,IAAIjQ,EAAI,EAAGsxE,EAAO3iE,EAAEnM,OAAQqvE,EAAO5hE,EAAEzN,OACjC+uE,EAAS,GACPvxE,EAAEsxE,GAAQtxE,EAAI6xE,IACI,iBAATljE,EAAE3O,IAAmB2O,EAAE3O,aAAcmxE,UAA4B,iBAATlhE,EAAEjQ,IAAmBiQ,EAAEjQ,aAAcmxE,QACpGI,EAAOvxE,GAAK2O,EAAE3O,GAAKiQ,EAAEjQ,GAErBuxE,EAAOvxE,QAAc2E,IAATsL,EAAEjQ,GAAmB2O,EAAE3O,GAAK2O,EAAE3O,IAAMiQ,EAAEjQ,GAEtDA,GAAK,EAET,OAAOuxE,EAEX,OAAO,EAEX,IAAIpxB,IAAMwxB,IAEV,SAASG,IAAInjE,EAAEsB,GACX,IAAIohE,SAAc1iE,EACdijE,SAAc3hE,EAClB,GAAGghE,YAAYI,EAAM1iE,IAAMsiE,YAAYW,EAAM3hE,GAOzC,MANY,WAATohE,IACC1iE,EAAIkI,SAASlI,IAEL,WAATijE,IACC3hE,EAAI4G,SAAS5G,IAEVtB,EAAIsB,EAEf,GAAI+gE,sBAAsBriE,IAAMsiE,YAAYW,EAAM3hE,GAG9C,OAFAtB,EAAIA,EAAE2F,MAAM,IACV,GAAK3F,EAAE,GAAKsB,EACPtB,EAEX,GAAGsiE,YAAYI,EAAM1iE,IAAOqiE,sBAAsB/gE,GAG9C,OAFAA,EAAIA,EAAEqE,MAAM,IACV,GAAK3F,EAAIsB,EAAE,GACNA,EAEX,GAAG+gE,sBAAsBriE,IAAMqiE,sBAAsB/gE,GAAG,CAGpD,IAFA,IAAIjQ,EAAI,EAAGsxE,EAAO3iE,EAAEnM,OAAQqvE,EAAO5hE,EAAEzN,OACjC+uE,EAAS,GACPvxE,EAAEsxE,GAAQtxE,EAAI6xE,IACI,iBAATljE,EAAE3O,IAAmB2O,EAAE3O,aAAcmxE,UAA4B,iBAATlhE,EAAEjQ,IAAmBiQ,EAAEjQ,aAAcmxE,QACpGI,EAAOvxE,GAAK2O,EAAE3O,GAAKiQ,EAAEjQ,GAErBuxE,EAAOvxE,QAAc2E,IAATsL,EAAEjQ,GAAmB2O,EAAE3O,GAAK2O,EAAE3O,IAAMiQ,EAAEjQ,GAEtDA,GAAK,EAET,OAAOuxE,EAEX,OAAO,EAGX,SAASQ,IAAIpjE,EAAEsB,GACX,IAEIqH,EAKAtX,EAAG0X,EAPH25D,SAAc1iE,EACdijE,SAAc3hE,EAElB,GAAGghE,YAAYI,EAAM1iE,IAAMsiE,YAAYW,EAAM3hE,GACzC,OAAOtB,EAAIsB,EAIf,GAAG+gE,sBAAsBriE,IAAMsiE,YAAYW,EAAM3hE,GAAG,CAGhD,IAFAyH,EAAM/I,EAAEnM,OACR8U,EAAMmS,iBAAiB,UAAW/R,GAC9B1X,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbsX,EAAItX,GAAK2O,EAAE3O,GAAKiQ,EAEpB,OAAOqH,EAEX,GAAG25D,YAAYI,EAAM1iE,IAAMqiE,sBAAsB/gE,GAAG,CAGhD,IAFAyH,EAAMzH,EAAEzN,OACR8U,EAAMmS,iBAAiB,UAAW/R,GAC9B1X,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbsX,EAAItX,GAAK2O,EAAIsB,EAAEjQ,GAEnB,OAAOsX,EAEX,OAAO,EAGX,SAASo1D,IAAI/9D,EAAEsB,GACX,IAEIqH,EAIAtX,EAAG0X,EANH25D,SAAc1iE,EACdijE,SAAc3hE,EAElB,GAAGghE,YAAYI,EAAM1iE,IAAMsiE,YAAYW,EAAM3hE,GACzC,OAAOtB,EAAIsB,EAGf,GAAG+gE,sBAAsBriE,IAAMsiE,YAAYW,EAAM3hE,GAAG,CAGhD,IAFAyH,EAAM/I,EAAEnM,OACR8U,EAAMmS,iBAAiB,UAAW/R,GAC9B1X,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbsX,EAAItX,GAAK2O,EAAE3O,GAAKiQ,EAEpB,OAAOqH,EAEX,GAAG25D,YAAYI,EAAM1iE,IAAMqiE,sBAAsB/gE,GAAG,CAGhD,IAFAyH,EAAMzH,EAAEzN,OACR8U,EAAMmS,iBAAiB,UAAW/R,GAC9B1X,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbsX,EAAItX,GAAK2O,EAAIsB,EAAEjQ,GAEnB,OAAOsX,EAEX,OAAO,EAEX,SAAS06D,IAAIrjE,EAAEsB,GAOX,MANgB,iBAANtB,IACNA,EAAIkI,SAASlI,IAED,iBAANsB,IACNA,EAAI4G,SAAS5G,IAEVtB,EAAIsB,EAEf,IAAIgiE,QAAUN,IACVO,QAAUJ,IACVK,QAAUJ,IACVK,QAAU1F,IACV2F,QAAUL,IAEd,SAASM,MAAM75D,EAAK2F,EAAKC,GACrB,GAAGD,EAAMC,EAAI,CACT,IAAIk0D,EAAKl0D,EACTA,EAAMD,EACNA,EAAMm0D,EAEV,OAAO/jE,KAAK4P,IAAI5P,KAAK6P,IAAI5F,EAAK2F,GAAMC,GAGxC,SAASm0D,iBAAiBxgE,GACtB,OAAOA,EAAIoU,UAEf,IAAIqsD,mBAAqBD,iBAEzB,SAASE,iBAAiB1gE,GACtB,OAAOA,EAAIoU,UAEf,IAAIusD,mBAAqBH,iBAErBI,kBAAoB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,GAEnC,SAASpwE,OAAOqwE,EAAMC,GAClB,GAAoB,iBAATD,GAAqBA,aAAgB1B,OAE5C,OADA2B,EAAOA,GAAQ,EACRtkE,KAAKiX,IAAIotD,EAAOC,GAEvBA,IACAA,EAAOF,mBAEX,IAAI5yE,EAAG0X,EAAMlJ,KAAK4P,IAAIy0D,EAAKrwE,OAAQswE,EAAKtwE,QACpCu1B,EAAc,EAClB,IAAK/3B,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACtB+3B,GAAevpB,KAAK6W,IAAIytD,EAAK9yE,GAAK6yE,EAAK7yE,GAAI,GAE/C,OAAOwO,KAAK+W,KAAKwS,GAGrB,SAASg7C,UAAUC,GACf,OAAOtG,IAAIsG,EAAKxwE,OAAOwwE,IAG3B,SAASC,SAASjhE,GACd,IAEIuW,EAAGxmB,EAFHjB,EAAIkR,EAAI,GAAQyW,EAAIzW,EAAI,GAAQ/B,EAAI+B,EAAI,GACxCqM,EAAM7P,KAAK6P,IAAIvd,EAAG2nB,EAAGxY,GAAImO,EAAM5P,KAAK4P,IAAItd,EAAG2nB,EAAGxY,GACxChQ,GAAKoe,EAAMD,GAAO,EAE5B,GAAGC,GAAOD,EACNmK,EAAIxmB,EAAI,MACP,CACD,IAAIzB,EAAI+d,EAAMD,EAEd,OADArc,EAAI9B,EAAI,GAAMK,GAAK,EAAI+d,EAAMD,GAAO9d,GAAK+d,EAAMD,GACxCC,GACH,KAAKvd,EAAGynB,GAAKE,EAAIxY,GAAK3P,GAAKmoB,EAAIxY,EAAI,EAAI,GAAI,MAC3C,KAAKwY,EAAGF,GAAKtY,EAAInP,GAAKR,EAAI,EAAG,MAC7B,KAAK2P,EAAGsY,GAAKznB,EAAI2nB,GAAKnoB,EAAI,EAE9BioB,GAAK,EAGT,MAAO,CAACA,EAAGxmB,EAAG9B,EAAE+R,EAAI,IAGxB,SAASkhE,QAAQpxE,EAAG4mB,EAAGxnB,GAGnB,OAFGA,EAAI,IAAGA,GAAK,GACZA,EAAI,IAAGA,GAAK,GACZA,EAAI,EAAE,EAAUY,EAAc,GAAT4mB,EAAI5mB,GAASZ,EAClCA,EAAI,GAAYwnB,EAChBxnB,EAAI,EAAE,EAAUY,GAAK4mB,EAAI5mB,IAAM,EAAE,EAAIZ,GAAK,EACtCY,EAGX,SAASqxE,SAASnhE,GACd,IAIIlR,EAAG2nB,EAAGxY,EAJNsY,EAAIvW,EAAI,GACRjQ,EAAIiQ,EAAI,GACR/R,EAAI+R,EAAI,GAIZ,GAAS,IAANjQ,EACCjB,EAAI2nB,EAAIxY,EAAIhQ,MACX,CAED,IAAIyoB,EAAIzoB,EAAI,GAAMA,GAAK,EAAI8B,GAAK9B,EAAI8B,EAAI9B,EAAI8B,EACxCD,EAAI,EAAI7B,EAAIyoB,EAChB5nB,EAAIoyE,QAAQpxE,EAAG4mB,EAAGH,EAAI,EAAE,GACxBE,EAAIyqD,QAAQpxE,EAAG4mB,EAAGH,GAClBtY,EAAIijE,QAAQpxE,EAAG4mB,EAAGH,EAAI,EAAE,GAG5B,MAAO,CAACznB,EAAG2nB,EAAIxY,EAAG+B,EAAI,IAG1B,SAASohE,OAAOlyE,EAAGmyE,EAAMC,EAAMC,EAAQC,GAOnC,QANc7uE,IAAX4uE,QAAmC5uE,IAAX6uE,IACvBD,EAASF,EACTG,EAASF,EACTD,EAAO,EACPC,EAAO,GAERA,EAAOD,EAAM,CACZ,IAAII,EAAQH,EACZA,EAAOD,EACPA,EAAOI,EAEX,GAAGvyE,GAAKmyE,EACJ,OAAOE,EACL,GAAGryE,GAAKoyE,EACV,OAAOE,EAEX,IAAI57C,EAAO07C,IAASD,EAAO,GAAKnyE,EAAEmyE,IAAOC,EAAKD,GAC9C,IAAIE,EAAO/wE,OACP,OAAO+wE,GAAUC,EAAOD,GAAQ37C,EAEpC,IAAI53B,EAAG0X,EAAM67D,EAAO/wE,OAChB8U,EAAMmS,iBAAiB,UAAW/R,GACtC,IAAI1X,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbsX,EAAItX,GAAKuzE,EAAOvzE,IAAMwzE,EAAOxzE,GAAGuzE,EAAOvzE,IAAI43B,EAE/C,OAAOtgB,EAEX,SAAS3F,OAAOyM,EAAIC,GAUhB,QATW1Z,IAAR0Z,SACY1Z,IAARyZ,GACCA,EAAM,EACNC,EAAM,IAENA,EAAMD,EACNA,OAAMzZ,IAGX0Z,EAAI7b,OAAO,CACV,IAAIxC,EAAG0X,EAAM2G,EAAI7b,OACb4b,IACAA,EAAMqL,iBAAiB,UAAW/R,IAEtC,IAAIJ,EAAMmS,iBAAiB,UAAW/R,GAClCg8D,EAAM5tD,OAAOnU,SACjB,IAAI3R,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbsX,EAAItX,GAAKoe,EAAIpe,GAAK0zE,GAAKr1D,EAAIre,GAAGoe,EAAIpe,IAEtC,OAAOsX,EAMX,YAJW3S,IAARyZ,IACCA,EAAM,GAGHA,EADI0H,OAAOnU,UACC0M,EAAID,GAG3B,SAASu1D,WAAW3+C,EAAQ4+C,EAAYC,EAAap6C,GACjD,IAAIz5B,EAAG0X,EAAMsd,EAAOxyB,OAChBuI,EAAO4iC,WAAWxV,aACtBptB,EAAK4gC,cAAclS,EAAQ/hB,GAC3B,IAA4Bo8D,EAAeC,EAAvCC,EAAiB,CAAC,EAAE,GACxB,IAAIh0E,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACrB8zE,EAAiBF,GAAcA,EAAW5zE,GAAM4zE,EAAW5zE,GAAKg0E,EAChED,EAAkBF,GAAeA,EAAY7zE,GAAM6zE,EAAY7zE,GAAKg0E,EACpEjpE,EAAKihC,YAAYhX,EAAOh1B,GAAG,GAAGg1B,EAAOh1B,GAAG,GAAG+zE,EAAe,GAAK/+C,EAAOh1B,GAAG,GAAG+zE,EAAe,GAAK/+C,EAAOh1B,GAAG,GAAG8zE,EAAc,GAAK9+C,EAAOh1B,GAAG,GAAG8zE,EAAc,GAAK9+C,EAAOh1B,GAAG,GAAGA,GAAE,GAEnL,OAAO+K,EAGX,SAASkpE,mBAAmBprC,KAAKhK,KAAKl9B,UAClC,IAAIqQ,IAAM6sB,KAAK3O,EACXgkD,cAAgB,qBAAqB9vD,KAAKpS,KAC1CmiE,cAA0C,IAA3BniE,IAAIsG,QAAQ,UAC3B87D,SAAWvrC,KAAKhK,KAAKvR,GACrBE,UAAU6mD,cAAcna,QAAQoa,OAChCC,aAAe5yE,SACnB4yE,aAAaC,YAAcD,aAAalpC,eACxC3qC,OAAOC,eAAe4zE,aAAc,QAAS,CACzC1zE,IAAK,WACD,OAAO0zE,aAAa/rD,KAG5BqgB,KAAKT,KAAKqsC,cAAgB,EAAE5rC,KAAKT,KAAKU,WAAWsC,UACjDvC,KAAKT,KAAKssC,iBAAmB,EAC7B,IAAIC,QAAU9rC,KAAKhK,KAAK0qB,GAAG1gB,KAAKT,KAAKU,WAAWsC,UAC5CwpC,SAAW/rC,KAAKhK,KAAKyX,GAAGzN,KAAKT,KAAKU,WAAWsC,UAC7CrhC,MAAQ8+B,KAAKhK,KAAKoc,GAAKpS,KAAKhK,KAAKoc,GAAK,EACtCzuC,OAASq8B,KAAKhK,KAAKwH,GAAKwC,KAAKhK,KAAKwH,GAAK,EACvC9lC,KAAOsoC,KAAKhK,KAAKxK,GACjBwgD,OAAQC,QAASC,QAASC,SAAUC,OACpCC,QAAQC,UAAUC,SAASC,OAAOC,kBAAmB5uD,SAAU6uD,SAAUC,YAAavoD,MAAOwoD,UAAWC,SAAS53B,KAAK02B,YAAYmB,eAClIC,uBAAyB,GAQzBC,aAPJ,GAAGh3C,KAAKi3C,GAAI,CACR,IAAI91E,EAAG0X,IAAMmnB,KAAKi3C,GAAGtzE,OACrB,IAAIxC,EAAI,EAAGA,EAAI0X,IAAK1X,GAAK,EACrB41E,uBAAuB51E,GAAK+1E,KAAK,uBAAyBl3C,KAAKi3C,GAAG91E,GAAK,QAK/E,IAAIg2E,oBAAsBD,KAAK,oCAAsC/jE,IAAtC,0BAAyE,GACpGikE,QAAUt0E,SAASynC,GAAKvK,KAAKrhB,EAAEhb,OAAS,EAExC0zE,QAAUhyE,KAAK26B,OAAyB,IAAjB36B,KAAK26B,KAAKwpB,GAEjC8tB,OAAS,SAAgBC,EAAKC,GAC9B,IAAIr2E,EAAE6d,EAAGnG,EAAMxT,KAAKygC,GAAGniC,OAAS0B,KAAKygC,GAAGniC,OAAS,EAC7C8zE,EAAY7sD,iBAAiB,UAAW/R,GAE5C,IAAIq9C,EAAavmD,KAAK2D,MADf,EACqB6rD,MAG5B,IAFAh+D,EAAI,EACJ6d,EAAI,EACE7d,EAAE+0D,GAAW,CAEf,IAAIl3C,EAAE,EAAEA,EAAEnG,EAAImG,GAAG,EACby4D,EAAUz4D,KAAOw4D,EAAU,EAAJA,EAAMvwD,OAAOnU,SAGxC3R,GAAK,EAGT,IAAIu2E,EAbG,EAaOvY,KACVpmC,EAAO2+C,EAAU/nE,KAAK2D,MAAMokE,GAC5Bj/D,EAAMmS,iBAAiB,UAAW/R,GACtC,GAAGA,EAAI,EAAE,CACL,IAAImG,EAAE,EAAEA,EAAEnG,EAAImG,GAAG,EACbvG,EAAIuG,GAAK3Z,KAAKygC,GAAG9mB,GAAKy4D,EAAUz4D,KAAOw4D,EAAU,EAAJA,EAAMvwD,OAAOnU,UAAUimB,EAIxE,OAAOtgB,EAEP,OAAOpT,KAAKygC,GAAK2xC,EAAU,KAAOD,EAAU,EAAJA,EAAMvwD,OAAOnU,UAAUimB,GAErEp2B,KAAK0C,MAgBP,SAASsyE,eAAexnE,EAAKynE,GACzB,OAAO5B,OAAO7lE,EAAKynE,GAAS,GAGhC,SAASC,gBAAgB1nE,EAAKynE,GAC1B,OAAO1B,QAAQ/lE,EAAKynE,GAAS,GAnB9BlC,aAAaM,SACZA,OAASN,aAAaM,OAAOrzE,KAAK+yE,cAClCO,QAAUD,QAGXN,aAAaQ,UACZA,QAAUR,aAAaQ,QAAQvzE,KAAK+yE,cACpCS,SAAWD,SAGZR,aAAaU,SACZA,OAASV,aAAaU,OAAOzzE,KAAK+yE,eAWnCrwE,KAAKmnC,iBACJmpC,YAActwE,KAAKmnC,eAAe7pC,KAAK0C,OAGxCA,KAAKyyE,oBACJhB,eAAiBzxE,KAAKyyE,kBAAkBn1E,KAAK0C,OAGjD,IAAIkkC,KAAOS,KAAKT,KAAKU,WAAW0hB,iBAAiBhpD,KAAKqnC,KAAKT,KAAKU,WAAW0hB,kBAyJvEwT,KAAM4Y,SAAU31E,MAAO+/C,KAAM61B,UAAWC,UAAWC,cAvJvD,SAASC,OAAOC,EAAMC,GAClB,IAAIC,EAAO,CAACD,EAAM,GAAGD,EAAM,GAAGC,EAAM,GAAGD,EAAM,GAAGC,EAAM,GAAGD,EAAM,IAC3DG,EAAQ5oE,KAAKo4B,MAAMuwC,EAAK,GAAG3oE,KAAK+W,KAAK4xD,EAAK,GAAGA,EAAK,GAAGA,EAAK,GAAGA,EAAK,KAAK/wD,UAE3E,MAAO,EADI5X,KAAKo4B,MAAMuwC,EAAK,GAAGA,EAAK,IAAI/wD,UAC3BgxD,EAAM,GAGtB,SAASC,QAAQn2E,EAAGmyE,EAAMC,EAAMgE,EAAMC,GAClC,OAAOC,UAAU/F,WAAYvwE,EAAGmyE,EAAMC,EAAMgE,EAAMC,GAGtD,SAASE,OAAOv2E,EAAGmyE,EAAMC,EAAMgE,EAAMC,GACjC,OAAOC,UAAUhG,UAAWtwE,EAAGmyE,EAAMC,EAAMgE,EAAMC,GAGrD,SAASG,KAAKx2E,EAAGmyE,EAAMC,EAAMgE,EAAMC,GAC/B,OAAOC,UAAU9F,aAAcxwE,EAAGmyE,EAAMC,EAAMgE,EAAMC,GAGxD,SAASC,UAAUzlE,EAAI7Q,EAAGmyE,EAAMC,EAAMgE,EAAMC,QAC5B5yE,IAAT2yE,GACCA,EAAOjE,EACPkE,EAAOjE,GAEPpyE,GAAKA,EAAImyE,IAASC,EAAOD,GAG7B,IAAI1qC,EAAO52B,EADX7Q,EAAIA,EAAI,EAAI,EAAIA,EAAI,EAAI,EAAIA,GAE5B,GAAG8vE,sBAAsBsG,GAAO,CAC5B,IAAIt3E,EAAG0X,EAAM4/D,EAAK90E,OACd8U,EAAMmS,iBAAiB,UAAW/R,GACtC,IAAK1X,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACtBsX,EAAItX,IAAMu3E,EAAKv3E,GAAKs3E,EAAKt3E,IAAM2oC,EAAO2uC,EAAKt3E,GAE/C,OAAOsX,EAEP,OAAQigE,EAAOD,GAAQ3uC,EAAO2uC,EAItC,SAASK,WAAW3Z,GAChB,IAAIh+D,EAAuBsJ,EAAM87B,EAA1B1tB,EAAMmnB,KAAKrhB,EAAEhb,OACpB,GAAIq8B,KAAKrhB,EAAEhb,QAAgC,iBAAfq8B,KAAKrhB,EAAE,GAM/B,GAFAlU,GAAS,GACT00D,GAAQn1B,KAAKT,KAAKU,WAAWsC,WAClBvM,KAAKrhB,EAAE,GAAGtc,EACjBoI,EAAQ,EACR87B,EAAUvG,KAAKrhB,EAAE,GAAGtc,MACjB,CACH,IAAIlB,EAAE,EAAEA,EAAE0X,EAAI,EAAE1X,GAAG,EAAE,CACjB,GAAGg+D,IAASn/B,KAAKrhB,EAAExd,GAAGkB,EAAE,CACpBoI,EAAQtJ,EAAI,EACZolC,EAAUvG,KAAKrhB,EAAExd,GAAGkB,EACpB,MACE,GAAG88D,EAAKn/B,KAAKrhB,EAAExd,GAAGkB,GAAK88D,EAAKn/B,KAAKrhB,EAAExd,EAAE,GAAGkB,EAAE,CACzC88D,EAAKn/B,KAAKrhB,EAAExd,GAAGkB,EAAI29B,KAAKrhB,EAAExd,EAAE,GAAGkB,EAAI88D,GAClC10D,EAAQtJ,EAAI,EACZolC,EAAUvG,KAAKrhB,EAAExd,EAAE,GAAGkB,IAEtBoI,EAAQtJ,EAAI,EACZolC,EAAUvG,KAAKrhB,EAAExd,GAAGkB,GAExB,QAGM,IAAXoI,IACCA,EAAQtJ,EAAI,EACZolC,EAAUvG,KAAKrhB,EAAExd,GAAGkB,QA3B5BoI,EAAQ,EACR87B,EAAU,EA+Bd,IAAIhR,EAAK,GAGT,OAFAA,EAAG9qB,MAAQA,EACX8qB,EAAG4pC,KAAO54B,EAAQyD,KAAKT,KAAKU,WAAWsC,UAChChX,EAGX,SAAS7yB,IAAIgkC,GACT,IAAInR,EAAIp0B,EAAG0X,EACX,IAAImnB,KAAKrhB,EAAEhb,QAAgC,iBAAfq8B,KAAKrhB,EAAE,GAC/B,MAAM,IAAIvY,MAAM,yCAA2CsgC,GAE/DA,GAAO,EACPnR,EAAK,CACD4pC,KAAMn/B,KAAKrhB,EAAE+nB,GAAKrkC,EAAE2nC,KAAKT,KAAKU,WAAWsC,UACzCnqC,MAAO,IAEX,IAAIqW,EAAMunB,KAAKrhB,EAAE+nB,GAAK1jC,eAAe,KAAOg9B,KAAKrhB,EAAE+nB,GAAKxjC,EAAI88B,KAAKrhB,EAAE+nB,EAAM,GAAGr7B,EAG5E,IADAwN,EAAMJ,EAAI9U,OACNxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbo0B,EAAGp0B,GAAKsX,EAAItX,GACZo0B,EAAGnzB,MAAMjB,GAAKsX,EAAItX,GAEtB,OAAOo0B,EAGX,SAASwjD,aAAaC,EAAQC,GAI1B,OAHKA,IACDA,EAAMjvC,KAAKT,KAAKU,WAAWsC,WAExBysC,EAASC,EAGpB,SAASC,aAAa72E,EAAG42E,GAOrB,OANK52E,GAAW,IAANA,IACNA,EAAI88D,MAEH8Z,IACDA,EAAMjvC,KAAKT,KAAKU,WAAWsC,WAExBlqC,EAAI42E,EAGf,SAASE,WAAWvlD,GAChB3M,OAAOmyD,WAAWC,SAAWzlD,GAGjC,SAASogC,mBACL,OAAOhqB,KAAKgqB,mBAGhB,SAASslB,UAAUvrC,EAAMp0B,GACrB,MAAoB,iBAAVvX,WACK0D,IAAR6T,EACIvX,MAAMk3E,UAAUvrC,GAEhB3rC,MAAMk3E,UAAUvrC,EAAMp0B,GAE1B,GAGX,SAAS2oC,OAAOvU,EAAMp0B,GAClB,MAAoB,iBAAVvX,WACK0D,IAAR6T,EACIvX,MAAMkgD,OAAOvU,GAEb3rC,MAAMkgD,OAAOvU,EAAMp0B,GAEvB,GAGX,SAAS4/D,cAAcC,GACnBra,KAA2B,IAApBqa,EAAwB,EAAI7pE,KAAK2D,MAAM6rD,KAAOqa,GAAmBA,EACxEp3E,MAAQuzE,YAAYxW,MAIxB,IAAI10D,MAAQu/B,KAAKhK,KAAK0G,IAClB+yC,aAAezvC,KAAK+hB,YAAa/hB,KAAK+hB,UAAUpoD,QAChDoC,OACAszE,SAAW1pE,KAAK2D,MAAoB,IAAd3D,KAAKmD,UAC3Bm3B,WAAaD,KAAKC,WACtB,SAASyvC,kBAAkBC,GAMvB,OAJAv3E,MAAQu3E,EACJrE,cACA6D,WAAWE,UAEXh0E,KAAKu0E,oBAAsB5vC,KAAKC,WAAWC,SAA6B,iBAAlB7kC,KAAKwgC,SACpDzjC,OAEU,iBAAlBiD,KAAKwgC,WACJmyC,UAAY3yE,KAAK2yE,UACjBC,UAAY5yE,KAAK4yE,UACjBC,cAAgB7yE,KAAK6yE,eAEpBtB,YACDz0B,KAAOnY,KAAK0wB,eAAevY,KAC3By0B,UAAY5sC,KAAK0wB,eACjBmc,SAAW7sC,KAAKT,KAAK0xB,cACrBob,QAAUO,UAAUP,QAAQ1zE,KAAKi0E,WACjCN,UAAYM,UAAUN,UAAU3zE,KAAKi0E,WACrCL,SAAWK,UAAUL,SAAS5zE,KAAKi0E,WACnCJ,OAASI,UAAUJ,OAAO7zE,KAAKi0E,WAC/B33B,KAAO23B,UAAU33B,KAAO23B,UAAU33B,KAAKt8C,KAAKi0E,WAAa,KACzDH,kBAAoBF,UAEnB5nD,YACDA,UAAYqb,KAAK0wB,eAAe,wBAChC8a,cAAgB7mD,UACbA,YACCgoD,YAAchoD,UAAUgoD,cAOf,IAAbpB,UAAmBla,UACnBA,QAAUub,UAAU,4BAEnBnB,SACDA,OAASmB,UAAU,KAEvB6C,aAAezvC,KAAK+hB,YAAa/hB,KAAK+hB,UAAUpoD,WAC9BoC,SACdA,OAASikC,KAAK+hB,UAAU,GAAG2O,gBAE/ByE,KAAO95D,KAAKkkC,KAAKC,cAAcnkC,KAAKkkC,KAAKU,WAAWsC,UAChD8oC,gBACA0C,SAAWjB,eAAe3X,OAE9BgY,sBACA9xE,KAAKu0E,kBAAoB5vC,KAAKC,WAAWC,QAIX,UAA1B8sC,aAAanxC,WACbmxC,aAAeA,aAAartD,GAGzBqtD,cAEX,OAAO0C,kBAIX,OADAnkD,GAAG6/C,mBAAqBA,mBACjB7/C,GAxpBa,GA0pBpBskD,kBAwEI,CACNC,kBAvEE,SAA2B9vC,EAAKhK,EAAK51B,GAC9B41B,EAAK3O,IACJjnB,EAAKuU,GAAI,EACTvU,EAAKinB,GAAI,EACTjnB,EAAKgrE,mBAAqBlD,kBAAkBkD,mBAC5ChrE,EAAK+/B,gBAAgB12B,KAAKrJ,EAAKgrE,mBAAmBprC,EAAKhK,EAAK51B,GAAMzH,KAAKyH,MAmEjF2vE,eAnDE,SAAwBt0C,GACpB,IACI4G,EAAKhnC,KAAKmnC,eAAe/G,GACzB6G,EAAKjnC,KAAKmnC,eAAe/G,GAFhB,KAGTrpB,EAAQ,EACZ,GAAGiwB,EAAG1oC,OAAO,CACT,IAAIxC,EACJ,IAAIA,EAAE,EAAEA,EAAEkrC,EAAG1oC,OAAOxC,GAAG,EACnBib,GAASzM,KAAK6W,IAAI8lB,EAAGnrC,GAAKkrC,EAAGlrC,GAAI,GAErCib,EAA2B,IAAnBzM,KAAK+W,KAAKtK,QAElBA,EAAQ,EAEZ,OAAOA,GAsCb07D,kBAnCE,SAA2BryC,GACvB,QAAgB3/B,IAAbT,KAAKslC,IACJ,OAAOtlC,KAAKslC,IAEhB,IAIIotC,EAGI52E,EALJkrC,EAAKhnC,KAAKmnC,eAAe/G,GACzB6G,EAAKjnC,KAAKmnC,eAAe/G,GAHjB,MAKZ,GAAG4G,EAAG1oC,OAGF,IAFAo0E,EAAWntD,iBAAiB,UAAWyhB,EAAG1oC,QAEtCxC,EAAE,EAAEA,EAAEkrC,EAAG1oC,OAAOxC,GAAG,EAInB42E,EAAS52E,IAAMmrC,EAAGnrC,GAAKkrC,EAAGlrC,KAZtB,UAeR42E,GAAYzrC,EAAKD,IAfT,KAiBZ,OAAO0rC,GAebvrC,eAjEE,SAAwB/G,GAQpB,OAPAA,GAAYpgC,KAAK2kC,KAAKC,WAAWsC,WACjC9G,GAAYpgC,KAAKugC,cACDvgC,KAAK20E,eAAejzC,YAChC1hC,KAAK20E,eAAe7zC,UAAY9gC,KAAK20E,eAAejzC,UAAYtB,EAAWpgC,KAAK20E,eAAe7zC,UAAY,EAC3G9gC,KAAK20E,eAAe53E,MAAQiD,KAAKmgC,iBAAiBC,EAAUpgC,KAAK20E,gBACjE30E,KAAK20E,eAAejzC,UAAYtB,GAE7BpgC,KAAK20E,eAAe53E,OA0DjC63E,qBAbE,WACI,OAAO50E,KAAKygC,IAalBo0C,iBAVE,SAA0BC,GACtB90E,KAAK80E,cAAgBA,KAY5B,WAEG,SAASjE,EAAQ/lE,EAAKynE,EAASwC,GAC3B,IAAI/0E,KAAKsZ,IAAMtZ,KAAK+gC,UAChB,OAAO/gC,KAAKygC,GAEhB31B,EAAOA,EAAOA,EAAK2yC,cAAgB,GACnC,IAMQu3B,EAAeC,EAefn5E,EAAG0X,EAAK0hE,EArBZ3sB,EAAevoD,KAAKkkC,KAAKC,cACzBpD,EAAY/gC,KAAK+gC,UACjBo0C,EAAep0C,EAAUA,EAAUziC,OAAS,GAAGtB,EACnD,GAAGurD,GAAc4sB,EACb,OAAOn1E,KAAKygC,GAkBZ,GAfIs0C,EAYAE,EAAgBE,GAFZH,EAHAzC,EAGgBjoE,KAAKiX,IAAI4zD,EAAexwC,KAAKT,KAAKU,WAAWsC,UAAUqrC,GAFvDjoE,KAAK6P,IAAI,EAAEg7D,EAAen1E,KAAK2kC,KAAKhK,KAAK0qB,QAPzDktB,GAAYA,EAAWxxC,EAAUziC,OAAS,KAC1Ci0E,EAAWxxC,EAAUziC,OAAS,GAGlC02E,EAAgBG,GADhBF,EAAgBl0C,EAAUA,EAAUziC,OAAS,EAAIi0E,GAAUv1E,IAWnD,aAAT8N,EAAqB,CAEpB,GADiBR,KAAK2D,OAAOs6C,EAAe0sB,GAAeD,GAC3C,GAAM,EAClB,OAAOh1E,KAAKmnC,gBAAiB6tC,GAAiBzsB,EAAe0sB,GAAiBD,EAAiBC,GAAkBj1E,KAAKkkC,KAAKU,WAAWsC,UAAW,OAElJ,IAAY,WAATp8B,EAAkB,CACxB,IAAIsqE,EAAQp1E,KAAKmnC,eAAe8tC,EAAgBj1E,KAAKkkC,KAAKU,WAAWsC,UAAW,GAC5EmuC,EAAOr1E,KAAKmnC,eAAeguC,EAAen1E,KAAKkkC,KAAKU,WAAWsC,UAAW,GAC1EouC,EAAUt1E,KAAKmnC,iBAAiBohB,EAAe0sB,GAAiBD,EAAiBC,GAAiBj1E,KAAKkkC,KAAKU,WAAWsC,UAAW,GAClIquC,EAAUjrE,KAAK2D,OAAOs6C,EAAe0sB,GAAeD,GACxD,GAAGh1E,KAAKygC,GAAGniC,OAAO,CAGd,IADAkV,GADA0hE,EAAM,IAAI3zE,MAAM6zE,EAAM92E,SACZA,OACNxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbo5E,EAAIp5E,IAAMu5E,EAAKv5E,GAAGs5E,EAAMt5E,IAAIy5E,EAAUD,EAAQx5E,GAElD,OAAOo5E,EAEX,OAAQG,EAAKD,GAAOG,EAAUD,EAC3B,GAAY,aAATxqE,EAAoB,CAC1B,IAAI0qE,EAAYx1E,KAAKmnC,eAAeguC,EAAen1E,KAAKkkC,KAAKU,WAAWsC,UAAW,GAC/EuuC,EAAgBz1E,KAAKmnC,gBAAgBguC,EAAe,MAASn1E,KAAKkkC,KAAKU,WAAWsC,UAAW,GACjG,GAAGlnC,KAAKygC,GAAGniC,OAAO,CAGd,IADAkV,GADA0hE,EAAM,IAAI3zE,MAAMi0E,EAAUl3E,SAChBA,OACNxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbo5E,EAAIp5E,GAAK05E,EAAU15E,IAAM05E,EAAU15E,GAAG25E,EAAc35E,MAAMysD,EAAe4sB,GAAen1E,KAAKkkC,KAAKU,WAAWsC,WAAW,KAE5H,OAAOguC,EAEX,OAAOM,GAAyCjtB,EAAe4sB,GAAe,MAA1DK,EAAUC,IAElC,OAAOz1E,KAAKmnC,iBAAkBohB,EAAe0sB,GAAiBD,EAAiBC,GAAkBj1E,KAAKkkC,KAAKU,WAAWsC,UAAW,GAIzI,SAASypC,EAAO7lE,EAAKynE,EAAUwC,GAC3B,IAAI/0E,KAAKsZ,EACL,OAAOtZ,KAAKygC,GAEhB31B,EAAOA,EAAOA,EAAK2yC,cAAgB,GACnC,IAMQu3B,EAAeG,EAefr5E,EAAG0X,EAAK0hE,EArBZ3sB,EAAevoD,KAAKkkC,KAAKC,cACzBpD,EAAY/gC,KAAK+gC,UACjBk0C,EAAgBl0C,EAAU,GAAG/jC,EACjC,GAAGurD,GAAc0sB,EACb,OAAOj1E,KAAKygC,GAkBZ,GAfIs0C,EAYAI,EAAeF,GAFXD,EAHAzC,EAGgBjoE,KAAKiX,IAAIojB,KAAKT,KAAKU,WAAWsC,UAAUqrC,GAFxCjoE,KAAK6P,IAAI,EAAEna,KAAK2kC,KAAKhK,KAAKyX,GAAK6iC,OAP/C1C,GAAYA,EAAWxxC,EAAUziC,OAAS,KAC1Ci0E,EAAWxxC,EAAUziC,OAAS,GAGlC02E,GADAG,EAAep0C,EAAUwxC,GAAUv1E,GACJi4E,GAUvB,aAATnqE,EAAqB,CAEpB,GADiBR,KAAK2D,OAAOgnE,EAAgB1sB,GAAcysB,GAC3C,GAAM,EAClB,OAAOh1E,KAAKmnC,iBAAkB8tC,EAAgB1sB,GAAcysB,EAAiBC,GAAkBj1E,KAAKkkC,KAAKU,WAAWsC,UAAW,OAEhI,IAAY,WAATp8B,EAAkB,CACxB,IAAIsqE,EAAQp1E,KAAKmnC,eAAe8tC,EAAgBj1E,KAAKkkC,KAAKU,WAAWsC,UAAW,GAC5EmuC,EAAOr1E,KAAKmnC,eAAeguC,EAAen1E,KAAKkkC,KAAKU,WAAWsC,UAAW,GAC1EouC,EAAUt1E,KAAKmnC,gBAAgB6tC,GAAiBC,EAAgB1sB,GAAcysB,EAAiBC,GAAiBj1E,KAAKkkC,KAAKU,WAAWsC,UAAW,GAChJquC,EAAUjrE,KAAK2D,OAAOgnE,EAAgB1sB,GAAcysB,GAAe,EACvE,GAAGh1E,KAAKygC,GAAGniC,OAAO,CAGd,IADAkV,GADA0hE,EAAM,IAAI3zE,MAAM6zE,EAAM92E,SACZA,OACNxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbo5E,EAAIp5E,GAAKw5E,EAAQx5E,IAAIu5E,EAAKv5E,GAAGs5E,EAAMt5E,IAAIy5E,EAE3C,OAAOL,EAEX,OAAOI,GAASD,EAAKD,GAAOG,EACzB,GAAY,aAATzqE,EAAoB,CAC1B,IAAI4qE,EAAa11E,KAAKmnC,eAAe8tC,EAAgBj1E,KAAKkkC,KAAKU,WAAWsC,UAAW,GACjFyuC,EAAiB31E,KAAKmnC,gBAAgB8tC,EAAgB,MAASj1E,KAAKkkC,KAAKU,WAAWsC,UAAW,GACnG,GAAGlnC,KAAKygC,GAAGniC,OAAO,CAGd,IADAkV,GADA0hE,EAAM,IAAI3zE,MAAMm0E,EAAWp3E,SACjBA,OACNxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbo5E,EAAIp5E,GAAK45E,EAAW55E,IAAM45E,EAAW55E,GAAG65E,EAAe75E,KAAKm5E,EAAgB1sB,GAAc,KAE9F,OAAO2sB,EAEX,OAAOQ,GAAcA,EAAWC,IAAiBV,EAAgB1sB,GAAc,MAEnF,OAAOvoD,KAAKmnC,gBAAiB6tC,GAAiBC,EAAgB1sB,GAAgBysB,EAAiBC,GAAkBj1E,KAAKkkC,KAAKU,WAAWsC,UAAW,GAIzJ,SAAS6pC,EAAOlrE,EAAO+vE,GACnB,IAAK51E,KAAKsZ,EACN,OAAOtZ,KAAKygC,GAIhB,GAFA56B,EAAyB,IAAhBA,GAAS,KAClB+vE,EAAUtrE,KAAK2D,MAAM2nE,GAAW,KACjB,EACX,OAAO51E,KAAKygC,GAEhB,IAKI1jC,EAMA84E,EAXA1yD,EAAcnjB,KAAKkkC,KAAKC,cAAgBnkC,KAAKkkC,KAAKU,WAAWsC,UAC7DjH,EAAY9c,EAActd,EAE1BiwE,EAAkBF,EAAU,GADjBzyD,EAActd,EACmBo6B,IAAc21C,EAAU,GAAK,EACzE95E,EAAI,EAAG6d,EAAI,EAQf,IALI5c,EADAiD,KAAKygC,GAAGniC,OACAinB,iBAAiB,UAAWvlB,KAAKygC,GAAGniC,QAEpC,EAGLxC,EAAI85E,GAAS,CAEhB,GADAC,EAAc71E,KAAKmnC,eAAelH,EAAYnkC,EAAIg6E,GAC/C91E,KAAKygC,GAAGniC,OACP,IAAKqb,EAAI,EAAGA,EAAI3Z,KAAKygC,GAAGniC,OAAQqb,GAAK,EACjC5c,EAAM4c,IAAMk8D,EAAYl8D,QAG5B5c,GAAS84E,EAEb/5E,GAAK,EAET,GAAGkE,KAAKygC,GAAGniC,OACP,IAAKqb,EAAI,EAAGA,EAAI3Z,KAAKygC,GAAGniC,OAAQqb,GAAK,EACjC5c,EAAM4c,IAAMi8D,OAGhB74E,GAAS64E,EAEb,OAAO74E,EAeX,SAASg5E,EAAwBjc,GAC7B50D,QAAQo6B,KAAK,mCAGjB,SAAS02C,EAA8Blc,IAIvC,IAAIxyB,EAAuBzB,yBAAyByB,qBACpDzB,yBAAyByB,qBAAuB,SAAS3C,EAAMhK,EAAMxkB,GACjE,IAAIpR,EAAOuiC,EAAqB3C,EAAMhK,EAAMxkB,GAO5C,OANGpR,EAAKihB,kBAAkB1nB,OACtByG,EAAKoiC,eAAiB4uC,EAAwBz4E,KAAKyH,GAEnDA,EAAKoiC,eAAiB6uC,EAA8B14E,KAAKyH,GAE7DA,EAAK8vE,iBAAmBL,kBAAkBK,iBACnC9vE,GAGX,IAAIkxE,EAAkBj2C,gBAAgB4F,QACtC5F,gBAAgB4F,QAAU,SAASjB,EAAKhK,EAAK7vB,EAAM25B,EAAMtuB,GACrD,IAAIpR,EAAOkxE,EAAgBtxC,EAAKhK,EAAK7vB,EAAM25B,EAAMtuB,GAI9CpR,EAAKmgC,GACJngC,EAAKoiC,eAAiBqtC,kBAAkBrtC,eAAe7pC,KAAKyH,GAE5DA,EAAKoiC,eAAiBqtC,kBAAkBI,qBAAqBt3E,KAAKyH,GAEtEA,EAAK8vE,iBAAmBL,kBAAkBK,iBAC1C9vE,EAAK8rE,QAAUA,EACf9rE,EAAK4rE,OAASA,EACd5rE,EAAKgsE,OAASA,EACdhsE,EAAK0tE,kBAAoB+B,kBAAkB/B,kBAAkBn1E,KAAKyH,GAClEA,EAAK2vE,eAAiBF,kBAAkBE,eAAep3E,KAAKyH,GAC5DA,EAAKgtE,QAAqB,IAAXp3C,EAAKlwB,EAAUkwB,EAAKrhB,EAAEhb,OAAS,EAC9CyG,EAAKmxE,cAAgBv7C,EAAKw7C,GAC1B,IAAIp5E,EAAQ,EAcZ,OAbY,IAAT+N,IACC/N,EAAQwoB,iBAAiB,UAAsB,IAAXoV,EAAKlwB,EAAWkwB,EAAKrhB,EAAE,GAAGzb,EAAES,OAASq8B,EAAKrhB,EAAEhb,SAEpFyG,EAAK4vE,eAAiB,CAClBjzC,UAAWlhB,oBACXsgB,UAAW,EACX/jC,MAAOA,GAEXy3E,kBAAkBC,kBAAkB9vC,EAAKhK,EAAK51B,GAC3CA,EAAKuU,GACJnD,EAAU4P,mBAAmBhhB,GAG1BA,GAuBX,IAAIqxE,EAAmCxtC,qBAAqBytC,yBACxDC,EAA4C1tC,qBAAqB2tC,kCAErE,SAASC,KACTA,EAAiB94E,UAAY,CACzB6qC,SAAU,SAASxjC,EAAM+0D,GACjB95D,KAAKsZ,GACLtZ,KAAKomB,WAET,IAAI0oB,EAAY9uC,KAAKskB,OACT7jB,IAATq5D,IACChrB,EAAY9uC,KAAKmnC,eAAe2yB,EAAM,IAE1C,IAAIh+D,EAAG0X,EAAMs7B,EAAUnZ,QACnB4S,EAAWuG,EAAU/pC,GACrB+rB,EAASge,EAAUxqB,EACnBlR,EAAM4O,iBAAiBxO,GAC3B,IAAI1X,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EAEjBsX,EAAItX,GADI,MAATiJ,GAAyB,MAATA,EACN,CAACwjC,EAASzsC,GAAG,GAAKg1B,EAAOh1B,GAAG,GAAIysC,EAASzsC,GAAG,GAAKg1B,EAAOh1B,GAAG,IAE3D,CAACysC,EAASzsC,GAAG,GAAIysC,EAASzsC,GAAG,IAI9C,OAAOsX,GAEX0d,OAAQ,SAASgpC,GACb,OAAO95D,KAAKuoC,SAAS,IAAKuxB,IAE9B4V,WAAY,SAAS5V,GACjB,OAAO95D,KAAKuoC,SAAS,IAAKuxB,IAE9B6V,YAAa,SAAS7V,GAClB,OAAO95D,KAAKuoC,SAAS,IAAKuxB,IAE9B2c,SAAU,WACN,OAAOz2E,KAAKskB,EAAEnoB,GAElBu6E,YAAa,SAAShjD,EAAMomC,GACxB,IAAIhrB,EAAY9uC,KAAKskB,OACT7jB,IAATq5D,IACChrB,EAAY9uC,KAAKmnC,eAAe2yB,EAAM,IAEtC95D,KAAK22E,kBACL32E,KAAK22E,gBAAkBt+C,IAAIlD,kBAAkB2Z,IASjD,IANA,IAK2BpiB,EALvB2I,EAAiBr1B,KAAK22E,gBACtBxiD,EAAUkB,EAAelB,QACzBY,EAAYM,EAAeO,YAAclC,EACzC53B,EAAI,EAAG0X,EAAM2gB,EAAQ71B,OAErBs4E,EAAoB,EAClB96E,EAAI0X,GAAK,CACX,GAAGojE,EAAoBziD,EAAQr4B,GAAG+3B,YAAckB,EAAW,CACvD,IAAI8hD,EAAY/6E,EACZg7E,EAAYhoC,EAAU3yC,GAAKL,IAAM0X,EAAM,EAAK,EAAI1X,EAAI,EACpD0lC,GAAezM,EAAY6hD,GAAmBziD,EAAQr4B,GAAG+3B,YAC7DnH,EAAK2L,IAAIjB,kBAAkB0X,EAAUxqB,EAAEuyD,GAAY/nC,EAAUxqB,EAAEwyD,GAAWhoC,EAAUvyC,EAAEs6E,GAAY/nC,EAAUhzC,EAAEg7E,GAAWt1C,EAAarN,EAAQr4B,IAC9I,MAEA86E,GAAqBziD,EAAQr4B,GAAG+3B,YAEpC/3B,GAAK,EAKT,OAHI4wB,IACAA,EAAKoiB,EAAU3yC,EAAI,CAAC2yC,EAAUxqB,EAAE,GAAG,GAAGwqB,EAAUxqB,EAAE,GAAG,IAAI,CAACwqB,EAAUxqB,EAAEwqB,EAAUnZ,QAAQ,GAAG,GAAGmZ,EAAUxqB,EAAEwqB,EAAUnZ,QAAQ,GAAG,KAE5HjJ,GAEXqqD,aAAc,SAASrjD,EAAMomC,EAAMkd,GAE/BtjD,EAAe,GAARA,EAAY1zB,KAAKskB,EAAEnoB,EAAI,EAAI,KAAQu3B,EAC1C,IAAI1G,EAAMhtB,KAAK02E,YAAYhjD,EAAMomC,GAC7B7sC,EAAMjtB,KAAK02E,YAAYhjD,EAAO,KAAOomC,GACrCmd,EAAUhqD,EAAI,GAAKD,EAAI,GACvBkqD,EAAUjqD,EAAI,GAAKD,EAAI,GACvBmqD,EAAY7sE,KAAK+W,KAAK/W,KAAK6W,IAAI81D,EAAQ,GAAK3sE,KAAK6W,IAAI+1D,EAAQ,IACjE,OAAkB,IAAdC,EACO,CAAC,EAAE,GAEkB,YAAfH,EAA2B,CAACC,EAAQE,EAAWD,EAAQC,GAAa,EAAED,EAAQC,EAAWF,EAAQE,IAGtHC,cAAe,SAAS1jD,EAAMomC,GAC1B,OAAO95D,KAAK+2E,aAAarjD,EAAMomC,EAAM,YAEzCud,aAAc,SAAS3jD,EAAMomC,GACzB,OAAO95D,KAAK+2E,aAAarjD,EAAMomC,EAAM,WAEzC+a,iBAAkBL,kBAAkBK,iBACpC1tC,eAAgBqtC,kBAAkBI,sBAEtCriD,gBAAgB,CAACikD,GAAmBJ,GACpC7jD,gBAAgB,CAACikD,GAAmBF,GACpCA,EAA0C54E,UAAUypC,eApHpD,SAA6B/G,GAiBzB,OAfKpgC,KAAK20E,iBACN30E,KAAK20E,eAAiB,CAClB2C,WAAY7tC,WAAW5d,MAAM7rB,KAAKygC,IAClCK,UAAW,EACXhJ,SAAUtX,sBAIlB4f,GAAYpgC,KAAK2kC,KAAKC,WAAWsC,WACjC9G,GAAYpgC,KAAKugC,cACDvgC,KAAK20E,eAAe78C,WAChC93B,KAAK20E,eAAe7zC,UAAY9gC,KAAK20E,eAAe78C,SAAWsI,EAAWpgC,KAAKqkC,SAASvD,UAAY,EACpG9gC,KAAK20E,eAAe78C,SAAWsI,EAC/BpgC,KAAK6oC,iBAAiBzI,EAAUpgC,KAAK20E,eAAe2C,WAAYt3E,KAAK20E,iBAElE30E,KAAK20E,eAAe2C,YAoG/BhB,EAA0C54E,UAAUqyE,mBAAqBlD,kBAAkBkD,mBAE3F,IAAIwH,EAAuB3uC,qBAAqBya,aAChDza,qBAAqBya,aAAe,SAAS1e,EAAKhK,EAAK7vB,EAAMsI,EAAKokE,GAC9D,IAAIzyE,EAAOwyE,EAAqB5yC,EAAKhK,EAAK7vB,EAAMsI,EAAKokE,GAWrD,OAVAzyE,EAAKmxE,cAAgBv7C,EAAKw7C,GAC1BpxE,EAAKggC,MAAO,EACA,IAATj6B,EACC0pE,kBAAkBC,kBAAkB9vC,EAAKhK,EAAKjO,GAAG3nB,GAClC,IAAT+F,GACN0pE,kBAAkBC,kBAAkB9vC,EAAKhK,EAAKf,GAAG70B,GAElDA,EAAKuU,GACJqrB,EAAK5e,mBAAmBhhB,GAErBA,GAlXf,GA+XIwyC,aAAa75C,UAAU+5E,mBAAqB,SAAS/6B,EAAcI,GAC/D,IAAIxc,EAAWtgC,KAAK03E,oBAAoB56B,GACxC,GAAGJ,EAAa1/C,IAAMsjC,EAAU,CAC5B,IAAIke,EAAU,GAId,OAHAx+C,KAAK44C,SAAS4F,EAAS9B,GACvB8B,EAAQxhD,EAAIsjC,EAAS3yB,WACrB6wC,EAAQrjB,YAAa,EACdqjB,EAEX,OAAO9B,GAGXnF,aAAa75C,UAAUm7C,eAAiB,WAEpC,IAAI8+B,EAAc33E,KAAKu8C,kBACnBq7B,EAAiB53E,KAAKy0E,oBAE1B,OADAz0E,KAAKklC,GAAKyyC,GAAeC,EAClB53E,KAAKklC,IAGhBqS,aAAa75C,UAAU+2E,kBA5BvB,WACI,GAAGz0E,KAAK26B,KAAKv+B,EAAE4vB,EAGX,OAFAhsB,KAAK03E,oBAAsB7K,kBAAkBkD,mBAAmBzyE,KAAK0C,KAA1C6sE,CAAgD7sE,KAAK2kC,KAAK3kC,KAAK26B,KAAKv+B,EAAE4D,MACjGA,KAAKmlC,UAAUnlC,KAAKy3E,mBAAmBn6E,KAAK0C,QACrC,GA2BnB,IAAI+1D,yBAA4B,WAE5B,SAAS8hB,EAAgBr+C,EAAOs+C,EAAMhD,GAClC,IACIh5E,EADAsX,EAAM,GACHI,EAAMgmB,EAASA,EAAOl7B,OAAS,EACtC,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACM,MAAhB09B,EAAO19B,GAAGstB,GACThW,EAAIhF,KAAK2pE,EAAsBv+C,EAAO19B,GAAGg8E,EAAKh8E,GAAGg5E,IAC5B,MAAhBt7C,EAAO19B,GAAGstB,GACfhW,EAAIhF,KAAK4pE,EAAqBx+C,EAAO19B,GAAGg8E,EAAKh8E,GAAGg5E,IAC3B,MAAhBt7C,EAAO19B,GAAGstB,GACfhW,EAAIhF,KAAK6pE,EAAuBz+C,EAAO19B,GAAGg8E,EAAKh8E,GAAGg5E,IAC7B,MAAhBt7C,EAAO19B,GAAGstB,GACfhW,EAAIhF,KAAK8pE,EAAqB1+C,EAAO19B,GAAGg8E,EAAKh8E,GAAGg5E,IAC3B,MAAhBt7C,EAAO19B,GAAGstB,KAEM,MAAhBoQ,EAAO19B,GAAGstB,GACfhW,EAAIhF,KAAK+pE,EAAwB3+C,EAAO19B,GAAGg8E,EAAKh8E,GAAGg5E,IAC9B,MAAhBt7C,EAAO19B,GAAGstB,GACfhW,EAAIhF,KAAKgqE,EAAqB5+C,EAAO19B,GAAGg8E,EAAKh8E,GAAGg5E,IAC1B,MAAhBt7C,EAAO19B,GAAGstB,GAChBhW,EAAIhF,KAAKiqE,EAAqB7+C,EAAO19B,GAAGg8E,EAAKh8E,GAAGg5E,IAC1B,MAAhBt7C,EAAO19B,GAAGstB,GAChBhW,EAAIhF,KAAKkqE,EAAqB9+C,EAAO19B,GAAGg8E,EAAKh8E,GAAGg5E,IAC1B,MAAhBt7C,EAAO19B,GAAGstB,GAChBhW,EAAIhF,KAAKmqE,EAAwB/+C,EAAO19B,GAAGg8E,EAAKh8E,GAAGg5E,IAC7B,MAAhBt7C,EAAO19B,GAAGstB,IAChBhW,EAAIhF,KAAKoqE,EAAyBh/C,EAAO19B,GAAGg8E,EAAKh8E,GAAGg5E,KAG5D,OAAO1hE,EAgCX,SAAS2kE,EAAsB3qC,EAAM0qC,EAAMhD,GACvC,IAAI2D,EAAoB,SAA4B17E,GAChD,OAAOA,GACH,IAAK,qBACL,IAAK,WACL,KAAK,EACD,OAAO07E,EAAkBziB,QAI7B,QACI,OAAOyiB,EAAkBnvD,YAGrCmvD,EAAkB3D,cAAgB,SAAShnE,GACvC,OAAW,IAARA,EACQ2qE,EAEA3D,EAAchnE,EAAI,IAGjC,IAAIkoD,EAlDR,SAAkC5oB,EAAM0qC,EAAMhD,GAC3C,IAAI4D,EACAD,EAAoB,SAA4B17E,GAE/C,IADD,IAAIjB,EAAI,EAAG0X,EAAMklE,EAAWp6E,OACrBxC,EAAE0X,GAAI,CACR,GAAGklE,EAAW58E,GAAG68E,QAAU57E,GAAS27E,EAAW58E,GAAG88E,KAAO77E,GAAS27E,EAAW58E,GAAGo6E,gBAAkBn5E,GAAS27E,EAAW58E,GAAGq6E,KAAOp5E,GAAS27E,EAAW58E,GAAGulC,MAAQtkC,EAC5J,OAAO27E,EAAW58E,GAErBA,GAAG,EAEP,GAAoB,iBAAViB,EACP,OAAO27E,EAAW37E,EAAM,IAehC,OAZA07E,EAAkB3D,cAAgB,SAAShnE,GACvC,OAAW,IAARA,EACQ2qE,EAEA3D,EAAchnE,EAAI,IAGjC4qE,EAAab,EAAgBzqC,EAAMzgC,GAAImrE,EAAKnrE,GAAI8rE,EAAkB3D,eAClE2D,EAAkBI,cAAgBH,EAAWp6E,OAC7Cm6E,EAAkBvC,cAAgB9oC,EAAM0rC,IACxCL,EAAkBE,MAAQvrC,EAAMjd,GAEzBsoD,EAwBQM,CAAyB3rC,EAAM0qC,EAAKW,EAAkB3D,eAChEkE,EAiJR,SAAmC5rC,EAAM0qC,EAAKhD,GAC1C,SAASmE,EAAenrE,GACpB,OAAU,GAAPA,EACQ2qE,EAEA3D,IAAgBhnE,GAG/BgqE,EAAKxuD,UAAU6oB,OAAO51C,EAAEs4E,iBAAiBoE,GACzCnB,EAAKxuD,UAAU6oB,OAAOv0C,EAAEi3E,iBAAiBoE,GACzCnB,EAAKxuD,UAAU6oB,OAAO1nC,EAAEoqE,iBAAiBoE,GACzCnB,EAAKxuD,UAAU6oB,OAAOt0C,EAAEg3E,iBAAiBoE,GACzCnB,EAAKxuD,UAAU6oB,OAAOv1C,EAAEi4E,iBAAiBoE,GACtCnB,EAAKxuD,UAAU6oB,OAAO3L,KACrBsxC,EAAKxuD,UAAU6oB,OAAO3L,GAAGquC,iBAAiBoE,GAC1CnB,EAAKxuD,UAAU6oB,OAAO1L,GAAGouC,iBAAiBoE,IAI9C,SAASR,EAAkB17E,GACvB,OAAGqwC,EAAM3iC,EAAE0rE,KAAOp5E,GAAmB,iBAAVA,EAChB07E,EAAkBnH,YAE1BlkC,EAAM7wC,EAAE45E,KAAOp5E,GAAmB,YAAVA,EAChB07E,EAAkBvc,QAE1B9uB,EAAMxvC,EAAEu4E,KAAOp5E,GAAmB,aAAVA,EAChB07E,EAAkBj2D,SAE1B4qB,EAAMxwC,EAAEu5E,KAAOp5E,GAAmB,aAAVA,GAAkC,yBAAVA,EACxC07E,EAAkBpH,SAE1BjkC,EAAMvvC,EAAEs4E,KAAOp5E,GAAmB,UAAVA,EAChB07E,EAAkB1vD,MAE1BqkB,EAAM5G,IAAM4G,EAAM5G,GAAG2vC,KAAOp5E,GAAmB,SAAVA,EAC7B07E,EAAkB9vD,KAE1BykB,EAAM3G,IAAM2G,EAAM3G,GAAG0vC,KAAOp5E,GAAmB,cAAVA,EAC7B07E,EAAkBS,cAD7B,EAgCJ,OArDApB,EAAKxuD,UAAU8oB,GAAGyiC,iBAAiBoE,GA0BnCz8E,OAAOiC,iBAAiBg6E,EAAmB,CACvC,QAAW,CACP97E,IAAKw8E,4BAA4BrB,EAAKxuD,UAAU6oB,OAAO51C,IAE3D,SAAY,CACRI,IAAKw8E,4BAA4BrB,EAAKxuD,UAAU6oB,OAAOv0C,IAE3D,YAAe,CACXjB,IAAKw8E,4BAA4BrB,EAAKxuD,UAAU6oB,OAAO1nC,IAE3D,MAAS,CACL9N,IAAKw8E,4BAA4BrB,EAAKxuD,UAAU6oB,OAAOt0C,IAE3D,SAAY,CACRlB,IAAKw8E,4BAA4BrB,EAAKxuD,UAAU6oB,OAAOv1C,IAE3D,KAAQ,CACJD,IAAKw8E,4BAA4BrB,EAAKxuD,UAAU6oB,OAAO3L,KAE3D,SAAY,CACR7pC,IAAKw8E,4BAA4BrB,EAAKxuD,UAAU6oB,OAAO1L,KAE3D,MAAS,CAAE1pC,MAAOqwC,EAAMjd,MAE5BsoD,EAAkBrvD,GAAK,KACvBqvD,EAAkBG,GAAKxrC,EAAMwrC,GAC7BH,EAAkB3D,cAAgBA,EAC3B2D,EAvNkBW,CAA0BhsC,EAAMzgC,GAAGygC,EAAMzgC,GAAGrO,OAAS,GAAGw5E,EAAKnrE,GAAGmrE,EAAKnrE,GAAGrO,OAAS,GAAGm6E,EAAkB3D,eAa/H,OAZA2D,EAAkBziB,QAAUA,EAC5ByiB,EAAkBnvD,UAAY0vD,EAC9Bx8E,OAAOC,eAAeg8E,EAAmB,QAAS,CAC9C97E,IAAK,WACD,OAAOywC,EAAMjd,MAIrBsoD,EAAkBI,cAAgBzrC,EAAMisC,GACxCZ,EAAkBvC,cAAgB9oC,EAAM+oC,GACxCsC,EAAkBtoD,GAAKid,EAAMjd,GAC7BsoD,EAAkBG,GAAKxrC,EAAMwrC,GACtBH,EAGX,SAAST,EAAqB5qC,EAAM0qC,EAAKhD,GACrC,SAAS2D,EAAkB3qE,GACvB,MAAW,UAARA,GAA2B,UAARA,EACX2qE,EAAkB9zD,MACX,YAAR7W,GAA6B,YAARA,EACpB2qE,EAAkBvc,aADtB,EAiBX,OAbA1/D,OAAOiC,iBAAiBg6E,EAAmB,CACvC,MAAS,CACL97E,IAAKw8E,4BAA4BrB,EAAK37E,IAE1C,QAAW,CACPQ,IAAKw8E,4BAA4BrB,EAAKv7E,IAE1C,MAAS,CAAEQ,MAAOqwC,EAAMjd,IACxB,GAAM,CAAEpzB,MAAOqwC,EAAMwrC,MAGzBd,EAAK37E,EAAE04E,iBAAiBC,GACxBgD,EAAKv7E,EAAEs4E,iBAAiBC,GACjB2D,EAGX,SAASR,EAAuB7qC,EAAM0qC,EAAKhD,GACvC,SAASmE,EAAenrE,GACpB,OAAW,IAARA,EACQoiB,GAEA4kD,EAAchnE,EAAI,GAGjC,SAASwrE,EAAmBxrE,GACxB,OAAW,IAARA,EACQyrE,EAEAN,EAAenrE,EAAI,GAGlC,SAAS0rE,EAAoB19E,GACzBU,OAAOC,eAAe88E,EAAQnsC,EAAMhxC,EAAEN,GAAGq0B,GAAI,CACzCxzB,IAAKw8E,4BAA4BrB,EAAK17E,EAAEmwC,UAAUzwC,GAAG8B,KAG7D,IAAI9B,EAAG0X,EAAM45B,EAAMhxC,EAAIgxC,EAAMhxC,EAAEkC,OAAS,EACpCi7E,EAAS,GACb,IAAKz9E,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACtB09E,EAAoB19E,GACpBg8E,EAAK17E,EAAEmwC,UAAUzwC,GAAG8B,EAAEi3E,iBAAiByE,GAG3C,SAASb,EAAkB3qE,GACvB,MAAW,UAARA,GAA2B,UAARA,EACX2qE,EAAkB9zD,MACX,YAAR7W,GAA6B,YAARA,EACpB2qE,EAAkBvc,QACX,iBAARpuD,GAAkC,iBAARA,EACzB2qE,EAAkB5S,iBADtB,EA0BX,OAtBArpE,OAAOiC,iBAAiBg6E,EAAmB,CACvC,MAAS,CACL97E,IAAKw8E,4BAA4BrB,EAAK37E,IAE1C,QAAW,CACPQ,IAAKw8E,4BAA4BrB,EAAKv7E,IAE1C,YAAe,CACXI,IAAKw8E,4BAA4BrB,EAAKz4D,IAE1C,KAAQ,CACJ1iB,IAAK,WACD,OAAO48E,IAGf,MAAS,CAAEx8E,MAAOqwC,EAAMjd,IACxB,GAAM,CAAEpzB,MAAOqwC,EAAMwrC,MAGzBd,EAAK37E,EAAE04E,iBAAiBoE,GACxBnB,EAAKv7E,EAAEs4E,iBAAiBoE,GACxBnB,EAAKz4D,EAAEw1D,iBAAiBoE,GACjBR,EAGX,SAASP,EAAqB9qC,EAAM0qC,EAAKhD,GACrC,SAASmE,EAAenrE,GACpB,OAAU,GAAPA,EACQ2qE,EAEA3D,IAAgBhnE,GAS/B,SAAS2qE,EAAkB3qE,GACvB,OAAGA,IAAQs/B,EAAMpnC,EAAEmwE,IAAc,QAARroE,GAAyB,QAARA,EAC/B2qE,EAAkBnkE,IAE1BxG,IAAQs/B,EAAMvvC,EAAEs4E,GACRsC,EAAkBpkE,MAE1BvG,IAAQs/B,EAAM7wC,EAAE45E,GACRsC,EAAkB7zD,YAD7B,EAoBJ,OAjCA6zD,EAAkBvC,cAAgB9oC,EAAM+oC,GAExC2B,EAAKj6E,EAAEg3E,iBAAiBoE,GACxBnB,EAAK9xE,EAAE6uE,iBAAiBoE,GACxBnB,EAAKv7E,EAAEs4E,iBAAiBoE,GAaxBR,EAAkBvC,cAAgB9oC,EAAM+oC,GACxCsC,EAAkB3D,cAAgBA,EAElCt4E,OAAOiC,iBAAiBg6E,EAAmB,CACvC,MAAS,CACL97E,IAAKw8E,4BAA4BrB,EAAKj6E,IAE1C,IAAO,CACHlB,IAAKw8E,4BAA4BrB,EAAK9xE,IAE1C,OAAU,CACNrJ,IAAKw8E,4BAA4BrB,EAAKv7E,IAE1C,MAAS,CAAEQ,MAAOqwC,EAAMjd,MAE5BsoD,EAAkBG,GAAKxrC,EAAMwrC,GACtBH,EA4EX,SAASN,EAAwB/qC,EAAM0qC,EAAKhD,GACxC,SAASmE,EAAenrE,GACpB,OAAU,GAAPA,EACQ2qE,EAEA3D,IAAgBhnE,GAG/B2qE,EAAkBvC,cAAgB9oC,EAAM+oC,GACxC,IAAIpxE,EAAsB,OAAf+yE,EAAK31C,GAAG/Y,GAAc0uD,EAAK31C,GAAGp9B,KAAO+yE,EAAK31C,GAGrD,SAASs2C,EAAkB17E,GACvB,OAAGqwC,EAAMxvC,EAAEu4E,KAAOp5E,EACP07E,EAAkBj2D,SAE1B4qB,EAAMvvC,EAAEs4E,KAAOp5E,EACP07E,EAAkBl9C,UAD7B,EAeJ,OArBAx2B,EAAKlH,EAAEg3E,iBAAiBoE,GACxBl0E,EAAKnH,EAAEi3E,iBAAiBoE,GAUxBz8E,OAAOiC,iBAAiBg6E,EAAmB,CACvC,KAAQ,CACJ97E,IAAKw8E,4BAA4Bp0E,EAAKlH,IAE1C,SAAY,CACRlB,IAAKw8E,4BAA4Bp0E,EAAKnH,IAE1C,MAAS,CAAEb,MAAOqwC,EAAMjd,MAE5BsoD,EAAkBG,GAAKxrC,EAAMwrC,GACtBH,EAGX,SAASL,EAAqBhrC,EAAM0qC,EAAKhD,GACrC,SAASmE,EAAenrE,GACpB,OAAU,GAAPA,EACQ2qE,EAEA3D,IAAgBhnE,GAG/B,IAAI/I,EAAsB,OAAf+yE,EAAK31C,GAAG/Y,GAAc0uD,EAAK31C,GAAGp9B,KAAO+yE,EAAK31C,GAYrD,SAASs2C,EAAkB17E,GACvB,OAAGqwC,EAAMxvC,EAAEu4E,KAAOp5E,EACP07E,EAAkBj2D,SAE1B4qB,EAAMxwC,EAAEu5E,KAAOp5E,EACP07E,EAAkBpH,SAE1BjkC,EAAM1gB,GAAGypD,KAAOp5E,EACR07E,EAAkB3nD,OAE1Bsc,EAAM7G,GAAG4vC,KAAOp5E,GAAS,kCAAoCA,EACrD07E,EAAkBgB,YAE1BrsC,EAAMzC,GAAGwrC,KAAOp5E,EACR07E,EAAkBiB,gBAE1BtsC,EAAM7C,IAAO6C,EAAM7C,GAAG4rC,KAAOp5E,GAAS,kCAAoCA,EAG1EqwC,EAAMr9B,IAAMq9B,EAAMr9B,GAAGomE,KAAOp5E,EACpB07E,EAAkBkB,oBAD7B,EAFWlB,EAAkBmB,YAiCjC,OA7DAnB,EAAkBvC,cAAgB9oC,EAAM+oC,GACxCpxE,EAAKwhC,GAAGsuC,iBAAiBoE,GACzBl0E,EAAK4lC,GAAGkqC,iBAAiBoE,GACzBl0E,EAAK2nB,GAAGmoD,iBAAiBoE,GACzBl0E,EAAKnH,EAAEi3E,iBAAiBoE,GACxBl0E,EAAKnI,EAAEi4E,iBAAiBoE,GACrB7rC,EAAM7C,KACLxlC,EAAKwlC,GAAGsqC,iBAAiBoE,GACzBl0E,EAAKgL,GAAG8kE,iBAAiBoE,IA4B7Bz8E,OAAOiC,iBAAiBg6E,EAAmB,CACvC,SAAY,CACR97E,IAAKw8E,4BAA4Bp0E,EAAKnH,IAE1C,SAAY,CACRjB,IAAKw8E,4BAA4Bp0E,EAAKnI,IAE1C,OAAU,CACND,IAAKw8E,4BAA4Bp0E,EAAK2nB,KAE1C,YAAe,CACX/vB,IAAKw8E,4BAA4Bp0E,EAAKwhC,KAE1C,eAAkB,CACd5pC,IAAKw8E,4BAA4Bp0E,EAAK4lC,KAE1C,YAAe,CACXhuC,IAAKw8E,4BAA4Bp0E,EAAKwlC,KAE1C,eAAkB,CACd5tC,IAAKw8E,4BAA4Bp0E,EAAKgL,KAE1C,MAAS,CAAEhT,MAAOqwC,EAAMjd,MAE5BsoD,EAAkBG,GAAKxrC,EAAMwrC,GACtBH,EAGX,SAASH,EAAqBlrC,EAAM0qC,EAAKhD,GACrC,SAASmE,EAAenrE,GACpB,OAAU,GAAPA,EACQ2qE,EAEA3D,IAAgBhnE,GAG/B,IAAI/I,EAAsB,OAAf+yE,EAAK31C,GAAG/Y,GAAc0uD,EAAK31C,GAAGp9B,KAAO+yE,EAAK31C,GAMrD,SAASs2C,EAAkB17E,GACvB,OAAGqwC,EAAMxvC,EAAEu4E,KAAOp5E,EACP07E,EAAkBj2D,SAE1B4qB,EAAMxwC,EAAEu5E,KAAOp5E,EACP07E,EAAkB5tC,UAE1BuC,EAAMvvC,EAAEs4E,KAAOp5E,GAAmB,SAAVA,GAA8B,0BAAVA,EACpC07E,EAAkBl9C,UAD7B,EAkBJ,OA9BAk9C,EAAkBvC,cAAgB9oC,EAAM+oC,GACxCpxE,EAAKnH,EAAEi3E,iBAAiBoE,GACxBl0E,EAAKlH,EAAEg3E,iBAAiBoE,GACxBl0E,EAAKnI,EAAEi4E,iBAAiBoE,GAcxBz8E,OAAOiC,iBAAiBg6E,EAAmB,CACvC,SAAY,CACR97E,IAAKw8E,4BAA4Bp0E,EAAKnH,IAE1C,UAAa,CACTjB,IAAKw8E,4BAA4Bp0E,EAAKnI,IAE1C,KAAQ,CACJD,IAAKw8E,4BAA4Bp0E,EAAKlH,IAE1C,MAAS,CAAEd,MAAOqwC,EAAMjd,MAE5BsoD,EAAkBG,GAAKxrC,EAAMwrC,GACtBH,EAGX,SAASF,EAAwBnrC,EAAM0qC,EAAKhD,GAQxC,IAAI/vE,EAAO+yE,EAIX,SAASW,EAAkB17E,GACvB,GAAGqwC,EAAMxwC,EAAEu5E,KAAOp5E,GAAS,oBAAsBA,EAC7C,OAAO07E,EAAkBoB,OAWjC,OAhBApB,EAAkBvC,cAAgB9oC,EAAM+oC,GACxCpxE,EAAKsqC,GAAGwlC,kBATR,SAAwB/mE,GACpB,OAAU,GAAPA,EACQ2qE,EAEA3D,IAAgBhnE,MAa/BtR,OAAOiC,iBAAiBg6E,EAAmB,CACvC,OAAU,CACN97E,IAAKw8E,4BAA4Bp0E,EAAKsqC,KAE1C,MAAS,CAAEtyC,MAAOqwC,EAAMjd,MAE5BsoD,EAAkBG,GAAKxrC,EAAMwrC,GACtBH,EAGX,SAASD,EAAyBprC,EAAM0qC,EAAKhD,GACzC,SAASmE,EAAenrE,GACpB,OAAU,GAAPA,EACQ2qE,EAEA3D,IAAgBhnE,GAG/B,IAAI/I,EAAO+yE,EAKX,SAASW,EAAkB17E,GACvB,OAAGqwC,EAAMjxC,EAAEg6E,KAAOp5E,GAAS,WAAaA,EAC7B07E,EAAkB/mC,OACnBtE,EAAM7wC,EAAE45E,KAAOp5E,GAAS,WAAaA,EACpC07E,EAAkB7zD,YADtB,EAeX,OAtBA6zD,EAAkBvC,cAAgB9oC,EAAM+oC,GACxCpxE,EAAK5I,EAAE04E,iBAAiBoE,GACxBl0E,EAAKxI,EAAEs4E,iBAAiBoE,GAUxBz8E,OAAOiC,iBAAiBg6E,EAAmB,CACvC,OAAU,CACN97E,IAAKw8E,4BAA4Bp0E,EAAK5I,IAE1C,OAAU,CACNQ,IAAKw8E,4BAA4Bp0E,EAAKxI,IAE1C,MAAS,CAAEQ,MAAOqwC,EAAMjd,MAE5BsoD,EAAkBG,GAAKxrC,EAAMwrC,GACtBH,EAGX,SAASJ,EAAqBjrC,EAAM0qC,EAAKhD,GACrC,IAAI/vE,EAAO+yE,EAAK31C,GAUhB,SAASs2C,EAAkB3qE,GACvB,GAAW,UAARA,GAA2B,UAARA,GAA2B,SAARA,GAA0B,SAARA,GAA0B,sBAARA,GAAuC,IAARA,EACxG,OAAO2qE,EAAkB5xE,KAyBjC,OA7BA9B,EAAK8vE,kBAPL,SAAwB/mE,GACpB,OAAU,GAAPA,EACQ2qE,EAEA3D,IAAgBhnE,MAU/BtR,OAAOiC,iBAAiBg6E,EAAmB,CACvC,KAAQ,CACJ97E,IAAK,WAID,OAHGoI,EAAKuU,GACJvU,EAAKqhB,WAEFrhB,IAGf,MAAS,CACLpI,IAAK,WAID,OAHGoI,EAAKuU,GACJvU,EAAKqhB,WAEFrhB,IAGf,MAAS,CAAEhI,MAAOqwC,EAAMjd,IACxB,GAAM,CAAEpzB,MAAOqwC,EAAM+oC,IACrB,cAAiB,CAAEp5E,MAAOqwC,EAAM+oC,IAChC,GAAM,CAAEp5E,MAAOqwC,EAAMwrC,MAElBH,EAGX,OAAO,SAASj/C,EAAOs+C,EAAKhD,GACxB,IAAI4D,EACJ,SAASoB,EAAmB/8E,GACxB,GAAoB,iBAAVA,EACN,OAAO27E,EAAW37E,EAAM,GAGxB,IADA,IAAIjB,EAAI,EAAG0X,EAAMklE,EAAWp6E,OACtBxC,EAAE0X,GAAI,CACR,GAAGklE,EAAW58E,GAAG68E,QAAU57E,EACvB,OAAO27E,EAAW58E,GAEtBA,GAAG,GAOf,OAHAg+E,EAAmBhF,cAAgBA,EACnC4D,EAAab,EAAgBr+C,EAAQs+C,EAAMgC,GAC3CA,EAAmBjB,cAAgBH,EAAWp6E,OACvCw7E,GA5jBgB,GAgkB3B5jB,wBACI,SAASvxB,GACT,IAAgBo1C,EAChB,SAASC,KAeT,OAbAx9E,OAAOC,eAAeu9E,EAAoB,aAAc,CACpDr9E,IAAK,WACDgoC,EAAKya,aAAah5B,WAClB,IAAI6zD,EAAct1C,EAAKya,aAAazH,YAAY36C,EAOhD,YAbJk9E,IAOOD,IACCt1C,EAAKya,aAAazH,YAAY36C,OARtCk9E,GASQH,EAAc,IAAIh/D,OAAOk/D,IAEbl9E,MAAQk9E,GAA4B,IAAIl/D,OAAOk/D,IAExDF,KAGRC,GAGX1kB,yBAA4B,WAC5B,SAAS0b,EAAQ59D,EAAK0mD,GAClB,IAAIqgB,EAAa,IAAI3yD,OAWrB,GAVA2yD,EAAWnyD,QAKQhoB,KAAKo2C,MAAM2W,eAAeC,MAIhCrmB,cAAcwzC,GACxBn6E,KAAKo2C,MAAMsQ,WAAa1mD,KAAKo2C,MAAMsQ,UAAUpoD,OAAO,CACnD,IAAIxC,EAAG0X,EAAMxT,KAAKo2C,MAAMsQ,UAAUpoD,OAClC,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbkE,KAAKo2C,MAAMsQ,UAAU5qD,GAAGixD,eAAeC,MAAMrmB,cAAcwzC,GAE/D,OAAOA,EAAWxtD,kBAAkBvZ,EAAI,GAAGA,EAAI,GAAGA,EAAI,IAAI,GAE9D,OAAO+mE,EAAWxtD,kBAAkBvZ,EAAI,GAAGA,EAAI,GAAGA,EAAI,IAAI,GAE9D,SAAS69D,EAAU79D,EAAK0mD,GACpB,IAAIqgB,EAAa,IAAI3yD,OAWrB,GAVA2yD,EAAWnyD,QAKQhoB,KAAKo2C,MAAM2W,eAAeC,MAIhCrmB,cAAcwzC,GACxBn6E,KAAKo2C,MAAMsQ,WAAa1mD,KAAKo2C,MAAMsQ,UAAUpoD,OAAO,CACnD,IAAIxC,EAAG0X,EAAMxT,KAAKo2C,MAAMsQ,UAAUpoD,OAClC,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbkE,KAAKo2C,MAAMsQ,UAAU5qD,GAAGixD,eAAeC,MAAMrmB,cAAcwzC,GAE/D,OAAOA,EAAW1tD,aAAarZ,GAEnC,OAAO+mE,EAAW1tD,aAAarZ,GAEnC,SAAS89D,EAAS99D,GACd,IAAI+mE,EAAa,IAAI3yD,OAGrB,GAFA2yD,EAAWnyD,QACXhoB,KAAKo2C,MAAM2W,eAAeC,MAAMrmB,cAAcwzC,GAC3Cn6E,KAAKo2C,MAAMsQ,WAAa1mD,KAAKo2C,MAAMsQ,UAAUpoD,OAAO,CACnD,IAAIxC,EAAG0X,EAAMxT,KAAKo2C,MAAMsQ,UAAUpoD,OAClC,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACbkE,KAAKo2C,MAAMsQ,UAAU5qD,GAAGixD,eAAeC,MAAMrmB,cAAcwzC,GAE/D,OAAOA,EAAW1tD,aAAarZ,GAEnC,OAAO+mE,EAAW1tD,aAAarZ,GAGnC,SAASgnE,IACL,MAAO,CAAC,EAAE,EAAE,EAAE,GAIlB,OAAO,SAASz1C,GAEZ,IAAIq0C,EASJ,SAASgB,EAAmB39E,GACxB,OAAOA,GACH,IAAK,0BACL,IAAK,WACL,KAAK,EACD,OAAO29E,EAAmBlkB,eAC9B,KAAK,EACL,KAAK,EACL,IAAK,YACL,IAAK,YACL,IAAK,uBACD,OAAOkjB,EACX,KAAK,EACL,IAAK,qBACL,IAAK,UACL,IAAK,UACD,OAAOgB,EAAmB5J,QAGtC4J,EAAmBhJ,QAAUA,EAC7BgJ,EAAmB/I,UAAYA,EAC/B+I,EAAmB7I,OAASH,EAC5BgJ,EAAmB9I,SAAWA,EAC9B8I,EAAmBI,YAAcA,EACjCJ,EAAmBrrB,iBAAmBhqB,EAAKgqB,iBAAiBrxD,KAAKqnC,GACjEq1C,EAAmB5jC,MAAQzR,EAE3B,IAAI01C,EAAwB1nD,cAD5BqmD,EAAqBsB,6BAA6B31C,EAAKooB,eAAeC,OACR,eAyC9D,OAxCAxwD,OAAOiC,iBAAiBu7E,EAAmB,CACvC5F,UAAW,CACPz3E,IAAK,WACD,OAAOgoC,EAAK+hB,UAAUpoD,SAG9BoC,OAAQ,CACJ/D,IAAK,WACD,OAAOgoC,EAAK+hB,UAAU,GAAG2O,iBAGjCgc,SAAU1+C,cAAcqmD,EAAoB,YAC5CjwD,MAAO4J,cAAcqmD,EAAoB,SACzCx2D,SAAUmQ,cAAcqmD,EAAoB,YAC5C9c,QAASvpC,cAAcqmD,EAAoB,WAC3C1H,YAAa+I,EACbE,aAAcF,EACd/wD,UAAW,CACP3sB,IAAK,WACD,OAAOq8E,IAGfhH,OAAQ,CACJr1E,IAAK,WACD,OAAOgoC,EAAKspB,cAKxB+rB,EAAmBQ,UAAY71C,EAAKhK,KAAK8K,GACzCu0C,EAAmB50E,MAAQu/B,EAAKhK,KAAK0G,IACrC24C,EAAmBz7E,OAASomC,EAAKhK,KAAKrB,MACtC0gD,EAAmB1xE,OAA0B,IAAjBq8B,EAAKhK,KAAKvR,GAAWub,EAAKhK,KAAKtW,EAAI,IAC/D21D,EAAmBn0E,MAAyB,IAAjB8+B,EAAKhK,KAAKvR,GAAWub,EAAKhK,KAAKtb,EAAI,IAC9D26D,EAAmBvJ,QAAU9rC,EAAKhK,KAAK0qB,GAAG1gB,EAAKT,KAAKU,WAAWsC,UAC/D8yC,EAAmBtJ,SAAW/rC,EAAKhK,KAAKyX,GAAGzN,EAAKT,KAAKU,WAAWsC,UAChE8yC,EAAmBrB,MAAQh0C,EAAKhK,KAAKxK,GAErC6pD,EAAmBzkB,sBAzEnB,SAAgCvc,GAC5BghC,EAAmBpgC,KAAO,IAAI6gC,qBAAqBzhC,EAAarU,IAyEpEq1C,EAAmBrkB,yBAvEnB,SAAmC+kB,GAC/BV,EAAmB5J,OAASsK,GAuEzBV,GA7IgB,GAiJ3BnkB,wBACO,SAAS3xB,GACZ,SAAS81C,EAAmB39E,GAExB,IADA,IAAIP,EAAI,EAAG0X,EAAM0wB,EAAK1L,OAAOl6B,OACrBxC,EAAI0X,GAAK,CACb,GAAI0wB,EAAK1L,OAAO18B,GAAGq0B,KAAO9zB,GAAQ6nC,EAAK1L,OAAO18B,GAAGulC,MAAQhlC,EACrD,OAAO6nC,EAAK8M,SAASl1C,GAAGu5D,eAE5Bv5D,GAAK,EAET,OAAO,KAYX,OATAU,OAAOC,eAAeu9E,EAAoB,QAAS,CAAEj9E,MAAOmnC,EAAKvJ,KAAKxK,KACtE6pD,EAAmBv0B,MAAQu0B,EAC3BA,EAAmBW,YAAc,EACjCX,EAAmB1xE,OAAS47B,EAAKvJ,KAAKtW,GAAK6f,EAAKU,WAAW6iB,SAASpjC,EACpE21D,EAAmBn0E,MAAQq+B,EAAKvJ,KAAKtb,GAAK6kB,EAAKU,WAAW6iB,SAASpoC,EACnE26D,EAAmBW,YAAc,EACjCX,EAAmBzJ,cAAgB,EAAIrsC,EAAKU,WAAWsC,UACvD8yC,EAAmBxJ,iBAAmB,EACtCwJ,EAAmBY,UAAY12C,EAAK1L,OAAOl6B,OACpC07E,GAGXM,6BACO,SAAShxD,GACZ,SAASuxD,EAAcx+E,GACnB,OAAOA,GACH,IAAK,QACL,IAAK,QACL,IAAK,aACL,KAAK,EACD,OAAOw+E,EAAc9xD,MACzB,IAAK,WACL,IAAK,WACL,IAAK,gBACL,IAAK,gBACL,KAAK,GACD,OAAO8xD,EAAcxJ,SACzB,IAAK,gBACD,OAAOwJ,EAAcC,UACzB,IAAK,gBACD,OAAOD,EAAcE,UACzB,IAAK,WACL,IAAK,WACL,IAAK,gBACL,KAAK,EACD,OAAOF,EAAcr4D,SACzB,IAAK,kBACD,OAAOq4D,EAAcG,UACzB,IAAK,kBACD,OAAOH,EAAcI,UACzB,IAAK,kBACD,OAAOJ,EAAcK,UACzB,IAAK,cACL,IAAK,cACL,IAAK,eACL,IAAK,mBACL,KAAK,EACD,OAAOL,EAAcvJ,YACzB,IAAK,UACL,IAAK,UACL,KAAK,GACD,OAAOuJ,EAAc3e,SAuBjC,GAnBA1/D,OAAOC,eAAeo+E,EAAe,WAAY,CAC7Cl+E,IAAKw8E,4BAA4B7vD,EAAU1sB,GAAK0sB,EAAUgd,MAG9D9pC,OAAOC,eAAeo+E,EAAe,YAAa,CAC9Cl+E,IAAKw8E,4BAA4B7vD,EAAUgd,IAAMhd,EAAU1sB,KAG/DJ,OAAOC,eAAeo+E,EAAe,YAAa,CAC9Cl+E,IAAKw8E,4BAA4B7vD,EAAU8c,MAG/C5pC,OAAOC,eAAeo+E,EAAe,YAAa,CAC9Cl+E,IAAKw8E,4BAA4B7vD,EAAU+c,MAE/C7pC,OAAOC,eAAeo+E,EAAe,QAAS,CAC1Cl+E,IAAKw8E,4BAA4B7vD,EAAUzrB,KAG5CyrB,EAAU1rB,EACT,IAAIu9E,EAAoBhC,4BAA4B7vD,EAAU1rB,GA4ClE,OA1CApB,OAAOC,eAAeo+E,EAAe,WAAY,CAC7Cl+E,IAAK,WACD,OAAG2sB,EAAU1rB,EACFu9E,IAEA,CAAC7xD,EAAU9b,GAAG8W,EAAGgF,EAAU4c,GAAG5hB,EAAGgF,EAAU6c,GAAK7c,EAAU6c,GAAG7hB,EAAI,MAKpF9nB,OAAOC,eAAeo+E,EAAe,YAAa,CAC9Cl+E,IAAKw8E,4BAA4B7vD,EAAU9b,MAG/ChR,OAAOC,eAAeo+E,EAAe,YAAa,CAC9Cl+E,IAAKw8E,4BAA4B7vD,EAAU4c,MAG/C1pC,OAAOC,eAAeo+E,EAAe,YAAa,CAC9Cl+E,IAAKw8E,4BAA4B7vD,EAAU6c,MAG/C3pC,OAAOC,eAAeo+E,EAAe,cAAe,CAChDl+E,IAAKw8E,4BAA4B7vD,EAAU7e,KAG/CjO,OAAOC,eAAeo+E,EAAe,UAAW,CAC5Cl+E,IAAKw8E,4BAA4B7vD,EAAU/sB,KAG/CC,OAAOC,eAAeo+E,EAAe,OAAQ,CACzCl+E,IAAKw8E,4BAA4B7vD,EAAUkd,MAG/ChqC,OAAOC,eAAeo+E,EAAe,WAAY,CAC7Cl+E,IAAKw8E,4BAA4B7vD,EAAUmd,MAG/CjqC,OAAOC,eAAeo+E,EAAe,cAAe,CAChDl+E,IAAKw8E,4BAA4B7vD,EAAUid,MAGxCs0C,GAGXh5D,iBAAoB,WAEpB,SAASolC,EAAoB/iB,GACzBlkC,KAAKo7E,aAAahtE,KAAK81B,GAG3B,OAAO,WACH,SAASm3C,EAAqBh/E,GAE1B,IADA,IAAIP,EAAI,EAAG0X,EAAMxT,KAAKo7E,aAAa98E,OAC7BxC,EAAE0X,GAAI,CACR,GAAGxT,KAAKo7E,aAAat/E,GAAG6+B,MAAQ36B,KAAKo7E,aAAat/E,GAAG6+B,KAAKxK,KAAO9zB,EAI7D,OAHG2D,KAAKo7E,aAAat/E,GAAG0sD,cAAgBxoD,KAAKo7E,aAAat/E,GAAG6+B,KAAKosB,IAC9D/mD,KAAKo7E,aAAat/E,GAAG0sD,aAAaxoD,KAAKuoD,cAEpCvoD,KAAKo7E,aAAat/E,GAAG85D,cAEhC95D,GAAG,GAWX,OAPAu/E,EAAqBD,aAAe,GACpCC,EAAqB9yB,aAAe,EAEpC8yB,EAAqBp0B,oBAAsBA,EAIpCo0B,GA3BQ,GA8BnB5lB,2BAA8B,WA2B9B,SAAS6lB,EAAqB3gD,EAAKqW,EAAU8jC,EAAenwC,GACxD,IACI7oC,EADA03D,EAAiB,GACdhgD,EAAMmnB,EAAK2jC,GAAGhgE,OACrB,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACQ,IAAlB6+B,EAAK2jC,GAAGxiE,GAAGstB,GACVoqC,EAAeplD,KAAKktE,EAAqB3gD,EAAK2jC,GAAGxiE,GAAGk1C,EAASwiB,eAAe13D,GAAGk1C,EAASwiB,eAAe13D,GAAGg5E,cAAenwC,IAEzH6uB,EAAeplD,KAAKmtE,EAAqBvqC,EAASwiB,eAAe13D,GAAG6+B,EAAK2jC,GAAGxiE,GAAGstB,GAAIub,EAAMs0C,IAIjG,SAASA,EAAenrE,GACpB,OAAW,IAARA,EACO0tE,EAEA1G,EAAchnE,EAAI,GAIhC,IAAI0tE,EAAiB,SAASn/E,GAE1B,IADA,IAAIq+E,EAAU//C,EAAK2jC,GAAIxiE,EAAI,EAAG0X,EAAMknE,EAAQp8E,OACtCxC,EAAE0X,GAAK,CACT,GAAGnX,IAASq+E,EAAQ5+E,GAAGq0B,IAAM9zB,IAASq+E,EAAQ5+E,GAAG88E,IAAMv8E,IAASq+E,EAAQ5+E,GAAGq6E,GACvE,OAAqB,IAAlBuE,EAAQ5+E,GAAGstB,GACHoqC,EAAe13D,GAEf03D,EAAe13D,KAG9BA,GAAK,EAET,OAAO03D,EAAe,MAkB1B,OAfAgoB,EAAe1G,cAAgBmE,EAEhB,uBAAZt+C,EAAKi+C,IACJp8E,OAAOC,eAAe++E,EAAgB,QAAS,CAC3C7+E,IAAK,WACD,OAAO62D,EAAe,QAIlCh3D,OAAOC,eAAe++E,EAAgB,gBAAiB,CACnD7+E,IAAK,WACD,OAAOg+B,EAAK0+C,MAGpBmC,EAAexJ,OAASwJ,EAAeC,QAAsB,IAAZ9gD,EAAK+gD,GAC/CF,EAGX,SAASD,EAAqB1xE,EAASiB,EAAM65B,EAAMmwC,GAC/C,IAAI6G,EAAqBxC,4BAA4BtvE,EAAQjM,GAY7D,OAJGiM,EAAQjM,EAAEi3E,kBACThrE,EAAQjM,EAAEi3E,iBAAiBC,GAR/B,WACI,OAAY,KAAThqE,EACQ65B,EAAKT,KAAK0xB,cAAc/rD,EAAQjM,EAAE0mB,GAEtCq3D,KAUf,MA9FS,CACLjmB,uBAGJ,SAAgC/wB,EAAMmwC,GAClC,GAAGnwC,EAAK4xB,eAAe,CAEnB,IAEIz6D,EAFA03D,EAAiB,GACjBooB,EAAcj3C,EAAKhK,KAAK2jC,GACrB9qD,EAAMmxB,EAAK4xB,eAAe/C,eAAel1D,OAChD,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EACb03D,EAAeplD,KAAKktE,EAAqBM,EAAY9/E,GAAG6oC,EAAK4xB,eAAe/C,eAAe13D,GAAGg5E,EAAcnwC,IAGhH,OAAO,SAAStoC,GAEZ,IADA,IAAIq+E,EAAU/1C,EAAKhK,KAAK2jC,IAAM,GAAIxiE,EAAI,EAAG0X,EAAMknE,EAAQp8E,OACjDxC,EAAE0X,GAAK,CACT,GAAGnX,IAASq+E,EAAQ5+E,GAAGq0B,IAAM9zB,IAASq+E,EAAQ5+E,GAAG88E,IAAMv8E,IAASq+E,EAAQ5+E,GAAGq6E,GACvE,OAAO3iB,EAAe13D,GAE1BA,GAAK,OArBQ,GAkG7B2+E,qBAAwB,WAE3B,SAASoB,EAAcjiC,EAAMjf,GAC5B36B,KAAK87E,MAAQliC,EACb55C,KAAK+7E,MAAQphD,EAEdn+B,OAAOC,eAAeo/E,EAAcn+E,UAAW,WAAY,CACpDf,IAAK,WAID,OAHGqD,KAAK87E,MAAM/2E,KAAKuU,GACftZ,KAAK87E,MAAM/2E,KAAKqhB,WAEbpmB,KAAK87E,MAAM/2E,QAG7BvI,OAAOC,eAAeo/E,EAAcn+E,UAAW,cAAe,CACvDf,IAAK,WAID,OAHGqD,KAAK87E,MAAM1pC,GAAG94B,GACbtZ,KAAK87E,MAAM1pC,GAAGhsB,WAEO,IAAlBpmB,KAAK87E,MAAM1pC,GAAG9tB,KAwBhC,OApBkB,SAAS00B,EAAarU,GACvC,IAGI7oC,EADAkgF,EAAmBh6D,iBAAiBg3B,EAAYqJ,SAAS/jD,QACtDkV,EAAMwlC,EAAYqJ,SAAS/jD,OAClC,IAAIxC,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EACxBkgF,EAAiBlgF,GAAK,IAAI+/E,EAAc7iC,EAAYqJ,SAASvmD,GAAIk9C,EAAY7f,gBAAgBr9B,IAY9F,OATmB,SAASO,GAExB,IADHP,EAAI,EACKA,EAAE0X,GAAI,CACR,GAAGwlC,EAAY7f,gBAAgBr9B,GAAGq0B,KAAO9zB,EACrC,OAAO2/E,EAAiBlgF,GAE5BA,GAAK,KAtCY,GA8CvBq9E,4BAA+B,WAE/B,IAAI8C,EAA6B,CAACx7C,GAAG,EAAGnc,EAAE,EAAGmgB,KAAM,GAC/Cy3C,EAA+B,CAACz7C,GAAG,CAAC,EAAE,EAAE,GAAInc,EAAE,CAAC,EAAE,EAAE,GAAImgB,KAAM,GAEjE,SAAS03C,EAAiBC,EAAiB3+E,EAAUqN,GACjDtO,OAAOC,eAAe2/E,EAAiB,WAAY,CAC/Cz/E,IAAK,WACD,OAAOc,EAASg1E,kBAAkBh1E,EAASymC,KAAKqkB,iBAGxD6zB,EAAgBrK,QAAUt0E,EAASsjC,UAAYtjC,EAASsjC,UAAUziC,OAAS,EAC3E89E,EAAgB/+E,IAAM,SAASie,GAC3B,GAAK8gE,EAAgBrK,QAEd,CACH,IAAIh1E,EAAQ,GAERA,EADA,MAAOU,EAASsjC,UAAUzlB,EAAI,GACtB7d,EAASsjC,UAAUzlB,EAAI,GAAGzd,EAC3B,MAAOJ,EAASsjC,UAAUzlB,EAAI,GAC7B7d,EAASsjC,UAAUzlB,EAAI,GAAGtV,EAE1BvI,EAASsjC,UAAUzlB,EAAI,GAAGzd,EAEtC,IAAIw+E,EAAqB,mBAATvxE,EAA4B,IAAImiE,OAAOlwE,GAASP,OAAO2B,OAAO,GAAIpB,GAElF,OADAs/E,EAAUviB,KAAOr8D,EAASsjC,UAAUzlB,EAAI,GAAGte,EAAIS,EAASknC,KAAKT,KAAKU,WAAWsC,UACtEm1C,EAZP,OAAO,GAefD,EAAgB9L,YAAc7yE,EAAS0pC,eACvCi1C,EAAgBE,YAAc7+E,EAASi3E,eACvC0H,EAAgB3K,eAAiBh0E,EAASg1E,kBAC1C2J,EAAgBtH,cAAgBr3E,EAASq3E,cAkD7C,SAASyH,IACL,OAAON,EAGX,OAAO,SAASx+E,GACZ,OAAIA,EAE6B,mBAAtBA,EAAS+iC,SAtDxB,SAAyC/iC,GACjCA,GAAc,OAAQA,IACtBA,EAAWw+E,GAEf,IAAIx3C,EAAO,EAAIhnC,EAASgnC,KACpB32B,EAAMrQ,EAASgjC,GAAKgE,EACpB23C,EAAkB,IAAInP,OAAOn/D,GAIjC,OAHAsuE,EAAgBr/E,MAAQ+Q,EACxBquE,EAAiBC,EAAiB3+E,EAAU,kBAErC,WAUH,OATIA,EAAS6b,GACT7b,EAAS2oB,WAEbtY,EAAMrQ,EAAS6mB,EAAImgB,EAChB23C,EAAgBr/E,QAAU+Q,KACzBsuE,EAAkB,IAAInP,OAAOn/D,IACb/Q,MAAQ+Q,EACxBquE,EAAiBC,EAAiB3+E,EAAU,mBAEzC2+E,GAmCAI,CAAgC/+E,GA/B/C,SAA2CA,GACnCA,GAAc,OAAQA,IACtBA,EAAWy+E,GAEf,IAAIz3C,EAAO,EAAIhnC,EAASgnC,KACpBjxB,EAAM/V,EAASgjC,GAAGniC,OAClB89E,EAAkB72D,iBAAiB,UAAW/R,GAC9CipE,EAAWl3D,iBAAiB,UAAW/R,GAI3C,OAHA4oE,EAAgBr/E,MAAQ0/E,EACxBN,EAAiBC,EAAiB3+E,EAAU,oBAErC,WACCA,EAAS6b,GACT7b,EAAS2oB,WAEb,IAAK,IAAItqB,EAAI,EAAGA,EAAI0X,EAAK1X,GAAK,EAC1BsgF,EAAgBtgF,GAAK2gF,EAAS3gF,GAAK2B,EAAS6mB,EAAExoB,GAAK2oC,EAEvD,OAAO23C,GAeAM,CAAkCj/E,GAJlC8+E,GAxFe,GAmG1BI,2BAgCHC,oBASL,SAASC,aAAaliD,EAAKgK,EAAMxuB,GAC7BnW,KAAKpC,EAAIoiC,gBAAgB4F,QAAQjB,EAAKhK,EAAKrW,EAAE,EAAE,EAAEnO,GAErD,SAAS2mE,YAAYniD,EAAKgK,EAAMxuB,GAC5BnW,KAAKpC,EAAIoiC,gBAAgB4F,QAAQjB,EAAKhK,EAAKrW,EAAE,EAAE,EAAEnO,GAErD,SAAS4mE,YAAYpiD,EAAKgK,EAAMxuB,GAC5BnW,KAAKpC,EAAIoiC,gBAAgB4F,QAAQjB,EAAKhK,EAAKrW,EAAE,EAAE,EAAEnO,GAErD,SAAS6mE,YAAYriD,EAAKgK,EAAMxuB,GAC5BnW,KAAKpC,EAAIoiC,gBAAgB4F,QAAQjB,EAAKhK,EAAKrW,EAAE,EAAE,EAAEnO,GAErD,SAAS8mE,iBAAiBtiD,EAAKgK,EAAMxuB,GACjCnW,KAAKpC,EAAIoiC,gBAAgB4F,QAAQjB,EAAKhK,EAAKrW,EAAE,EAAE,EAAEnO,GAErD,SAAS+mE,gBAAgBviD,EAAKgK,EAAMxuB,GAChCnW,KAAKpC,EAAIoiC,gBAAgB4F,QAAQjB,EAAKhK,EAAKrW,EAAE,EAAE,EAAEnO,GAErD,SAASgnE,eAAexiD,EAAKgK,EAAMxuB,GAC/BnW,KAAKpC,EAAIoiC,gBAAgB4F,QAAQjB,EAAKhK,EAAKrW,EAAE,EAAE,EAAEnO,GAErD,SAASinE,gBACLp9E,KAAKpC,EAAI,GAEb,SAAS44D,kBACT,SAASA,eAAe77B,EAAK9wB,GACzB,IAAI6wE,EAAU//C,EAAK2jC,IAAM,GACzBt+D,KAAKwzD,eAAiB,GACtB,IAAI13D,EACAuhF,EADE7pE,EAAMknE,EAAQp8E,OAEpB,IAAIxC,EAAE,EAAEA,EAAE0X,EAAI1X,IACVuhF,EAAa,IAAIC,YAAY5C,EAAQ5+E,GAAG+N,GACxC7J,KAAKwzD,eAAeplD,KAAKivE,GAIjC,SAASC,YAAY3iD,EAAK9wB,GACtB7J,KAAK0oC,KAAK/N,EAAK9wB,GA9EX8yE,2BAA8B,WAE9B,SAASY,EAAcn4E,EAAMo4E,GAIzB,OAHAx9E,KAAK2yE,UAAYvtE,EAAM,EACvBpF,KAAK4yE,UAAY4K,EACjBx9E,KAAKskB,EAAItkB,KAAKomB,WAAapmB,KAAKykC,KACzBzkC,KAAKskB,EAGhB,OAAO,SAAoCqgB,EAAKhK,GAC5C36B,KAAKygC,GAAK,EACVzgC,KAAKkkC,KAAOS,EAAKT,KACjBlkC,KAAK2kC,KAAOA,EACZ3kC,KAAKykC,KAAO,IACZzkC,KAAKwgC,SAAW,eAChBxgC,KAAK4yE,UAAYj4C,EAAKihB,WACtB57C,KAAK6yE,cAAgB,IACrB7yE,KAAKw1E,UAAY,CAAC,EAAE,EAAE,GACtBx1E,KAAKsZ,GAAI,EACTtZ,KAAKgsB,GAAI,EACThsB,KAAKomB,SAAWymD,kBAAkBkD,mBAAmBzyE,KAAK0C,KAA1C6sE,CAAgDloC,EAAKhK,EAAK36B,MAC1EA,KAAK07C,QAAU6hC,EACfv9E,KAAKyyE,kBAAoB+B,kBAAkB/B,kBACxCzyE,KAAKklC,GACJllC,KAAKmnC,eAAiBqtC,kBAAkBrtC,eAAe7pC,KAAK0C,MAE5DA,KAAKmnC,eAAiBqtC,kBAAkBI,qBAAqBt3E,KAAK0C,MAEtEA,KAAK60E,iBAAmBL,kBAAkBK,kBA5BjB,GAgChC+H,oBAAsBxlC,iBAAiBC,oBAC3CD,iBAAiBC,oBAAsB,SAAS1S,EAAMhK,EAAKvnB,GACvD,OAAc,IAAXunB,EAAK39B,EACG,IAAI2/E,2BAA2Bh4C,EAAMhK,EAAKvnB,GAE1CwpE,oBAAoBj4C,EAAKhK,EAAKvnB,IA4C9Cmf,gBAAgB,CAACzM,0BAA2Bw3D,aAE5CA,YAAY5/E,UAAU0oB,SAAWk3D,YAAY5/E,UAAUwoB,yBAEvDo3D,YAAY5/E,UAAUgrC,KAAO,SAAS/N,EAAK9wB,GACvC7J,KAAK26B,KAAOA,EACZ36B,KAAKwzD,eAAiB,GACtBxzD,KAAKqmB,6BAA6Bxc,GAClC,IAAI/N,EACA2hF,EADGjqE,EAAMxT,KAAK26B,KAAK2jC,GAAGhgE,OACjBo8E,EAAU16E,KAAK26B,KAAK2jC,GAC7B,IAAIxiE,EAAE,EAAEA,EAAE0X,EAAI1X,GAAG,EAAE,CAEf,OADA2hF,EAAM,KACC/C,EAAQ5+E,GAAGstB,IACd,KAAK,EACDq0D,EAAM,IAAIZ,aAAanC,EAAQ5+E,GAAG+N,EAAQ7J,MAC1C,MACJ,KAAK,EACDy9E,EAAM,IAAIX,YAAYpC,EAAQ5+E,GAAG+N,EAAQ7J,MACzC,MACJ,KAAK,EACDy9E,EAAM,IAAIV,YAAYrC,EAAQ5+E,GAAG+N,EAAQ7J,MACzC,MACJ,KAAK,EACDy9E,EAAM,IAAIT,YAAYtC,EAAQ5+E,GAAG+N,EAAQ7J,MACzC,MACJ,KAAK,EACL,KAAK,EACDy9E,EAAM,IAAIN,eAAezC,EAAQ5+E,GAAG+N,EAAQ7J,MAC5C,MACJ,KAAK,GACDy9E,EAAM,IAAIR,iBAAiBvC,EAAQ5+E,GAAG+N,EAAQ7J,MAC9C,MACJ,KAAK,GACDy9E,EAAM,IAAIP,gBAAgBxC,EAAQ5+E,GAAG+N,EAAQ7J,MAC7C,MACJ,KAAK,EACDy9E,EAAM,IAAIjnB,eAAekkB,EAAQ5+E,GAAG+N,EAAQ7J,MAC5C,MAEJ,QACIy9E,EAAM,IAAIL,cAAc1C,EAAQ5+E,GAAG+N,EAAQ7J,MAGhDy9E,GACCz9E,KAAKwzD,eAAeplD,KAAKqvE,KAKrC,IAAIC,OAAS,GAET1W,WAAY,EAEhB,SAAS2W,gBAAiB5+C,GACtBxe,aAAewe,EAGnB,SAASqpC,oBACc,IAAfC,WACAzB,iBAAiBwB,iBAAiBpyD,cAAeqyD,WAAYjyD,UAE7DwwD,iBAAiBwB,mBAIzB,SAASwV,qBAAqBt7D,GAC1B7B,gBAAkB6B,EAGtB,SAASjM,cAAc4xD,GAInB,OAHmB,IAAfI,aACAJ,EAAOjyD,cAAgB4G,KAAK+c,MAAM3jB,gBAE/B4wD,iBAAiBvwD,cAAc4xD,GAG1C,SAAS4V,WAAW9gF,GAChB,GAAqB,iBAAVA,EACP,OAAQA,GACJ,IAAK,OACDklB,qBAAuB,IACvB,MACJ,IAAK,SACDA,qBAAuB,GACvB,MACJ,IAAK,MACDA,qBAAuB,QAGvB/T,MAAMnR,IAAUA,EAAQ,IAChCklB,qBAAuBllB,GAGvBslB,cADAJ,sBAAwB,KAOhC,SAAS67D,YACL,MAA4B,oBAAdl9D,UAGlB,SAASm9D,cAAcjzE,EAAMkzE,GACZ,gBAATlzE,IACA4V,kBAAoBs9D,GAI5B,SAASC,WAAW5hF,GAChB,OAAQA,GACJ,IAAK,kBACD,OAAO2jC,gBACX,IAAK,uBACD,OAAO4I,qBACX,IAAK,SACD,OAAOphB,QA4BnB,SAAS02D,aACuB,aAAxBz8E,SAASk0C,aACTwoC,cAAcC,yBACdhW,oBAIR,SAASiW,iBAAiBC,GAEtB,IADA,IAAIC,EAAOC,YAAYlwE,MAAM,KACpBxS,EAAI,EAAGA,EAAIyiF,EAAKjgF,OAAQxC,IAAK,CAClC,IAAI2iF,EAAOF,EAAKziF,GAAGwS,MAAM,KACzB,GAAIowE,mBAAmBD,EAAK,KAAOH,EAC/B,OAAOI,mBAAmBD,EAAK,KApC3Cf,OAAOhoE,KAAOkxD,iBAAiBlxD,KAC/BgoE,OAAO/nE,MAAQixD,iBAAiBjxD,MAChC+nE,OAAOC,gBAAkBA,gBACzBD,OAAOvV,YAAcvB,iBAAiBuB,YACtCuV,OAAO7mE,SAAW+vD,iBAAiB/vD,SACnC6mE,OAAO5mE,aAAe8vD,iBAAiB9vD,aACvC4mE,OAAO/mE,KAAOiwD,iBAAiBjwD,KAC/B+mE,OAAOtV,iBAAmBA,iBAC1BsV,OAAOpW,kBAAoBV,iBAAiBU,kBAC5CoW,OAAOrnE,cAAgBA,cACvBqnE,OAAOE,qBAAuBA,qBAC9BF,OAAOjV,OAAS7B,iBAAiB6B,OAEjCiV,OAAOhV,YAAc9B,iBAAiB8B,YACtCgV,OAAOjnE,QAAUmwD,iBAAiBnwD,QAClCinE,OAAOG,WAAaA,WACpBH,OAAOI,UAAYA,UACnBJ,OAAOK,cAAgBA,cACvBL,OAAO9U,OAAShC,iBAAiBgC,OACjC8U,OAAO7U,SAAWjC,iBAAiBiC,SACnC6U,OAAO5U,wBAA0BlC,iBAAiBkC,wBAClD4U,OAAOiB,aAAeV,WACtBP,OAAO1/E,QAAU,SAkBjB,IAAIqqE,WAAa,mBACbryD,cAAgB,sBAChBI,SAAW,GACf,GAAIiyD,WAAY,CACZ,IAAIuW,QAAUn9E,SAAS8mE,qBAAqB,UACxCnjE,MAAQw5E,QAAQtgF,OAAS,EACzBugF,SAAWD,QAAQx5E,QAAU,CAC7B4J,IAAK,IAELwvE,YAAcK,SAAS7vE,IAAIzJ,QAAQ,aAAc,IACrD6Q,SAAWioE,iBAAiB,YAEhC,IAAID,wBAA0BU,YAAYZ,WAAY,KAEtD,OAAOR,W,6BCjxcPlhF,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAKT,IAFgCmC,EAE5B6/E,EAAe,EAAQ,GAEvBC,GAJ4B9/E,EAIW6/E,IAJU7/E,EAAIhC,WAAagC,EAAM,CAAE,QAAWA,GAQzFtD,EAAiB,SAAI,EAAIojF,EAAuB,SAFnC,IAGbnjF,EAAOD,QAAUA,EAAiB,S,cCfpBC,EAAOD,QAAUkC,OAAiB,U,6BCEhDtB,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAyDTnB,EAAiB,QAvDJ,CACXqjF,QAAS,SAAiBn+E,GACxB,MAAO,CACL0hB,SAAU,QACV08D,OAAQ,IACRr5E,MAAO,OACPyC,OAAQ,OACR62E,WAAY,qBACZjjB,QAASp7D,EAAS,EAAI,EACtBs+E,aAAct+E,EAAS,GAAK,0BAC5Bu+E,YAAav+E,EAAS,GAAK,0BAC3Bw+E,WAAYx+E,EAAS,GAAK,0BAC1By+E,gBAAiBz+E,EAAS,GAAK,0BAC/BwoB,UAAWxoB,EAAS,GAAK,0BACzB8E,WAAY9E,EAAS,eAAiB,oCAI1C0+E,SAAU,SAAkB1+E,EAAQ+E,EAAOE,GACzC,MAAO,CACLyc,SAAU,QACVzc,MAAOA,EAAQ,EAAI,UACnBm5E,OAAQ,KACRr5E,MAAOA,EACPyC,OAAQ,OACR82E,aAAct+E,EAAS,GAAKiF,EAAQ,0BAA4B,2BAChEs5E,YAAav+E,EAAS,GAAKiF,EAAQ,0BAA4B,2BAC/Du5E,WAAYx+E,EAAS,GAAKiF,EAAQ,0BAA4B,2BAC9Dw5E,gBAAiBz+E,EAAS,GAAKiF,EAAQ,0BAA4B,2BACnEujB,UAAWxoB,EAAS,GAAKiF,EAAQ,0BAA4B,2BAC7DH,WAAY,aAIhB65E,KAAM,WACJ,MAAO,CACLn3E,OAAQ,OACRo3E,UAAW,aACX5nE,SAAU,SAId6nE,SAAU,WACR,MAAO,CACLr3E,OAAQ,SAIZS,KAAM,WACJ,MAAO,CACL+F,QAAS,WAMfjT,EAAOD,QAAUA,EAAiB,S,6BC3DlCY,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAGT,IAAImB,EAAW1B,OAAO2B,QAAU,SAAUC,GAAU,IAAK,IAAItC,EAAI,EAAGA,EAAIuC,UAAUC,OAAQxC,IAAK,CAAE,IAAIyC,EAASF,UAAUvC,GAAI,IAAK,IAAIuB,KAAOkB,EAAc/B,OAAOkB,UAAUC,eAAe1B,KAAKsC,EAAQlB,KAAQe,EAAOf,GAAOkB,EAAOlB,IAAY,OAAOe,GAEnPI,EAAe,WAAe,SAASC,EAAiBL,EAAQM,GAAS,IAAK,IAAI5C,EAAI,EAAGA,EAAI4C,EAAMJ,OAAQxC,IAAK,CAAE,IAAI6C,EAAaD,EAAM5C,GAAI6C,EAAWjC,WAAaiC,EAAWjC,aAAc,EAAOiC,EAAWC,cAAe,EAAU,UAAWD,IAAYA,EAAWE,UAAW,GAAMrC,OAAOC,eAAe2B,EAAQO,EAAWtB,IAAKsB,IAAiB,OAAO,SAAUG,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYpB,UAAWqB,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA9gB,GAInB,SAASG,EAAuBC,GAAO,OAAOA,GAAOA,EAAIhC,WAAagC,EAAM,CAAE,QAAWA,GAMzF,IAAIC,EAAS,EAAQ,GAEjBC,EAAUH,EAAuBE,GAIjCG,EAAcL,EAFD,EAAQ,IAIrB2gF,EAAa,SAAWhgF,GAG1B,SAASggF,EAAWlhF,IAftB,SAAyBmB,EAAUf,GAAe,KAAMe,aAAoBf,GAAgB,MAAM,IAAIgB,UAAU,qCAgB5GC,CAAgBC,KAAM4/E,GApBf,SAAaC,EAAIC,EAAK7/E,GAAqC,IAA9B,IAAIG,GAAS,EAAwBA,GAAQ,CAAE,IAAI5C,EAASqiF,EAAIpiF,EAAWqiF,EAAKz/E,EAAWJ,EAAKG,GAAS,EAAsB,OAAX5C,IAAiBA,EAAS8C,SAAS5C,WAAW,IAAI6C,EAAO/D,OAAOgE,yBAAyBhD,EAAQC,GAAW,QAAagD,IAATF,EAAJ,CAA4O,GAAI,UAAWA,EAAQ,OAAOA,EAAKxD,MAAgB,IAAIT,EAASiE,EAAK5D,IAAK,QAAe8D,IAAXnE,EAAwB,OAAoB,OAAOA,EAAOL,KAAKoE,GAA/V,IAAIK,EAASlE,OAAOmE,eAAenD,GAAS,GAAe,OAAXkD,EAAmB,OAA2Bm/E,EAAKn/E,EAAQo/E,EAAMriF,EAAUwC,EAAMI,EAAUD,GAAS,EAAMG,EAAOG,OAASD,GAsBxcG,CAAKpE,OAAOmE,eAAei/E,EAAWliF,WAAY,cAAesC,MAAM/D,KAAK+D,KAAMtB,GAClFsB,KAAKa,MAAQ,CACXk/E,OAAO,GAyFX,OA3GF,SAAmB/+E,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAInB,UAAU,kEAAoEmB,GAAeD,EAAStD,UAAYlB,OAAOY,OAAO6D,GAAcA,EAAWvD,UAAW,CAAEwD,YAAa,CAAEnE,MAAOiE,EAAUtE,YAAY,EAAOmC,UAAU,EAAMD,cAAc,KAAeqC,IAAYzE,OAAO2E,eAAiB3E,OAAO2E,eAAeH,EAAUC,GAAcD,EAASI,UAAYH,GAW/dI,CAAUu+E,EAAYhgF,GAWtBpB,EAAaohF,EAAY,CAAC,CACxBviF,IAAK,eACLN,MAAO,SAAsBqI,GAC3B,OAAOlH,EAAS,CACdskB,SAAU,WACVla,OAAQ,MACRoa,KAAM,EACN3c,MAAO,EACP0c,IAAmB,EAARrd,EAAN,GAAmB,IACxB82D,QAASl8D,KAAKa,MAAMk/E,MAAQ,GAAM,GACjC//E,KAAKa,MAAMk/E,OAAS//E,KAAKtB,MAAMgB,OAAOsgF,qBAE1C,CACD3iF,IAAK,SACLN,MAAO,WACL,IAAI4F,EAAQ3C,KAERigF,OAAOx/E,EAgBX,GAAIT,KAAKtB,MAAMsJ,WAAY,CACzB,IAAIgB,EAAa,CACf5G,WAAY,YAAcpC,KAAKtB,MAAMsJ,WAAWtJ,MAAM0D,WAAa,KAAKsF,OACxE1C,MAAO9G,EAAS,CAAE2H,MAAO,OAAQyC,OAAQ,QAAUtI,KAAKtB,MAAMgB,OAAOwgF,SAEvED,EAAO7gF,EAAiB,QAAEiK,aAAarJ,KAAKtB,MAAMsJ,WAAYgB,QAE9Di3E,EAAO7gF,EAAiB,QAAEmI,cACxB,OACA,KACA,CAAC,EAAG,EAAG,GAAGsB,KAAI,SAAUs3E,GACtB,OAAO/gF,EAAiB,QAAEmI,cAAc,OAAQ,CAC9ClK,IAAK8iF,EACL/9E,WAAY,kBAAoBO,EAAMjE,MAAMwJ,aAAe,KAAOvF,EAAM9B,MAAMk/E,MAAQ,uBAAyB,KAAKr4E,OACpH1C,MAAO9G,EAAS,GAAIyE,EAAMy9E,aAAaD,GAAMx9E,EAAMjE,MAAMgB,OAAO2gF,oBAMxE,OAAOjhF,EAAiB,QAAEmI,cACxB,MACA,CACEnF,WAAY,oBAAsBpC,KAAKtB,MAAM0D,WAAWsF,OACxD1C,MAAO9G,EAAS,CAAEghF,OAAQ,KAAQl/E,KAAKtB,MAAMgB,OAAO4gF,iBAEtDlhF,EAAiB,QAAEmI,cACjB,SACA,CACE7C,GAAI,wBACJiD,QAAS3H,KAAKtB,MAAMiJ,QACpB44E,YAAa,WACX59E,EAAMM,SAAS,CAAE88E,OAAO,IACpBp9E,EAAMjE,MAAMuL,mBACdtH,EAAMjE,MAAMuL,kBAAkB,CAAEu2E,WAAW,KAG/CC,WAAY,WACV99E,EAAMM,SAAS,CAAE88E,OAAO,IACpBp9E,EAAMjE,MAAMuL,mBACdtH,EAAMjE,MAAMuL,kBAAkB,CAAEu2E,WAAW,KAG/Cx7E,MA1DY,CAChBwd,SAAU,WACVE,KAAM,EACND,IAAK,EACLy8D,OAAQ,EACRr5E,MAAO,OACPyC,OAAQ,OACRyP,OAAQ,EACR2oE,QAAS,EACTC,OAAQ,OACR3kD,SAAU,EACVmjD,WAAY,cACZyB,OAAQ,YAgDN,aAEFX,OAKCL,EAjGQ,CAkGdzgF,EAAOsK,WAEV7N,EAAiB,QAAIgkF,EAErBA,EAAWl2E,UAAY,CACrBxB,aAAc5I,EAAqB,QAAEqK,OACrC3B,WAAY1I,EAAqB,QAAEuK,QACnCnK,OAAQJ,EAAqB,QAAE9B,QAGjCoiF,EAAWx1E,aAAe,CACxBlC,aAAc,GACd9F,UAAW,GACX1C,OAAQ,IAEV7D,EAAOD,QAAUA,EAAiB,S,6BCzIlCY,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAGT,IAAImB,EAAW1B,OAAO2B,QAAU,SAAUC,GAAU,IAAK,IAAItC,EAAI,EAAGA,EAAIuC,UAAUC,OAAQxC,IAAK,CAAE,IAAIyC,EAASF,UAAUvC,GAAI,IAAK,IAAIuB,KAAOkB,EAAc/B,OAAOkB,UAAUC,eAAe1B,KAAKsC,EAAQlB,KAAQe,EAAOf,GAAOkB,EAAOlB,IAAY,OAAOe,GAEnPI,EAAe,WAAe,SAASC,EAAiBL,EAAQM,GAAS,IAAK,IAAI5C,EAAI,EAAGA,EAAI4C,EAAMJ,OAAQxC,IAAK,CAAE,IAAI6C,EAAaD,EAAM5C,GAAI6C,EAAWjC,WAAaiC,EAAWjC,aAAc,EAAOiC,EAAWC,cAAe,EAAU,UAAWD,IAAYA,EAAWE,UAAW,GAAMrC,OAAOC,eAAe2B,EAAQO,EAAWtB,IAAKsB,IAAiB,OAAO,SAAUG,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYpB,UAAWqB,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA9gB,GAEf8B,EAAO,SAAai/E,EAAIC,EAAK7/E,GAAqC,IAA9B,IAAIG,GAAS,EAAwBA,GAAQ,CAAE,IAAI5C,EAASqiF,EAAIpiF,EAAWqiF,EAAKz/E,EAAWJ,EAAKG,GAAS,EAAsB,OAAX5C,IAAiBA,EAAS8C,SAAS5C,WAAW,IAAI6C,EAAO/D,OAAOgE,yBAAyBhD,EAAQC,GAAW,QAAagD,IAATF,EAAJ,CAA4O,GAAI,UAAWA,EAAQ,OAAOA,EAAKxD,MAAgB,IAAIT,EAASiE,EAAK5D,IAAK,QAAe8D,IAAXnE,EAAwB,OAAoB,OAAOA,EAAOL,KAAKoE,GAA/V,IAAIK,EAASlE,OAAOmE,eAAenD,GAAS,GAAe,OAAXkD,EAAmB,OAA2Bm/E,EAAKn/E,EAAQo/E,EAAMriF,EAAUwC,EAAMI,EAAUD,GAAS,EAAMG,EAAOG,OAASD,IAE5c,SAASxB,EAAuBC,GAAO,OAAOA,GAAOA,EAAIhC,WAAagC,EAAM,CAAE,QAAWA,GAEzF,SAASa,EAAgBF,EAAUf,GAAe,KAAMe,aAAoBf,GAAgB,MAAM,IAAIgB,UAAU,qCAIhH,IAAIX,EAAS,EAAQ,GAEjBC,EAAUH,EAAuBE,GAIjCG,EAAcL,EAFD,EAAQ,IAIrB4hF,EAAY,SAAWjhF,GAGzB,SAASihF,IACP9gF,EAAgBC,KAAM6gF,GAEtBjgF,EAAKpE,OAAOmE,eAAekgF,EAAUnjF,WAAY,cAAesC,MAAMgM,MAAMhM,KAAM3B,WAkFpF,OAlGF,SAAmB2C,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAInB,UAAU,kEAAoEmB,GAAeD,EAAStD,UAAYlB,OAAOY,OAAO6D,GAAcA,EAAWvD,UAAW,CAAEwD,YAAa,CAAEnE,MAAOiE,EAAUtE,YAAY,EAAOmC,UAAU,EAAMD,cAAc,KAAeqC,IAAYzE,OAAO2E,eAAiB3E,OAAO2E,eAAeH,EAAUC,GAAcD,EAASI,UAAYH,GAW/dI,CAAUw/E,EAAWjhF,GAQrBpB,EAAaqiF,EAAW,CAAC,CACvBxjF,IAAK,gBACLN,MAAO,SAAuB+N,GAC5B,MAAO,CACL0X,SAAU,WACV3c,MAAO,EACPyC,OAAQ,GACRghB,UAAoB,WAATxe,EAAoB,gBAAkB,oBAGpD,CACDzN,IAAK,SACLN,MAAO,WACL,IAEIkjF,EAFAt9E,EAAQ3C,KAyBZ,GAAIA,KAAKtB,MAAMsJ,WAAY,CACzB,IAAIgB,EAAa,CACf5G,WAAY,aAAepC,KAAKtB,MAAMsJ,WAAWtJ,MAAM0D,WAAa,KAAKsF,OACzE1C,MAAO9G,EAAS,CAAE2H,MAAO,OAAQyC,OAAQ,QAAUtI,KAAKtB,MAAMgB,OAAOohF,UAEvEb,EAAO7gF,EAAiB,QAAEiK,aAAarJ,KAAKtB,MAAMsJ,WAAYgB,QAE9Di3E,EAAO7gF,EAAiB,QAAEmI,cACxB,OACA,CAAEvC,MAAO,CAAEwd,SAAU,WAAYC,IAAK,MAAO1c,MAAO,SACpD,CAAC,SAAU,SAAS8C,KAAI,SAAUiC,EAAMhP,GACtC,OAAOsD,EAAiB,QAAEmI,cAAc,OAAQ,CAC9ClK,IAAKvB,EACLsG,WAAY,YAAcO,EAAMjE,MAAM8K,gBAAgB9B,OACtD1C,MAAO9G,EAAS,GAAIyE,EAAMo+E,cAAcj2E,GAAOnI,EAAMjE,MAAMgB,OAAOohF,eAM1E,OAAO1hF,EAAiB,QAAEmI,cACxB,MACA,CACEnF,WAAY,mBAAqBpC,KAAKtB,MAAM0D,WAAWsF,OACvD1C,MAAO9G,EAAS,GA9CK,CACvBskB,SAAU,WACV3c,MAAO,GACPyC,OAAQ,GACRvC,MAAO,EACP0c,IAAK,GAyCqCziB,KAAKtB,MAAMgB,OAAOshF,gBAE5D5hF,EAAiB,QAAEmI,cACjB,SACA,CACE7C,GAAI,yBACJiD,QAAS3H,KAAKtB,MAAMiJ,QACpB3C,MA9CY,CAChBwd,SAAU,WACVE,KAAM,EACND,IAAK,EACLy8D,OAAQ,EACRr5E,MAAO,OACPyC,OAAQ,OACRyP,OAAQ,EACR2oE,QAAS,EACTC,OAAQ,OACR3kD,SAAU,EACVmjD,WAAY,cACZyB,OAAQ,WAmCJx3E,UAAW,GAEb,cAEF62E,OAKCY,EAxFO,CAyFb1hF,EAAOsK,WAEV7N,EAAiB,QAAIilF,EAErBA,EAAUn3E,UAAY,CACpBF,eAAgBlK,EAAqB,QAAEqK,OACvC3B,WAAY1I,EAAqB,QAAEuK,QACnCnK,OAAQJ,EAAqB,QAAE9B,QAGjCqjF,EAAUz2E,aAAe,CACvBZ,eAAgB,GAChBpH,UAAW,GACX1C,OAAQ,IAEV7D,EAAOD,QAAUA,EAAiB,S,6BChIlCY,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAKT,IAFgCmC,EAE5B6/E,EAAe,EAAQ,GAEvBC,GAJ4B9/E,EAIW6/E,IAJU7/E,EAAIhC,WAAagC,EAAM,CAAE,QAAWA,GA8BzFtD,EAAiB,SAAI,EAAIojF,EAAuB,SAxBnC,CACXQ,SAAU,SAAkB1+E,EAAQ+E,EAAOE,GACzC,MAAO,CACLq5E,aAAct+E,EAAS,GAAKiF,EAAQ,eAAiBF,EAAQ,UAAY,gBAAkBA,EAAQ,UACnGw5E,YAAav+E,EAAS,GAAKiF,EAAQ,eAAiBF,EAAQ,UAAY,gBAAkBA,EAAQ,UAClGy5E,WAAYx+E,EAAS,GAAKiF,EAAQ,eAAiBF,EAAQ,UAAY,gBAAkBA,EAAQ,UACjG05E,gBAAiBz+E,EAAS,GAAKiF,EAAQ,eAAiBF,EAAQ,UAAY,gBAAkBA,EAAQ,UACtGyjB,UAAWxoB,EAAS,GAAKiF,EAAQ,eAAiBF,EAAQ,UAAY,gBAAkBA,EAAQ,UAChGD,WAAY9E,EAAS,8CAAgD,gDAIzEiI,KAAM,SAAcjI,EAAQ+E,EAAOE,EAAOk7E,GACxC,MAAO,CACL7B,aAAct+E,EAAS,GAAK,kBAA+B,IAAXmgF,EAAiB,SACjE5B,YAAav+E,EAAS,GAAK,kBAA+B,IAAXmgF,EAAiB,SAChE3B,WAAYx+E,EAAS,GAAK,kBAA+B,IAAXmgF,EAAiB,SAC/D1B,gBAAiBz+E,EAAS,GAAK,kBAA+B,IAAXmgF,EAAiB,SACpE33D,UAAWxoB,EAAS,GAAK,kBAA+B,IAAXmgF,EAAiB,SAC9Dr7E,WAAY9E,EAAS,8CAAgD,qDAM3EjF,EAAOD,QAAUA,EAAiB,S,6BC/BlC,SAASqD,EAAuBC,GAAO,OAAOA,GAAOA,EAAIhC,WAAagC,EAAM,CAAE,QAAWA,GAJzF1C,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAKT,IAEImkF,EAAoBjiF,EAFD,EAAQ,KAM3B+/E,EAAgB//E,EAFD,EAAQ,IAIvBkiF,EAAS,EAAQ,IAIjBzhF,EAAS,CACXqH,IAAK,CACHE,IAAKi6E,EAA2B,QAChC75E,YAAa,kFACb+5E,SAAU,kDACVj6E,QAAS,SAAiBN,GACxBA,EAAKM,QAAQ,CAAEN,KAAM7G,KAAKohF,UAAY,IAAKtjF,OAAOujF,KAAKC,aAI3D16E,WAAY,SAAoB9F,EAAQ+E,EAAOE,GAC7C,MAAO,CACLyc,SAAU,WACV3c,MAfkB,IAgBlByC,OAAQ,OACRvC,MAAOA,EAAQ,UAAY,EAC3B2c,KAAM3c,EAAQ,EAAI,UAClBq5E,aAAcr5E,EAAQ,kBAAoB,GAC1Cs5E,YAAat5E,EAAQ,kBAAoB,GACzCu5E,WAAYv5E,EAAQ,kBAAoB,GACxCw5E,gBAAiBx5E,EAAQ,kBAAoB,GAC7CujB,UAAWvjB,EAAQ,kBAAoB,KAI3Cy5E,SAAU,SAAkB1+E,EAAQ+E,EAAOE,GACzC,MAAO,CACLq5E,aAAct+E,EAAS,uBAAyBiF,EAAQ,0BAA4B,2BACpFs5E,YAAav+E,EAAS,uBAAyBiF,EAAQ,0BAA4B,2BACnFu5E,WAAYx+E,EAAS,uBAAyBiF,EAAQ,0BAA4B,2BAClFw5E,gBAAiBz+E,EAAS,uBAAyBiF,EAAQ,0BAA4B,2BACvFujB,UAAWxoB,EAAS,uBAAyBiF,EAAQ,0BAA4B,2BACjFH,WAAY,aAIhB65E,KAAM,SAAc3+E,EAAQ+E,EAAOE,GACjC,MAAO,CACLyc,SAAU,QACVzc,MAAOA,EAAQ,EAAI,UACnBF,OAAO,EAAIs7E,EAAOzuE,SAAS7M,GA1CT,IA2ClB07E,WAAY,SACZ7B,UAAW,aACX5nE,SAAU,YAId6nE,SAAU,SAAkB7+E,EAAQ+E,EAAOE,GACzC,GAAIA,EACF,MAAO,CACLyc,SAAU,WACVE,KAAM,SACN7c,MAAO,OACPiS,SAAU,SAKhBzT,SAAU,SAAkBvD,EAAQ+E,EAAOE,GACzC,MAAO,CACLq5E,aAAct+E,EAAS,GAAKiF,EAAQ,4BAA8B,2BAClEs5E,YAAav+E,EAAS,GAAKiF,EAAQ,4BAA8B,2BACjEu5E,WAAYx+E,EAAS,GAAKiF,EAAQ,4BAA8B,2BAChEw5E,gBAAiBz+E,EAAS,GAAKiF,EAAQ,4BAA8B,2BACrEujB,UAAWxoB,EAAS,GAAKiF,EAAQ,4BAA8B,2BAC/DH,WAAY9E,EAAS,WAAa,kBAItC0D,eAAgB,SAAwB1D,GACtC,MAAO,CACLgX,SAAUhX,EAAS,GAAK,YAK9BlF,EAAiB,SAAI,EAAIojF,EAAuB,SAAGt/E,GACnD7D,EAAOD,QAAUA,EAAiB,S,gBCjGlCkC,OAAO0jF,IAAM,EAAQ,KAerB,IAAIH,EAAO,SAAWG,GAClB,IAUAC,EAVI1Y,EAAa,GACjB2Y,EAAmB5jF,OAAOk6B,uBACPl6B,OAAO6jF,6BACP7jF,OAAO8jF,0BACP9jF,OAAO+jF,wBACP/jF,OAAOgkF,yBACP,SAAU1qE,GAEN,OADA5T,WAAW4T,EAAU,IAAI,IAAImY,MAAO4I,YAC7B,GAG9B/b,EAAU7a,MAAM6a,SAAW,SAAU3R,GACjC,OAAOA,aAAalJ,OACqB,kBAArC/E,OAAOkB,UAAUiQ,SAAS1R,KAAKwO,IAEvCs3E,EAAQ,EACRC,EAAW,MAAQ,IAAIzyD,MAAM5hB,SAAS,IAiBtCs0E,EAAQ1yD,KAAKiO,KAAO,WAChB,OAAQ,IAAIjO,MAEhB2yD,EAAM,SAAUp0E,GACZ,IAAIrD,EAAIzK,KACR,GAAW,MAAP8N,EACA,OAAOrD,EAAE5M,EAEb,IAAIskF,EAAK13E,EAAE5M,EAAIiQ,EACfrD,EAAEsB,GAAKtB,EAAE23E,IAAMD,EACf13E,EAAEiB,GAAKjB,EAAE23E,IAAMD,EACf13E,EAAE5M,EAAIiQ,GAEViJ,EAAQ,SAAUjJ,GAEd,GAAW,MAAPA,EACA,OAFI9N,KAEKqiF,IAFLriF,KAINqiF,IAAMv0E,GAEZykE,EAAW,SAAUzkE,GACjB,IAAIrD,EAAIzK,KACR,GAAW,MAAP8N,EACA,OAAOrD,EAAE23E,IAEb33E,EAAE5M,EAAI4M,EAAE5M,EAAIiQ,EAAMrD,EAAE23E,IACpB33E,EAAE23E,IAAMt0E,GAEZw0E,EAAS,WACL,IAAI73E,EAAIzK,YACD+oE,EAAWt+D,EAAE/F,IACpB+F,EAAE2xC,SACFolC,EAAI,aAAe/2E,EAAE/F,GAAI+F,IAE7BkL,EAAQ,WACJ,IAAIlL,EAAIzK,KACJyK,EAAE83E,cAGCxZ,EAAWt+D,EAAE/F,IACpB+F,EAAE2xC,SACF3xC,EAAE83E,KAAO93E,EAAE9N,MAAQ8N,EAAEsB,IAEzB67D,EAAS,WACL,IAAIn9D,EAAIzK,KACHyK,EAAE83E,OAGP93E,EAAEsB,EAAItB,EAAE9N,MAAQ8N,EAAE83E,YACX93E,EAAE83E,KACTxZ,EAAWt+D,EAAE/F,IAAM+F,EACnB+3E,MAEJpmC,EAAS,WACL,IACIqmC,EADAh4E,EAAIzK,KAER,GAAIoc,EAAQ3R,EAAE4J,OAAQ,CAClBouE,EAAM,GACN,IAAK,IAAI9oE,EAAI,EAAG+oE,EAAKj4E,EAAE4J,MAAM/V,OAAQqb,EAAI+oE,EAAI/oE,IACzC8oE,EAAI9oE,IAAMlP,EAAE4J,MAAMsF,IACblP,EAAE6J,IAAIqF,GAAKlP,EAAE4J,MAAMsF,IAAMlP,EAAEk4E,OAAOl4E,EAAE5M,QAG7C4kF,GAAOh4E,EAAE4J,OAAS5J,EAAE6J,IAAM7J,EAAE4J,OAAS5J,EAAEk4E,OAAOl4E,EAAE5M,GAEpD4M,EAAE3G,IAAI2+E,IAEVD,EAAQ,SAAUI,GAEd,GAAKA,EAAL,CAQA,IAAIpvE,EAAM,EACV,IAAK,IAAI1X,KAAKitE,EAAY,GAAIA,EAAWprE,eAAe7B,GAAI,CACxD,IAAI2O,EAAIs+D,EAAWjtE,GACfiQ,EAAItB,EAAE9N,MAEV6W,IACA/I,EAAE5M,GAAKkO,EAAItB,EAAEsB,IAAMtB,EAAE23E,IAAM33E,EAAE43E,KACzB53E,EAAE5M,GAAK,WACAkrE,EAAWjtE,GAClB2O,EAAE5M,EAAI,EACN2V,IACC,SAAU/I,GACPjH,YAAW,WACPg+E,EAAI,eAAiB/2E,EAAE/F,GAAI+F,MAFnC,CAIEA,IAENA,EAAE2xC,SAENqlC,IAAYjuE,GAAMkuE,EAAiBc,QAzB1Bf,IAEDA,EAAYC,EAAiBc,KA2DzCnB,EAAO,SAAU52E,EAAG2O,EAAGrN,EAAGL,EAAG/O,EAAKmH,EAAK6+E,GACnC,IAAIntE,EAAO,CACP9Q,GArJGs9E,GAAYD,KAASp0E,SAAS,IAsJjC0G,MAAO5J,EACP6J,IAAK8E,EACLrN,EAAGA,EACHlO,EAAG,EACHukF,IAAK12E,EAAIK,EACTs2E,IAAK,EACL1lF,IAAKA,EACLmH,IAAKA,EACL6+E,OAAQA,GAAUtB,EAAKnS,OACvBt5B,OAAQssC,EACRnrE,MAAOA,EACPw7D,SAAUA,EACV57D,KAAM2rE,EACN3sE,MAAOA,EACPiyD,OAAQA,EACRxrB,OAAQA,GAEZ2sB,EAAWvzD,EAAK9Q,IAAM8Q,EACtB,IAAa1Z,EAAT0X,EAAM,EACV,IAAK1X,KAAKitE,EAAY,GAAIA,EAAWprE,eAAe7B,IAErC,KADX0X,EAEI,MAIR,OADO,GAAPA,GAAYgvE,IACLhtE,GA8JX,OAnJA6rE,EAAKvnB,KAAOmoB,EASZZ,EAAKwB,QAAU,SAAUn+E,GACrB,OAAOqkE,EAAWrkE,IAAO,MAW7B28E,EAAKnS,OAAS,SAAU3xE,GACpB,OAAOA,GAUX8jF,EAAKyB,QAAU,SAAUvlF,GACrB,OAAO+M,KAAK6W,IAAI5jB,EAAG,MAUvB8jF,EAAK0B,OAAS,SAAUxlF,GACpB,OAAO+M,KAAK6W,IAAI5jB,EAAG,MAUvB8jF,EAAKC,UAAY,SAAU/jF,GACvB,GAAS,GAALA,EACA,OAAO,EAEX,GAAS,GAALA,EACA,OAAO,EAEX,IAAIinB,EAAI,IAAMjnB,EAAI,KACdylF,EAAI14E,KAAK+W,KAAK,MAAQmD,EAAIA,GAC1BwH,EAAIg3D,EAAIx+D,EAERyH,GAAK+2D,EAAIx+D,EAETxnB,EAHIsN,KAAK6W,IAAI7W,KAAKiX,IAAIyK,GAAI,EAAI,IAAMA,EAAI,GAAK,EAAI,GAE7C1hB,KAAK6W,IAAI7W,KAAKiX,IAAI0K,GAAI,EAAI,IAAMA,EAAI,GAAK,EAAI,GACrC,GAChB,OAAiB,GAAT,EAAIjvB,GAASA,EAAIA,EAAIA,EAAIA,EAAIA,GAUzCqkF,EAAK4B,OAAS,SAAU1lF,GACpB,GAAS,GAALA,EACA,OAAO,EAEX,IAAIM,EAAI,QACR,OAAON,EAAIA,IAAMM,EAAI,GAAKN,EAAIM,IAUlCwjF,EAAK6B,QAAU,SAAU3lF,GACrB,GAAS,GAALA,EACA,OAAO,EAGX,IAAIM,EAAI,QACR,OAFAN,GAAQ,GAEGA,IAAMM,EAAI,GAAKN,EAAIM,GAAK,GAUvCwjF,EAAK9oE,QAAU,SAAUhb,GACrB,OAAIA,KAAOA,EACAA,EAEJ+M,KAAK6W,IAAI,GAAI,GAAK5jB,GAAK+M,KAAKsd,KAAKrqB,EAAI,OACvC,EAAI+M,KAAK6X,IAAM,IAAM,GAU9Bk/D,EAAK8B,OAAS,SAAU5lF,GACpB,IAAIM,EAAI,OACJD,EAAI,KAkBR,OAhBIL,EAAI,EAAIK,EACJC,EAAIN,EAAIA,EAERA,EAAI,EAAIK,EAEJC,GADJN,GAAK,IAAMK,GACCL,EAAI,IAEZA,EAAI,IAAMK,EAENC,GADJN,GAAK,KAAOK,GACAL,EAAI,MAGZM,GADJN,GAAK,MAAQK,GACDL,EAAI,SAMhCO,OAAOujF,KAAOA,EACPA,EAjWA,CAkWM,oBAAPG,IAAqB,aAAiBA,KAgB5C/uE,EAAQ,SAAS4N,GAkBrB,SAAS5N,EAAK4M,EAAGgF,GACb,GAAIhF,EAAG,CACH,GAAIA,EAAE+jE,SACF,OAAOzlE,EAAK0B,GAEhB,GAAItP,EAAGsP,EAAG,UAAY5M,EAAK3O,IACvB,OAAO2O,EAAK3O,IAAIkI,MAAMyG,EAAM4M,GAEhC,GAAIA,aAAagkE,EACb,OAAOhkE,EAEX,GAAS,MAALgF,EACA,IAEI,OAAO1G,EADP0B,EAAIikE,EAAKC,IAAIp/E,cAAc4W,OAAOsE,KAEpC,MAAOrZ,GACL,OAAO,MAMnB,OAAO,IAAIw9E,EAFXnkE,EAAS,MAALA,EAAY,OAASA,EACzBgF,EAAS,MAALA,EAAY,OAASA,GAtC7B5R,EAAKzU,QAAU,QAyCfyU,EAAK9E,SAAW,WACZ,MAAO,SAAW3N,KAAKhC,SAE3ByU,EAAKgxE,EAAI,GACT,IAAIH,EAAO,CACPI,IAAKrjE,EAAKviB,OACVylF,IAAKljE,EAAKviB,OAAO2D,UAErBgR,EAAKgxE,EAAEH,KAAOA,EACd,IAkJQK,EACAC,EAnJJh5E,EAAM,iBACNi5E,EAAM9oE,OACN+oE,EAAUC,WACVC,EAAQrxE,SACRmb,EAAOxjB,KACP25E,EAAOn2D,EAAK3T,IACZ+pE,EAAOp2D,EAAK5T,IACZqH,EAAMuM,EAAKvM,IAEXY,GADM2L,EAAK3M,IACN2M,EAAK3L,IAIVgiE,GAHQr2D,EAAK9M,MAGIxkB,OAAOkB,UAAUiQ,UAElCy2E,EAAe,mTAIfC,GAFY5xE,EAAKgxE,EAAEa,UAAY,SAEjB,eACdC,EAAO,CAACC,GAAI,EAAGC,GAAI,GACnBC,EAAc,6DACdC,EAAW,8DACXC,EAAa,6CACb7C,EAAQ,EACRC,EAAW,MAAQ,IAAIzyD,MAAM5hB,SAAS,IACtCk3E,EAAK,SAAU7gF,GACX,OAAQA,GAAMA,EAAG8G,KAAO9G,EAAG8G,KAhB3B,IAgBuCk3E,GAAYD,KAASp0E,SAAS,KAEzEm3E,EAAQ,+BACRC,EAAQ,6BACRC,EAAM,GASAvyE,EAAKwyE,IAAM,SAAUA,GACvB,MAAO,SAAWA,EAAM,MAGhC,SAASC,EAAElhF,EAAIoD,GACX,GAAIA,EAAM,CAUN,GATU,SAANpD,IACAA,EAAKs/E,EAAKC,IAAI4B,eAAe/9E,EAAK01C,MAAQ11C,EAAK,UAAY,KAErD,YAANpD,IACAA,EAAKs/E,EAAKC,IAAI6B,cAAch+E,EAAK01C,MAAQ11C,EAAK,UAAY,KAE7C,iBAANpD,IACPA,EAAKkhF,EAAElhF,IAEQ,iBAARoD,EACP,OAAmB,GAAfpD,EAAGo/E,SACyB,UAAxBh8E,EAAK6sE,UAAU,EAAG,GACXjwE,EAAGqhF,eAAeP,EAAO19E,EAAK6sE,UAAU,IAEvB,QAAxB7sE,EAAK6sE,UAAU,EAAG,GACXjwE,EAAGqhF,eAAeN,EAAO39E,EAAK6sE,UAAU,IAE5CjwE,EAAGshF,aAAal+E,GACR,QAARA,EACApD,EAAGuhF,UAEH,KAGf,GAAmB,GAAfvhF,EAAGo/E,UACH,IAAK,IAAI/lF,KAAO+J,EAAM,GAAIA,EAAKwD,GAAKvN,GAAM,CACtC,IAAIyQ,EAAM+1E,EAAIz8E,EAAK/J,IACfyQ,EAC2B,UAAvBzQ,EAAI42E,UAAU,EAAG,GACjBjwE,EAAGqwC,eAAeywC,EAAOznF,EAAI42E,UAAU,GAAInmE,GACb,QAAvBzQ,EAAI42E,UAAU,EAAG,GACxBjwE,EAAGqwC,eAAe0wC,EAAO1nF,EAAI42E,UAAU,GAAInmE,GAE3C9J,EAAG44B,aAAav/B,EAAKyQ,GAGzB9J,EAAG44D,gBAAgBv/D,QAGpB,SAAU+J,IACjBpD,EAAGuhF,UAAYn+E,EAAK01C,WAGxB94C,EAAKs/E,EAAKC,IAAI39D,gBAAgBm/D,EAAO/gF,GAEzC,OAAOA,EAmBX,SAAS+L,EAAGxT,EAAGuO,GAEX,MAAY,WADZA,EAAO+4E,EAAInmF,UAAU+/C,YAAYxhD,KAAK6O,IAE3B06E,SAASjpF,KAER,SAARuO,KACCvO,aAAagF,OAASA,MAAM6a,SAAW7a,MAAM6a,QAAQ7f,OAG1C,QAARuO,GAAwB,OAANvO,GAClBuO,UAAevO,GAAW,OAANA,GACZ,UAARuO,GAAoBvO,IAAMC,OAAOD,IACjC4nF,EAAeloF,KAAKM,GAAG6T,MAAM,GAAI,GAAGqtC,eAAiB3yC,GAyDjE,SAAS26E,EAAOC,EAAO38E,GACnB,IAAK,IAAIjN,EAAI,EAAG6pF,EAAKD,EAAMpnF,OAAQxC,EAAI6pF,EAAI7pF,IAAK,GAAI4pF,EAAM5pF,KAAOiN,EAC7D,OAAO28E,EAAMt3E,KAAKs3E,EAAMpgE,OAAOxpB,EAAG,GAAG,IAG7C,SAAS8pF,EAAOp5E,EAAGq5E,EAAOC,GAetB,OAdA,SAASC,IACL,IAAInmE,EAAMre,MAAM7D,UAAU0S,MAAMnU,KAAKoC,UAAW,GAC5CgX,EAAOuK,EAAIzW,KAAK,KAChBg2B,EAAQ4mD,EAAK5mD,MAAQ4mD,EAAK5mD,OAAS,GACnC/Q,EAAQ23D,EAAK33D,MAAQ23D,EAAK33D,OAAS,GACvC,OAAI+Q,EAAMv0B,GAAKyK,IACXowE,EAAOr3D,EAAO/Y,GACPywE,EAAgBA,EAAc3mD,EAAM9pB,IAAS8pB,EAAM9pB,KAE9D+Y,EAAM9vB,QAAU,YAAc6gC,EAAM/Q,EAAMzsB,SAC1CysB,EAAMhgB,KAAKiH,GACX8pB,EAAM9pB,GAAQ7I,EAAER,MAAM65E,EAAOjmE,GACtBkmE,EAAgBA,EAAc3mD,EAAM9pB,IAAS8pB,EAAM9pB,KAiBlE,SAASu1B,EAAIo7C,GACT,OAAOA,EAAM,IAAM7jE,EAAK,IA1H5B1P,EAAKgxE,EAAEyB,EAAIA,EACXzyE,EAAKgxE,EAAE/+E,GAAKmgF,EAmDZpyE,EAAKwzE,QACGtC,EAAa,gBACbC,EAAmB,2DAehB,SAAUxzD,EAAKlxB,GAClB,OAAO2kF,EAAIzzD,GAAK7qB,QAAQo+E,GAAY,SAAUuC,EAAK7oF,GAC/C,OAhBO,SAAU6oF,EAAK7oF,EAAK6B,GAC3B,IAAIujF,EAAMvjF,EAWV,OAVA7B,EAAIkI,QAAQq+E,GAAkB,SAAUsC,EAAK7pF,EAAM8pF,EAAOC,EAAYC,GAClEhqF,EAAOA,GAAQ+pF,EACX3D,IACIpmF,KAAQomF,IACRA,EAAMA,EAAIpmF,IAEA,mBAAPomF,GAAqB4D,IAAW5D,EAAMA,SAGrDA,GAAc,MAAPA,GAAeA,GAAOvjF,EAAMgnF,EAAMzD,GAAO,GAKzC3jE,CAASonE,EAAK7oF,EAAK6B,QActCuT,EAAKgxE,EAAE53D,MAVP,SAASA,EAAM3sB,GACX,GAAkB,mBAAPA,GAAqB1C,OAAO0C,KAASA,EAC5C,OAAOA,EAEX,IAAIujF,EAAM,IAAIvjF,EAAIgC,YAClB,IAAK,IAAI7D,KAAO6B,EAASA,EAAI0L,GAAKvN,KAC9BolF,EAAIplF,GAAOwuB,EAAM3sB,EAAI7B,KAEzB,OAAOolF,GAyBXhwE,EAAKgxE,EAAEmC,OAASA,EAkChBnzE,EAAKm4B,IAAMA,EASXn4B,EAAKuzE,IA3BL,SAAap7C,GACT,OAAa,IAANA,EAAYzoB,EAAK,KAmC5B1P,EAAKmV,IAAM,SAAUM,GACjB,OAAO4F,EAAKlG,IAAInV,EAAKm4B,IAAI1iB,KAU7BzV,EAAKqV,IAAM,SAAUI,GACjB,OAAO4F,EAAKhG,IAAIrV,EAAKm4B,IAAI1iB,KAU7BzV,EAAKiV,IAAM,SAAUQ,GACjB,OAAO4F,EAAKpG,IAAIjV,EAAKm4B,IAAI1iB,KAU7BzV,EAAKmwB,KAAO,SAAUruB,GAClB,OAAO9B,EAAKuzE,IAAIl4D,EAAK8U,KAAKruB,KAU9B9B,EAAKixB,KAAO,SAAUnvB,GAClB,OAAO9B,EAAKuzE,IAAIl4D,EAAK4V,KAAKnvB,KAU9B9B,EAAK0pC,KAAO,SAAU5nC,GAClB,OAAO9B,EAAKuzE,IAAIl4D,EAAKquB,KAAK5nC,KAU9B9B,EAAKiwB,MAAQ,SAAUnuB,GACnB,OAAO9B,EAAKuzE,IAAIl4D,EAAK4U,MAAMnuB,KAe/B9B,EAAKyV,MArIL,SAASA,EAAM8K,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAC/B,GAAU,MAAND,EAAY,CACZ,IAAIpH,EAAIgH,EAAKE,EACTjH,EAAIgH,EAAKE,EACb,OAAKnH,GAAMC,GAGH,IAA2B,IAArB6B,EAAK4U,OAAOzW,GAAID,GAAW7J,EAAK,KAAO,IAF1C,EAIX,OAAO+F,EAAM8K,EAAIC,EAAIG,EAAIC,GAAMnL,EAAMgL,EAAIC,EAAIC,EAAIC,IAwIzD5gB,EAAKe,IAAM,SAAUwf,EAAIC,EAAIC,EAAIC,GAC7B,OAAO7oB,KAAK+W,KAAK5O,EAAKsB,KAAKif,EAAIC,EAAIC,EAAIC,KAa3C1gB,EAAKsB,KAAO,SAAUif,EAAIC,EAAIC,EAAIC,GAC9B,OAAQH,EAAKE,IAAOF,EAAKE,IAAOD,EAAKE,IAAOF,EAAKE,IAmBrD1gB,EAAK6zE,aAAe,SAAUz/E,EAAMmlB,EAAGC,GACnC,SAASs6D,EAAU3oF,GACf,IAAI4oF,EAAK5oF,EAAEouB,EAAIA,EACXy6D,EAAK7oF,EAAEquB,EAAIA,EACf,OAAOu6D,EAAKA,EAAKC,EAAKA,EAU1B,IARA,IAGIC,EACAC,EAIKC,EAAsBC,EAR3BC,EAAWjgF,EAAKi1B,KAChBirD,EAAaD,EAAS/pB,iBACtBiqB,EAAYD,EAAaD,EAASG,YAAYC,cAAgB,KAG9DC,EAAeC,IAGJC,EAAa,EAAiBA,GAAcN,EAAYM,GAAcL,GAC5EH,EAAeN,EAAUK,EAAOE,EAASQ,iBAAiBD,KAAgBF,IAC3ET,EAAOE,EACPD,EAAaU,EACbF,EAAeN,GAMvB,IADAG,GAAa,GACNA,EAAY,IAAI,CACnB,IAAIO,EACAC,EACAC,EACAC,EACAC,EACAC,GACCH,EAAed,EAAaK,IAAc,IAAMW,EAAiBpB,EAAUgB,EAAST,EAASQ,iBAAiBG,KAAkBN,GACjIT,EAAOa,EACPZ,EAAac,EACbN,EAAeQ,IACPD,EAAcf,EAAaK,IAAcD,IAAea,EAAgBrB,EAAUiB,EAAQV,EAASQ,iBAAiBI,KAAiBP,GAC7IT,EAAOc,EACPb,EAAae,EACbP,EAAeS,GAEfZ,GAAa,GAUrB,OANAN,EAAO,CACH16D,EAAG06D,EAAK16D,EACRC,EAAGy6D,EAAKz6D,EACR3tB,OAAQqoF,EACR/2C,SAAUtlC,KAAK+W,KAAK8lE,KAa5B10E,EAAK1C,GAAKA,EAWV0C,EAAKo1E,OAAS,SAAUz1E,EAAQrV,EAAO+qF,GAEnC,GADAA,EAAY/3E,EAAG+3E,EAAW,UAAYA,EAAY,GAC9C/3E,EAAGqC,EAAQ,UAEX,IADA,IAAItW,EAAIsW,EAAO9T,OACRxC,KAAK,GAAIylB,EAAInP,EAAOtW,GAAKiB,IAAU+qF,EACtC,OAAO11E,EAAOtW,OAEf,CAEH,IAAIisF,EAAMhrF,GADVqV,GAAUA,GAEV,GAAI21E,EAAMD,EACN,OAAO/qF,EAAQgrF,EAEnB,GAAIA,EAAM31E,EAAS01E,EACf,OAAO/qF,EAAQgrF,EAAM31E,EAG7B,OAAOrV,GAoCX0V,EAAKu1E,OAASpC,GAAO,SAAUqC,GAC3B,IAAKA,IAAcA,EAASpE,EAAIoE,IAAS7zE,QAAQ,KAAO,EACpD,MAAO,CAACxX,GAAI,EAAG2nB,GAAI,EAAGxY,GAAI,EAAGkZ,IAAK,OAAQ9f,MAAO,EAAGwI,SAAUu6E,GAElE,GAAc,QAAVD,EACA,MAAO,CAACrrF,GAAI,EAAG2nB,GAAI,EAAGxY,GAAI,EAAGkZ,IAAK,OAAQtX,SAAUu6E,GAGxD,IADE3D,EAAK35E,GAAKq9E,EAAOxqC,cAAcw2B,UAAU,EAAG,KAA0B,KAAnBgU,EAAOziF,WAAqByiF,EAASE,EAAMF,KAC3FA,EACD,MAAO,CAACrrF,GAAI,EAAG2nB,GAAI,EAAGxY,GAAI,EAAGkZ,IAAK,OAAQ9f,MAAO,EAAGwI,SAAUu6E,GAElE,IACIE,EACAC,EACAC,EACApsB,EACAl/D,EACAoV,EACAm2E,EAAMN,EAAOO,MAAMpE,GACvB,OAAImE,GACIA,EAAI,KACJD,EAAOtE,EAAMuE,EAAI,GAAGtU,UAAU,GAAI,IAClCoU,EAAQrE,EAAMuE,EAAI,GAAGtU,UAAU,EAAG,GAAI,IACtCmU,EAAMpE,EAAMuE,EAAI,GAAGtU,UAAU,EAAG,GAAI,KAEpCsU,EAAI,KACJD,EAAOtE,GAAOhnF,EAAIurF,EAAI,GAAG/iF,OAAO,IAAMxI,EAAG,IACzCqrF,EAAQrE,GAAOhnF,EAAIurF,EAAI,GAAG/iF,OAAO,IAAMxI,EAAG,IAC1CorF,EAAMpE,GAAOhnF,EAAIurF,EAAI,GAAG/iF,OAAO,IAAMxI,EAAG,KAExCurF,EAAI,KACJn2E,EAASm2E,EAAI,GAAGj6E,MAAM+1E,GACtB+D,EAAMtE,EAAQ1xE,EAAO,IACE,KAAvBA,EAAO,GAAGhC,OAAO,KAAcg4E,GAAO,MACtCC,EAAQvE,EAAQ1xE,EAAO,IACA,KAAvBA,EAAO,GAAGhC,OAAO,KAAci4E,GAAS,MACxCC,EAAOxE,EAAQ1xE,EAAO,IACC,KAAvBA,EAAO,GAAGhC,OAAO,KAAck4E,GAAQ,MACH,QAApCC,EAAI,GAAG9qC,cAAcrtC,MAAM,EAAG,KAAiB8rD,EAAU4nB,EAAQ1xE,EAAO,KACxEA,EAAO,IAA6B,KAAvBA,EAAO,GAAGhC,OAAO,KAAc8rD,GAAW,MAEvDqsB,EAAI,IACJn2E,EAASm2E,EAAI,GAAGj6E,MAAM+1E,GACtB+D,EAAMtE,EAAQ1xE,EAAO,IACE,KAAvBA,EAAO,GAAGhC,OAAO,KAAcg4E,GAAO,KACtCC,EAAQvE,EAAQ1xE,EAAO,IACA,KAAvBA,EAAO,GAAGhC,OAAO,KAAci4E,GAAS,KACxCC,EAAOxE,EAAQ1xE,EAAO,IACC,KAAvBA,EAAO,GAAGhC,OAAO,KAAck4E,GAAQ,MACf,OAAvBl2E,EAAO,GAAGhC,OAAO,IAAsC,KAAvBgC,EAAO,GAAGhC,OAAO,MAAkBg4E,GAAO,KACvC,QAApCG,EAAI,GAAG9qC,cAAcrtC,MAAM,EAAG,KAAiB8rD,EAAU4nB,EAAQ1xE,EAAO,KACxEA,EAAO,IAA6B,KAAvBA,EAAO,GAAGhC,OAAO,KAAc8rD,GAAW,KAChDzpD,EAAKg2E,QAAQL,EAAKC,EAAOC,EAAMpsB,IAEtCqsB,EAAI,IACJn2E,EAASm2E,EAAI,GAAGj6E,MAAM+1E,GACtB+D,EAAMtE,EAAQ1xE,EAAO,IACE,KAAvBA,EAAO,GAAGhC,OAAO,KAAcg4E,GAAO,KACtCC,EAAQvE,EAAQ1xE,EAAO,IACA,KAAvBA,EAAO,GAAGhC,OAAO,KAAci4E,GAAS,KACxCC,EAAOxE,EAAQ1xE,EAAO,IACC,KAAvBA,EAAO,GAAGhC,OAAO,KAAck4E,GAAQ,MACf,OAAvBl2E,EAAO,GAAGhC,OAAO,IAAsC,KAAvBgC,EAAO,GAAGhC,OAAO,MAAkBg4E,GAAO,KACvC,QAApCG,EAAI,GAAG9qC,cAAcrtC,MAAM,EAAG,KAAiB8rD,EAAU4nB,EAAQ1xE,EAAO,KACxEA,EAAO,IAA6B,KAAvBA,EAAO,GAAGhC,OAAO,KAAc8rD,GAAW,KAChDzpD,EAAKi2E,QAAQN,EAAKC,EAAOC,EAAMpsB,KAE1CksB,EAAMlE,EAAKp2D,EAAK9M,MAAMonE,GAAM,KAC5BC,EAAQnE,EAAKp2D,EAAK9M,MAAMqnE,GAAQ,KAChCC,EAAOpE,EAAKp2D,EAAK9M,MAAMsnE,GAAO,KAC9BpsB,EAAUgoB,EAAKD,EAAK/nB,EAAS,GAAI,IACjCqsB,EAAM,CAAC3rF,EAAGwrF,EAAK7jE,EAAG8jE,EAAOt8E,EAAGu8E,EAAM36E,SAAUu6E,IACxCjjE,IAAM,KAAO,SAAWqjE,EAAOD,GAAS,EAAID,GAAO,IAAIz6E,SAAS,IAAIyC,MAAM,GAC9Em4E,EAAIrsB,QAAUnsD,EAAGmsD,EAAS,UAAYA,EAAU,EACzCqsB,IAEJ,CAAC3rF,GAAI,EAAG2nB,GAAI,EAAGxY,GAAI,EAAGkZ,IAAK,OAAQ9f,MAAO,EAAGwI,SAAUu6E,KAC/Dz1E,GAWHA,EAAKk2E,IAAM/C,GAAO,SAAUvhE,EAAGxmB,EAAGkO,GAC9B,OAAO0G,EAAKg2E,QAAQpkE,EAAGxmB,EAAGkO,GAAGkZ,OAYjCxS,EAAKm2E,IAAMhD,GAAO,SAAUvhE,EAAGxmB,EAAG9B,GAC9B,OAAO0W,EAAKi2E,QAAQrkE,EAAGxmB,EAAG9B,GAAGkpB,OAYjCxS,EAAK81E,IAAM3C,GAAO,SAAUhpF,EAAG2nB,EAAGxY,EAAGxP,GACjC,GAAIwT,EAAGxT,EAAG,UAAW,CACjB,IAAIykB,EAAQ8M,EAAK9M,MACjB,MAAO,QAAU,CAACA,EAAMpkB,GAAIokB,EAAMuD,GAAIvD,EAAMjV,IAAKxP,EAAEssF,QAAQ,IAAM,IAErE,MAAO,KAAO,SAAW98E,EAAIwY,GAAK,EAAI3nB,GAAK,IAAI+Q,SAAS,IAAIyC,MAAM,MAEtE,IAAI+3E,EAAQ,SAAUxjE,GAClB,IAAI7oB,EAAIwnF,EAAKC,IAAIhb,qBAAqB,QAAQ,IAAM+a,EAAKC,IAAIhb,qBAAqB,OAAO,GACrF6f,EAAM,iBAUV,OATAD,EAAQvC,GAAO,SAAUjhE,GACrB,GAA2B,OAAvBA,EAAM84B,cACN,OAAO2qC,EAEXtsF,EAAEkJ,MAAM2f,MAAQyjE,EAChBtsF,EAAEkJ,MAAM2f,MAAQA,EAChB,IAAI3Z,EAAMs4E,EAAKC,IAAIuF,YAAYC,iBAAiBjtF,EAjnBhD,IAinBsDktF,iBAAiB,SACvE,OAAOh+E,GAAOo9E,EAAM,KAAOp9E,MAElB2Z,IAEjBskE,EAAc,WACV,MAAO,OAAS,CAACjpF,KAAKqkB,EAAGrkB,KAAKnC,EAAGmC,KAAK+L,GAAK,KAE/Cm9E,EAAc,WACV,MAAO,OAAS,CAAClpF,KAAKqkB,EAAGrkB,KAAKnC,EAAGmC,KAAKjE,GAAK,KAE/CmsF,EAAc,WACV,OAAuB,GAAhBloF,KAAKk8D,SAAgC,MAAhBl8D,KAAKk8D,QACzBl8D,KAAKilB,IACL,QAAU,CAACjlB,KAAKpD,EAAGoD,KAAKukB,EAAGvkB,KAAK+L,EAAG/L,KAAKk8D,SAAW,KAE/DitB,EAAa,SAAUvsF,EAAG2nB,EAAGxY,GAMzB,GALS,MAALwY,GAAaxU,EAAGnT,EAAG,WAAa,MAAOA,GAAK,MAAOA,GAAK,MAAOA,IAC/DmP,EAAInP,EAAEmP,EACNwY,EAAI3nB,EAAE2nB,EACN3nB,EAAIA,EAAEA,GAED,MAAL2nB,GAAaxU,EAAGnT,EAAG+M,QAAS,CAC5B,IAAIy/E,EAAM32E,EAAKu1E,OAAOprF,GACtBA,EAAIwsF,EAAIxsF,EACR2nB,EAAI6kE,EAAI7kE,EACRxY,EAAIq9E,EAAIr9E,EAQZ,OANInP,EAAI,GAAK2nB,EAAI,GAAKxY,EAAI,KACtBnP,GAAK,IACL2nB,GAAK,IACLxY,GAAK,KAGF,CAACnP,EAAG2nB,EAAGxY,IAElBs9E,EAAa,SAAUzsF,EAAG2nB,EAAGxY,EAAGxP,GAI5B,IAAIgsF,EAAM,CACN3rF,EAJJA,EAAIkxB,EAAK9M,MAAU,IAAJpkB,GAKX2nB,EAJJA,EAAIuJ,EAAK9M,MAAU,IAAJuD,GAKXxY,EAJJA,EAAI+hB,EAAK9M,MAAU,IAAJjV,GAKXmwD,QAASnsD,EAAGxT,EAAG,UAAYA,EAAI,EAC/B0oB,IAAKxS,EAAK81E,IAAI3rF,EAAG2nB,EAAGxY,GACpB4B,SAAUu6E,GAGd,OADAn4E,EAAGxT,EAAG,YAAcgsF,EAAIrsB,QAAU3/D,GAC3BgsF,GAqBX91E,EAAKkS,MAAQ,SAAUykE,GACnB,IAAIb,EAiCJ,OAhCIx4E,EAAGq5E,EAAK,WAAa,MAAOA,GAAO,MAAOA,GAAO,MAAOA,GACxDb,EAAM91E,EAAKg2E,QAAQW,GACnBA,EAAIxsF,EAAI2rF,EAAI3rF,EACZwsF,EAAI7kE,EAAIgkE,EAAIhkE,EACZ6kE,EAAIr9E,EAAIw8E,EAAIx8E,EACZq9E,EAAIltB,QAAU,EACdktB,EAAInkE,IAAMsjE,EAAItjE,KACPlV,EAAGq5E,EAAK,WAAa,MAAOA,GAAO,MAAOA,GAAO,MAAOA,GAC/Db,EAAM91E,EAAKi2E,QAAQU,GACnBA,EAAIxsF,EAAI2rF,EAAI3rF,EACZwsF,EAAI7kE,EAAIgkE,EAAIhkE,EACZ6kE,EAAIr9E,EAAIw8E,EAAIx8E,EACZq9E,EAAIltB,QAAU,EACdktB,EAAInkE,IAAMsjE,EAAItjE,MAEVlV,EAAGq5E,EAAK,YACRA,EAAM32E,EAAKu1E,OAAOoB,IAElBr5E,EAAGq5E,EAAK,WAAa,MAAOA,GAAO,MAAOA,GAAO,MAAOA,KAAS,UAAWA,IAC5Eb,EAAM91E,EAAK62E,QAAQF,GACnBA,EAAI/kE,EAAIkkE,EAAIlkE,EACZ+kE,EAAIvrF,EAAI0qF,EAAI1qF,EACZurF,EAAIrtF,EAAIwsF,EAAIxsF,EACZwsF,EAAM91E,EAAK82E,QAAQH,GACnBA,EAAI9kE,EAAIikE,EAAIx8E,KAEZq9E,EAAM,CAACnkE,IAAK,SACRroB,EAAIwsF,EAAI7kE,EAAI6kE,EAAIr9E,EAAIq9E,EAAI/kE,EAAI+kE,EAAIvrF,EAAIurF,EAAI9kE,EAAI8kE,EAAIrtF,GAAK,EACzDqtF,EAAIjkF,MAAQ,IAGpBikF,EAAIz7E,SAAWu6E,EACRkB,GAkBX32E,EAAKg2E,QAAU,SAAUpkE,EAAGxmB,EAAGymB,EAAG/nB,GAQ9B,IAAI2P,EAAGd,EAAGM,EAAG89E,EAAG19E,EAUhB,OAjBIiE,EAAGsU,EAAG,WAAa,MAAOA,GAAK,MAAOA,GAAK,MAAOA,IAClDC,EAAID,EAAEtY,EACNlO,EAAIwmB,EAAExmB,EACNtB,EAAI8nB,EAAE9nB,EACN8nB,EAAIA,EAAEA,GAMVmlE,GADA19E,EAAIwY,EAAIzmB,IACC,EAAI0jB,GAFb8C,GAFAA,GAAK,KAEG,IAAM,IAEO,EAAI,IACzBnY,EAAId,EAAIM,EAAI4Y,EAAIxY,EAMTu9E,EAHPn9E,GAAK,CAACJ,EAAG09E,EAAG,EAAG,EAAGA,EAAG19E,GADrBuY,IAAMA,GAENjZ,GAAK,CAACo+E,EAAG19E,EAAGA,EAAG09E,EAAG,EAAG,GAAGnlE,GACxB3Y,GAAK,CAAC,EAAG,EAAG89E,EAAG19E,EAAGA,EAAG09E,GAAGnlE,GACG9nB,IAkB/BkW,EAAKi2E,QAAU,SAAUrkE,EAAGxmB,EAAG9B,EAAGQ,GAY9B,IAAI2P,EAAGd,EAAGM,EAAG89E,EAAG19E,EAUhB,OArBIiE,EAAGsU,EAAG,WAAa,MAAOA,GAAK,MAAOA,GAAK,MAAOA,IAClDtoB,EAAIsoB,EAAEtoB,EACN8B,EAAIwmB,EAAExmB,EACNwmB,EAAIA,EAAEA,IAENA,EAAI,GAAKxmB,EAAI,GAAK9B,EAAI,KACtBsoB,GAAK,IACLxmB,GAAK,IACL9B,GAAK,KAMTytF,GADA19E,EAAI,EAAIjO,GAAK9B,EAAI,GAAKA,EAAI,EAAIA,KACrB,EAAIwlB,GAFb8C,GAFAA,GAAK,KAEG,IAAM,IAEO,EAAI,IACzBnY,EAAId,EAAIM,EAAI3P,EAAI+P,EAAI,EAMbu9E,EAHPn9E,GAAK,CAACJ,EAAG09E,EAAG,EAAG,EAAGA,EAAG19E,GADrBuY,IAAMA,GAENjZ,GAAK,CAACo+E,EAAG19E,EAAGA,EAAG09E,EAAG,EAAG,GAAGnlE,GACxB3Y,GAAK,CAAC,EAAG,EAAG89E,EAAG19E,EAAGA,EAAG09E,GAAGnlE,GACG9nB,IAiB/BkW,EAAK82E,QAAU,SAAU3sF,EAAG2nB,EAAGxY,GAM3B,IAAU09E,EAAG39E,EASb,OAbAlP,GADAmP,EAAIo9E,EAAWvsF,EAAG2nB,EAAGxY,IACf,GACNwY,EAAIxY,EAAE,GACNA,EAAIA,EAAE,GAWC,CAACsY,IANC,IADTvY,GADA29E,EAAIxF,EAAKrnF,EAAG2nB,EAAGxY,IACPm4E,EAAKtnF,EAAG2nB,EAAGxY,IACN,KACT09E,GAAK7sF,GAAK2nB,EAAIxY,GAAKD,EACnB29E,GAAKllE,GAAKxY,EAAInP,GAAKkP,EAAI,GACblP,EAAI2nB,GAAKzY,EAAI,GAClB,KAAO,EAAI,GAAK,IAEXjO,EADL,GAALiO,EAAS,EAAIA,EAAI29E,EACD19E,EAAG09E,EAAG97E,SAAUs7E,IAiBxCx2E,EAAK62E,QAAU,SAAU1sF,EAAG2nB,EAAGxY,GAM3B,IAAU29E,EAAGC,EAAGztF,EAAG4P,EAanB,OAjBAlP,GADAmP,EAAIo9E,EAAWvsF,EAAG2nB,EAAGxY,IACf,GACNwY,EAAIxY,EAAE,GACNA,EAAIA,EAAE,GAWN29E,IARAC,EAAI1F,EAAKrnF,EAAG2nB,EAAGxY,KACf7P,EAAIgoF,EAAKtnF,EAAG2nB,EAAGxY,KAOD,EAIP,CAACsY,IATC,IADTvY,EAAI69E,EAAIztF,GACK,KACTytF,GAAK/sF,GAAK2nB,EAAIxY,GAAKD,EACnB69E,GAAKplE,GAAKxY,EAAInP,GAAKkP,EAAI,GACblP,EAAI2nB,GAAKzY,EAAI,GAClB,KAAO,EAAI,GAAK,IAKXjO,EAHL,GAALiO,EAAS,EACR49E,EAAI,GAAK59E,GAAK,EAAI49E,GACT59E,GAAK,EAAI,EAAI49E,GACP3tF,EAAG2tF,EAAG/7E,SAAUu7E,IAcxCz2E,EAAKm3E,gBAAkB,SAAU18B,GAC7B,IAAKA,EACD,OAAO,KAEX,IAAI28B,EAAMp3E,EAAK5L,KAAKqmD,GACpB,GAAI28B,EAAIz2E,IACJ,OAAOX,EAAK5L,KAAKglB,MAAMg+D,EAAIz2E,KAG/B,IAAI02E,EAAc,CAACr/E,EAAG,EAAGtO,EAAG,EAAGI,EAAG,EAAG8nB,EAAG,EAAGtoB,EAAG,EAAGG,EAAG,EAAGU,EAAG,EAAG4nB,EAAG,EAAG3mB,EAAG,EAAGb,EAAG,EAAGsnB,EAAG,EAAGkvB,EAAG,EAAGtnB,EAAG,GAC1FyO,EAAO,GA+BX,OA9BI5qB,EAAGm9C,EAAY,UAAYn9C,EAAGm9C,EAAW,GAAI,WAC7CvyB,EAAOloB,EAAK5L,KAAKglB,MAAMqhC,IAEtBvyB,EAAKr8B,QACNulF,EAAI32B,GAAY3nD,QAAQm/E,GAAa,SAAUj6E,EAAGsB,EAAG5P,GACjD,IAAI8rE,EAAS,GACT5rE,EAAO0P,EAAE0xC,cAYb,GAXAthD,EAAEoJ,QAAQq/E,GAAY,SAAUn6E,EAAGsB,GAC/BA,GAAKk8D,EAAO75D,MAAMrC,MAEV,KAAR1P,GAAe4rE,EAAO3pE,OAAS,IAC/Bq8B,EAAKvsB,KAAK,CAACrC,GAAG2B,OAAOu6D,EAAO3iD,OAAO,EAAG,KACtCjpB,EAAO,IACP0P,EAAS,KAALA,EAAW,IAAM,KAEb,KAAR1P,GAAgC,GAAjB4rE,EAAO3pE,QACtBq8B,EAAKvsB,KAAK,CAACrC,EAAGk8D,EAAO,KAEb,KAAR5rE,EACAs+B,EAAKvsB,KAAK,CAACrC,GAAG2B,OAAOu6D,SAClB,KAAOA,EAAO3pE,QAAUwrF,EAAYztF,KACvCs+B,EAAKvsB,KAAK,CAACrC,GAAG2B,OAAOu6D,EAAO3iD,OAAO,EAAGwkE,EAAYztF,MAC7CytF,EAAYztF,UAM7Bs+B,EAAKhtB,SAAW8E,EAAK5L,KAAK8G,SAC1Bk8E,EAAIz2E,IAAMX,EAAK5L,KAAKglB,MAAM8O,GACnBA,GAYX,IAAIovD,EAAuBt3E,EAAKs3E,qBAAuB,SAAUC,GAC7D,IAAKA,EACD,OAAO,KAEX,IACIrvD,EAAO,GAeX,OAdI5qB,EAAGi6E,EAAS,UAAYj6E,EAAGi6E,EAAQ,GAAI,WACvCrvD,EAAOloB,EAAK5L,KAAKglB,MAAMm+D,IAEtBrvD,EAAKr8B,QACNulF,EAAImG,GAASzkF,QAAQo/E,GAAU,SAAUl6E,EAAGsB,EAAG5P,GAC3C,IAAI8rE,EAAS,GACFl8D,EAAE0xC,cACbthD,EAAEoJ,QAAQq/E,GAAY,SAAUn6E,EAAGsB,GAC/BA,GAAKk8D,EAAO75D,MAAMrC,MAEtB4uB,EAAKvsB,KAAK,CAACrC,GAAG2B,OAAOu6D,OAG7BttC,EAAKhtB,SAAW8E,EAAK5L,KAAK8G,SACnBgtB,GA8BXloB,EAAKgxE,EAAEwG,oBA5BP,SAA6BC,GACzB,IAAIzH,EAAM,GAyBV,OAxBAyH,EAAOA,EAAK3kF,QAAQ,6BAA6B,SAAU2gF,EAAK7pF,EAAM4rE,GAsBlE,OArBAA,EAASA,EAAO35D,MAAM,eACV,UAARjS,GAAqC,GAAjB4rE,EAAO3pE,QAC3B2pE,EAAO75D,KAAK,EAAG,GAEP,SAAR/R,IACI4rE,EAAO3pE,OAAS,EAChB2pE,EAASA,EAAO73D,MAAM,EAAG,GACD,GAAjB63D,EAAO3pE,QACd2pE,EAAO75D,KAAK,EAAG,GAEE,GAAjB65D,EAAO3pE,QACP2pE,EAAO75D,KAAK65D,EAAO,GAAI,EAAG,IAGtB,SAAR5rE,EACAomF,EAAIr0E,KAAK,CAAC,IAAK,EAAG,EAAG0f,EAAKhG,IAAI8iB,EAAIq9B,EAAO,KAAM,EAAG,EAAG,IACtC,SAAR5rE,EACPomF,EAAIr0E,KAAK,CAAC,IAAK,EAAG0f,EAAKhG,IAAI8iB,EAAIq9B,EAAO,KAAM,EAAG,EAAG,EAAG,IAErDwa,EAAIr0E,KAAK,CAAC/R,EAAKmJ,OAAO,IAAIkI,OAAOu6D,IAE9Bie,KAEJzD,GAGXhwE,EAAKgxE,EAAE0G,YAAc,sBAqErB13E,EAAKgxE,EAAE2G,iBApEP,SAA0BF,EAAMjwB,GAC5B,IAAIowB,EAAQN,EAAqBG,GAC7BhuF,EAAI,IAAIuW,EAAK+U,OACjB,GAAI6iE,EACA,IAAK,IAAIvuF,EAAI,EAAG6pF,EAAK0E,EAAM/rF,OAAQxC,EAAI6pF,EAAI7pF,IAAK,CAC5C,IAKIk3B,EACAC,EACAC,EACAC,EACAm3D,EATAttF,EAAIqtF,EAAMvuF,GACVyuF,EAAOvtF,EAAEsB,OACTksF,EAAU3G,EAAI7mF,EAAE,IAAIygD,cACpBgtC,EAAWztF,EAAE,IAAMwtF,EACnBE,EAAQD,EAAWvuF,EAAEyuF,SAAW,EAMrB,KAAXH,GAA0B,GAARD,EAClBruF,EAAEgtB,UAAUlsB,EAAE,GAAI,GACA,KAAXwtF,GAA0B,GAARD,EACrBE,GACAz3D,EAAK03D,EAAM1+D,EAAE,EAAG,GAChBiH,EAAKy3D,EAAMz+D,EAAE,EAAG,GAChBiH,EAAKw3D,EAAM1+D,EAAEhvB,EAAE,GAAIA,EAAE,IACrBm2B,EAAKu3D,EAAMz+D,EAAEjvB,EAAE,GAAIA,EAAE,IACrBd,EAAEgtB,UAAUgK,EAAKF,EAAIG,EAAKF,IAE1B/2B,EAAEgtB,UAAUlsB,EAAE,GAAIA,EAAE,IAEN,KAAXwtF,EACK,GAARD,GACAD,EAAKA,GAAMrwB,EACX/9D,EAAE+rB,OAAOjrB,EAAE,GAAIstF,EAAGt+D,EAAIs+D,EAAGzkF,MAAQ,EAAGykF,EAAGr+D,EAAIq+D,EAAGhiF,OAAS,IACxC,GAARiiF,IACHE,GACAv3D,EAAKw3D,EAAM1+D,EAAEhvB,EAAE,GAAIA,EAAE,IACrBm2B,EAAKu3D,EAAMz+D,EAAEjvB,EAAE,GAAIA,EAAE,IACrBd,EAAE+rB,OAAOjrB,EAAE,GAAIk2B,EAAIC,IAEnBj3B,EAAE+rB,OAAOjrB,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAGb,KAAXwtF,EACK,GAARD,GAAqB,GAARA,GACbD,EAAKA,GAAMrwB,EACX/9D,EAAE6sB,MAAM/rB,EAAE,GAAIA,EAAEutF,EAAO,GAAID,EAAGt+D,EAAIs+D,EAAGzkF,MAAQ,EAAGykF,EAAGr+D,EAAIq+D,EAAGhiF,OAAS,IACpD,GAARiiF,EACHE,GACAv3D,EAAKw3D,EAAM1+D,EAAEhvB,EAAE,GAAIA,EAAE,IACrBm2B,EAAKu3D,EAAMz+D,EAAEjvB,EAAE,GAAIA,EAAE,IACrBd,EAAE6sB,MAAM/rB,EAAE,GAAIA,EAAE,GAAIk2B,EAAIC,IAExBj3B,EAAE6sB,MAAM/rB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAEjB,GAARutF,IACHE,GACAv3D,EAAKw3D,EAAM1+D,EAAEhvB,EAAE,GAAIA,EAAE,IACrBm2B,EAAKu3D,EAAMz+D,EAAEjvB,EAAE,GAAIA,EAAE,IACrBd,EAAE6sB,MAAM/rB,EAAE,GAAIA,EAAE,GAAIk2B,EAAIC,IAExBj3B,EAAE6sB,MAAM/rB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAGlB,KAAXwtF,GAA0B,GAARD,GACzBruF,EAAE+/C,IAAIj/C,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAIlD,OAAOd,GAGXuW,EAAKm4E,SAuCL,SAAiB5mF,EAAI3H,EAAMU,GACvB,IAAIgK,EAAM8jF,EAAW7mF,GAAI83B,KACrB9wB,EAAM,GACN8/E,EAAM/jF,EAAI5C,cAAc,cACvB2mF,IACDA,EAAM5F,EAAE,QACRA,EAAE4F,EAAK,CAAC9+D,GAAI,IAAKC,GAAI,IAAKpmB,MAAO,GAAIyC,OAAQ,GAAI,MAAS,YAAas2D,KAAM,SAC7E73D,EAAIgI,YAAY+7E,IAEpB,SAASC,EAAKj9E,GACV,GAAW,MAAPA,EACA,MAvlCJ,GAylCA,GAAIA,IAAQA,EACR,OAAOA,EAEXo3E,EAAE4F,EAAK,CAACjlF,MAAOiI,IACf,IACI,OAAOg9E,EAAI9wB,UAAUn0D,MACvB,MAAOG,GACL,OAAO,GAGf,SAASglF,EAAKl9E,GACV,GAAW,MAAPA,EACA,MArmCJ,GAumCA,GAAIA,IAAQA,EACR,OAAOA,EAEXo3E,EAAE4F,EAAK,CAACxiF,OAAQwF,IAChB,IACI,OAAOg9E,EAAI9wB,UAAU1xD,OACvB,MAAOtC,GACL,OAAO,GAGf,SAASlC,EAAImnF,EAAKz+E,GACF,MAARnQ,EACA2O,EAAIigF,GAAOz+E,EAAExI,EAAGoD,KAAK6jF,IAAQ,GACtBA,GAAO5uF,IACd2O,EAAMwB,EAAW,MAATzP,EAAgBiH,EAAGoD,KAAK6jF,IAAQ,EAAIluF,IAGpD,OAAQiH,EAAG8G,MACP,IAAK,OACDhH,EAAI,KAAMinF,GACVjnF,EAAI,KAAMknF,GACd,IAAK,QACDlnF,EAAI,QAASinF,GACbjnF,EAAI,SAAUknF,GAClB,IAAK,OACDlnF,EAAI,IAAKinF,GACTjnF,EAAI,IAAKknF,GACb,MACA,IAAK,SACDlnF,EAAI,KAAMinF,GACVjnF,EAAI,KAAMknF,GACVlnF,EAAI,IAAKinF,GACb,MACA,IAAK,UACDjnF,EAAI,KAAMinF,GACVjnF,EAAI,KAAMknF,GACVlnF,EAAI,KAAMinF,GACVjnF,EAAI,KAAMknF,GACd,MACA,IAAK,OACDlnF,EAAI,KAAMinF,GACVjnF,EAAI,KAAMinF,GACVjnF,EAAI,KAAMknF,GACVlnF,EAAI,KAAMknF,GACd,MACA,IAAK,SACDlnF,EAAI,OAAQinF,GACZjnF,EAAI,cAAeinF,GACnBjnF,EAAI,OAAQknF,GACZlnF,EAAI,eAAgBknF,GACxB,MACA,IAAK,iBACDlnF,EAAI,KAAMinF,GACVjnF,EAAI,KAAMknF,GACd,MACA,IAAK,QACDlnF,EAAI,KAAMinF,GACVjnF,EAAI,KAAMknF,GACd,MACA,QACIlnF,EAAIzH,EAAM0uF,GAGlB,OADAhkF,EAAIg5B,YAAY+qD,GACT9/E,GAhIIs4E,EAAKC,IAAI2H,UAAY5H,EAAKC,IAAI4H,wBAiC7C,SAASN,EAAW7mF,GAChB,OAAOA,EAAG83B,KAAKsvD,iBAAmBztE,EAAK3Z,EAAG83B,KAAKsvD,kBAAoB34E,EAAKvL,OAAO,OA6HnF,SAASmkF,EAAUltD,GACVpuB,EAAGouB,EAAM,WACVA,EAAO58B,MAAM7D,UAAU0S,MAAMnU,KAAKoC,UAAW,IAKjD,IAHA,IAAIvC,EAAI,EACJ6d,EAAI,EACJmiB,EAAO97B,KAAK87B,KACT97B,KAAKlE,WAAWkE,KAAKlE,KAC5B,IAAKA,EAAI,EAAGA,EAAIqiC,EAAK7/B,OAAQxC,IACL,OAAhBqiC,EAAKriC,GAAGgP,KACRqzB,EAAKriC,GAAGmb,SAAQ,SAAUjT,GACtB83B,EAAK/sB,YAAY/K,EAAG83B,SAGxBA,EAAK/sB,YAAYovB,EAAKriC,GAAGggC,MAGjC,IAAIhzB,EAAWgzB,EAAK6gC,WACpB,IAAK7gE,EAAI,EAAGA,EAAIgN,EAASxK,OAAQxC,IAC7BkE,KAAK2Z,KAAOgE,EAAK7U,EAAShN,IAE9B,OAAOkE,KAYX,SAASqjF,EAAQr/E,GACb,GAAIA,EAAGsnF,QAAQtG,EACX,OAAOA,EAAIhhF,EAAGsnF,MAElB,IAAIvkF,EACJ,IACIA,EAAM/C,EAAGonF,gBACX,MAAMplF,IAaRhG,KAAK87B,KAAO93B,EACR+C,IACA/G,KAAKurF,MAAQ,IAAI/H,EAAMz8E,IAQ3B/G,KAAK8K,KAAO9G,EAAGwnF,SAAWxnF,EAAGynF,SAC7B,IAAI/mF,EAAK1E,KAAK0E,GAAKmgF,EAAG7kF,MAUtB,GATAA,KAAK0rF,MAAQ,GACb1rF,KAAKyjF,EAAI,CACLn6D,UAAW,IAEftlB,EAAGsnF,KAAO5mF,EACVsgF,EAAItgF,GAAM1E,KACO,KAAbA,KAAK8K,OACL9K,KAAKi8C,IAAMovC,GAEXrrF,KAAK8K,OAAQ,CAACyZ,EAAG,EAAGq1B,KAAM,EAAG+xC,QAAS,EAAG5rB,OAAQ,GACjD,IAAK,IAAI6rB,KAAUpI,EAAM9lF,UAAe8lF,EAAM9lF,UAAUkN,GAAKghF,KACzD5rF,KAAK4rF,GAAUpI,EAAM9lF,UAAUkuF,IA4F3C,SAASC,EAASC,GACd9rF,KAAK87B,KAAOgwD,EA6BhB,SAASC,EAAK1vF,EAAMqE,GAChB,IAAI+hF,EAAMyC,EAAE7oF,GAGZ,OAFAqE,EAAOqO,YAAY0zE,GACV9kE,EAAK8kE,GAGlB,SAASe,EAAMnkE,EAAGgF,GACd,IAAIo+D,EACAliF,EACA29B,EACAtsB,EAAQ4xE,EAAM9lF,UAClB,GAAI2hB,GAAKA,EAAEmsE,SAAsC,OAA3BnsE,EAAEmsE,QAAQ/tC,cAAwB,CACpD,GAAIp+B,EAAEisE,QAAQtG,EACV,OAAOA,EAAI3lE,EAAEisE,MAEjB,IAAI/H,EAAMlkE,EAAE2sE,cAcZ,IAAK,IAAI3uF,KAbTolF,EAAM,IAAIY,EAAQhkE,GAClB9e,EAAO8e,EAAEkpD,qBAAqB,QAAQ,GACtCrqC,EAAO7e,EAAEkpD,qBAAqB,QAAQ,GACjChoE,KACDA,EAAO2kF,EAAE,SACJn2E,YAAYw0E,EAAI4B,eAAe,sBACpC1C,EAAI3mD,KAAK/sB,YAAYxO,IAEpB29B,IACDA,EAAOgnD,EAAE,QACTzC,EAAI3mD,KAAK/sB,YAAYmvB,IAEzBukD,EAAIvkD,KAAOA,EACKtsB,EAAWA,EAAMhH,GAAKvN,KAClColF,EAAIplF,GAAOuU,EAAMvU,IAErBolF,EAAI8I,MAAQ9I,EAAIpiE,KAAOoiE,OAGvByC,GADAzC,EAAMsJ,EAAK,MAAOzI,EAAKC,IAAIlgF,OACrBy4B,KAAM,CACRxzB,OAAQ+b,EACRrmB,QAAS,IACT6H,MAAOwZ,EACP0lE,MAAOA,IAGf,OAAOtC,EAEX,SAAS9kE,EAAKsuE,GACV,OAAKA,EAGDA,aAAe5I,GAAW4I,aAAeJ,EAClCI,EAEPA,EAAIT,SAAwC,OAA7BS,EAAIT,QAAQ/tC,cACpB,IAAI+lC,EAAMyI,GAEjBA,EAAIT,SAAwC,UAA7BS,EAAIT,QAAQ/tC,eAAyC,iBAAZwuC,EAAInhF,KACrD,IAAI04E,EAAMyI,EAAIC,gBAAgB3jB,qBAAqB,OAAO,IAE9D,IAAI8a,EAAQ4I,GAXRA,EA/Wfx5E,EAAKgxE,EAAE0I,YAfP,SAAqBnoF,GACjB,IAAIpG,EAAIoG,EAAG83B,KAAKsvD,iBAAmBztE,EAAK3Z,EAAG83B,KAAKsvD,kBACxCpnF,EAAG83B,KAAKF,YAAcje,EAAK3Z,EAAG83B,KAAKF,aACnCnpB,EAAKvL,OAAO,QACZuL,EAAK,EAAG,GACZ25E,EAAQxuF,EAAEsJ,OAAO,QACjBg3B,EAAiB,MAATkuD,GAAwBA,EAAMtwD,KAI1C,OAHKoC,IACDA,EAAO6tD,EAAK,OAAQnuF,EAAEk+B,MAAMA,MAEzBoC,GAMXzrB,EAAKgxE,EAAEoH,WAAaA,EAqGpBp4E,EAAKvL,OAAS,SAAUmlF,GAEpB,OADAA,EAAQxI,EAAIwI,GAAO9mF,QAAQ,YAAa,SACjCoY,EAAK2lE,EAAKC,IAAIp/E,cAAckoF,KAUvC55E,EAAK65E,UAAY,SAAUD,GAGvB,IAFA,IAAIE,EAAWjJ,EAAKC,IAAIzkD,iBAAiButD,GACrCvoF,GAAO2O,EAAK3O,KAAOvC,SACdzF,EAAI,EAAGA,EAAIywF,EAASjuF,OAAQxC,IACjCgI,EAAIsK,KAAKuP,EAAK4uE,EAASzwF,KAE3B,OAAOgI,GA2BXg7E,aAAY,WACR,IAAK,IAAIzhF,KAAO2nF,EAAK,GAAIA,EAAIp6E,GAAKvN,GAAM,CACpC,IAAI2G,EAAKghF,EAAI3nF,GACTy+B,EAAO93B,EAAG83B,MACC,OAAX93B,EAAG8G,OAAkBgxB,EAAKsvD,iBAA8B,OAAXpnF,EAAG8G,QAAmBgxB,EAAKF,YAAc,oBAAqBE,EAAKF,aAAeE,EAAKsvD,0BAC7HpG,EAAI3nF,MAGpB,KAyECgmF,EAAQ3lF,UAAU0J,KAAO,SAAU6gE,EAAQlrE,GACvC,IAAIiH,EAAKhE,KACL87B,EAAO93B,EAAG83B,KACd,IAAKmsC,EAAQ,CACT,GAAqB,GAAjBnsC,EAAKsnD,SACL,MAAO,CACHtmC,KAAMhhB,EAAKypD,WAKnB,IAFA,IAAIn+E,EAAO00B,EAAKouC,WACZl/D,EAAM,GACDlP,EAAI,EAAG6pF,EAAKv+E,EAAK9I,OAAQxC,EAAI6pF,EAAI7pF,IACtCkP,EAAI5D,EAAKtL,GAAG2vF,UAAYrkF,EAAKtL,GAAGypF,UAEpC,OAAOv6E,EAEX,GAAI+E,EAAGk4D,EAAQ,UAAW,CACtB,KAAI5pE,UAAUC,OAAS,GAKnB,OAAOkjF,IAAI,qBAAuBvZ,EAAQjkE,GAAIwoF,eAJ9C,IAAIC,EAAO,GACXA,EAAKxkB,GAAUlrE,EACfkrE,EAASwkB,EAKjB,IAAK,IAAIC,KAAOzkB,EACRA,EAAOr9D,GAAK8hF,IACZlL,IAAI,kBAAoBkL,EAAK1oF,EAAIikE,EAAOykB,IAGhD,OAAO1oF,GAWfyO,EAAKknB,MAAQ,SAAU5yB,GACnB,IAAIyF,EAAI82E,EAAKC,IAAIoJ,yBACbC,GAAO,EACPpkB,EAAM8a,EAAKC,IAAIh8E,cAAc,OAQjC,IAPAR,EAAM88E,EAAI98E,IACDyhF,MAAM,yBACXzhF,EAAM,QAAUA,EAAM,SACtB6lF,GAAO,GAEXpkB,EAAIzsC,UAAYh1B,EAChBA,EAAMyhE,EAAID,qBAAqB,OAAO,GAElC,GAAIqkB,EACApgF,EAAIzF,OAEJ,KAAOA,EAAI8lF,YACPrgF,EAAEuC,YAAYhI,EAAI8lF,YAI9B,OAAO,IAAIhB,EAASr/E,IAcxBiG,EAAKq6E,SAAW,WAGZ,IAFA,IAAIz3E,EAAO9T,MAAM7D,UAAU0S,MAAMnU,KAAKoC,UAAW,GAC7CmO,EAAI82E,EAAKC,IAAIoJ,yBACR7wF,EAAI,EAAG6pF,EAAKtwE,EAAK/W,OAAQxC,EAAI6pF,EAAI7pF,IAAK,CAC3C,IAAIiN,EAAOsM,EAAKvZ,GACZiN,EAAK+yB,MAAQ/yB,EAAK+yB,KAAKsnD,UACvB52E,EAAEuC,YAAYhG,EAAK+yB,MAEnB/yB,EAAKq6E,UACL52E,EAAEuC,YAAYhG,GAEC,iBAARA,GACPyD,EAAEuC,YAAY0D,EAAKknB,MAAM5wB,GAAM+yB,MAGvC,OAAO,IAAI+vD,EAASr/E,IA+DxBiG,EAAKgxE,EAAEsI,KAAOA,EACdt5E,EAAKgxE,EAAE9lE,KAAOA,EAwBd6lE,EAAM9lF,UAAUsG,GAAK,SAAU3H,EAAM+K,GACjC,IAAIpD,EAAK+nF,EAAK1vF,EAAM2D,KAAK87B,MAEzB,OADA10B,GAAQpD,EAAGoD,KAAKA,GACTpD,GASXq/E,EAAQ3lF,UAAUoL,SAAW,WAGzB,IAFA,IAAIkC,EAAM,GACNgzB,EAAKh+B,KAAK87B,KAAK6gC,WACV7gE,EAAI,EAAG6pF,EAAK3nD,EAAG1/B,OAAQxC,EAAI6pF,EAAI7pF,IACpCkP,EAAIlP,GAAK2W,EAAKurB,EAAGliC,IAErB,OAAOkP,GA2BXq4E,EAAQ3lF,UAAUqvF,OAAS,WACvB,IAAI/hF,EAAM,GAEV,OA5BJ,SAASgiF,EAAW3sE,EAAM9jB,GACtB,IAAK,IAAIT,EAAI,EAAG6pF,EAAKtlE,EAAK/hB,OAAQxC,EAAI6pF,EAAI7pF,IAAK,CAC3C,IAAIiN,EAAO,CACH+B,KAAMuV,EAAKvkB,GAAGgP,KACd1D,KAAMiZ,EAAKvkB,GAAGsL,QAElB0B,EAAWuX,EAAKvkB,GAAGgN,WACvBvM,EAAE6R,KAAKrF,GACHD,EAASxK,QACT0uF,EAAWlkF,EAAUC,EAAK4zD,WAAa,KAkB/CqwB,CAAW,CAAChtF,MAAOgL,GACZA,EAAI,IAGfw2E,IAAIyL,GAAG,qBAAqB,WACxB,IAAIP,EAAMlL,IAAI0L,KAEVC,GADJT,EAAMA,EAAIzY,UAAUyY,EAAI5iB,YAAY,KAAO,IAC7BvkE,QAAQ,UAAU,SAAU6nF,GACtC,MAAO,IAAMA,EAAO3vC,iBAExB,OAAI4vC,EAAQziF,GAAKuiF,GACNntF,KAAK87B,KAAKkwD,cAAclD,YAAYC,iBAAiB/oF,KAAK87B,KAAM,MAAMktD,iBAAiBmE,GAEvFjI,EAAEllF,KAAK87B,KAAM4wD,MAG5B,IAAIW,EAAU,CACV,qBAAsB,EACtB,iBAAkB,EAClB,KAAQ,EACR,YAAa,EACb,YAAa,EACb,MAAS,EACT,sBAAuB,EACvB,8BAA+B,EAC/B,gBAAiB,EACjB,kBAAmB,EACnB,OAAU,EACV,UAAa,EACb,QAAW,EACX,oBAAqB,EACrB,oBAAqB,EACrB,KAAQ,EACR,eAAgB,EAChB,YAAa,EACb,OAAU,EACV,cAAe,EACf,gBAAiB,EACjB,KAAQ,EACR,cAAe,EACf,YAAa,EACb,mBAAoB,EACpB,eAAgB,EAChB,aAAc,EACd,eAAgB,EAChB,cAAe,EACf,+BAAgC,EAChC,6BAA8B,EAC9B,kBAAmB,EACnB,QAAW,EACX,iBAAkB,EAClB,iBAAkB,EAClB,OAAU,EACV,aAAc,EACd,aAAc,EACd,eAAgB,EAChB,KAAQ,EACR,QAAW,EACX,SAAY,EACZ,iBAAkB,EAClB,kBAAmB,EACnB,aAAc,EACd,eAAgB,EAChB,OAAU,EACV,mBAAoB,EACpB,oBAAqB,EACrB,iBAAkB,EAClB,kBAAmB,EACnB,oBAAqB,EACrB,iBAAkB,EAClB,eAAgB,EAChB,cAAe,EACf,kBAAmB,EACnB,iBAAkB,EAClB,eAAgB,EAChB,WAAc,EACd,eAAgB,EAChB,eAAgB,GAGpB7L,IAAIyL,GAAG,kBAAkB,SAAUlwF,GAC/B,IAAI2vF,EAAMlL,IAAI0L,KACV9lF,EAAO,GAEXA,EADAslF,EAAMA,EAAIzY,UAAUyY,EAAI5iB,YAAY,KAAO,IAC/B/sE,EACZ,IAAIiI,EAAQ0nF,EAAInnF,QAAQ,WAAW,SAAU2gF,EAAKkH,GAC1C,OAAOA,EAAO3nF,iBAElB0nF,EAAMT,EAAInnF,QAAQ,UAAU,SAAU6nF,GAClC,MAAO,IAAMA,EAAO3vC,iBAExB4vC,EAAQziF,GAAKuiF,GACbntF,KAAK87B,KAAK92B,MAAMA,GAAkB,MAATjI,EA3mDzB,GA2mD6CA,EAE7CmoF,EAAEllF,KAAK87B,KAAM10B,MAGAo8E,EAAM9lF,UAmB3B+U,EAAK66E,KAAO,SAAUrI,EAAKsI,EAAUn2E,EAAUyuE,GAC3C,IAAI2H,EAAM,IAAIl4C,eACV5wC,EAAKmgF,IACT,GAAI2I,EAAK,CACL,GAAIz9E,EAAGw9E,EAAU,YACb1H,EAAQzuE,EACRA,EAAWm2E,EACXA,EAAW,UACR,GAAIx9E,EAAGw9E,EAAU,UAAW,CAC/B,IAAIE,EAAK,GACT,IAAK,IAAIpwF,KAAOkwF,EAAcA,EAAS5vF,eAAeN,IAClDowF,EAAGr/E,KAAKs/E,mBAAmBrwF,GAAO,IAAMqwF,mBAAmBH,EAASlwF,KAExEkwF,EAAWE,EAAGtkF,KAAK,KAgBvB,OAdAqkF,EAAIzlF,KAAKwlF,EAAW,OAAS,MAAOtI,GAAK,GACrCsI,IACAC,EAAIG,iBAAiB,mBAAoB,kBACzCH,EAAIG,iBAAiB,eAAgB,sCAErCv2E,IACAoqE,IAAIoM,KAAK,aAAelpF,EAAK,KAAM0S,GACnCoqE,IAAIoM,KAAK,aAAelpF,EAAK,OAAQ0S,GACrCoqE,IAAIoM,KAAK,aAAelpF,EAAK,OAAQ0S,IAEzCo2E,EAAI93C,mBAAqB,WACC,GAAlB83C,EAAI73C,YACR6rC,IAAI,aAAe98E,EAAK,IAAM8oF,EAAI53C,OAAQiwC,EAAO2H,IAE/B,GAAlBA,EAAI73C,WACG63C,GAEXA,EAAI/3C,KAAK83C,GACFC,KAaf/6E,EAAK2iC,KAAO,SAAU6vC,EAAK7tE,EAAUyuE,GACjCpzE,EAAK66E,KAAKrI,GAAK,SAAUuI,GACrB,IAAIhhF,EAAIiG,EAAKknB,MAAM6zD,EAAIr4C,cACvB0wC,EAAQzuE,EAASnb,KAAK4pF,EAAOr5E,GAAK4K,EAAS5K,OAmEnD,OAvCAiG,EAAKo7E,kBAAoB,SAAU7hE,EAAGC,GACtBjsB,KACI4yC,OADhB,IAEIx0C,EAASklF,EAAKC,IAAIuK,iBAAiB9hE,EAAGC,GAC1C,GAAIq3D,EAAKI,IAAIqK,OAA2B,OAAlB3vF,EAAOotF,QAAkB,CAC3C,IAAIz7C,EA9BI,SAAUpL,GACtB,IAAI6gC,EAAM7gC,EAAKqpD,wBACXzK,EAAM5+C,EAAKqnD,cACX3oF,EAAOkgF,EAAIlgF,KACX4qF,EAAU1K,EAAIhoE,gBACd2yE,EAAYD,EAAQC,WAAa7qF,EAAK6qF,WAAa,EAAGC,EAAaF,EAAQE,YAAc9qF,EAAK8qF,YAAc,EAGhH,MAAO,CACHliE,EAHOu5C,EAAI/iD,KAAQ8B,EAAEm/D,IAAI0K,aAAeH,EAAQI,WAAahrF,EAAKgrF,WAAcH,EAIhFliE,EAHOw5C,EAAI9iD,MAAQ6B,EAAEm/D,IAAI4K,aAAeL,EAAQM,YAAclrF,EAAKkrF,YAAcJ,GAuBxEK,CAAUpwF,GACfk4D,EAAKl4D,EAAOqwF,gBAChBn4B,EAAGtqC,EAAIA,EAAI+jB,EAAG/jB,EACdsqC,EAAGrqC,EAAIA,EAAI8jB,EAAG9jB,EACdqqC,EAAGzwD,MAAQywD,EAAGhuD,OAAS,EACvB,IAAIomF,EAAOtwF,EAAOuwF,oBAAoBr4B,EAAI,MACtCo4B,EAAKpwF,SACLF,EAASswF,EAAKA,EAAKpwF,OAAS,IAGpC,OAAKF,EAGEuf,EAAKvf,GAFD,MAmBfqU,EAAKurE,OAAS,SAAUxxE,GACpBA,EAAEiG,EAAM4wE,EAASG,EAAOF,EAAMuI,IAElCvI,EAAKI,IAAIjxE,KAAOA,EACTA,EArzDI,CAszDT3U,QAAUkC,MAeZyS,EAAKurE,QAAO,SAAUvrE,EAAM4wE,EAASG,EAAOF,EAAMuI,GAC9C,IAAI+C,EAAUvL,EAAQ3lF,UAClBqS,EAAK0C,EAAK1C,GACV8zE,EAAM9oE,OACN8zE,EAAUp8E,EAAKm4E,SACf1F,EAAIzyE,EAAKgxE,EAAEyB,EACX6G,EAAOt5E,EAAKgxE,EAAEsI,KACdI,EAAc15E,EAAKgxE,EAAE0I,YACrBvhF,EAAM,iBACN+S,EAAOlL,EAAKgxE,EAAE9lE,KA0BlBixE,EAAQ50B,QAAU,SAAU80B,GACxB,GAAiB,SAAb9uF,KAAK8K,KACL,OAAO2H,EAAKgxE,EAAEje,IAAIxlE,KAAK87B,KAAKizD,iBAAiBhmF,KAAK,IAEtD,IAAK0J,EAAK+U,SAAW/U,EAAK5L,KACtB,OAAO7G,KAAK87B,KAAKk+B,UAErB,IAAIh2D,EAAKhE,KACL9D,EAAI,IAAIuW,EAAK+U,OACjB,GAAIxjB,EAAGgrF,QACH,OAAOv8E,EAAKgxE,EAAEje,MAElB,KAAkB,OAAXxhE,EAAG8G,MAIN,GAHKgkF,IACD5yF,EAAIA,EAAE+/C,IAAIj4C,EAAGslB,YAAY2lE,YAAY/lE,UAAUllB,EAAGoD,KAAK,MAAQ,EAAGpD,EAAGoD,KAAK,MAAQ,KAElFpD,EAAGkrF,SACHlrF,EAAKA,EAAGkrF,aACL,CACH,IAAInwD,EAAO/6B,EAAGoD,KAAK,cACnBpD,EAAKA,EAAGkrF,SAAWlrF,EAAG83B,KAAKkwD,cAAchqF,eAAe+8B,EAAKk1C,UAAUl1C,EAAK3qB,QAAQ,KAAO,IAGnG,IAAIqvE,EAAIz/E,EAAGy/E,EACP0L,EAAa18E,EAAK5L,KAAKlK,IAAIqH,EAAG8G,OAAS2H,EAAK5L,KAAKlK,IAAIyyF,MACzD,IACI,OAAIN,GACArL,EAAE4L,OAASF,EAAa18E,EAAK5L,KAAKmzD,QAAQh2D,EAAGsrF,SAAWH,EAAWnrF,IAAOyO,EAAKgxE,EAAEje,IAAIxhE,EAAG83B,KAAKk+B,WACtFvnD,EAAKgxE,EAAEje,IAAIie,EAAE4L,UAEpBrrF,EAAGsrF,SAAWH,EAAWnrF,GACzBA,EAAGqsC,OAASrsC,EAAGslB,YAAY2lE,YAC3BxL,EAAExpB,KAAOxnD,EAAK5L,KAAKmzD,QAAQvnD,EAAK5L,KAAKgC,IAAI7E,EAAGsrF,SAAUpzF,EAAE+/C,IAAIj4C,EAAGqsC,UACxD59B,EAAKgxE,EAAEje,IAAIie,EAAExpB,OAE1B,MAAOj0D,GAEL,OAAOyM,EAAKgxE,EAAEje,QAGtB,IAAI+pB,EAAa,WACb,OAAOvvF,KAAK2J,QAEhB,SAAS6lF,EAAiBxrF,EAAIkmF,GAC1B,GAAY,MAARA,EAAc,CACd,IAAIuF,GAAW,EAQf,KANIvF,EADW,kBAAXlmF,EAAG8G,MAAuC,kBAAX9G,EAAG8G,KAC3B9G,EAAG83B,KAAKwpD,aAAa,qBACV,WAAXthF,EAAG8G,KACH9G,EAAG83B,KAAKwpD,aAAa,oBAErBthF,EAAG83B,KAAKwpD,aAAa,cAG5B,OAAO,IAAI7yE,EAAK+U,OAEpB0iE,EAAOz3E,EAAKgxE,EAAEwG,oBAAoBC,QAK9BA,EAHCz3E,EAAKgxE,EAAE0G,YAAYjqE,KAAKgqE,GAGlBrG,EAAIqG,GAAM3kF,QAAQ,gBAAiBvB,EAAGy/E,EAAEn6D,WAAa,IAFrD7W,EAAKgxE,EAAEwG,oBAAoBC,GAIlCn6E,EAAGm6E,EAAM,WACTA,EAAOz3E,EAAK5L,KAAO4L,EAAK5L,KAAK8G,SAAS1R,KAAKiuF,GAAQrG,EAAIqG,IAE3DlmF,EAAGy/E,EAAEn6D,UAAY4gE,EAErB,IAAIhuF,EAAIuW,EAAKgxE,EAAE2G,iBAAiBF,EAAMlmF,EAAGg2D,QAAQ,IACjD,GAAIy1B,EACA,OAAOvzF,EAEP8H,EAAGqsC,OAASn0C,EAuBpB0yF,EAAQtlE,UAAY,SAAU4gE,GAC1B,IAAIzG,EAAIzjF,KAAKyjF,EACb,GAAY,MAARyG,EAAc,CAUd,IATA,IAKIpuF,EALA4zF,EAAO1vF,KACPqK,EAAS,IAAIoI,EAAK+U,OAAOxnB,KAAK87B,KAAK6zD,UACnCC,EAAQJ,EAAiBxvF,MACzBkwD,EAAK,CAAC0/B,GACN1zF,EAAI,IAAIuW,EAAK+U,OAEbqoE,EAAcD,EAAME,oBACpBnmF,EAASk6E,EAAI+L,IAAU/L,EAAI7jF,KAAKqwC,QACpBwzC,EAAIJ,EAAEn6D,WAAaumE,EACf,OAAbH,EAAK5kF,OAAkB4kF,EAAOA,EAAKhvF,WACtCwvD,EAAG9hD,KAAKohF,EAAiBE,IAG7B,IADA5zF,EAAIo0D,EAAG5xD,OACAxC,KACHI,EAAE+/C,IAAIiU,EAAGp0D,IAEb,MAAO,CACH6N,OAAQA,EACRomF,aAAc1lF,EACd2lF,YAAa9zF,EACb+yF,YAAaW,EACbK,WAAY5lF,EAAOwhB,QAAQowB,IAAI2zC,EAAMjF,UACrCtgF,OAAQA,EAAOylF,oBACftS,MAAOthF,EAAE4zF,oBACTF,MAAOC,EACPliF,SAAU4hF,GAoBlB,OAjBIrF,aAAgBz3E,EAAK+U,QACrBxnB,KAAKqwC,OAAS65C,EACdlqF,KAAKyjF,EAAEn6D,UAAY4gE,EAAK4F,qBAExBN,EAAiBxvF,KAAMkqF,GAGvBlqF,KAAK87B,OACY,kBAAb97B,KAAK8K,MAAyC,kBAAb9K,KAAK8K,KACtCo6E,EAAEllF,KAAK87B,KAAM,CAACo0D,kBAAmBlwF,KAAKqwC,SAClB,WAAbrwC,KAAK8K,KACZo6E,EAAEllF,KAAK87B,KAAM,CAACq0D,iBAAkBnwF,KAAKqwC,SAErC60C,EAAEllF,KAAK87B,KAAM,CAACxS,UAAWtpB,KAAKqwC,UAI/BrwC,MAUX4uF,EAAQluF,OAAS,WACb,OAAOid,EAAK3d,KAAK87B,KAAKF,aAiB1BgzD,EAAQwB,OAASxB,EAAQ3yC,IAAM,SAAUj4C,GACrC,GAAIA,EAAI,CACJ,GAAe,OAAXA,EAAG8G,KAAe,CAClB,IAAI6B,EAAK3M,KAIT,OAHAgE,EAAGiT,SAAQ,SAAUjT,GACjB2I,EAAGsvC,IAAIj4C,MAEJhE,KAEXgE,EAAK2Z,EAAK3Z,GACVhE,KAAK87B,KAAK/sB,YAAY/K,EAAG83B,MACzB93B,EAAGunF,MAAQvrF,KAAKurF,MAEpB,OAAOvrF,MAWX4uF,EAAQyB,SAAW,SAAUrsF,GAKzB,OAJIA,IACAA,EAAK2Z,EAAK3Z,IACPosF,OAAOpwF,MAEPA,MAWX4uF,EAAQ0B,QAAU,SAAUtsF,GACxB,GAAIA,EAAI,CACJ,GAAe,OAAXA,EAAG8G,KAAe,CAClB,IACIk9D,EADAr7D,EAAK3M,KAUT,OARAgE,EAAGiT,SAAQ,SAAUjT,GACbgkE,EACAA,EAAMwf,MAAMxjF,GAEZ2I,EAAG2jF,QAAQtsF,GAEfgkE,EAAQhkE,KAELhE,KAGX,IAAIU,GADJsD,EAAK2Z,EAAK3Z,IACMtD,SAChBV,KAAK87B,KAAK6sB,aAAa3kD,EAAG83B,KAAM97B,KAAK87B,KAAK+wD,YAC1C7sF,KAAKi8C,KAAOj8C,KAAKi8C,MACjBj4C,EAAGunF,MAAQvrF,KAAKurF,MAChBvrF,KAAKU,UAAYV,KAAKU,SAASu7C,MAC/Bv7C,GAAUA,EAAOu7C,MAErB,OAAOj8C,MAWX4uF,EAAQ2B,UAAY,SAAUvsF,GAG1B,OAFAA,EAAK2Z,EAAK3Z,IACPssF,QAAQtwF,MACJA,MAWX4uF,EAAQrH,OAAS,SAAUvjF,GACvB,GAAe,OAAXA,EAAG8G,KAAe,CAClB,IAAI6B,EAAK3M,KAOT,OANAgE,EAAGiT,SAAQ,SAAUjT,GACjB,IAAItD,EAASsD,EAAGtD,SAChBiM,EAAGmvB,KAAKF,WAAW+sB,aAAa3kD,EAAG83B,KAAMnvB,EAAGmvB,MAC5Cp7B,GAAUA,EAAOu7C,SAErBj8C,KAAKU,SAASu7C,MACPj8C,KAGX,IAAIU,GADJsD,EAAK2Z,EAAK3Z,IACMtD,SAKhB,OAJAV,KAAK87B,KAAKF,WAAW+sB,aAAa3kD,EAAG83B,KAAM97B,KAAK87B,MAChD97B,KAAKU,UAAYV,KAAKU,SAASu7C,MAC/Bv7C,GAAUA,EAAOu7C,MACjBj4C,EAAGunF,MAAQvrF,KAAKurF,MACTvrF,MAWX4uF,EAAQpH,MAAQ,SAAUxjF,GAEtB,IAAItD,GADJsD,EAAK2Z,EAAK3Z,IACMtD,SAShB,OARIV,KAAK87B,KAAK00D,YACVxwF,KAAK87B,KAAKF,WAAW+sB,aAAa3kD,EAAG83B,KAAM97B,KAAK87B,KAAK00D,aAErDxwF,KAAK87B,KAAKF,WAAW7sB,YAAY/K,EAAG83B,MAExC97B,KAAKU,UAAYV,KAAKU,SAASu7C,MAC/Bv7C,GAAUA,EAAOu7C,MACjBj4C,EAAGunF,MAAQvrF,KAAKurF,MACTvrF,MAWX4uF,EAAQjmC,aAAe,SAAU3kD,GAC7BA,EAAK2Z,EAAK3Z,GACV,IAAItD,EAASV,KAAKU,SAKlB,OAJAsD,EAAG83B,KAAKF,WAAW+sB,aAAa3oD,KAAK87B,KAAM93B,EAAG83B,MAC9C97B,KAAKurF,MAAQvnF,EAAGunF,MAChB7qF,GAAUA,EAAOu7C,MACjBj4C,EAAGtD,UAAYsD,EAAGtD,SAASu7C,MACpBj8C,MAWX4uF,EAAQ6B,YAAc,SAAUzsF,GAC5BA,EAAK2Z,EAAK3Z,GACV,IAAItD,EAASV,KAAKU,SAKlB,OAJAsD,EAAG83B,KAAKF,WAAW+sB,aAAa3oD,KAAK87B,KAAM93B,EAAG83B,KAAK00D,aACnDxwF,KAAKurF,MAAQvnF,EAAGunF,MAChB7qF,GAAUA,EAAOu7C,MACjBj4C,EAAGtD,UAAYsD,EAAGtD,SAASu7C,MACpBj8C,MASX4uF,EAAQ8B,OAAS,WACb,IAAIhwF,EAASV,KAAKU,SAKlB,OAJAV,KAAK87B,KAAKF,YAAc57B,KAAK87B,KAAKF,WAAWmE,YAAY//B,KAAK87B,aACvD97B,KAAKurF,MACZvrF,KAAKgvF,SAAU,EACftuF,GAAUA,EAAOu7C,MACVj8C,MAWX4uF,EAAQ1nF,OAAS,SAAUmlF,GACvB,OAAO1uE,EAAK3d,KAAK87B,KAAK33B,cAAckoF,KAWxCuC,EAAQtC,UAAY,SAAUD,GAG1B,IAFA,IAAIE,EAAWvsF,KAAK87B,KAAKgD,iBAAiButD,GACtCvoF,GAAO2O,EAAK3O,KAAOvC,SACdzF,EAAI,EAAGA,EAAIywF,EAASjuF,OAAQxC,IACjCgI,EAAIsK,KAAKuP,EAAK4uE,EAASzwF,KAE3B,OAAOgI,GAYX8qF,EAAQ+B,KAAO,SAAUvpF,EAAMrK,GAI3B,OAHa,MAATA,IACAA,EAAQiD,KAAKoH,KAAKA,KAEdynF,EAAQ7uF,KAAMoH,EAAMrK,IAWhC6xF,EAAQgC,IAAM,WACV,IAAIA,EACAlsF,EAAK1E,KAAK87B,KAAKp3B,GAiBnB,OAhBKA,IACDA,EAAK1E,KAAK0E,GACVwgF,EAAEllF,KAAK87B,KAAM,CACTp3B,GAAIA,KAKRksF,EAFa,kBAAb5wF,KAAK8K,MAAyC,kBAAb9K,KAAK8K,MACzB,WAAb9K,KAAK8K,KACCihF,EAAK/rF,KAAK8K,KAAM9K,KAAK87B,KAAKF,YAE1BmwD,EAAK,MAAO/rF,KAAK87B,KAAKF,YAEhCspD,EAAE0L,EAAI90D,KAAM,CACR,aAAc,IAAMp3B,IAExBksF,EAAI1B,SAAWlvF,KACR4wF,GAwEXhC,EAAQ/iE,MAAQ,WACZ,IAAIA,EAAQlO,EAAK3d,KAAK87B,KAAK+0D,WAAU,IAMrC,OALI3L,EAAEr5D,EAAMiQ,KAAM,OACdopD,EAAEr5D,EAAMiQ,KAAM,CAACp3B,GAAImnB,EAAMnnB,KAzEjC,SAAgBV,GACZ,IACI2I,EADAmkF,EAAM9sF,EAAGsoF,UAAU,KAEnBrH,EAAM,8BACN8L,EAAM,GACNC,EAAO,GACX,SAASC,EAAQtkF,EAAItQ,GACjB,IAAIyR,EAAMo3E,EAAEv4E,EAAGmvB,KAAMz/B,IAErByR,GADAA,EAAMA,GAAOA,EAAI06E,MAAMvD,KACVn3E,EAAI,KACU,KAAhBA,EAAItI,WACXsI,EAAMA,EAAImmE,UAAU,MAKpB+c,EAAKljF,IAAQkjF,EAAKljF,IAAQ,IAAIJ,QAAO,SAAUhJ,GAC3C,IAAI0C,EAAO,GACXA,EAAK/K,GAAQoW,EAAKwyE,IAAIvgF,GACtBwgF,EAAEv4E,EAAGmvB,KAAM10B,OAIvB,SAAS8pF,EAASvkF,GACd,IAAImB,EAAMo3E,EAAEv4E,EAAGmvB,KAAM,cACjBhuB,GAAuB,KAAhBA,EAAItI,WACXsI,EAAMA,EAAImmE,UAAU,MAKpB+c,EAAKljF,IAAQkjF,EAAKljF,IAAQ,IAAIJ,QAAO,SAAUhJ,GAC3CiI,EAAGvF,KAAK,aAAc,IAAM1C,OAIxC,IAAK,IAAI5I,EAAI,EAAG6pF,EAAKmL,EAAIxyF,OAAQxC,EAAI6pF,EAAI7pF,IAAK,CAE1Cm1F,EADAtkF,EAAKmkF,EAAIh1F,GACG,QACZm1F,EAAQtkF,EAAI,UACZskF,EAAQtkF,EAAI,UACZskF,EAAQtkF,EAAI,QACZskF,EAAQtkF,EAAI,aACZukF,EAASvkF,GACT,IAAIwkF,EAAQjM,EAAEv4E,EAAGmvB,KAAM,MACnBq1D,IACAjM,EAAEv4E,EAAGmvB,KAAM,CAACp3B,GAAIiI,EAAGjI,KACnBqsF,EAAI3iF,KAAK,CACLgjF,IAAKD,EACLzsF,GAAIiI,EAAGjI,MAInB,IAAK5I,EAAI,EAAG6pF,EAAKoL,EAAIzyF,OAAQxC,EAAI6pF,EAAI7pF,IAAK,CACtC,IAAIo7C,EAAK85C,EAAKD,EAAIj1F,GAAGs1F,KACrB,GAAIl6C,EACA,IAAK,IAAIv9B,EAAI,EAAG+oE,EAAKxrC,EAAG54C,OAAQqb,EAAI+oE,EAAI/oE,IACpCu9B,EAAGv9B,GAAGo3E,EAAIj1F,GAAG4I,KAkBzB2sF,CAAOxlE,GACPA,EAAM4kE,YAAYzwF,MACX6rB,GAUX+iE,EAAQ0C,OAAS,WAGb,OAFWnF,EAAYnsF,MAClB+O,YAAY/O,KAAK87B,MACf97B,MAyBX4uF,EAAQjD,QAAUiD,EAAQ2C,UAAY,SAAUvlE,EAAGC,EAAGpmB,EAAOyC,GACzD,IAAI1K,EAAImuF,EAAK,UAAWI,EAAYnsF,OAoBpC,OAnBS,MAALgsB,IACAA,EAAIhsB,KAAKg6D,WAETjqD,EAAGic,EAAG,WAAa,MAAOA,IAC1BC,EAAID,EAAEC,EACNpmB,EAAQmmB,EAAEnmB,MACVyC,EAAS0jB,EAAE1jB,OACX0jB,EAAIA,EAAEA,GAEVk5D,EAAEtnF,EAAEk+B,KAAM,CACN9P,EAAGA,EACHC,EAAGA,EACHpmB,MAAOA,EACPyC,OAAQA,EACRkpF,aAAc,iBACd9sF,GAAI9G,EAAE8G,GACN6D,QAAS,CAACyjB,EAAGC,EAAGpmB,EAAOyC,GAAQa,KAAK,OAExCvL,EAAEk+B,KAAK/sB,YAAY/O,KAAK87B,MACjBl+B,GAqBXgxF,EAAQ6C,OAAS,SAAUzlE,EAAGC,EAAGpmB,EAAOyC,EAAQopF,EAAMC,GAClD,IAAI/zF,EAAImuF,EAAK,SAAUI,EAAYnsF,OAsBnC,OArBS,MAALgsB,IACAA,EAAIhsB,KAAKg6D,WAETjqD,EAAGic,EAAG,WAAa,MAAOA,IAC1BC,EAAID,EAAEC,EACNpmB,EAAQmmB,EAAEnmB,MACVyC,EAAS0jB,EAAE1jB,OACXopF,EAAO1lE,EAAE0lE,MAAQ1lE,EAAE4lE,GACnBD,EAAO3lE,EAAE2lE,MAAQ3lE,EAAE6lE,GACnB7lE,EAAIA,EAAEA,GAEVk5D,EAAEtnF,EAAEk+B,KAAM,CACNvzB,QAAS,CAACyjB,EAAGC,EAAGpmB,EAAOyC,GAAQa,KAAK,KACpC2oF,YAAajsF,EACbksF,aAAczpF,EACd0pF,OAAQ,OACRN,KAAMA,GAAQ,EACdC,KAAMA,GAAQ,EACdjtF,GAAI9G,EAAE8G,KAEV9G,EAAEk+B,KAAK/sB,YAAY/O,KAAK87B,MACjBl+B,GAEX,IAAIq0F,EAAS,GAqFb,SAAStkF,EAAS7C,GACd,OAAO,WACH,IAAI23E,EAAM33E,EAAO,IAAM9K,KAAK8K,KAAO,GAC/B1D,EAAOpH,KAAK87B,KAAKouC,WACjBgoB,EAAOlyF,KAAK87B,KAAK6gC,WACrB,GAAI7xD,EACA,IAAK,IAAIhP,EAAI,EAAG6pF,EAAKv+E,EAAK9I,OAAQxC,EAAI6pF,EAAI7pF,IACtC2mF,GAAO,IAAMr7E,EAAKtL,GAAGO,KAAO,KACpB+K,EAAKtL,GAAGiB,MAAMwI,QAAQ,KAAM,OAAS,IAGrD,GAAI2sF,EAAK5zF,OAAQ,CAEb,IADAwM,IAAS23E,GAAO,KACX3mF,EAAI,EAAG6pF,EAAKuM,EAAK5zF,OAAQxC,EAAI6pF,EAAI7pF,IACV,GAApBo2F,EAAKp2F,GAAGsnF,SACRX,GAAOyP,EAAKp2F,GAAGypF,UACY,GAApB2M,EAAKp2F,GAAGsnF,WACfX,GAAO9kE,EAAKu0E,EAAKp2F,IAAI6R,YAG7B7C,IAAS23E,GAAO,KAAOziF,KAAK8K,KAAO,UAEnCA,IAAS23E,GAAO,MAEpB,OAAOA,GArFfmM,EAAQj0D,KAAO,SAAUt9B,EAAKN,GAC1B,IAAI49B,EAAOs3D,EAAOjyF,KAAK0E,IAAMutF,EAAOjyF,KAAK0E,KAAO,GAChD,GAAwB,GAApBrG,UAAUC,OAEV,OADAkjF,IAAI,iBAAmBxhF,KAAK0E,GAAI1E,KAAM26B,EAAM,MACrCA,EAEX,GAAwB,GAApBt8B,UAAUC,OAAa,CACvB,GAAImU,EAAK1C,GAAG1S,EAAK,UAAW,CACxB,IAAK,IAAIvB,KAAKuB,EAASA,EAAIuN,GAAK9O,IAC5BkE,KAAK26B,KAAK7+B,EAAGuB,EAAIvB,IAErB,OAAOkE,KAGX,OADAwhF,IAAI,iBAAmBxhF,KAAK0E,GAAI1E,KAAM26B,EAAKt9B,GAAMA,GAC1Cs9B,EAAKt9B,GAIhB,OAFAs9B,EAAKt9B,GAAON,EACZykF,IAAI,iBAAmBxhF,KAAK0E,GAAI1E,KAAMjD,EAAOM,GACtC2C,MAWX4uF,EAAQuD,WAAa,SAAU90F,GAM3B,OALW,MAAPA,EACA40F,EAAOjyF,KAAK0E,IAAM,GAElButF,EAAOjyF,KAAK0E,YAAcutF,EAAOjyF,KAAK0E,IAAIrH,GAEvC2C,MAiBX4uF,EAAQwD,SAAWxD,EAAQjhF,SAAWA,EAAS,GAQ/CihF,EAAQyD,SAAW1kF,IA4BnBihF,EAAQ0D,UAAY,WAChB,GAAIx0F,QAAUA,OAAOy0F,KAAM,CACvB,IAAIjI,EAAKtqF,KAAKg6D,UACVjzD,EAAM0L,EAAKwzE,OAAO,yLAA0L,CAC5Mj6D,GAAIs+D,EAAGt+D,EAAE68D,QAAQ,GACjB58D,GAAIq+D,EAAGr+D,EAAE48D,QAAQ,GACjBhjF,OAAQykF,EAAGzkF,MAAMgjF,QAAQ,GACzBvgF,QAASgiF,EAAGhiF,OAAOugF,QAAQ,GAC3B2J,SAAUxyF,KAAKoyF,aAEnB,MAAO,6BAA+BG,KAAKE,SAAS/E,mBAAmB3mF,OAS/E8kF,EAASnuF,UAAUwJ,OAAS0nF,EAAQ1nF,OAOpC2kF,EAASnuF,UAAU4uF,UAAYsC,EAAQtC,aAgB3C75E,EAAKurE,QAAO,SAAUvrE,EAAM4wE,EAASG,EAAOF,EAAMuI,GAC9C,IAAI1H,EAAiB3nF,OAAOkB,UAAUiQ,SAClCk2E,EAAM9oE,OACN+S,EAAOxjB,KAEX,SAASkd,EAAO/c,EAAGsB,EAAG5P,EAAGC,EAAG4J,EAAGwG,GAC3B,GAAS,MAALT,GAAuC,sBAA1Bo4E,EAAeloF,KAAKwO,GAOjC,OANAzK,KAAKyK,EAAIA,EAAEA,EACXzK,KAAK+L,EAAItB,EAAEsB,EACX/L,KAAK7D,EAAIsO,EAAEtO,EACX6D,KAAK5D,EAAIqO,EAAErO,EACX4D,KAAKgG,EAAIyE,EAAEzE,OACXhG,KAAKwM,EAAI/B,EAAE+B,GAGN,MAAL/B,GACAzK,KAAKyK,GAAKA,EACVzK,KAAK+L,GAAKA,EACV/L,KAAK7D,GAAKA,EACV6D,KAAK5D,GAAKA,EACV4D,KAAKgG,GAAKA,EACVhG,KAAKwM,GAAKA,IAEVxM,KAAKyK,EAAI,EACTzK,KAAK+L,EAAI,EACT/L,KAAK7D,EAAI,EACT6D,KAAK5D,EAAI,EACT4D,KAAKgG,EAAI,EACThG,KAAKwM,EAAI,IAGjB,SAAWkmF,GA4MP,SAASC,EAAKloF,GACV,OAAOA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAElC,SAASokE,EAAUpkE,GACf,IAAI67D,EAAMx4C,EAAKzM,KAAKsxE,EAAKloF,IACzBA,EAAE,KAAOA,EAAE,IAAM67D,GACjB77D,EAAE,KAAOA,EAAE,IAAM67D,GAnMrBosB,EAAYz2C,IAAM,SAAUxxC,EAAGsB,EAAG5P,EAAGC,EAAG4J,EAAGwG,GACvC,GAAI/B,GAAKA,aAAa+c,EAClB,OAAOxnB,KAAKi8C,IAAIxxC,EAAEA,EAAGA,EAAEsB,EAAGtB,EAAEtO,EAAGsO,EAAErO,EAAGqO,EAAEzE,EAAGyE,EAAE+B,GAE/C,IAAIomF,EAAOnoF,EAAIzK,KAAKyK,EAAIsB,EAAI/L,KAAK7D,EAC7B02F,EAAOpoF,EAAIzK,KAAK+L,EAAIA,EAAI/L,KAAK5D,EAQjC,OAPA4D,KAAKgG,GAAKA,EAAIhG,KAAKyK,EAAI+B,EAAIxM,KAAK7D,EAChC6D,KAAKwM,GAAKxG,EAAIhG,KAAK+L,EAAIS,EAAIxM,KAAK5D,EAChC4D,KAAK7D,EAAIA,EAAI6D,KAAKyK,EAAIrO,EAAI4D,KAAK7D,EAC/B6D,KAAK5D,EAAID,EAAI6D,KAAK+L,EAAI3P,EAAI4D,KAAK5D,EAE/B4D,KAAKyK,EAAImoF,EACT5yF,KAAK+L,EAAI8mF,EACF7yF,MAgBXwnB,EAAO9pB,UAAUo1F,SAAW,SAAUroF,EAAGsB,EAAG5P,EAAGC,EAAG4J,EAAGwG,GACjD,GAAI/B,GAAKA,aAAa+c,EAClB,OAAOxnB,KAAK8yF,SAASroF,EAAEA,EAAGA,EAAEsB,EAAGtB,EAAEtO,EAAGsO,EAAErO,EAAGqO,EAAEzE,EAAGyE,EAAE+B,GAEpD,IAAIomF,EAAOnoF,EAAIzK,KAAKyK,EAAItO,EAAI6D,KAAK+L,EAC7BgnF,EAAOtoF,EAAIzK,KAAK7D,EAAIA,EAAI6D,KAAK5D,EAC7B42F,EAAOvoF,EAAIzK,KAAKgG,EAAI7J,EAAI6D,KAAKwM,EAAIxG,EAQrC,OAPAhG,KAAK+L,EAAIA,EAAI/L,KAAKyK,EAAIrO,EAAI4D,KAAK+L,EAC/B/L,KAAK5D,EAAI2P,EAAI/L,KAAK7D,EAAIC,EAAI4D,KAAK5D,EAC/B4D,KAAKwM,EAAIT,EAAI/L,KAAKgG,EAAI5J,EAAI4D,KAAKwM,EAAIA,EAEnCxM,KAAKyK,EAAImoF,EACT5yF,KAAK7D,EAAI42F,EACT/yF,KAAKgG,EAAIgtF,EACFhzF,MASX0yF,EAAY/H,OAAS,WACjB,IAAIx8D,EAAKnuB,KACLgsB,EAAImC,EAAG1jB,EAAI0jB,EAAG/xB,EAAI+xB,EAAGpiB,EAAIoiB,EAAGhyB,EAChC,OAAO,IAAIqrB,EAAO2G,EAAG/xB,EAAI4vB,GAAImC,EAAGpiB,EAAIigB,GAAImC,EAAGhyB,EAAI6vB,EAAGmC,EAAG1jB,EAAIuhB,GAAImC,EAAGhyB,EAAIgyB,EAAG3hB,EAAI2hB,EAAG/xB,EAAI+xB,EAAGnoB,GAAKgmB,GAAImC,EAAGpiB,EAAIoiB,EAAGnoB,EAAImoB,EAAG1jB,EAAI0jB,EAAG3hB,GAAKwf,IAS/H0mE,EAAY7mE,MAAQ,WAChB,OAAO,IAAIrE,EAAOxnB,KAAKyK,EAAGzK,KAAK+L,EAAG/L,KAAK7D,EAAG6D,KAAK5D,EAAG4D,KAAKgG,EAAGhG,KAAKwM,IAUnEkmF,EAAYxpE,UAAY,SAAU8C,EAAGC,GAGjC,OAFAjsB,KAAKgG,GAAKgmB,EAAIhsB,KAAKyK,EAAIwhB,EAAIjsB,KAAK7D,EAChC6D,KAAKwM,GAAKwf,EAAIhsB,KAAK+L,EAAIkgB,EAAIjsB,KAAK5D,EACzB4D,MAaX0yF,EAAY3pE,MAAQ,SAAUiD,EAAGC,EAAG2lE,EAAIC,GAQpC,OAPK,MAAL5lE,IAAcA,EAAID,IACjB4lE,GAAMC,IAAO7xF,KAAKkpB,UAAU0oE,EAAIC,GACjC7xF,KAAKyK,GAAKuhB,EACVhsB,KAAK+L,GAAKigB,EACVhsB,KAAK7D,GAAK8vB,EACVjsB,KAAK5D,GAAK6vB,GACT2lE,GAAMC,IAAO7xF,KAAKkpB,WAAW0oE,GAAKC,GAC5B7xF,MAWX0yF,EAAYzqE,OAAS,SAAUxd,EAAGuhB,EAAGC,GACjCxhB,EAAIgI,EAAKm4B,IAAIngC,GACbuhB,EAAIA,GAAK,EACTC,EAAIA,GAAK,EACT,IAAIvE,GAAOoG,EAAKpG,IAAIjd,GAAGo+E,QAAQ,GAC3BjhE,GAAOkG,EAAKlG,IAAInd,GAAGo+E,QAAQ,GAE/B,OADA7oF,KAAKi8C,IAAIv0B,EAAKE,GAAMA,EAAKF,EAAKsE,EAAGC,GAC1BjsB,KAAKi8C,IAAI,EAAG,EAAG,EAAG,GAAIjwB,GAAIC,IASrCymE,EAAYO,MAAQ,SAAUjnE,GAC1B,OAAOhsB,KAAK2oB,KAAKqD,EAAG,IASxB0mE,EAAYQ,MAAQ,SAAUjnE,GAC1B,OAAOjsB,KAAK2oB,KAAK,EAAGsD,IAUxBymE,EAAY/pE,KAAO,SAAUqD,EAAGC,GAC5BD,EAAIA,GAAK,EACTC,EAAIA,GAAK,EACTD,EAAIvZ,EAAKm4B,IAAI5e,GACbC,EAAIxZ,EAAKm4B,IAAI3e,GACb,IAAI9vB,EAAI2xB,EAAKhG,IAAIkE,GAAG68D,QAAQ,GACxB98E,EAAI+hB,EAAKhG,IAAImE,GAAG48D,QAAQ,GAC5B,OAAO7oF,KAAKi8C,IAAI,EAAGlwC,EAAG5P,EAAG,EAAG,EAAG,IAWnCu2F,EAAY1mE,EAAI,SAAUA,EAAGC,GACzB,OAAOD,EAAIhsB,KAAKyK,EAAIwhB,EAAIjsB,KAAK7D,EAAI6D,KAAKgG,GAW1C0sF,EAAYzmE,EAAI,SAAUD,EAAGC,GACzB,OAAOD,EAAIhsB,KAAK+L,EAAIkgB,EAAIjsB,KAAK5D,EAAI4D,KAAKwM,GAE1CkmF,EAAY/1F,IAAM,SAAUb,GACxB,OAAQkE,KAAK6jF,EAAIl1D,aAAa,GAAK7yB,IAAI+sF,QAAQ,IAEnD6J,EAAY/kF,SAAW,WACnB,MAAO,UAAY,CAAC3N,KAAKrD,IAAI,GAAIqD,KAAKrD,IAAI,GAAIqD,KAAKrD,IAAI,GAAIqD,KAAKrD,IAAI,GAAIqD,KAAKrD,IAAI,GAAIqD,KAAKrD,IAAI,IAAIwM,OAAS,KAE/GupF,EAAY9tE,OAAS,WACjB,MAAO,CAAC5kB,KAAKgG,EAAE6iF,QAAQ,GAAI7oF,KAAKwM,EAAEq8E,QAAQ,KAiB9C6J,EAAYnmE,YAAc,WACtB,OAAOvsB,KAAKyK,EAAIzK,KAAK5D,EAAI4D,KAAK+L,EAAI/L,KAAK7D,GAgB3Cu2F,EAAYpkF,MAAQ,WAChB,IAAItD,EAAM,GAEVA,EAAIw7E,GAAKxmF,KAAKgG,EACdgF,EAAIy7E,GAAKzmF,KAAKwM,EAGd,IAAI2mF,EAAM,CAAC,CAACnzF,KAAKyK,EAAGzK,KAAK+L,GAAI,CAAC/L,KAAK7D,EAAG6D,KAAK5D,IAC3C4O,EAAIooF,OAAStlE,EAAKzM,KAAKsxE,EAAKQ,EAAI,KAChCtkB,EAAUskB,EAAI,IAEdnoF,EAAIwd,MAAQ2qE,EAAI,GAAG,GAAKA,EAAI,GAAG,GAAKA,EAAI,GAAG,GAAKA,EAAI,GAAG,GACvDA,EAAI,GAAK,CAACA,EAAI,GAAG,GAAKA,EAAI,GAAG,GAAKnoF,EAAIwd,MAAO2qE,EAAI,GAAG,GAAKA,EAAI,GAAG,GAAKnoF,EAAIwd,OAEzExd,EAAIqoF,OAASvlE,EAAKzM,KAAKsxE,EAAKQ,EAAI,KAChCtkB,EAAUskB,EAAI,IACdnoF,EAAIwd,OAASxd,EAAIqoF,OAEbrzF,KAAKusB,cAAgB,IACrBvhB,EAAIooF,QAAUpoF,EAAIooF,QAItB,IAAIxrE,EAAMurE,EAAI,GAAG,GACbzrE,EAAMyrE,EAAI,GAAG,GAajB,OAZIzrE,EAAM,GACN1c,EAAIid,OAASxV,EAAKuzE,IAAIl4D,EAAK4V,KAAKhc,IAC5BE,EAAM,IACN5c,EAAIid,OAAS,IAAMjd,EAAIid,SAG3Bjd,EAAIid,OAASxV,EAAKuzE,IAAIl4D,EAAK8U,KAAKhb,IAGpC5c,EAAIsoF,YAAatoF,EAAIwd,MAAMqgE,QAAQ,IAAO79E,EAAIooF,OAAOvK,QAAQ,IAAM79E,EAAIqoF,OAAOxK,QAAQ,IAAO79E,EAAIid,QACjGjd,EAAIuoF,gBAAkBvoF,EAAIwd,MAAMqgE,QAAQ,IAAM79E,EAAIooF,OAAOvK,QAAQ,IAAM79E,EAAIqoF,OAAOxK,QAAQ,KAAO79E,EAAIid,OACrGjd,EAAIwoF,aAAexoF,EAAIwd,MAAMqgE,QAAQ,KAAO79E,EAAIid,OACzCjd,GASX0nF,EAAY5C,kBAAoB,SAAU2D,GACtC,IAAI51F,EAAI41F,GAAWzzF,KAAKsO,QACxB,OAAMzQ,EAAE2qB,MAAMqgE,QAAQ,GAQX,IAAM,CAAC7oF,KAAKrD,IAAI,GAAIqD,KAAKrD,IAAI,GAAIqD,KAAKrD,IAAI,GAAIqD,KAAKrD,IAAI,GAAIqD,KAAKrD,IAAI,GAAIqD,KAAKrD,IAAI,KAPxFkB,EAAEu1F,QAAUv1F,EAAEu1F,OAAOvK,QAAQ,GAC7BhrF,EAAEw1F,QAAUx1F,EAAEw1F,OAAOxK,QAAQ,GAC7BhrF,EAAEoqB,QAAUpqB,EAAEoqB,OAAO4gE,QAAQ,IACpBhrF,EAAE2oF,IAAM3oF,EAAE4oF,GAAK,IAAM,EAAE5oF,EAAE2oF,GAAGqC,QAAQ,IAAKhrF,EAAE4oF,GAAGoC,QAAQ,IA3TnE,KA4TahrF,EAAEoqB,OAAS,IAAM,EAAEpqB,EAAEoqB,OAAO4gE,QAAQ,GAAI,EAAG,GA5TxD,KA6TyB,GAAZhrF,EAAEu1F,QAA2B,GAAZv1F,EAAEw1F,OAAc,IAAM,CAACx1F,EAAEu1F,OAAQv1F,EAAEw1F,OAAQ,EAAG,GA7T5E,MA2BR,CAuSG7rE,EAAO9pB,WAQV+U,EAAK+U,OAASA,EAkBd/U,EAAK49B,OAAS,SAAU5lC,EAAGsB,EAAG5P,EAAGC,EAAG4J,EAAGwG,GACnC,OAAO,IAAIgb,EAAO/c,EAAGsB,EAAG5P,EAAGC,EAAG4J,EAAGwG,OAiBzCiG,EAAKurE,QAAO,SAAUvrE,EAAM4wE,EAASG,EAAOF,EAAMuI,GAC9C,IA8CW6H,EA7CP3H,EAAOt5E,EAAKgxE,EAAEsI,KACdpuE,EAAOlL,EAAKgxE,EAAE9lE,KACd5N,EAAK0C,EAAK1C,GACVo8E,EAAc15E,EAAKgxE,EAAE0I,YACrBwH,EAAa,4BACbzO,EAAIzyE,EAAKgxE,EAAEyB,EACX0O,EAAMnhF,EAAKwyE,IACXpB,EAAM9oE,OACNupE,EAAY7xE,EAAKgxE,EAAEa,UAqEvB,SAASuP,EAAWx3F,GAChB,OAAO,SAAUU,GAUb,GATAykF,IAAI7qE,OACA5Z,aAAiB8uF,GAA4C,GAAhC9uF,EAAM++B,KAAK6gC,WAAWr+D,SACjB,kBAAjCvB,EAAM++B,KAAK+wD,WAAWrB,SACU,kBAAjCzuF,EAAM++B,KAAK+wD,WAAWrB,SACW,WAAjCzuF,EAAM++B,KAAK+wD,WAAWrB,WACtBzuF,EAAQA,EAAM++B,KAAK+wD,WACnBV,EAAYnsF,MAAM+O,YAAYhS,GAC9BA,EAAQ4gB,EAAK5gB,IAEbA,aAAiBsmF,EACjB,GAAkB,kBAAdtmF,EAAM+N,MAA0C,kBAAd/N,EAAM+N,MACxB,WAAd/N,EAAM+N,KAAmB,CACtB/N,EAAM++B,KAAKp3B,IACZwgF,EAAEnoF,EAAM++B,KAAM,CACVp3B,GAAI3H,EAAM2H,KAGlB,IAAIk6D,EAAOg1B,EAAI72F,EAAM++B,KAAKp3B,SAE1Bk6D,EAAO7hE,EAAMqK,KAAK/K,QAItB,IADAuiE,EAAOnsD,EAAKkS,MAAM5nB,IACToI,MAAO,CACZ,IAAI2uF,EAAOrhF,EAAK05E,EAAYnsF,MAAMorF,iBAAiB2I,SAASh3F,GACxD+2F,GACKA,EAAKh4D,KAAKp3B,IACXwgF,EAAE4O,EAAKh4D,KAAM,CACTp3B,GAAIovF,EAAKpvF,KAGjBk6D,EAAOg1B,EAAIE,EAAKh4D,KAAKp3B,KAErBk6D,EAAO7hE,OAGX6hE,EAAOilB,EAAIjlB,GAGnB,IAAIo1B,EAAQ,GACZA,EAAM33F,GAAQuiE,EACdsmB,EAAEllF,KAAK87B,KAAMk4D,GACbh0F,KAAK87B,KAAK92B,MAAM3I,GAhHhB,IASRoW,EAAKwhF,MAAQ,SAAUl3F,GACnB,IAAI0lF,EAAM1nE,OAAOhe,GAAOyrF,MAAMmL,GAC9B,OAAOlR,EAAMA,EAAI,GAAK1lF,GAG1BykF,IAAIyL,GAAG,uBAAuB,SAAUlwF,GACpC,GAAIA,aAAiBsmF,GAAWtmF,aAAiB8uF,EAAU,CAOvD,GANArK,IAAI7qE,OACA5Z,aAAiB8uF,GAA4C,GAAhC9uF,EAAM++B,KAAK6gC,WAAWr+D,SACnDvB,EAAQA,EAAM++B,KAAK+wD,WACnBV,EAAYnsF,MAAM+O,YAAYhS,GAC9BA,EAAQ4gB,EAAK5gB,IAEC,QAAdA,EAAM+N,KACN,IAAI8uC,EAAO78C,OAEX68C,EAAOmyC,EAAK,OAAQI,EAAYnsF,QAC3B87B,KAAK/sB,YAAYhS,EAAM++B,OAE/B8d,EAAK9d,KAAKp3B,IAAMwgF,EAAEtrC,EAAK9d,KAAM,CAC1Bp3B,GAAIk1C,EAAKl1C,KAEbwgF,EAAEllF,KAAK87B,KAAM,CACT8d,KAAMg6C,EAAIh6C,EAAKl1C,UAIhBgvF,EAIT,SAAU32F,GACR,GAAIA,aAAiBsmF,GAAWtmF,aAAiB8uF,EAAU,CACvDrK,IAAI7qE,OAGJ,IAFA,IAAIo0C,EACAjvB,EAAO/+B,EAAM++B,KACVA,GAAM,CACT,GAAsB,aAAlBA,EAAK2vD,SAAyB,CAC9B1gC,EAAO,IAAIs4B,EAAQvnD,GACnB,MAEJ,GAAsB,QAAlBA,EAAK2vD,SAAoB,CACzB1gC,OAAOtqD,EACP,MAEJq7B,EAAOA,EAAKF,WAEXmvB,KACDA,EAAOghC,EAAK,WAAYI,EAAYnsF,QAC/B87B,KAAK/sB,YAAYhS,EAAM++B,OAC3BivB,EAAKjvB,KAAKp3B,IAAMwgF,EAAEn6B,EAAKjvB,KAAM,CAC1Bp3B,GAAIqmD,EAAKrmD,MAGjBwgF,EAAEllF,KAAK87B,KAAM,CACT,YAAa83D,EAAI7oC,EAAKjvB,KAAKp3B,IAAMqmD,EAAKrmD,QA3B9C88E,IAAIyL,GAAG,sBAAuByG,GAC9BlS,IAAIyL,GAAG,2BAA4ByG,GACnClS,IAAIyL,GAAG,0BAA2ByG,GA4EtClS,IAAIyL,GAAG,sBAAuB4G,EAAW,SACzCrS,IAAIyL,GAAG,wBAAyB4G,EAAW,WAC3C,IAAIK,EAAS,gCAmLb,SAASC,EAAYp3F,GACjBykF,IAAI7qE,OACA5Z,IAAUA,IACVA,GAAS,MAEbiD,KAAK87B,KAAK92B,MAAMg3B,SAAWj/B,EAuI/B,SAASq3F,IAEL,OADA5S,IAAI7qE,OACG3W,KAAK87B,KAAK92B,MAAMg3B,SAhU3BwlD,IAAIyL,GAAG,wBAAwB,SAAmBtjF,GAE9C,IAAI0qF,GADJ1qF,EAASk6E,EAAIl6E,IACO6+E,MAAM0L,GAC1B,IAAKG,EACD,OAAO,KAEX,IAAIvpF,EAAOupF,EAAO,GACdpsB,EAASosB,EAAO,GAChB7kC,EAAQ6kC,EAAO,GAIE,IAHrBpsB,EAASA,EAAO35D,MAAM,WAAWzF,KAAI,SAAU7E,GAC3C,OAAQA,GAAMA,GAAMA,EAAKA,MAElB1F,QAA4B,GAAb2pE,EAAO,KAC7BA,EAAS,IAab,IAAIz0D,GAVJg8C,GADAA,EAAQA,EAAMlhD,MAAM,MACNzF,KAAI,SAAU7E,GAExB,IAAIgH,EAAM,CACN2Z,OAFJ3gB,EAAKA,EAAGsK,MAAM,MAEA,IAKd,OAHItK,EAAG,KACHgH,EAAI4Z,OAASm/D,WAAW//E,EAAG,KAExBgH,MAEK1M,OACZ+V,EAAQ,EACRsF,EAAI,EACR,SAAS4U,EAAKzyB,EAAGwY,GAEb,IADA,IAAIsH,GAAQtH,EAAMD,IAAUvY,EAAI6d,GACvBL,EAAIK,EAAGL,EAAIxd,EAAGwd,IACnBk2C,EAAMl2C,GAAGsL,UAAYvQ,EAAQuH,GAAQtC,EAAIK,IAAIkvE,QAAQ,GAEzDlvE,EAAI7d,EACJuY,EAAQC,EAEZd,IACA,IAAK,IAAI1X,EAAI,EAAGA,EAAI0X,EAAK1X,IAAS,WAAY0zD,EAAM1zD,IAChDyyB,EAAKzyB,EAAG0zD,EAAM1zD,GAAG8oB,QAIrB,OAFA4qC,EAAMh8C,GAAKoR,OAAS4qC,EAAMh8C,GAAKoR,QAAU,IACzC2J,EAAK/a,EAAKg8C,EAAMh8C,GAAKoR,QACd,CACH9Z,KAAMA,EACNm9D,OAAQA,EACRzY,MAAOA,MAIfgyB,IAAIyL,GAAG,oBAAoB,SAAUlwF,GACjCykF,IAAI7qE,OACA5G,EAAGhT,EAAO,UAAYgT,EAAGhT,EAAM,GAAI,WACnCA,EAAQ0V,EAAK5L,KAAK8G,SAAS1R,KAAKc,KAEpCA,EAAQ8mF,EAAI9mF,IACFyrF,MAAM,YACZzrF,EAAQ0V,EAAK5L,KAAKytF,WAAWv3F,IAEjCmoF,EAAEllF,KAAK87B,KAAM,CAAC1/B,EAAGW,MATrBykF,EAUI,GACJA,IAAIyL,GAAG,wBAAwB,SAAUlwF,GACrCykF,IAAI7qE,OACJ5Z,EAAQ8mF,EAAI9mF,GAEZ,IADA,IAAIw3F,EAAMjR,EAAKC,IAAI4B,eAAepoF,GAC3BiD,KAAK87B,KAAK+wD,YACb7sF,KAAK87B,KAAKiE,YAAY//B,KAAK87B,KAAK+wD,YAEpC7sF,KAAK87B,KAAK/sB,YAAYwlF,KAP1B/S,EAQI,GACJA,IAAIyL,GAAG,uBAAuB,SAAUlwF,GACpCykF,IAAI7qE,OACJ3W,KAAKoH,KAAK,CAAChL,EAAGW,MAFlBykF,EAGI,GACJA,IAAIyL,GAAG,wBAAwB,SAAUlwF,GACrCykF,IAAI7qE,OACJ3W,KAAK87B,KAAK15B,UAAUoyF,QAAUz3F,IAFlCykF,EAGI,GACJA,IAAIyL,GAAG,0BAA0B,SAAUlwF,GACvC,IAAI03F,EAEAA,EADA1kF,EAAGhT,EAAO,WAAa,MAAOA,EACzB,CAACA,EAAMivB,EAAGjvB,EAAMkvB,EAAGlvB,EAAM8I,MAAO9I,EAAMuL,QAAQa,KAAK,KACjD4G,EAAGhT,EAAO,SACZA,EAAMoM,KAAK,KAEXpM,EAETmoF,EAAEllF,KAAK87B,KAAM,CACTvzB,QAASksF,IAEbjT,IAAI7qE,SAZR6qE,EAaI,GACJA,IAAIyL,GAAG,4BAA4B,SAAUlwF,GACzCiD,KAAKspB,UAAUvsB,GACfykF,IAAI7qE,SAFR6qE,EAGI,GACJA,IAAIyL,GAAG,oBAAoB,SAAUlwF,GAChB,QAAbiD,KAAK8K,OACL02E,IAAI7qE,OACJuuE,EAAEllF,KAAK87B,KAAM,CACTsK,GAAIrpC,EACJspC,GAAItpC,OALhBykF,EAQI,GACJA,IAAIyL,GAAG,2BAA2B,SAAUlwF,GAExC,GADAykF,IAAI7qE,OACa,QAAb3W,KAAK8K,KAAgB,CACrB,IAAIpG,EAAIgwF,EAAI54D,EACZ,IAAK/+B,GAASiD,KAAKimE,SAAU,CAEzB,IADAyuB,EAAK10F,KAAKimE,SACHyuB,EAAG54D,KAAK+wD,YACX7sF,KAAK87B,KAAK/sB,YAAY2lF,EAAG54D,KAAK+wD,YAIlC,OAFA6H,EAAGhE,qBACI1wF,KAAKimE,SAGhB,GAAIl2D,EAAGhT,EAAO,UAAW,CACrB,IAAImhC,EAAOiuD,EAAYnsF,MACnB6G,EAAO8W,EAAKugB,EAAKtC,YAAY/0B,KAAK9J,GACtCmhC,EAAKnvB,YAAYlI,EAAKi1B,MACtBp3B,EAAKmC,EAAKnC,GACVmC,EAAKO,KAAK,CAAC1C,GAAIA,SAEf3H,EAAQ4gB,EAAK5gB,cACQsmF,KACjB3+E,EAAK3H,EAAMqK,KAAK,SAEZ1C,EAAK3H,EAAM2H,GACX3H,EAAMqK,KAAK,CAAC1C,GAAIA,MAI5B,GAAIA,EAGA,GAFAgwF,EAAK10F,KAAKimE,SACVnqC,EAAO97B,KAAK87B,KACR44D,EACAA,EAAGttF,KAAK,CAAC,aAAc,IAAM1C,QAC1B,CAIH,IAHAgwF,EAAKxP,EAAE,WAAY,CACf,aAAc,IAAMxgF,IAEjBo3B,EAAK+wD,YACR6H,EAAG3lF,YAAY+sB,EAAK+wD,YAExB/wD,EAAK/sB,YAAY2lF,GACjB10F,KAAKimE,SAAWtoD,EAAK+2E,OA1CrClT,EA8CI,GACJA,IAAIyL,GAAG,uBAAuB,SAAUlwF,GACpC,GAAiB,QAAbiD,KAAK8K,KAAgB,CAerB,IAdA,IACIgxB,EAAO97B,KAAK87B,KACZ64D,EAAQ,SAAUC,GACd,IAAI5pF,EAAMk6E,EAAE,SACZ,GAAIn1E,EAAG6kF,EAAO,SACV,IAAK,IAAI94F,EAAI,EAAGA,EAAI84F,EAAMt2F,OAAQxC,IAC9BkP,EAAI+D,YAAY4lF,EAAMC,EAAM94F,UAGhCkP,EAAI+D,YAAYu0E,EAAKC,IAAI4B,eAAeyP,IAG5C,OADA5pF,EAAI6jE,WAAa7jE,EAAI6jE,YACd7jE,GAER8wB,EAAK+wD,YACR/wD,EAAKiE,YAAYjE,EAAK+wD,YAG1B,IADA,IAAIgI,EAAQF,EAAM53F,GACX83F,EAAMhI,YACT/wD,EAAK/sB,YAAY8lF,EAAMhI,YAG/BrL,IAAI7qE,SAxBR6qE,EAyBI,GAQJA,IAAIyL,GAAG,0BAA2BkH,EAAlC3S,EAAgD,GAChDA,IAAIyL,GAAG,2BAA4BkH,EAAnC3S,EAAiD,GAGjDA,IAAIyL,GAAG,+BAA+B,WAElC,OADAzL,IAAI7qE,OACG3W,KAAKspB,cAFhBk4D,EAGI,GACJA,IAAIyL,GAAG,8BAA8B,WAEjC,OADAzL,IAAI7qE,OACG3W,KAAKimE,WAFhBub,EAGI,GAEH,WACG,SAASllF,EAAOgY,GACZ,OAAO,WACHktE,IAAI7qE,OACJ,IAAI3R,EAAQs+E,EAAKC,IAAIuF,YAAYC,iBAAiB/oF,KAAK87B,KAAM,MAAMktD,iBAAiB,UAAY10E,GAChG,MAAa,QAATtP,EACOA,EAEAyN,EAAK6wE,EAAKC,IAAIvhF,eAAegD,EAAMwjF,MAAMmL,GAAY,MAIxE,SAASr2E,EAAOhJ,GACZ,OAAO,SAAUvX,GACbykF,IAAI7qE,OACJ,IAAIta,EAAO,SAAWiY,EAAI9O,OAAO,GAAGC,cAAgB6O,EAAI2/D,UAAU,GAClE,GAAa,IAATl3E,GAAgBA,GAIpB,GAAkB,UAAdA,EAAM+N,KAAkB,CACxB,IAAIpG,EAAK3H,EAAM++B,KAAKp3B,GAKpB,OAJKA,GACDwgF,EAAEnoF,EAAM++B,KAAM,CAACp3B,GAAI3H,EAAM2H,UAE7B1E,KAAK87B,KAAK92B,MAAM3I,GAAQu3F,EAAIlvF,UAR5B1E,KAAK87B,KAAK92B,MAAM3I,GAAQ,QAapCmlF,IAAIyL,GAAG,+BAAgC3wF,EAAO,OAA9CklF,EAAuD,GACvDA,IAAIyL,GAAG,8BAA+B3wF,EAAO,OAA7CklF,EAAsD,GACtDA,IAAIyL,GAAG,iCAAkC3wF,EAAO,SAAhDklF,EAA2D,GAC3DA,IAAIyL,GAAG,gCAAiC3wF,EAAO,SAA/CklF,EAA0D,GAC1DA,IAAIyL,GAAG,+BAAgC3wF,EAAO,OAA9CklF,EAAuD,GACvDA,IAAIyL,GAAG,8BAA+B3wF,EAAO,OAA7CklF,EAAsD,GACtDA,IAAIyL,GAAG,4BAA6B3vE,EAAO,OAA3CkkE,EAAoD,GACpDA,IAAIyL,GAAG,2BAA4B3vE,EAAO,OAA1CkkE,EAAmD,GACnDA,IAAIyL,GAAG,8BAA+B3vE,EAAO,SAA7CkkE,EAAwD,GACxDA,IAAIyL,GAAG,6BAA8B3vE,EAAO,SAA5CkkE,EAAuD,GACvDA,IAAIyL,GAAG,4BAA6B3vE,EAAO,OAA3CkkE,EAAoD,GACpDA,IAAIyL,GAAG,2BAA4B3vE,EAAO,OAA1CkkE,EAAmD,GAzCvD,GA2CAA,IAAIyL,GAAG,uBAAuB,WAC1B,GAAiB,QAAbjtF,KAAK8K,MAAkBo6E,EAAEllF,KAAK87B,KAAM,OAASopD,EAAEllF,KAAK87B,KAAM,MAE1D,OADA0lD,IAAI7qE,OACGuuE,EAAEllF,KAAK87B,KAAM,QAH5B0lD,EAKI,GAmBJA,IAAIyL,GAAG,0BAA0B,WAC7B,GAAiB,QAAbjtF,KAAK8K,MAA+B,SAAb9K,KAAK8K,KAAiB,CAC7C02E,IAAI7qE,OACJ,IAAI3L,EArBZ,SAAS8pF,EAAYh5D,GAGjB,IAFA,IAAI9wB,EAAM,GACNlC,EAAWgzB,EAAK6gC,WACX7gE,EAAI,EAAG6pF,EAAK78E,EAASxK,OAAQxC,EAAI6pF,EAAI7pF,IAAK,CAC/C,IAAIi5F,EAAMjsF,EAAShN,GACC,GAAhBi5F,EAAI3R,UACJp4E,EAAIoD,KAAK2mF,EAAIxP,WAEE,SAAfwP,EAAIvJ,UACyB,GAAzBuJ,EAAIp4B,WAAWr+D,QAA0C,GAA3By2F,EAAIlI,WAAWzJ,SAC7Cp4E,EAAIoD,KAAK2mF,EAAIlI,WAAWtH,WAExBv6E,EAAIoD,KAAK0mF,EAAYC,KAIjC,OAAO/pF,EAKO8pF,CAAY90F,KAAK87B,MAC3B,OAAqB,GAAd9wB,EAAI1M,OAAc0M,EAAI,GAAKA,KAJ1Cw2E,EAMI,GACJA,IAAIyL,GAAG,2BAA2B,WAC9B,OAAOjtF,KAAK87B,KAAKkB,cADrBwkD,EAEI,GACJA,IAAIyL,GAAG,0BAA0B,SAAU+H,GACvC,IAAIA,EAAJ,CAGAxT,IAAI7qE,OACJ,IAAI5Z,EAAQykF,IAAI,yBAA0BxhF,MAAM,GAAMwsF,eACtD,OAAO/5E,EAAKA,EAAKwhF,MAAMl3F,KAAWA,KANtCykF,EAOI,GACJA,IAAIyL,GAAG,4BAA4B,SAAU+H,GACzC,IAAIA,EAAJ,CAGAxT,IAAI7qE,OACJ,IAAI5Z,EAAQykF,IAAI,2BAA4BxhF,MAAM,GAAMwsF,eACxD,OAAO/5E,EAAKA,EAAKwhF,MAAMl3F,KAAWA,KANtCykF,EAOI,GACJA,IAAIyL,GAAG,6BAA6B,WAChCzL,IAAI7qE,OACJ,IAAI89E,EAAKvP,EAAEllF,KAAK87B,KAAM,WACtB,OAAI24D,GACAA,EAAKA,EAAGnmF,MAAMg2E,GACP7xE,EAAKgxE,EAAEje,KAAKivB,EAAG,IAAKA,EAAG,IAAKA,EAAG,IAAKA,EAAG,UAE9C,IAPRjT,EASI,GACJA,IAAIyL,GAAG,4BAA4B,WAC/B,IAAIrvF,EAAIsnF,EAAEllF,KAAK87B,KAAM,UAErB,OADA0lD,IAAI7qE,OACA/Y,EACOA,EAAE0Q,MAAMg2E,QAEf,IANR9C,EAQI,GACJA,IAAIyL,GAAG,0BAA0B,WAC7B,IAAIrvF,EAAIsnF,EAAEllF,KAAK87B,KAAM,KAErB,OADA0lD,IAAI7qE,OACG/Y,IAHX4jF,EAII,GACJA,IAAIyL,GAAG,2BAA2B,WAC9B,OAAOjtF,KAAK87B,KAAK15B,UAAUoyF,UAD/BhT,EAEI,GAKJA,IAAIyL,GAAG,6BAA8BmH,EAArC5S,EAAmD,GACnDA,IAAIyL,GAAG,8BAA+BmH,EAAtC5S,EAAoD,MAgBxD/uE,EAAKurE,QAAO,SAAUvrE,EAAM4wE,EAASG,EAAOF,EAAMuI,GAC9C,IAAIoJ,EAAa,OAGbpR,EAAM9oE,OACN6zE,EAAUvL,EAAQ3lF,UAUtBkxF,EAAQsG,SAAW,SAAUn4F,GACzB,IAII4c,EAEAw7E,EACAlwD,EAPAmwD,EAAUvR,EAAI9mF,GAAS,IAAIyrF,MAAMyM,IAAe,GAChDtwD,EAAO3kC,KAAK87B,KACZ15B,EAAYuiC,EAAKviC,UAAUoyF,QAC3Ba,EAAajzF,EAAUomF,MAAMyM,IAAe,GAMhD,GAAIG,EAAQ92F,OAAQ,CAEhB,IADAqb,EAAI,EACGw7E,EAAQC,EAAQz7E,OACb07E,EAAWjhF,QAAQ+gF,IAErBE,EAAWjnF,KAAK+mF,GAKpB/yF,IADJ6iC,EAAaowD,EAAWlsF,KAAK,QAEzBw7B,EAAKviC,UAAUoyF,QAAUvvD,GAGjC,OAAOjlC,MAWX4uF,EAAQ0G,YAAc,SAAUv4F,GAC5B,IAII4c,EACA2B,EACA65E,EACAlwD,EAPAmwD,EAAUvR,EAAI9mF,GAAS,IAAIyrF,MAAMyM,IAAe,GAChDtwD,EAAO3kC,KAAK87B,KACZ15B,EAAYuiC,EAAKviC,UAAUoyF,QAC3Ba,EAAajzF,EAAUomF,MAAMyM,IAAe,GAKhD,GAAII,EAAW/2F,OAAQ,CAEnB,IADAqb,EAAI,EACGw7E,EAAQC,EAAQz7E,QACnB2B,EAAM+5E,EAAWjhF,QAAQ+gF,KAErBE,EAAW/vE,OAAOhK,EAAK,GAK3BlZ,IADJ6iC,EAAaowD,EAAWlsF,KAAK,QAEzBw7B,EAAKviC,UAAUoyF,QAAUvvD,GAGjC,OAAOjlC,MAWX4uF,EAAQ2G,SAAW,SAAUx4F,GAIzB,UAHWiD,KAAK87B,KACK15B,UAAUoyF,QACJhM,MAAMyM,IAAe,IAC3B7gF,QAAQrX,IAajC6xF,EAAQ4G,YAAc,SAAUz4F,EAAOulB,GACnC,GAAY,MAARA,EACA,OAAIA,EACOtiB,KAAKk1F,SAASn4F,GAEdiD,KAAKs1F,YAAYv4F,GAGhC,IAII4c,EACA2B,EACA65E,EACAlwD,EAPAmwD,GAAWr4F,GAAS,IAAIyrF,MAAMyM,IAAe,GAC7CtwD,EAAO3kC,KAAK87B,KACZ15B,EAAYuiC,EAAKviC,UAAUoyF,QAC3Ba,EAAajzF,EAAUomF,MAAMyM,IAAe,GAMhD,IADAt7E,EAAI,EACGw7E,EAAQC,EAAQz7E,QACnB2B,EAAM+5E,EAAWjhF,QAAQ+gF,IAErBE,EAAW/vE,OAAOhK,EAAK,GAEvB+5E,EAAWjnF,KAAK+mF,GAQxB,OAHI/yF,IADJ6iC,EAAaowD,EAAWlsF,KAAK,QAEzBw7B,EAAKviC,UAAUoyF,QAAUvvD,GAEtBjlC,SAiBfyS,EAAKurE,QAAO,SAAUvrE,EAAM4wE,EAASG,EAAOF,EAAMuI,GAC9C,IAAI4J,EAAY,CACR,IAAK,SAAUzpE,EAAGC,GACV,OAAOD,EAAIC,GAEnB,IAAK,SAAUD,EAAGC,GACV,OAAOD,EAAIC,GAEnB,IAAK,SAAUD,EAAGC,GACV,OAAOD,EAAIC,GAEnB,IAAK,SAAUD,EAAGC,GACV,OAAOD,EAAIC,IAGvB43D,EAAM9oE,OACN26E,EAAS,WACTC,EAAU,uDACd,SAASC,EAAU9nF,GACf,OAAOA,EAEX,SAAS+nF,EAAQC,GACb,OAAO,SAAUhoF,GACb,OAAQA,EAAI+6E,QAAQ,GAAKiN,GAGjCtU,IAAIyL,GAAG,kBAAkB,SAAUn/E,GAC/B,IAAIioF,EAAOlS,EAAI/1E,GAAK06E,MAAMmN,GAC1B,GAAII,EAAM,CACN,IAAIC,EAAOxU,IAAI0L,KACX7wF,EAAO25F,EAAK/hB,UAAU+hB,EAAKlsB,YAAY,KAAO,GAC9Cr/D,EAAIzK,KAAKoH,KAAK/K,GACd45F,EAAM,GACVzU,IAAI7qE,OACJ,IAAIm/E,EAAOC,EAAK,IAAM,GAClBG,EAAQzrF,EAAE+9E,MAAMkN,GAChBtjD,EAAKqjD,EAAUM,EAAK,IAOxB,GANIG,GAASA,GAASJ,EAClBhoF,EAAMskC,EAAG2xC,WAAWt5E,IAAKsrF,EAAK,KAE9BtrF,EAAIzK,KAAK2wF,KAAKt0F,GACdyR,EAAMskC,EAAGpyC,KAAK2wF,KAAKt0F,GAAO2D,KAAK2wF,KAAKt0F,EAAM05F,EAAK,GAAKD,KAEpD5nF,MAAMzD,IAAMyD,MAAMJ,GAClB,OAEJmoF,EAAI55F,GAAQyR,EACZ9N,KAAKoH,KAAK6uF,MArBlBzU,EAuBI,IACJA,IAAIyL,GAAG,mBAAmB,SAAU5wF,EAAM0P,GACtC,IAAUtB,EAAIo5E,EAAI7jF,KAAKoH,KAAK/K,IAAS,IAEjC85F,EAAQtS,EAAI93E,GAAGy8E,MAAMmN,GACzB,GAAIQ,EAAO,CACP3U,IAAI7qE,OACJ,IAAIm/E,EAAOK,EAAM,IAAM,GACnBD,EAAQzrF,EAAE+9E,MAAMkN,GAChBtjD,EAAKqjD,EAAUU,EAAM,IACzB,OAAID,GAASA,GAASJ,EACX,CACHt0F,KAAMuiF,WAAWt5E,GACjB02B,GAAIiR,EAAG2xC,WAAWt5E,IAAK0rF,EAAM,IAC7B3pF,EAAGqpF,EAAQK,IAIR,CACH10F,KAFJiJ,EAAIzK,KAAK2wF,KAAKt0F,GAGV8kC,GAAIiR,EAAG3nC,EAAGzK,KAAK2wF,KAAKt0F,EAAM85F,EAAM,GAAKL,IACrCtpF,EAAGopF,MApBnBpU,EAwBI,OAgBR/uE,EAAKurE,QAAO,SAAUvrE,EAAM4wE,EAASG,EAAOF,EAAMuI,GAC9C,IAAIj6E,EAAQ4xE,EAAM9lF,UACdqS,EAAK0C,EAAK1C,GAqBd6B,EAAM2wC,KAAO,SAAUv2B,EAAGC,EAAG5M,EAAGgF,EAAG+hB,EAAIC,GACnC,IAAIj/B,EAkBJ,OAjBU,MAANi/B,IACAA,EAAKD,GAELr2B,EAAGic,EAAG,WAAkB,mBAALA,EACnB5kB,EAAO4kB,EACK,MAALA,IACP5kB,EAAO,CACH4kB,EAAGA,EACHC,EAAGA,EACHpmB,MAAOwZ,EACP/W,OAAQ+b,GAEF,MAAN+hB,IACAh/B,EAAKg/B,GAAKA,EACVh/B,EAAKi/B,GAAKA,IAGXrmC,KAAKgE,GAAG,OAAQoD,IAgB3BwK,EAAMwkF,OAAS,SAAUxE,EAAIC,EAAIj1F,GAC7B,IAAIwK,EAUJ,OATI2I,EAAG6hF,EAAI,WAAmB,mBAANA,EACpBxqF,EAAOwqF,EACM,MAANA,IACPxqF,EAAO,CACHwqF,GAAIA,EACJC,GAAIA,EACJj1F,EAAGA,IAGJoD,KAAKgE,GAAG,SAAUoD,IAG7B,IAAIivF,EAAW,WACX,SAASC,IACLt2F,KAAK47B,WAAWmE,YAAY//B,MAEhC,OAAO,SAAUgP,EAAKxC,GAClB,IAAIynC,EAAMqvC,EAAKC,IAAIh8E,cAAc,OAC7BlE,EAAOigF,EAAKC,IAAIlgF,KACpB4wC,EAAIjvC,MAAMuxF,QAAU,6CACpBtiD,EAAIuiD,OAAS,WACThqF,EAAEvQ,KAAKg4C,GACPA,EAAIuiD,OAASviD,EAAIqiD,QAAU,KAC3BjzF,EAAK08B,YAAYkU,IAErBA,EAAIqiD,QAAUA,EACdjzF,EAAK0L,YAAYklC,GACjBA,EAAIjlC,IAAMA,GAfJ,GAqCd4C,EAAM6kF,MAAQ,SAAUznF,EAAKgd,EAAGC,EAAGpmB,EAAOyC,GACtC,IAAItE,EAAKhE,KAAKgE,GAAG,SACjB,GAAI+L,EAAGf,EAAK,WAAa,QAASA,EAC9BhL,EAAGoD,KAAK4H,QACL,GAAW,MAAPA,EAAa,CACpB,IAAIlL,EAAM,CACN,aAAckL,EACdxG,oBAAqB,QAEhB,MAALwjB,GAAkB,MAALC,IACbnoB,EAAIkoB,EAAIA,EACRloB,EAAImoB,EAAIA,GAEC,MAATpmB,GAA2B,MAAVyC,GACjBxE,EAAI+B,MAAQA,EACZ/B,EAAIwE,OAASA,GAEb+tF,EAAQrnF,GAAK,WACTyD,EAAKgxE,EAAEyB,EAAElhF,EAAG83B,KAAM,CACdj2B,MAAO7F,KAAKq8B,YACZ/zB,OAAQtI,KAAK0qD,kBAIzBj4C,EAAKgxE,EAAEyB,EAAElhF,EAAG83B,KAAMh4B,GAEtB,OAAOE,GAiBX4N,EAAM8kF,QAAU,SAAU9E,EAAIC,EAAIzrD,EAAIC,GAClC,IAAIj/B,EAWJ,OAVI2I,EAAG6hF,EAAI,WAAmB,mBAANA,EACpBxqF,EAAOwqF,EACM,MAANA,IACPxqF,EAAM,CACFwqF,GAAIA,EACJC,GAAIA,EACJzrD,GAAIA,EACJC,GAAIA,IAGLrmC,KAAKgE,GAAG,UAAWoD,IAiC9BwK,EAAM/K,KAAO,SAAUzK,GACnB,IAAIgL,EAMJ,OALI2I,EAAG3T,EAAG,YAAc2T,EAAG3T,EAAG,SAC1BgL,EAAOhL,EACAA,IACPgL,EAAO,CAAChL,EAAGA,IAER4D,KAAKgE,GAAG,OAAQoD,IA2B3BwK,EAAM+/B,MAAQ//B,EAAM2S,EAAI,SAAUyjD,GAC9B,IACIhkE,EAAKhE,KAAKgE,GAAG,KAMjB,OALwB,GAApB3F,UAAUC,QAAe0pE,IAAUA,EAAMl9D,KACzC9G,EAAGoD,KAAK4gE,GACD3pE,UAAUC,QACjB0F,EAAGi4C,IAAI16C,MAAM7D,UAAU0S,MAAMnU,KAAKoC,UAAW,IAE1C2F,GAmBX4N,EAAM7K,IAAM,SAAUilB,EAAGC,EAAGpmB,EAAOyC,EAAQquF,EAAKC,EAAKC,EAAKC,GACtD,IAAI9C,EAAQ,GAoBZ,OAnBIjkF,EAAGic,EAAG,WAAkB,MAALC,EACnB+nE,EAAQhoE,GAEC,MAALA,IACAgoE,EAAMhoE,EAAIA,GAEL,MAALC,IACA+nE,EAAM/nE,EAAIA,GAED,MAATpmB,IACAmuF,EAAMnuF,MAAQA,GAEJ,MAAVyC,IACA0rF,EAAM1rF,OAASA,GAER,MAAPquF,GAAsB,MAAPC,GAAsB,MAAPC,GAAsB,MAAPC,IAC7C9C,EAAMzrF,QAAU,CAACouF,EAAKC,EAAKC,EAAKC,KAGjC92F,KAAKgE,GAAG,MAAOgwF,IAW1BpiF,EAAMgoC,KAAO,SAAUouB,GACnB,IACIhkE,EAAKhE,KAAKgE,GAAG,QAMjB,OALwB,GAApB3F,UAAUC,QAAe0pE,IAAUA,EAAMl9D,KACzC9G,EAAGoD,KAAK4gE,GACD3pE,UAAUC,QACjB0F,EAAGi4C,IAAI16C,MAAM7D,UAAU0S,MAAMnU,KAAKoC,UAAW,IAE1C2F,GAmBX4N,EAAMmlF,KAAO,SAAU/qE,EAAGC,EAAGpmB,EAAOyC,EAAQ0uF,EAAIC,EAAIC,EAAIC,GACpD,GAAIpnF,EAAGic,EAAG,UACN,IAAI5kB,EAAO4kB,OAEX5kB,EAAO,CAACoqF,aAAc,kBAClBxlE,IACA5kB,EAAK4kB,EAAIA,GAETC,IACA7kB,EAAK6kB,EAAIA,GAEA,MAATpmB,IACAuB,EAAKvB,MAAQA,GAEH,MAAVyC,IACAlB,EAAKkB,OAASA,GAGdlB,EAAKmB,QADC,MAANyuF,GAAoB,MAANC,GAAoB,MAANC,GAAoB,MAANC,EAC3B,CAACH,EAAIC,EAAIC,EAAIC,GAEb,CAACnrE,GAAK,EAAGC,GAAK,EAAGpmB,GAAS,EAAGyC,GAAU,GAG9D,OAAOtI,KAAKgE,GAAG,UAAWoD,IAc9BwK,EAAMg/E,IAAM,SAAUlsF,GAClB,OAAU,MAANA,GACIA,aAAc2+E,IACT3+E,EAAG0C,KAAK,OACT1C,EAAG0C,KAAK,CAAC1C,GAAI+N,EAAKgxE,EAAE/+E,GAAGA,KAE3BA,EAAKA,EAAG0C,KAAK,OAEU,KAAvB2T,OAAOrW,GAAIc,WACXd,EAAKA,EAAGuvE,UAAU,IAEfj0E,KAAKgE,GAAG,MAAO,CAAC,aAAc,IAAMU,KAEpC2+E,EAAQ3lF,UAAUkzF,IAAI30F,KAAK+D,OAe1C4R,EAAMmuD,OAAS,SAAUi3B,EAAIC,EAAIC,EAAIC,GACjC,IAAI/vF,EAAO,GAKX,OAJU,MAAN4vF,GAAoB,MAANC,GAAoB,MAANC,GAAoB,MAANC,IAC1C/vF,EAAKmB,QAAU,CAACyuF,EAAIC,EAAIC,EAAIC,IAGzBn3F,KAAKgE,GAAG,SAAUoD,IAsB7BwK,EAAMkrC,KAAO,SAAU9wB,EAAGC,EAAG6wB,GACzB,IAAI11C,EAAO,GAUX,OATI2I,EAAGic,EAAG,UACN5kB,EAAO4kB,EACK,MAALA,IACP5kB,EAAO,CACH4kB,EAAGA,EACHC,EAAGA,EACH6wB,KAAMA,GAAQ,KAGf98C,KAAKgE,GAAG,OAAQoD,IAiB3BwK,EAAMiqC,KAAO,SAAU7oB,EAAIC,EAAIC,EAAIC,GAC/B,IAAI/rB,EAAO,GAWX,OAVI2I,EAAGijB,EAAI,UACP5rB,EAAO4rB,EACM,MAANA,IACP5rB,EAAO,CACH4rB,GAAIA,EACJE,GAAIA,EACJD,GAAIA,EACJE,GAAIA,IAGLnzB,KAAKgE,GAAG,OAAQoD,IAiB3BwK,EAAMwlF,SAAW,SAAUtmE,GACnBzyB,UAAUC,OAAS,IACnBwyB,EAASvvB,MAAM7D,UAAU0S,MAAMnU,KAAKoC,UAAW,IAEnD,IAAI+I,EAAO,GAMX,OALI2I,EAAG+gB,EAAQ,YAAc/gB,EAAG+gB,EAAQ,SACpC1pB,EAAO0pB,EACU,MAAVA,IACP1pB,EAAO,CAAC0pB,OAAQA,IAEb9wB,KAAKgE,GAAG,WAAYoD,IAQ/BwK,EAAMylF,QAAU,SAAUvmE,GAClBzyB,UAAUC,OAAS,IACnBwyB,EAASvvB,MAAM7D,UAAU0S,MAAMnU,KAAKoC,UAAW,IAEnD,IAAI+I,EAAO,GAMX,OALI2I,EAAG+gB,EAAQ,YAAc/gB,EAAG+gB,EAAQ,SACpC1pB,EAAO0pB,EACU,MAAVA,IACP1pB,EAAO,CAAC0pB,OAAQA,IAEb9wB,KAAKgE,GAAG,UAAWoD,IAG7B,WACG,IAAI89E,EAAIzyE,EAAKgxE,EAAEyB,EAUf,SAASoS,IACL,OAAOt3F,KAAKssF,UAAU,QAY1B,SAASiL,EAAS5yE,EAAOC,GACrB,IAAIjO,EAAOuuE,EAAE,QACT99E,EAAO,CACHwd,QAASA,EAAS,KAE1BD,EAAQlS,EAAKkS,MAAMA,GACnBvd,EAAK,cAAgBud,EAAMM,IACvBN,EAAMu3C,QAAU,IAChB90D,EAAK,gBAAkBud,EAAMu3C,SAEjCgpB,EAAEvuE,EAAMvP,GAGR,IAFA,IACIowF,EADAhoC,EAAQxvD,KAAKwvD,QAER1zD,EAAI,EAAGA,EAAI0zD,EAAMlxD,OAAQxC,IAAK,CAEnC,GADiBioF,WAAWv0B,EAAM1zD,GAAGsL,KAAK,WACzBwd,EAAQ,CACrB5kB,KAAK87B,KAAK6sB,aAAahyC,EAAM64C,EAAM1zD,GAAGggC,MACtC07D,GAAW,EACX,OAMR,OAHKA,GACDx3F,KAAK87B,KAAK/sB,YAAY4H,GAEnB3W,KAEX,SAASy3F,IACL,GAAiB,kBAAbz3F,KAAK8K,KAA0B,CAC/B,IAAIkoB,EAAKkyD,EAAEllF,KAAK87B,KAAM,OAAS,EAC3B5I,EAAKgyD,EAAEllF,KAAK87B,KAAM,OAAS,EAC3B7I,EAAKiyD,EAAEllF,KAAK87B,KAAM,OAAS,EAC3B3I,EAAK+xD,EAAEllF,KAAK87B,KAAM,OAAS,EAC/B,OAAOrpB,EAAKgxE,EAAEje,IAAIxyC,EAAIC,EAAInF,KAAKvM,IAAI2R,EAAKF,GAAKlF,KAAKvM,IAAI4R,EAAKF,IAE3D,IAAI2+D,EAAK5xF,KAAK87B,KAAK81D,IAAM,GACrBC,EAAK7xF,KAAK87B,KAAK+1D,IAAM,GACrBj1F,EAAIoD,KAAK87B,KAAKl/B,GAAK,EACvB,OAAO6V,EAAKgxE,EAAEje,IAAIosB,EAAKh1F,EAAGi1F,EAAKj1F,EAAO,EAAJA,EAAW,EAAJA,GAcjD,SAAS86F,EAAUtnE,GACf,IAAI0jE,EAAO1jE,EACPo/B,EAAQxvD,KAAKwvD,QAIjB,GAHkB,iBAAPp/B,IACP0jE,EAAOtS,IAAI,uBAAwB,KAAM,aAAepxD,GAAKo8D,eAAeh9B,OAE3E/8C,EAAK1C,GAAG+jF,EAAM,SAAnB,CAGA,IAAK,IAAIh4F,EAAI,EAAGA,EAAI0zD,EAAMlxD,OAAQxC,IAC9B,GAAIg4F,EAAKh4F,GAAI,CACT,IAAI6oB,EAAQlS,EAAKkS,MAAMmvE,EAAKh4F,GAAG6oB,OAC3Bvd,EAAO,CAAC,OAAU0sF,EAAKh4F,GAAG8oB,OAAS,KACvCxd,EAAK,cAAgBud,EAAMM,IACvBN,EAAMu3C,QAAU,IAChB90D,EAAK,gBAAkBud,EAAMu3C,SAEjC1M,EAAM1zD,GAAGsL,KAAKA,QAEdooD,EAAM1zD,GAAG40F,SAGjB,IAAK50F,EAAI0zD,EAAMlxD,OAAQxC,EAAIg4F,EAAKx1F,OAAQxC,IACpCkE,KAAK23F,QAAQ7D,EAAKh4F,GAAG6oB,MAAOmvE,EAAKh4F,GAAG8oB,QAExC,OAAO5kB,MA2BX,SAAS43F,EAAe15D,EAAMlL,EAAIC,EAAIC,EAAIC,GACtC,IAAInvB,EAAKyO,EAAKgxE,EAAEsI,KAAK,iBAAkB7tD,GAavC,OAZAl6B,EAAGwrD,MAAQ8nC,EACXtzF,EAAG2zF,QAAUJ,EACbvzF,EAAGg2D,QAAUy9B,EACbzzF,EAAG6zF,SAAWH,EACJ,MAAN1kE,GACAkyD,EAAElhF,EAAG83B,KAAM,CACP9I,GAAIA,EACJC,GAAIA,EACJC,GAAIA,EACJC,GAAIA,IAGLnvB,EAEX,SAAS8zF,EAAe55D,EAAM0zD,EAAIC,EAAIj1F,EAAGm7F,EAAIC,GACzC,IAAIh0F,EAAKyO,EAAKgxE,EAAEsI,KAAK,iBAAkB7tD,GAiBvC,OAhBAl6B,EAAGwrD,MAAQ8nC,EACXtzF,EAAG2zF,QAAUJ,EACbvzF,EAAGg2D,QAAUy9B,EACH,MAAN7F,GACA1M,EAAElhF,EAAG83B,KAAM,CACP81D,GAAIA,EACJC,GAAIA,EACJj1F,EAAGA,IAGD,MAANm7F,GAAoB,MAANC,GACd9S,EAAElhF,EAAG83B,KAAM,CACPi8D,GAAIA,EACJC,GAAIA,IAGLh0F,EAuCX4N,EAAMmiF,SAAW,SAAU3jE,GACvB,OAnGJ,SAAkB8N,EAAM9N,GACpB,IACIpsB,EADA8vF,EAAOtS,IAAI,uBAAwB,KAAMpxD,GAAKo8D,eAElD,IAAKsH,EACD,OAAO,KAEXA,EAAK7rB,OAAOn3B,QAAQ5S,GAEhBl6B,EAD2B,KAA3B8vF,EAAKhpF,KAAK2yC,cACLm6C,EAAe5rF,MAAM,EAAG8nF,EAAK7rB,QAE7B6vB,EAAe9rF,MAAM,EAAG8nF,EAAK7rB,QAElC6rB,EAAKhpF,MAAQgpF,EAAKhpF,KAAK2yC,eACvBynC,EAAElhF,EAAG83B,KAAM,CACPm8D,cAAe,mBAKvB,IAFA,IAAIzoC,EAAQskC,EAAKtkC,MACbh8C,EAAMg8C,EAAMlxD,OACPxC,EAAI,EAAGA,EAAI0X,EAAK1X,IAAK,CAC1B,IAAI6a,EAAO64C,EAAM1zD,GACjBkI,EAAG2zF,QAAQhhF,EAAKgO,MAAOhO,EAAKiO,QAEhC,OAAO5gB,EA4EA+vF,CAAS/zF,KAAKk+B,KAAM9N,IAE/Bxe,EAAMgmF,eAAiB,SAAU5kE,EAAIC,EAAIC,EAAIC,GACzC,OAAOykE,EAAe53F,KAAKk+B,KAAMlL,EAAIC,EAAIC,EAAIC,IAEjDvhB,EAAMkmF,eAAiB,SAAUlG,EAAIC,EAAIj1F,EAAGm7F,EAAIC,GAC5C,OAAOF,EAAe93F,KAAKk+B,KAAM0zD,EAAIC,EAAIj1F,EAAGm7F,EAAIC,IASpDpmF,EAAMjE,SAAW,WACb,IAII80E,EAJAc,EAAMvjF,KAAK87B,KAAKkwD,cAChBx/E,EAAI+2E,EAAIoJ,yBACRvwF,EAAImnF,EAAIh8E,cAAc,OACtBR,EAAM/G,KAAK87B,KAAK+0D,WAAU,GAO9B,OALArkF,EAAEuC,YAAY3S,GACdA,EAAE2S,YAAYhI,GACd0L,EAAKgxE,EAAEyB,EAAEn+E,EAAK,CAACg+E,MAAO,+BACtBtC,EAAMrmF,EAAE2/B,UACRvvB,EAAEuzB,YAAYvzB,EAAEqgF,YACTpK,GASX7wE,EAAM0gF,UAAY,WACd,GAAIx0F,QAAUA,OAAOy0F,KACjB,MAAO,6BAA+BA,KAAKE,SAAS/E,mBAAmB1tF,SAS/E4R,EAAMsmF,MAAQ,WAGV,IAFA,IACI9mF,EADA0qB,EAAO97B,KAAK87B,KAAK+wD,WAEd/wD,GACH1qB,EAAO0qB,EAAK00D,YACQ,QAAhB10D,EAAK0vD,QACL1vD,EAAKF,WAAWmE,YAAYjE,GAE5BlqB,EAAMsmF,MAAMj8F,KAAK,CAAC6/B,KAAMA,IAE5BA,EAAO1qB,GAjQnB,MAoRJqB,EAAKurE,QAAO,SAAUvrE,EAAM4wE,EAASG,EAAOF,GACxC,IAAIsL,EAAUvL,EAAQ3lF,UAClBqS,EAAK0C,EAAK1C,GACV8b,EAAQpZ,EAAKgxE,EAAE53D,MAEfssE,EAAM,gBACNrU,EAAUC,WACVj2D,EAAOxjB,KACP6X,EAAK2L,EAAK3L,GACV+hE,EAAOp2D,EAAK5T,IACZ+pE,EAAOn2D,EAAK3T,IACZgH,EAAM2M,EAAK3M,IACXI,EAAMuM,EAAKvM,IACf,SAASmZ,EAAM0d,GACX,IAAIx6C,EAAI88B,EAAM0d,GAAK1d,EAAM0d,IAAM,GAc/B,OAbIx6C,EAAEw6C,GACFx6C,EAAEw6C,GAAIggD,MAAQ,IAEdx6F,EAAEw6C,GAAM,CACJggD,MAAO,KAGf50F,YAAW,WACP,IAAK,IAAInG,KAAOO,EAAOA,EAAK,eAAEP,IAAQA,GAAO+6C,IACzCx6C,EAAEP,GAAK+6F,SACNx6F,EAAEP,GAAK+6F,cAAgBx6F,EAAEP,OAG3BO,EAAEw6C,GAEb,SAASotB,EAAIx5C,EAAGC,EAAGpmB,EAAOyC,GAUtB,OATS,MAAL0jB,IACAA,EAAIC,EAAIpmB,EAAQyC,EAAS,GAEpB,MAAL2jB,IACAA,EAAID,EAAEC,EACNpmB,EAAQmmB,EAAEnmB,MACVyC,EAAS0jB,EAAE1jB,OACX0jB,EAAIA,EAAEA,GAEH,CACHA,EAAGA,EACHC,EAAGA,EACHpmB,MAAOA,EACPwZ,EAAGxZ,EACHyC,OAAQA,EACR+b,EAAG/b,EACH4qB,GAAIlH,EAAInmB,EACRstB,GAAIlH,EAAI3jB,EACRspF,GAAI5lE,EAAInmB,EAAQ,EAChBgsF,GAAI5lE,EAAI3jB,EAAS,EACjB+vF,GAAIvqE,EAAK5T,IAAIrU,EAAOyC,GAAU,EAC9BgwF,GAAIxqE,EAAK3T,IAAItU,EAAOyC,GAAU,EAC9BiwF,GAAIzqE,EAAKzM,KAAKxb,EAAQA,EAAQyC,EAASA,GAAU,EACjDzB,KAAM2xF,EAASxsE,EAAGC,EAAGpmB,EAAOyC,GAC5BmsF,GAAI,CAACzoE,EAAGC,EAAGpmB,EAAOyC,GAAQa,KAAK,MAGvC,SAASwE,IACL,OAAO3N,KAAKmJ,KAAK,KAAK5D,QAAQ4yF,EAAK,MAEvC,SAASM,EAAUC,GACf,IAAIjW,EAAM52D,EAAM6sE,GAEhB,OADAjW,EAAI90E,SAAWA,EACR80E,EAEX,SAASkW,EAAwBC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAK76F,GACrE,OAAc,MAAVA,EACO86F,EAAOR,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GAE1CE,EAAkBT,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EA0JpE,SAAmBnmE,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIimE,EAAIC,EAAIC,GAC/C,GAAIA,EAAK,GAAKJ,EAAOpmE,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIimE,EAAIC,GAAMC,EACnD,OAEJ,IAGIz9F,EAFA6f,EAAO5e,GACPooE,EAFI,EAEKxpD,EAGb7f,EAAIq9F,EAAOpmE,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIimE,EAAIC,EAAIn0B,GAC3C,KAAO7jD,EAAIxlB,EAAIy9F,GAFP,KAKJz9F,EAAIq9F,EAAOpmE,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIimE,EAAIC,EADvCn0B,IAAOrpE,EAAIy9F,EAAK,GAAK,IADrB59E,GAAQ,IAIZ,OAAOwpD,EAxKCq0B,CAAUb,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAK76F,IAG9D,SAASo7F,EAAiBC,EAASC,GAC/B,SAASntF,EAAEqB,GACP,SAAUA,GAAK+6E,QAAQ,GAE3B,OAAOp2E,EAAKgxE,EAAEmC,QAAO,SAAU/+E,EAAMvI,EAAQu7F,GACrChzF,aAAgBw8E,IAChBx8E,EAAOA,EAAKO,KAAK,MAKrB,IAFA,IAAI4kB,EAAGC,EAAGruB,EAAG7B,EAA2Bof,EAAxB2+E,EAAK,GAAIC,EAAW,GAChCvmF,EAAM,EACD1X,EAAI,EAAG6pF,GAHhB9+E,EAAOmzF,EAAWnzF,IAGQvI,OAAQxC,EAAI6pF,EAAI7pF,IAAK,CAE3C,GAAY,MADZ8B,EAAIiJ,EAAK/K,IACH,GACFkwB,GAAKpuB,EAAE,GACPquB,GAAKruB,EAAE,OACJ,CAEH,GAAI4V,GADJzX,EAAI48F,EAAwB3sE,EAAGC,EAAGruB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,KACpDU,EAAQ,CAClB,GAAIs7F,IAAYG,EAAS1lF,MAAO,CAU5B,GARAylF,GAAM,CACF,IAAMrtF,GAFV0O,EAAQw9E,EAAwB3sE,EAAGC,EAAGruB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIU,EAASkV,IAEjEa,MAAM2X,GACpBvf,EAAE0O,EAAM9G,MAAM4X,GACdxf,EAAE0O,EAAMjf,EAAE8vB,GACVvf,EAAE0O,EAAMjf,EAAE+vB,GACVxf,EAAE0O,EAAM6Q,GACRvf,EAAE0O,EAAM8Q,IAER4tE,EAAY,OAAOC,EACvBC,EAAS1lF,MAAQylF,EACjBA,EAAK,CACD,IAAMrtF,EAAE0O,EAAM6Q,GACdvf,EAAE0O,EAAM8Q,GAAK,IAAMxf,EAAE0O,EAAM5d,EAAEyuB,GAC7Bvf,EAAE0O,EAAM5d,EAAE0uB,GACVxf,EAAE0O,EAAM7G,IAAI0X,GACZvf,EAAE0O,EAAM7G,IAAI2X,GACZxf,EAAE7O,EAAE,IACJ6O,EAAE7O,EAAE,KACNuL,OACFqK,GAAOzX,EACPiwB,GAAKpuB,EAAE,GACPquB,GAAKruB,EAAE,GACP,SAEJ,IAAK+7F,IAAYC,EAEb,OADAz+E,EAAQw9E,EAAwB3sE,EAAGC,EAAGruB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIU,EAASkV,GAI3FA,GAAOzX,EACPiwB,GAAKpuB,EAAE,GACPquB,GAAKruB,EAAE,GAEXk8F,GAAMl8F,EAAE+D,QAAU/D,EAItB,OAFAm8F,EAASzlF,IAAMwlF,EACf3+E,EAAQw+E,EAAUnmF,EAAMomF,EAAUG,EAAWV,EAAkBrtE,EAAGC,EAAGruB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAI,KAE1G,KAAM6U,EAAKgxE,EAAE53D,OAEpB,IAAIkxC,EAAiB28B,EAAiB,GAClCpS,EAAmBoS,IACnBO,EAAsBP,EAAiB,EAAG,GAC9C,SAASL,EAAkBT,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKn8F,GAC/D,IAAIi5B,EAAK,EAAIj5B,EACTk9F,EAAM/4E,EAAI8U,EAAI,GACdkkE,EAAMh5E,EAAI8U,EAAI,GACdmvC,EAAKpoE,EAAIA,EACTo9F,EAAKh1B,EAAKpoE,EAGVq9F,EAAKzB,EAAM,EAAI57F,GAAK87F,EAAMF,GAAOxzB,GAAM4zB,EAAM,EAAIF,EAAMF,GACvD0B,EAAKzB,EAAM,EAAI77F,GAAK+7F,EAAMF,GAAOzzB,GAAM6zB,EAAM,EAAIF,EAAMF,GACvD0B,EAAKzB,EAAM,EAAI97F,GAAKg8F,EAAMF,GAAO1zB,GAAM8zB,EAAM,EAAIF,EAAMF,GACvD0B,EAAKzB,EAAM,EAAI/7F,GAAKi8F,EAAMF,GAAO3zB,GAAM+zB,EAAM,EAAIF,EAAMF,GAO3D,MAAO,CACH/sE,EAbIkuE,EAAMtB,EAAY,EAANuB,EAAUn9F,EAAI87F,EAAW,EAAL7iE,EAASj5B,EAAIA,EAAIg8F,EAAMoB,EAAKlB,EAchEjtE,EAbIiuE,EAAMrB,EAAY,EAANsB,EAAUn9F,EAAI+7F,EAAW,EAAL9iE,EAASj5B,EAAIA,EAAIi8F,EAAMmB,EAAKjB,EAchEj9F,EAAG,CAAC8vB,EAAGquE,EAAIpuE,EAAGquE,GACd/8F,EAAG,CAACyuB,EAAGuuE,EAAItuE,EAAGuuE,GACdnmF,MAAO,CAAC2X,EAXHiK,EAAK2iE,EAAM57F,EAAI87F,EAWL7sE,EAVVgK,EAAK4iE,EAAM77F,EAAI+7F,GAWpBzkF,IAAK,CAAC0X,EAVDiK,EAAK+iE,EAAMh8F,EAAIk8F,EAUPjtE,EATRgK,EAAKgjE,EAAMj8F,EAAIm8F,GAUpBsB,MATQ,GAAoC,IAA/B3sE,EAAK4U,MAAM23D,EAAKE,EAAID,EAAKE,GAAYr4E,GAY1D,SAASu4E,EAAW9B,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GAC9C1mF,EAAK1C,GAAG6oF,EAAK,WACdA,EAAM,CAACA,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,IAE9C,IAAIl/B,EAAO0gC,EAAS3uF,MAAM,KAAM4sF,GAChC,OAAOpzB,EACHvL,EAAK//C,IAAI8R,EACTiuC,EAAK//C,IAAI+R,EACTguC,EAAK9/C,IAAI6R,EAAIiuC,EAAK//C,IAAI8R,EACtBiuC,EAAK9/C,IAAI8R,EAAIguC,EAAK//C,IAAI+R,GAG9B,SAAS2uE,EAAkB3gC,EAAMjuC,EAAGC,GAChC,OAAQD,GAAKiuC,EAAKjuC,GACVA,GAAKiuC,EAAKjuC,EAAIiuC,EAAKp0D,OACnBomB,GAAKguC,EAAKhuC,GACVA,GAAKguC,EAAKhuC,EAAIguC,EAAK3xD,OAE/B,SAASuyF,EAAgBC,EAAOC,GAG5B,OAFAD,EAAQt1B,EAAIs1B,GAELF,EADPG,EAAQv1B,EAAIu1B,GACoBD,EAAM9uE,EAAG8uE,EAAM7uE,IACxC2uE,EAAkBG,EAAOD,EAAM5nE,GAAI4nE,EAAM7uE,IACzC2uE,EAAkBG,EAAOD,EAAM9uE,EAAG8uE,EAAM3nE,KACxCynE,EAAkBG,EAAOD,EAAM5nE,GAAI4nE,EAAM3nE,KACzCynE,EAAkBE,EAAOC,EAAM/uE,EAAG+uE,EAAM9uE,IACxC2uE,EAAkBE,EAAOC,EAAM7nE,GAAI6nE,EAAM9uE,IACzC2uE,EAAkBE,EAAOC,EAAM/uE,EAAG+uE,EAAM5nE,KACxCynE,EAAkBE,EAAOC,EAAM7nE,GAAI6nE,EAAM5nE,MACxC2nE,EAAM9uE,EAAI+uE,EAAM7nE,IAAM4nE,EAAM9uE,EAAI+uE,EAAM/uE,GACnC+uE,EAAM/uE,EAAI8uE,EAAM5nE,IAAM6nE,EAAM/uE,EAAI8uE,EAAM9uE,KACzC8uE,EAAM7uE,EAAI8uE,EAAM5nE,IAAM2nE,EAAM7uE,EAAI8uE,EAAM9uE,GACnC8uE,EAAM9uE,EAAI6uE,EAAM3nE,IAAM4nE,EAAM9uE,EAAI6uE,EAAM7uE,GAErD,SAAS+uE,EAAMh+F,EAAGwuB,EAAIlB,EAAI46C,EAAI93C,GAG1B,OAAOpwB,GADEA,IADC,EAAIwuB,EAAK,EAAIlB,EAAK,EAAI46C,EAAK,EAAI93C,GACvB,EAAI5B,EAAK,GAAKlB,EAAK,EAAI46C,GACzB,EAAI15C,EAAK,EAAIlB,EAEjC,SAAS8uE,EAAOpmE,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIimE,EAAIC,EAAIrtE,GACnC,MAALA,IACAA,EAAI,GAQR,IALA,IAAIsL,GADJtL,EAAIA,EAAI,EAAI,EAAIA,EAAI,EAAI,EAAIA,GACf,EAET+uE,EAAU,EAAE,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OACnFC,EAAU,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACxFztB,EAAM,EACD3xE,EAAI,EAAGA,EAJR,GAIeA,IAAK,CACxB,IAAIq/F,EAAK3jE,EAAKyjE,EAAQn/F,GAAK07B,EACvB4jE,EAAQJ,EAAMG,EAAInoE,EAAIE,EAAIE,EAAIkmE,GAC9B+B,EAAQL,EAAMG,EAAIloE,EAAIE,EAAIE,EAAIkmE,GAC9B+B,EAAOF,EAAQA,EAAQC,EAAQA,EACnC5tB,GAAOytB,EAAQp/F,GAAKgyB,EAAKzM,KAAKi6E,GAElC,OAAO9jE,EAAKi2C,EAmBhB,SAAS8tB,EAAUvoE,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIimE,EAAIC,GAC3C,KACItV,EAAKjxD,EAAIE,GAAMgxD,EAAK9wD,EAAIkmE,IACxBpV,EAAKlxD,EAAIE,GAAM+wD,EAAK7wD,EAAIkmE,IACxBrV,EAAKhxD,EAAIE,GAAM+wD,EAAK7wD,EAAIkmE,IACxBrV,EAAKjxD,EAAIE,GAAM8wD,EAAK5wD,EAAIkmE,IAJ5B,CAQA,IAEIiC,GAAexoE,EAAKE,IAAOG,EAAKkmE,IAAOtmE,EAAKE,IAAOC,EAAKkmE,GAE5D,GAAKkC,EAAL,CAGA,IAAIhuF,IAPMwlB,EAAKG,EAAKF,EAAKC,IAAOE,EAAKkmE,IAAOtmE,EAAKE,IAAOE,EAAKmmE,EAAKlmE,EAAKimE,IAOzDkC,EACVt1D,IAPMlT,EAAKG,EAAKF,EAAKC,IAAOG,EAAKkmE,IAAOtmE,EAAKE,IAAOC,EAAKmmE,EAAKlmE,EAAKimE,IAOzDkC,EACVC,GAAOjuF,EAAGq7E,QAAQ,GAClB6S,GAAOx1D,EAAG2iD,QAAQ,GACtB,KACI4S,GAAOvX,EAAKlxD,EAAIE,GAAI21D,QAAQ,IAC5B4S,GAAOxX,EAAKjxD,EAAIE,GAAI21D,QAAQ,IAC5B4S,GAAOvX,EAAK9wD,EAAIkmE,GAAIzQ,QAAQ,IAC5B4S,GAAOxX,EAAK7wD,EAAIkmE,GAAIzQ,QAAQ,IAC5B6S,GAAOxX,EAAKjxD,EAAIE,GAAI01D,QAAQ,IAC5B6S,GAAOzX,EAAKhxD,EAAIE,GAAI01D,QAAQ,IAC5B6S,GAAOxX,EAAK7wD,EAAIkmE,GAAI1Q,QAAQ,IAC5B6S,GAAOzX,EAAK5wD,EAAIkmE,GAAI1Q,QAAQ,IAIhC,MAAO,CAAC78D,EAAGxe,EAAIye,EAAGia,KAQtB,SAASy1D,EAAYC,EAAMC,EAAMC,GAG7B,IAAKjB,EAFOH,EAAWkB,GACXlB,EAAWmB,IAEnB,OAAOC,EAAY,EAAI,GAU3B,IARA,IAEIxwE,KAFK8tE,EAAOptF,MAAM,EAAG4vF,GAER,GACbxxE,KAFKgvE,EAAOptF,MAAM,EAAG6vF,GAER,GACbE,EAAQ,GACRC,EAAQ,GACRC,EAAK,GACLxZ,EAAMqZ,EAAY,EAAI,GACjBhgG,EAAI,EAAGA,EAAIwvB,EAAK,EAAGxvB,IAAK,CAC7B,IAAI8B,EAAIy7F,EAAkBrtF,MAAM,EAAG4vF,EAAKluF,OAAO5R,EAAIwvB,IACnDywE,EAAM3tF,KAAK,CAAC4d,EAAGpuB,EAAEouB,EAAGC,EAAGruB,EAAEquB,EAAGjvB,EAAGlB,EAAIwvB,IAEvC,IAAKxvB,EAAI,EAAGA,EAAIsuB,EAAK,EAAGtuB,IACpB8B,EAAIy7F,EAAkBrtF,MAAM,EAAG6vF,EAAKnuF,OAAO5R,EAAIsuB,IAC/C4xE,EAAM5tF,KAAK,CAAC4d,EAAGpuB,EAAEouB,EAAGC,EAAGruB,EAAEquB,EAAGjvB,EAAGlB,EAAIsuB,IAEvC,IAAKtuB,EAAI,EAAGA,EAAIwvB,EAAIxvB,IAChB,IAAK,IAAI6d,EAAI,EAAGA,EAAIyQ,EAAIzQ,IAAK,CACzB,IAAIuiF,EAAKH,EAAMjgG,GACXqgG,EAAMJ,EAAMjgG,EAAI,GAChBsgG,EAAKJ,EAAMriF,GACX0iF,EAAML,EAAMriF,EAAI,GAChB2iF,EAAK/6E,EAAI46E,EAAInwE,EAAIkwE,EAAGlwE,GAAK,KAAO,IAAM,IACtCuwE,EAAKh7E,EAAI86E,EAAIrwE,EAAIowE,EAAGpwE,GAAK,KAAO,IAAM,IACtCjc,EAAKwrF,EAAUW,EAAGlwE,EAAGkwE,EAAGjwE,EAAGkwE,EAAInwE,EAAGmwE,EAAIlwE,EAAGmwE,EAAGpwE,EAAGowE,EAAGnwE,EAAGowE,EAAIrwE,EAAGqwE,EAAIpwE,GACpE,GAAIlc,EAAI,CACJ,GAAIksF,EAAGlsF,EAAGic,EAAE68D,QAAQ,KAAO94E,EAAGkc,EAAE48D,QAAQ,GACpC,SAEJoT,EAAGlsF,EAAGic,EAAE68D,QAAQ,IAAM94E,EAAGkc,EAAE48D,QAAQ,GACnC,IAAI5yD,EAAKimE,EAAGl/F,EAAIukB,GAAKxR,EAAGusF,GAAMJ,EAAGI,KAAQH,EAAIG,GAAMJ,EAAGI,MAASH,EAAIn/F,EAAIk/F,EAAGl/F,GACtEooE,EAAKg3B,EAAGp/F,EAAIukB,GAAKxR,EAAGwsF,GAAMH,EAAGG,KAAQF,EAAIE,GAAMH,EAAGG,MAASF,EAAIr/F,EAAIo/F,EAAGp/F,GACtEi5B,GAAM,GAAKA,GAAM,GAAKmvC,GAAM,GAAKA,GAAM,IACnC02B,EACArZ,IAEAA,EAAIr0E,KAAK,CACL4d,EAAGjc,EAAGic,EACNC,EAAGlc,EAAGkc,EACNgK,GAAIA,EACJmvC,GAAIA,MAO5B,OAAOqd,EAQX,SAAS+Z,EAAgBC,EAAOC,EAAOZ,GACnCW,EAAQzC,EAAWyC,GACnBC,EAAQ1C,EAAW0C,GAGnB,IAFA,IAAI1pE,EAAIC,EAAIC,EAAIC,EAAIwpE,EAAKC,EAAKC,EAAKC,EAAKlB,EAAMC,EAC1CpZ,EAAMqZ,EAAY,EAAI,GACjBhgG,EAAI,EAAG6pF,EAAK8W,EAAMn+F,OAAQxC,EAAI6pF,EAAI7pF,IAAK,CAC5C,IAAIq+C,EAAKsiD,EAAM3gG,GACf,GAAa,KAATq+C,EAAG,GACHnnB,EAAK2pE,EAAMxiD,EAAG,GACdlnB,EAAK2pE,EAAMziD,EAAG,OACX,CACU,KAATA,EAAG,IACHyhD,EAAO,CAAC5oE,EAAIC,GAAIvlB,OAAOysC,EAAG/pC,MAAM,IAChC4iB,EAAK4oE,EAAK,GACV3oE,EAAK2oE,EAAK,KAEVA,EAAO,CAAC5oE,EAAIC,EAAID,EAAIC,EAAI0pE,EAAKC,EAAKD,EAAKC,GACvC5pE,EAAK2pE,EACL1pE,EAAK2pE,GAET,IAAK,IAAIjjF,EAAI,EAAG+oE,EAAKga,EAAMp+F,OAAQqb,EAAI+oE,EAAI/oE,IAAK,CAC5C,IAAIojF,EAAKL,EAAM/iF,GACf,GAAa,KAATojF,EAAG,GACH7pE,EAAK2pE,EAAME,EAAG,GACd5pE,EAAK2pE,EAAMC,EAAG,OACX,CACU,KAATA,EAAG,IACHlB,EAAO,CAAC3oE,EAAIC,GAAIzlB,OAAOqvF,EAAG3sF,MAAM,IAChC8iB,EAAK2oE,EAAK,GACV1oE,EAAK0oE,EAAK,KAEVA,EAAO,CAAC3oE,EAAIC,EAAID,EAAIC,EAAI0pE,EAAKC,EAAKD,EAAKC,GACvC5pE,EAAK2pE,EACL1pE,EAAK2pE,GAET,IAAIE,EAAOrB,EAAYC,EAAMC,EAAMC,GACnC,GAAIA,EACArZ,GAAOua,MACJ,CACH,IAAK,IAAI1jF,EAAI,EAAG2jF,EAAKD,EAAK1+F,OAAQgb,EAAI2jF,EAAI3jF,IACtC0jF,EAAK1jF,GAAG4jF,SAAWphG,EACnBkhG,EAAK1jF,GAAG6jF,SAAWxjF,EACnBqjF,EAAK1jF,GAAGsiF,KAAOA,EACfoB,EAAK1jF,GAAGuiF,KAAOA,EAEnBpZ,EAAMA,EAAI/0E,OAAOsvF,OAMrC,OAAOva,EAOX,SAAS2a,EAASv2F,GACd,IAAIgjF,EAAMnvD,EAAM7zB,GAChB,GAAIgjF,EAAI5vB,KACJ,OAAOpuC,EAAMg+D,EAAI5vB,MAErB,IAAKpzD,EACD,OAAO2+D,IAQX,IALA,IAII5nE,EAJAouB,EAAI,EACJC,EAAI,EACJu9D,EAAI,GACJ6T,EAAI,GAECvhG,EAAI,EAAG6pF,GANhB9+E,EAAOmzF,EAAWnzF,IAMQvI,OAAQxC,EAAI6pF,EAAI7pF,IAEtC,GAAY,MADZ8B,EAAIiJ,EAAK/K,IACH,GACFkwB,EAAIpuB,EAAE,GACNquB,EAAIruB,EAAE,GACN4rF,EAAEp7E,KAAK4d,GACPqxE,EAAEjvF,KAAK6d,OACJ,CACH,IAAIqxE,EAAM3C,EAAS3uE,EAAGC,EAAGruB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,IACzD4rF,EAAIA,EAAE97E,OAAO4vF,EAAIpjF,IAAI8R,EAAGsxE,EAAInjF,IAAI6R,GAChCqxE,EAAIA,EAAE3vF,OAAO4vF,EAAIpjF,IAAI+R,EAAGqxE,EAAInjF,IAAI8R,GAChCD,EAAIpuB,EAAE,GACNquB,EAAIruB,EAAE,GAGd,IAAI2/F,EAAOrZ,EAAKl4E,MAAM,EAAGw9E,GACrBgU,EAAOtZ,EAAKl4E,MAAM,EAAGqxF,GAGrB/S,EAAK9kB,EAAI+3B,EAAMC,EAFRvZ,EAAKj4E,MAAM,EAAGw9E,GAEO+T,EADrBtZ,EAAKj4E,MAAM,EAAGqxF,GACoBG,GAE7C,OADA3T,EAAI5vB,KAAOpuC,EAAMy+D,GACVA,EAEX,SAASkO,EAASxsE,EAAGC,EAAG5M,EAAGgF,EAAGznB,GAC1B,GAAIA,EACA,MAAO,CACH,CAAC,KAAMovB,IAAKpvB,EAAGqvB,GACf,CAAC,IAAK5M,EAAQ,EAAJziB,EAAO,GACjB,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,EAAGA,EAAGA,GACxB,CAAC,IAAK,EAAGynB,EAAQ,EAAJznB,GACb,CAAC,IAAKA,EAAGA,EAAG,EAAG,EAAG,GAAIA,EAAGA,GACzB,CAAC,IAAS,EAAJA,EAAQyiB,EAAG,GACjB,CAAC,IAAKziB,EAAGA,EAAG,EAAG,EAAG,GAAIA,GAAIA,GAC1B,CAAC,IAAK,EAAO,EAAJA,EAAQynB,GACjB,CAAC,IAAKznB,EAAGA,EAAG,EAAG,EAAG,EAAGA,GAAIA,GACzB,CAAC,MAGT,IAAI6lF,EAAM,CAAC,CAAC,IAAKz2D,EAAGC,GAAI,CAAC,IAAK5M,EAAG,GAAI,CAAC,IAAK,EAAGgF,GAAI,CAAC,KAAMhF,EAAG,GAAI,CAAC,MAEjE,OADAojE,EAAI90E,SAAWA,EACR80E,EAEX,SAASgb,EAAYzxE,EAAGC,EAAGma,EAAIC,EAAI57B,GAQ/B,GAPS,MAALA,GAAmB,MAAN47B,IACbA,EAAKD,GAETpa,GAAKA,EACLC,GAAKA,EACLma,GAAMA,EACNC,GAAMA,EACG,MAAL57B,EACA,IAAImgC,EAAMtgC,KAAK6X,GAAK,IAChB6Q,EAAKhH,EAAIoa,EAAK97B,KAAKod,KAAK2e,EAAKuE,GAC7B1X,EAAKlH,EAAIoa,EAAK97B,KAAKod,KAAKjd,EAAImgC,GAG5B63C,EAAM,CAAC,CAAC,IAAKzvD,EAFR/G,EAAIma,EAAK97B,KAAKsd,KAAKye,EAAKuE,IAEP,CAAC,IAAKxE,EAAIA,EAAI,IAAK37B,EAAI47B,EAAK,KAAM,EAAGnT,EADtDjH,EAAIma,EAAK97B,KAAKsd,KAAKnd,EAAImgC,UAGhC63C,EAAM,CACF,CAAC,IAAKz2D,EAAGC,GACT,CAAC,IAAK,GAAIoa,GACV,CAAC,IAAKD,EAAIC,EAAI,EAAG,EAAG,EAAG,EAAG,EAAIA,GAC9B,CAAC,IAAKD,EAAIC,EAAI,EAAG,EAAG,EAAG,GAAI,EAAIA,GAC/B,CAAC,MAIT,OADAo8C,EAAI90E,SAAWA,EACR80E,EAEX,IAAIoM,EAAUp8E,EAAKm4E,SACf1e,EAAU,CACVrlE,KAAM,SAAU7C,GACZ,OAAOA,EAAGoD,KAAK,SAEnBgvF,OAAQ,SAAUpyF,GACd,IAAIoD,EAAOynF,EAAQ7qF,GACnB,OAAOy5F,EAAYr2F,EAAKwqF,GAAIxqF,EAAKyqF,GAAIzqF,EAAKxK,IAE9C85F,QAAS,SAAU1yF,GACf,IAAIoD,EAAOynF,EAAQ7qF,GACnB,OAAOy5F,EAAYr2F,EAAKwqF,IAAM,EAAGxqF,EAAKyqF,IAAM,EAAGzqF,EAAKg/B,GAAIh/B,EAAKi/B,KAEjEkc,KAAM,SAAUv+C,GACZ,IAAIoD,EAAOynF,EAAQ7qF,GACnB,OAAOw0F,EAASpxF,EAAK4kB,GAAK,EAAG5kB,EAAK6kB,GAAK,EAAG7kB,EAAKvB,MAAOuB,EAAKkB,OAAQlB,EAAKg/B,GAAIh/B,EAAKi/B,KAErFowD,MAAO,SAAUzyF,GACb,IAAIoD,EAAOynF,EAAQ7qF,GACnB,OAAOw0F,EAASpxF,EAAK4kB,GAAK,EAAG5kB,EAAK6kB,GAAK,EAAG7kB,EAAKvB,MAAOuB,EAAKkB,SAE/DuzC,KAAM,SAAU73C,GACZ,MAAO,IAAM,CAACA,EAAGoD,KAAK,OAAS,EAAGpD,EAAGoD,KAAK,OAAS,EAAGpD,EAAGoD,KAAK,MAAOpD,EAAGoD,KAAK,QAEjFgwF,SAAU,SAAUpzF,GAChB,MAAO,IAAMA,EAAGoD,KAAK,WAEzBiwF,QAAS,SAAUrzF,GACf,MAAO,IAAMA,EAAGoD,KAAK,UAAY,KAErCgoF,MAAO,SAAUprF,GACb,IAAIi2D,EAAOj2D,EAAG83B,KAAKk+B,UACnB,OAAOw+B,EAASv+B,EAAKjuC,EAAGiuC,EAAKhuC,EAAGguC,EAAKp0D,MAAOo0D,EAAK3xD,UAmFzD,SAASo1F,EAAehF,GACpB,IAAI7O,EAAMnvD,EAAMg+D,GAChB,GAAI7O,EAAItoE,IACJ,OAAOk3E,EAAU5O,EAAItoE,KAKzB,GAHKxR,EAAG2oF,EAAW,UAAa3oF,EAAG2oF,GAAaA,EAAU,GAAI,WAC1DA,EAAYjmF,EAAKm3E,gBAAgB8O,KAEhCA,IAAcA,EAAUp6F,OACzB,MAAO,CAAC,CAAC,IAAK,EAAG,IAErB,IAMIq/F,EANAlb,EAAM,GACNz2D,EAAI,EACJC,EAAI,EACJouE,EAAK,EACLC,EAAK,EACLjmF,EAAQ,EAEW,KAAnBqkF,EAAU,GAAG,KAGb2B,EAFAruE,GAAK0sE,EAAU,GAAG,GAGlB4B,EAFAruE,GAAKysE,EAAU,GAAG,GAGlBrkF,IACAouE,EAAI,GAAK,CAAC,IAAKz2D,EAAGC,IAMtB,IAJA,IAISrvB,EAAGghG,EAJRC,EAA0B,GAApBnF,EAAUp6F,QACG,KAAnBo6F,EAAU,GAAG,IACoB,KAAjCA,EAAU,GAAG,GAAGjzF,eACiB,KAAjCizF,EAAU,GAAG,GAAGjzF,cACJ3J,EAAIuY,EAAOsxE,EAAK+S,EAAUp6F,OAAQxC,EAAI6pF,EAAI7pF,IAAK,CAI3D,GAHA2mF,EAAIr0E,KAAKxR,EAAI,KAEb+gG,GADAC,EAAKlF,EAAU58F,IACN,KACE6hG,EAAIl4F,cAEX,OADA7I,EAAE,GAAK+gG,EAAIl4F,cACH7I,EAAE,IACN,IAAK,IACDA,EAAE,GAAKghG,EAAG,GACVhhG,EAAE,GAAKghG,EAAG,GACVhhG,EAAE,GAAKghG,EAAG,GACVhhG,EAAE,GAAKghG,EAAG,GACVhhG,EAAE,GAAKghG,EAAG,GACVhhG,EAAE,IAAMghG,EAAG,GAAK5xE,EAChBpvB,EAAE,IAAMghG,EAAG,GAAK3xE,EAChB,MACJ,IAAK,IACDrvB,EAAE,IAAMghG,EAAG,GAAK3xE,EAChB,MACJ,IAAK,IACDrvB,EAAE,IAAMghG,EAAG,GAAK5xE,EAChB,MACJ,IAAK,IAED,IADA,IAAI8xE,EAAO,CAAC9xE,EAAGC,GAAGve,OAAOkwF,EAAGxtF,MAAM,IACzBuJ,EAAI,EAAG+oE,EAAKob,EAAKx/F,OAAQqb,EAAI+oE,EAAI/oE,IACtCmkF,EAAKnkF,IAAMmkF,EAAKnkF,GAAKqS,EACrB8xE,IAAOnkF,IAAMmkF,EAAKnkF,GAAKsS,EAE3Bw2D,EAAI3gF,MACJ2gF,EAAMA,EAAI/0E,OAAOqwF,EAAkBD,EAAMD,IACzC,MACJ,IAAK,IACDpb,EAAI3gF,OACJg8F,EAAOL,EAAYzxE,EAAGC,EAAG2xE,EAAG,GAAIA,EAAG,KAC9BxvF,KAAK0vF,EAAK,IACfrb,EAAMA,EAAI/0E,OAAOowF,GACjB,MACJ,IAAK,IACDrb,EAAI3gF,MACJ2gF,EAAMA,EAAI/0E,OAAO+vF,EAAYzxE,EAAGC,EAAG2xE,EAAG,GAAIA,EAAG,GAAIA,EAAG,KACpDhhG,EAAI,CAAC,KAAK8Q,OAAO+0E,EAAIA,EAAInkF,OAAS,GAAG8R,OAAO,IAC5C,MACJ,IAAK,IACDiqF,GAAMuD,EAAG,GAAK5xE,EACdsuE,GAAMsD,EAAG,GAAK3xE,EAClB,QACI,IAAKtS,EAAI,EAAG+oE,EAAKkb,EAAGt/F,OAAQqb,EAAI+oE,EAAI/oE,IAChC/c,EAAE+c,IAAMikF,EAAGjkF,IAAMA,EAAI,EAAIqS,EAAIC,QAGtC,GAAW,KAAP0xE,EACPG,EAAO,CAAC9xE,EAAGC,GAAGve,OAAOkwF,EAAGxtF,MAAM,IAC9BqyE,EAAI3gF,MACJ2gF,EAAMA,EAAI/0E,OAAOqwF,EAAkBD,EAAMD,IACzCjhG,EAAI,CAAC,KAAK8Q,OAAOkwF,EAAGxtF,OAAO,SACxB,GAAW,KAAPutF,EACPlb,EAAI3gF,OACJg8F,EAAOL,EAAYzxE,EAAGC,EAAG2xE,EAAG,GAAIA,EAAG,KAC9BxvF,KAAK0vF,EAAK,IACfrb,EAAMA,EAAI/0E,OAAOowF,QACd,GAAW,KAAPH,EACPlb,EAAI3gF,MACJ2gF,EAAMA,EAAI/0E,OAAO+vF,EAAYzxE,EAAGC,EAAG2xE,EAAG,GAAIA,EAAG,GAAIA,EAAG,KACpDhhG,EAAI,CAAC,KAAK8Q,OAAO+0E,EAAIA,EAAInkF,OAAS,GAAG8R,OAAO,SAE5C,IAAK,IAAIkJ,EAAI,EAAG2jF,EAAKW,EAAGt/F,OAAQgb,EAAI2jF,EAAI3jF,IACpC1c,EAAE0c,GAAKskF,EAAGtkF,GAIlB,GAAW,MADXqkF,EAAMA,EAAIl4F,eAEN,OAAQ7I,EAAE,IACN,IAAK,IACDovB,GAAKquE,EACLpuE,GAAKquE,EACL,MACJ,IAAK,IACDtuE,EAAIpvB,EAAE,GACN,MACJ,IAAK,IACDqvB,EAAIrvB,EAAE,GACN,MACJ,IAAK,IACDy9F,EAAKz9F,EAAEA,EAAE0B,OAAS,GAClBg8F,EAAK19F,EAAEA,EAAE0B,OAAS,GACtB,QACI0tB,EAAIpvB,EAAEA,EAAE0B,OAAS,GACjB2tB,EAAIrvB,EAAEA,EAAE0B,OAAS,IAMjC,OAFAmkF,EAAI90E,SAAWA,EACfk8E,EAAItoE,IAAMk3E,EAAUhW,GACbA,EAEX,SAASub,EAAIhrE,EAAIC,EAAIC,EAAIC,GACrB,MAAO,CAACH,EAAIC,EAAIC,EAAIC,EAAID,EAAIC,GAEhC,SAAS8qE,EAAIjrE,EAAIC,EAAIrK,EAAIC,EAAIqK,EAAIC,GAG7B,MAAO,CAFG,EAAI,EAGAH,EAFJ,EAAI,EAEWpK,EAHf,EAAI,EAIAqK,EAHJ,EAAI,EAGWpK,EAJf,EAAI,EAKAqK,EAJJ,EAAI,EAIWtK,EALf,EAAI,EAMAuK,EALJ,EAAI,EAKWtK,EACjBqK,EACAC,GAGZ,SAAS+qE,EAAIlrE,EAAIC,EAAImT,EAAIC,EAAIne,EAAOi2E,EAAgBC,EAAYlrE,EAAIC,EAAIkrE,GAGpE,IAGIpC,EAHAqC,EAAY,IAALn8E,EAAW,IAClByoB,EAAMzoB,EAAK,MAAQ+F,GAAS,GAC5Bu6D,EAAM,GAENx6D,EAASxV,EAAKgxE,EAAEmC,QAAO,SAAU55D,EAAGC,EAAG2e,GAGnC,MAAO,CAAC5e,EAFAA,EAAI8B,EAAKpG,IAAIkjB,GAAO3e,EAAI6B,EAAKlG,IAAIgjB,GAE3B3e,EADND,EAAI8B,EAAKlG,IAAIgjB,GAAO3e,EAAI6B,EAAKpG,IAAIkjB,OAGjD,IAAKxE,IAAOC,EACR,MAAO,CAACrT,EAAIC,EAAIC,EAAIC,EAAID,EAAIC,GAEhC,GAAKkrE,EAqCDvzE,EAAKuzE,EAAU,GACfz0E,EAAKy0E,EAAU,GACfzM,EAAKyM,EAAU,GACfxM,EAAKwM,EAAU,OAxCH,CAEZrrE,GADAipE,EAAKh0E,EAAO+K,EAAIC,GAAK2X,IACb5e,EACRiH,EAAKgpE,EAAGhwE,EAERiH,GADA+oE,EAAKh0E,EAAOiL,EAAIC,GAAKyX,IACb5e,EACRmH,EAAK8oE,EAAGhwE,EACE6B,EAAKpG,IAAIvF,EAAK,IAAM+F,GACpB4F,EAAKlG,IAAIzF,EAAK,IAAM+F,GAD9B,IAEI8D,GAAKgH,EAAKE,GAAM,EAChBjH,GAAKgH,EAAKE,GAAM,EAChB9O,EAAI2H,EAAIA,GAAKoa,EAAKA,GAAMna,EAAIA,GAAKoa,EAAKA,GACtChiB,EAAI,IAEJ+hB,GADA/hB,EAAIyJ,EAAKzM,KAAKgD,GAEdgiB,GAAKhiB,GAET,IAAIk6E,EAAMn4D,EAAKA,EACXo4D,EAAMn4D,EAAKA,EACX/sB,GAAK6kF,GAAkBC,GAAc,EAAI,GACrCtwE,EAAKzM,KAAKE,GAAKg9E,EAAMC,EAAMD,EAAMtyE,EAAIA,EAAIuyE,EAAMxyE,EAAIA,IAAMuyE,EAAMtyE,EAAIA,EAAIuyE,EAAMxyE,EAAIA,KACrF4lE,EAAKt4E,EAAI8sB,EAAKna,EAAIoa,GAAMrT,EAAKE,GAAM,EACnC2+D,EAAKv4E,GAAK+sB,EAAKra,EAAIoa,GAAMnT,EAAKE,GAAM,EACpCrI,EAAKgD,EAAK8U,OAAO3P,EAAK4+D,GAAMxrD,GAAIwiD,QAAQ,IACxCj/D,EAAKkE,EAAK8U,OAAOzP,EAAK0+D,GAAMxrD,GAAIwiD,QAAQ,KAE5C/9D,EAAKkI,EAAK4+D,EAAKzvE,EAAK2I,EAAKA,GAEpB,IAAMA,EAAU,EAAL3I,EAAS2I,IADzBlB,EAAKsJ,EAAK0+D,EAAKzvE,EAAKyH,EAAKA,GAEpB,IAAMA,EAAU,EAALzH,EAASyH,GACrBw0E,GAActzE,EAAKlB,IACnBkB,GAAe,EAAL3I,IAETi8E,GAAcx0E,EAAKkB,IACpBlB,GAAe,EAALzH,GAQlB,IAAIs8E,EAAK70E,EAAKkB,EACd,GAAIvJ,EAAIk9E,GAAMH,EAAM,CAChB,IAAII,EAAQ90E,EACR+0E,EAAQzrE,EACR0rE,EAAQzrE,EACZvJ,EAAKkB,EAAKwzE,GAAQF,GAAcx0E,EAAKkB,EAAK,GAAK,GAG/C23D,EAAMyb,EAFNhrE,EAAK0+D,EAAKxrD,EAAKtY,EAAKpG,IAAIkC,GACxBuJ,EAAK0+D,EAAKxrD,EAAKvY,EAAKlG,IAAIgC,GACNwc,EAAIC,EAAIne,EAAO,EAAGk2E,EAAYO,EAAOC,EAAO,CAACh1E,EAAI80E,EAAO9M,EAAIC,IAElF4M,EAAK70E,EAAKkB,EACV,IAAIH,EAAKmD,EAAKpG,IAAIoD,GACdgZ,EAAKhW,EAAKlG,IAAIkD,GACdrB,EAAKqE,EAAKpG,IAAIkC,GACdma,EAAKjW,EAAKlG,IAAIgC,GACd5sB,EAAI8wB,EAAKhG,IAAI22E,EAAK,GAClBI,EAAK,EAAI,EAAIz4D,EAAKppC,EAClB8hG,EAAK,EAAI,EAAIz4D,EAAKrpC,EAClBquB,EAAK,CAAC2H,EAAIC,GACV9I,EAAK,CAAC6I,EAAK6rE,EAAK/6D,EAAI7Q,EAAK6rE,EAAKn0E,GAC9Bo0E,EAAK,CAAC7rE,EAAK2rE,EAAK96D,EAAI5Q,EAAK2rE,EAAKr1E,GAC9Bu1E,EAAK,CAAC9rE,EAAIC,GAGd,GAFAhJ,EAAG,GAAK,EAAIkB,EAAG,GAAKlB,EAAG,GACvBA,EAAG,GAAK,EAAIkB,EAAG,GAAKlB,EAAG,GACnBk0E,EACA,MAAO,CAACl0E,EAAI40E,EAAIC,GAAItxF,OAAO+0E,GAI3B,IADA,IAAIwc,EAAS,GACJnjG,EAAI,EAAG6pF,GAFhBlD,EAAM,CAACt4D,EAAI40E,EAAIC,GAAItxF,OAAO+0E,GAAKt5E,OAAOmF,MAAM,MAEnBhQ,OAAQxC,EAAI6pF,EAAI7pF,IACrCmjG,EAAOnjG,GAAKA,EAAI,EAAImsB,EAAOw6D,EAAI3mF,EAAI,GAAI2mF,EAAI3mF,GAAI8uC,GAAK3e,EAAIhE,EAAOw6D,EAAI3mF,GAAI2mF,EAAI3mF,EAAI,GAAI8uC,GAAK5e,EAE5F,OAAOizE,EAef,SAAStE,EAASuE,EAAIC,EAAInsE,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAI1C,IAHA,IAEI5oB,EAAGsB,EAAG5P,EAAGa,EAAGi5B,EAAImvC,EAAID,EAAMi6B,EAF1BC,EAAU,GACVz6B,EAAS,CAAC,GAAI,IAET9oE,EAAI,EAAGA,EAAI,IAAKA,EAUrB,GATS,GAALA,GACAiQ,EAAI,EAAImzF,EAAK,GAAKlsE,EAAK,EAAIE,EAC3BzoB,GAAK,EAAIy0F,EAAK,EAAIlsE,EAAK,EAAIE,EAAK,EAAIE,EACpCj3B,EAAI,EAAI62B,EAAK,EAAIksE,IAEjBnzF,EAAI,EAAIozF,EAAK,GAAKlsE,EAAK,EAAIE,EAC3B1oB,GAAK,EAAI00F,EAAK,EAAIlsE,EAAK,EAAIE,EAAK,EAAIE,EACpCl3B,EAAI,EAAI82B,EAAK,EAAIksE,GAEjB59E,EAAI9W,GAAK,MAAb,CACI,GAAI8W,EAAIxV,GAAK,MACT,SAGA,GADJ/O,GAAKb,EAAI4P,IACI/O,EAAI,GACbqiG,EAAQjxF,KAAKpR,QAIrBmoE,EAAOp5D,EAAIA,EAAI,EAAI5P,EAAIsO,EACvB20F,EAAWtxE,EAAKzM,KAAK8jD,GACjBA,EAAO,IAIP,GADJlvC,IAAOlqB,EAAIqzF,IAAa,EAAI30F,KACdwrB,EAAK,GACfopE,EAAQjxF,KAAK6nB,GAGb,GADJmvC,IAAOr5D,EAAIqzF,IAAa,EAAI30F,KACd26D,EAAK,GACfi6B,EAAQjxF,KAAKg3D,IAOrB,IAHA,IAEIk6B,EAFM3lF,EAAI0lF,EAAQ/gG,OAClBihG,EAAO5lF,EAEJA,KAEH2lF,EAAK,GADLtiG,EAAIqiG,EAAQ1lF,IAEZirD,EAAO,GAAGjrD,GAAK2lF,EAAKA,EAAKA,EAAKJ,EAAK,EAAII,EAAKA,EAAKtiG,EAAIg2B,EAAK,EAAIssE,EAAKtiG,EAAIA,EAAIk2B,EAAKl2B,EAAIA,EAAIA,EAAIo2B,EAC5FwxC,EAAO,GAAGjrD,GAAK2lF,EAAKA,EAAKA,EAAKH,EAAK,EAAIG,EAAKA,EAAKtiG,EAAIi2B,EAAK,EAAIqsE,EAAKtiG,EAAIA,EAAIm2B,EAAKn2B,EAAIA,EAAIA,EAAIq2B,EAUhG,OAPAuxC,EAAO,GAAG26B,GAAQL,EAClBt6B,EAAO,GAAG26B,GAAQJ,EAClBv6B,EAAO,GAAG26B,EAAO,GAAKnsE,EACtBwxC,EAAO,GAAG26B,EAAO,GAAKlsE,EACtBuxC,EAAO,GAAGtmE,OAASsmE,EAAO,GAAGtmE,OAASihG,EAAO,EAGtC,CACLrlF,IAAK,CAAC8R,EAAGk4D,EAAKl4E,MAAM,EAAG44D,EAAO,IAAK34C,EAAGi4D,EAAKl4E,MAAM,EAAG44D,EAAO,KAC3DzqD,IAAK,CAAC6R,EAAGi4D,EAAKj4E,MAAM,EAAG44D,EAAO,IAAK34C,EAAGg4D,EAAKj4E,MAAM,EAAG44D,EAAO,MAIjE,SAASo1B,EAAWnzF,EAAM61F,GACtB,IAAI7S,GAAO6S,GAAShiE,EAAM7zB,GAC1B,IAAK61F,GAAS7S,EAAI2V,MACd,OAAO/G,EAAU5O,EAAI2V,OAyFzB,IAvFA,IAAI5hG,EAAI8/F,EAAe72F,GACnByjB,EAAKoyE,GAASgB,EAAehB,GAC7B1I,EAAQ,CAAChoE,EAAG,EAAGC,EAAG,EAAGqX,GAAI,EAAGC,GAAI,EAAGimD,EAAG,EAAG6T,EAAG,EAAGh7D,GAAI,KAAMC,GAAI,MAC7Dm9D,EAAS,CAACzzE,EAAG,EAAGC,EAAG,EAAGqX,GAAI,EAAGC,GAAI,EAAGimD,EAAG,EAAG6T,EAAG,EAAGh7D,GAAI,KAAMC,GAAI,MAC9DgN,EAAc,SAAUzoC,EAAMzK,EAAGsjG,GAC7B,IAAInF,EAAIC,EACR,IAAK3zF,EACD,MAAO,CAAC,IAAKzK,EAAE4vB,EAAG5vB,EAAE6vB,EAAG7vB,EAAE4vB,EAAG5vB,EAAE6vB,EAAG7vB,EAAE4vB,EAAG5vB,EAAE6vB,GAG5C,SADEplB,EAAK,IAAM,CAAC0S,EAAG,EAAGypE,EAAG,MAAQ5mF,EAAEimC,GAAKjmC,EAAEkmC,GAAK,MACrCz7B,EAAK,IACT,IAAK,IACDzK,EAAEotF,EAAI3iF,EAAK,GACXzK,EAAEihG,EAAIx2F,EAAK,GACX,MACJ,IAAK,IACDA,EAAO,CAAC,KAAK6G,OAAOwwF,EAAIlyF,MAAM,EAAG,CAAC5P,EAAE4vB,EAAG5vB,EAAE6vB,GAAGve,OAAO7G,EAAKuJ,MAAM,MAC9D,MACJ,IAAK,IACW,KAARsvF,GAAuB,KAARA,GACfnF,EAAW,EAANn+F,EAAE4vB,EAAQ5vB,EAAEknC,GACjBk3D,EAAW,EAANp+F,EAAE6vB,EAAQ7vB,EAAEmnC,KAGjBg3D,EAAKn+F,EAAE4vB,EACPwuE,EAAKp+F,EAAE6vB,GAEXplB,EAAO,CAAC,IAAK0zF,EAAIC,GAAI9sF,OAAO7G,EAAKuJ,MAAM,IACvC,MACJ,IAAK,IACW,KAARsvF,GAAuB,KAARA,GACftjG,EAAEimC,GAAW,EAANjmC,EAAE4vB,EAAQ5vB,EAAEimC,GACnBjmC,EAAEkmC,GAAW,EAANlmC,EAAE6vB,EAAQ7vB,EAAEkmC,KAGnBlmC,EAAEimC,GAAKjmC,EAAE4vB,EACT5vB,EAAEkmC,GAAKlmC,EAAE6vB,GAEbplB,EAAO,CAAC,KAAK6G,OAAOuwF,EAAI7hG,EAAE4vB,EAAG5vB,EAAE6vB,EAAG7vB,EAAEimC,GAAIjmC,EAAEkmC,GAAIz7B,EAAK,GAAIA,EAAK,KAC5D,MACJ,IAAK,IACDzK,EAAEimC,GAAKx7B,EAAK,GACZzK,EAAEkmC,GAAKz7B,EAAK,GACZA,EAAO,CAAC,KAAK6G,OAAOuwF,EAAI7hG,EAAE4vB,EAAG5vB,EAAE6vB,EAAGplB,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,KAClE,MACJ,IAAK,IACDA,EAAO,CAAC,KAAK6G,OAAOswF,EAAI5hG,EAAE4vB,EAAG5vB,EAAE6vB,EAAGplB,EAAK,GAAIA,EAAK,KAChD,MACJ,IAAK,IACDA,EAAO,CAAC,KAAK6G,OAAOswF,EAAI5hG,EAAE4vB,EAAG5vB,EAAE6vB,EAAGplB,EAAK,GAAIzK,EAAE6vB,IAC7C,MACJ,IAAK,IACDplB,EAAO,CAAC,KAAK6G,OAAOswF,EAAI5hG,EAAE4vB,EAAG5vB,EAAE6vB,EAAG7vB,EAAE4vB,EAAGnlB,EAAK,KAC5C,MACJ,IAAK,IACDA,EAAO,CAAC,KAAK6G,OAAOswF,EAAI5hG,EAAE4vB,EAAG5vB,EAAE6vB,EAAG7vB,EAAEotF,EAAGptF,EAAEihG,IAGjD,OAAOx2F,GAEX84F,EAAS,SAAUC,EAAI9jG,GACnB,GAAI8jG,EAAG9jG,GAAGwC,OAAS,EAAG,CAClBshG,EAAG9jG,GAAG6F,QAEN,IADA,IAAIw4C,EAAKylD,EAAG9jG,GACLq+C,EAAG77C,QACNuhG,EAAO/jG,GAAK,IACZwuB,IAAOw1E,EAAOhkG,GAAK,KACnB8jG,EAAGt6E,OAAOxpB,IAAK,EAAG,CAAC,KAAK4R,OAAOysC,EAAG70B,OAAO,EAAG,KAEhDs6E,EAAGt6E,OAAOxpB,EAAG,GACb6pF,EAAK1B,EAAKrmF,EAAEU,OAAQgsB,GAAMA,EAAGhsB,QAAU,KAG/CyhG,EAAO,SAAUtD,EAAOC,EAAOjyE,EAAIlB,EAAIztB,GAC/B2gG,GAASC,GAAwB,KAAfD,EAAM3gG,GAAG,IAA4B,KAAf4gG,EAAM5gG,GAAG,KACjD4gG,EAAMp3E,OAAOxpB,EAAG,EAAG,CAAC,IAAKytB,EAAGyC,EAAGzC,EAAG0C,IAClCxB,EAAG6Y,GAAK,EACR7Y,EAAG8Y,GAAK,EACR9Y,EAAGuB,EAAIywE,EAAM3gG,GAAG,GAChB2uB,EAAGwB,EAAIwwE,EAAM3gG,GAAG,GAChB6pF,EAAK1B,EAAKrmF,EAAEU,OAAQgsB,GAAMA,EAAGhsB,QAAU,KAG/CuhG,EAAS,GACTC,EAAS,GACTE,EAAS,GACTN,EAAO,GACF5jG,EAAI,EAAG6pF,EAAK1B,EAAKrmF,EAAEU,OAAQgsB,GAAMA,EAAGhsB,QAAU,GAAIxC,EAAI6pF,EAAI7pF,IAAK,CACpE8B,EAAE9B,KAAOkkG,EAASpiG,EAAE9B,GAAG,IAET,KAAVkkG,IAEAH,EAAO/jG,GAAKkkG,EACZlkG,IAAO4jG,EAAOG,EAAO/jG,EAAI,KAE7B8B,EAAE9B,GAAKwzC,EAAY1xC,EAAE9B,GAAIk4F,EAAO0L,GAEf,KAAbG,EAAO/jG,IAAuB,KAAVkkG,IAAeH,EAAO/jG,GAAK,KAInD6jG,EAAO/hG,EAAG9B,GAENwuB,IACAA,EAAGxuB,KAAOkkG,EAAS11E,EAAGxuB,GAAG,IACX,KAAVkkG,IACAF,EAAOhkG,GAAKkkG,EACZlkG,IAAM4jG,EAAOI,EAAOhkG,EAAI,KAE5BwuB,EAAGxuB,GAAKwzC,EAAYhlB,EAAGxuB,GAAI2jG,EAAQC,GAElB,KAAbI,EAAOhkG,IAAuB,KAAVkkG,IACpBF,EAAOhkG,GAAK,KAGhB6jG,EAAOr1E,EAAIxuB,IAEfikG,EAAKniG,EAAG0sB,EAAI0pE,EAAOyL,EAAQ3jG,GAC3BikG,EAAKz1E,EAAI1sB,EAAG6hG,EAAQzL,EAAOl4F,GAC3B,IAAImkG,EAAMriG,EAAE9B,GACRokG,EAAO51E,GAAMA,EAAGxuB,GAChBqkG,EAASF,EAAI3hG,OACb8hG,EAAU91E,GAAM41E,EAAK5hG,OACzB01F,EAAMhoE,EAAIi0E,EAAIE,EAAS,GACvBnM,EAAM/nE,EAAIg0E,EAAIE,EAAS,GACvBnM,EAAM1wD,GAAKwgD,EAAQmc,EAAIE,EAAS,KAAOnM,EAAMhoE,EAC7CgoE,EAAMzwD,GAAKugD,EAAQmc,EAAIE,EAAS,KAAOnM,EAAM/nE,EAC7CwzE,EAAOn8D,GAAKhZ,IAAOw5D,EAAQoc,EAAKE,EAAU,KAAOX,EAAOzzE,GACxDyzE,EAAOl8D,GAAKjZ,IAAOw5D,EAAQoc,EAAKE,EAAU,KAAOX,EAAOxzE,GACxDwzE,EAAOzzE,EAAI1B,GAAM41E,EAAKE,EAAU,GAChCX,EAAOxzE,EAAI3B,GAAM41E,EAAKE,EAAU,GAKpC,OAHK91E,IACDu/D,EAAI2V,MAAQ/G,EAAU76F,IAEnB0sB,EAAK,CAAC1sB,EAAG0sB,GAAM1sB,EAqB1B,SAASmgG,EAAkBsC,EAAKn0E,GAE5B,IADA,IAAI9vB,EAAI,GACCN,EAAI,EAAGwkG,EAAOD,EAAI/hG,OAAQgiG,EAAO,GAAKp0E,EAAIpwB,EAAGA,GAAK,EAAG,CAC1D,IAAI8B,EAAI,CACI,CAACouB,GAAIq0E,EAAIvkG,EAAI,GAAImwB,GAAIo0E,EAAIvkG,EAAI,IAC7B,CAACkwB,GAAIq0E,EAAIvkG,GAAQmwB,GAAIo0E,EAAIvkG,EAAI,IAC7B,CAACkwB,GAAIq0E,EAAIvkG,EAAI,GAAImwB,GAAIo0E,EAAIvkG,EAAI,IAC7B,CAACkwB,GAAIq0E,EAAIvkG,EAAI,GAAImwB,GAAIo0E,EAAIvkG,EAAI,KAErCowB,EACKpwB,EAEMwkG,EAAO,GAAKxkG,EACnB8B,EAAE,GAAK,CAACouB,GAAIq0E,EAAI,GAAIp0E,GAAIo0E,EAAI,IACrBC,EAAO,GAAKxkG,IACnB8B,EAAE,GAAK,CAACouB,GAAIq0E,EAAI,GAAIp0E,GAAIo0E,EAAI,IAC5BziG,EAAE,GAAK,CAACouB,GAAIq0E,EAAI,GAAIp0E,GAAIo0E,EAAI,KAL5BziG,EAAE,GAAK,CAACouB,GAAIq0E,EAAIC,EAAO,GAAIr0E,GAAIo0E,EAAIC,EAAO,IAQ1CA,EAAO,GAAKxkG,EACZ8B,EAAE,GAAKA,EAAE,GACD9B,IACR8B,EAAE,GAAK,CAACouB,GAAIq0E,EAAIvkG,GAAImwB,GAAIo0E,EAAIvkG,EAAI,KAGxCM,EAAEgS,KAAK,CAAC,MACAxQ,EAAE,GAAGouB,EAAI,EAAIpuB,EAAE,GAAGouB,EAAIpuB,EAAE,GAAGouB,GAAK,IAChCpuB,EAAE,GAAGquB,EAAI,EAAIruB,EAAE,GAAGquB,EAAIruB,EAAE,GAAGquB,GAAK,GACjCruB,EAAE,GAAGouB,EAAI,EAAIpuB,EAAE,GAAGouB,EAAIpuB,EAAE,GAAGouB,GAAK,GAChCpuB,EAAE,GAAGquB,EAAI,EAAEruB,EAAE,GAAGquB,EAAIruB,EAAE,GAAGquB,GAAK,EAC/BruB,EAAE,GAAGouB,EACLpuB,EAAE,GAAGquB,IAIf,OAAO7vB,EAIXqW,EAAK5L,KAAO6zB,EAYZjoB,EAAK5L,KAAKk2D,eAAiBA,EAiB3BtqD,EAAK5L,KAAKygF,iBAAmBA,EAa7B70E,EAAK5L,KAAK05F,WAAa,SAAU15F,EAAMrF,EAAM2/B,GACzC,GAAInhC,KAAK+8D,eAAel2D,GAAQs6B,EAAK,KACjC,OAAO84D,EAAoBpzF,EAAMrF,GAAM8S,IAE3C,IAAI7J,EAAIwvF,EAAoBpzF,EAAMs6B,EAAI,GACtC,OAAO3/B,EAAOy4F,EAAoBxvF,EAAGjJ,GAAM8S,IAAM7J,GASrDmkF,EAAQ7xB,eAAiB,WACrB,GAAI/8D,KAAK87B,KAAKihC,eACV,OAAO/8D,KAAK87B,KAAKihC,kBAmBzB6xB,EAAQtH,iBAAmB,SAAUhpF,GACjC,OAAOgpF,EAAiBtnF,KAAKoH,KAAK,KAAM9I,IAc5CswF,EAAQ2R,WAAa,SAAU/+F,EAAM2/B,GACjC,OAAO1uB,EAAK5L,KAAK05F,WAAWvgG,KAAKoH,KAAK,KAAM5F,EAAM2/B,IAEtD1uB,EAAKgxE,EAAEje,IAAMA,EAwCb/yD,EAAK5L,KAAKwyF,kBAAoBA,EA4B9B5mF,EAAK5L,KAAK6zF,WAAaA,EAavBjoF,EAAK5L,KAAK+zF,kBAAoBA,EAC9BnoF,EAAK+tF,QAAU,SAAUx0E,EAAGC,EAAGu9D,EAAG6T,GAgB9B,IAfA,IAAIzgG,EAAI,IACJmP,EAAIy5D,EAAIx5C,EAAIpvB,EAAI,EAAGqvB,EAAIrvB,EAAI,EAAGA,EAAGA,GACjC6jG,EAAS,GACTnkG,EAASktF,EAAE,GAAG7rF,eAAe,KAAO,SAAU7B,GAC1C,MAAO,CACHkwB,EAAGw9D,EAAE1tF,GAAGkwB,EACRC,EAAGu9D,EAAE1tF,GAAGmwB,IAEZ,SAAUnwB,GACV,MAAO,CACHkwB,EAAGw9D,EAAE1tF,GACLmwB,EAAGoxE,EAAEvhG,KAGbiiC,EAAQ,EACLnhC,GAAK,MAAQmhC,GAAO,CACvB,IAAK,IAAIjiC,EAAI,EAAG6pF,EAAK6D,EAAElrF,OAAQxC,EAAI6pF,EAAI7pF,IAAK,CACxC,IAAImgG,EAAK3/F,EAAOR,GAChB,GAAI8+F,EAAkB7uF,EAAGkwF,EAAGjwE,EAAGiwE,EAAGhwE,GAAI,CAClC8R,IACA0iE,EAAOryF,KAAK6tF,GACZ,OAGHl+D,IAEDhyB,EAAIy5D,EAAIx5C,GADRpvB,GAAK,GACW,EAAGqvB,EAAIrvB,EAAI,EAAGA,EAAGA,IAGzC,GAAS,KAALA,EAAJ,CAGA,IACI6lF,EADAjvE,EAAM4zE,IAEV,IAAKtrF,EAAI,EAAG6pF,EAAK8a,EAAOniG,OAAQxC,EAAI6pF,EAAI7pF,IAAK,CACzC,IAAIC,EAAI0W,EAAKe,IAAIwY,EAAGC,EAAGw0E,EAAO3kG,GAAGkwB,EAAGy0E,EAAO3kG,GAAGmwB,GAC1CzY,EAAMzX,IACNyX,EAAMzX,EACN0kG,EAAO3kG,GAAG0X,IAAMzX,EAChB0mF,EAAMge,EAAO3kG,IAGrB,OAAO2mF,IAaXhwE,EAAK5L,KAAKg0F,gBAAkBA,EAwB5BpoF,EAAK5L,KAAK65F,aAjgCV,SAA0BjE,EAAOC,GAC7B,OAAOF,EAAgBC,EAAOC,IAigClCjqF,EAAK5L,KAAK85F,mBA//BV,SAAgClE,EAAOC,GACnC,OAAOF,EAAgBC,EAAOC,EAAO,IA6gCzCjqF,EAAK5L,KAAK+5F,cAt9BV,SAA2B/5F,EAAMmlB,EAAGC,GAChC,IAAIguC,EAAOmjC,EAASv2F,GACpB,OAAO+zF,EAAkB3gC,EAAMjuC,EAAGC,IAC3BuwE,EAAgB31F,EAAM,CAAC,CAAC,IAAKmlB,EAAGC,GAAI,CAAC,IAAKguC,EAAK/mC,GAAK,KAAM,GAAK,GAAK,GAs+B/EzgB,EAAK5L,KAAKmzD,QAAUojC,EACpB3qF,EAAK5L,KAAKlK,IAAMuvE,EAWhBz5D,EAAK5L,KAAKg6F,WA13BV,SAAwBnI,GACpB,IAAI7O,EAAMnvD,EAAMg+D,GACZoI,EAAY/lF,OAAOrd,UAAU+/C,YACjC,GAAIosC,EAAI7qD,IACJ,OAAOy5D,EAAU5O,EAAI7qD,KAEpBvsB,EAAK1C,GAAG2oF,EAAW,UAAajmF,EAAK1C,GAAG2oF,GAAaA,EAAU,GAAI,WACpEA,EAAYjmF,EAAKm3E,gBAAgB8O,IAErC,IAAIjW,EAAM,GACNz2D,EAAI,EACJC,EAAI,EACJouE,EAAK,EACLC,EAAK,EACLjmF,EAAQ,EACW,KAAnBqkF,EAAU,GAAG,KAGb2B,EAFAruE,EAAI0sE,EAAU,GAAG,GAGjB4B,EAFAruE,EAAIysE,EAAU,GAAG,GAGjBrkF,IACAouE,EAAIr0E,KAAK,CAAC,IAAK4d,EAAGC,KAEtB,IAAK,IAAInwB,EAAIuY,EAAOsxE,EAAK+S,EAAUp6F,OAAQxC,EAAI6pF,EAAI7pF,IAAK,CACpD,IAAIc,EAAI6lF,EAAI3mF,GAAK,GACb8hG,EAAKlF,EAAU58F,GACnB,GAAI8hG,EAAG,IAAMkD,EAAU7kG,KAAK2hG,EAAG,IAE3B,OADAhhG,EAAE,GAAKkkG,EAAU7kG,KAAK2hG,EAAG,IACjBhhG,EAAE,IACN,IAAK,IACDA,EAAE,GAAKghG,EAAG,GACVhhG,EAAE,GAAKghG,EAAG,GACVhhG,EAAE,GAAKghG,EAAG,GACVhhG,EAAE,GAAKghG,EAAG,GACVhhG,EAAE,GAAKghG,EAAG,GACVhhG,EAAE,KAAOghG,EAAG,GAAK5xE,GAAG68D,QAAQ,GAC5BjsF,EAAE,KAAOghG,EAAG,GAAK3xE,GAAG48D,QAAQ,GAC5B,MACJ,IAAK,IACDjsF,EAAE,KAAOghG,EAAG,GAAK3xE,GAAG48D,QAAQ,GAC5B,MACJ,IAAK,IACDwR,EAAKuD,EAAG,GACRtD,EAAKsD,EAAG,GACZ,QACI,IAAK,IAAIjkF,EAAI,EAAG+oE,EAAKkb,EAAGt/F,OAAQqb,EAAI+oE,EAAI/oE,IACpC/c,EAAE+c,KAAOikF,EAAGjkF,IAAMA,EAAI,EAAIqS,EAAIC,IAAI48D,QAAQ,OAGnD,CACHjsF,EAAI6lF,EAAI3mF,GAAK,GACA,KAAT8hG,EAAG,KACHvD,EAAKuD,EAAG,GAAK5xE,EACbsuE,EAAKsD,EAAG,GAAK3xE,GAEjB,IAAK,IAAI3S,EAAI,EAAG2jF,EAAKW,EAAGt/F,OAAQgb,EAAI2jF,EAAI3jF,IACpCmpE,EAAI3mF,GAAGwd,GAAKskF,EAAGtkF,GAGvB,IAAI9F,EAAMivE,EAAI3mF,GAAGwC,OACjB,OAAQmkF,EAAI3mF,GAAG,IACX,IAAK,IACDkwB,EAAIquE,EACJpuE,EAAIquE,EACJ,MACJ,IAAK,IACDtuE,IAAMy2D,EAAI3mF,GAAG0X,EAAM,GACnB,MACJ,IAAK,IACDyY,IAAMw2D,EAAI3mF,GAAG0X,EAAM,GACnB,MACJ,QACIwY,IAAMy2D,EAAI3mF,GAAG0X,EAAM,GACnByY,IAAMw2D,EAAI3mF,GAAG0X,EAAM,IAK/B,OAFAivE,EAAI90E,SAAWA,EACfk8E,EAAI7qD,IAAMy5D,EAAUhW,GACbA,GAuzBXhwE,EAAK5L,KAAKytF,WAAaoJ,EAWvBjrF,EAAK5L,KAAKk6F,QAAU/G,EAUpBvnF,EAAK5L,KAAKgC,IA1YV,SAAiBhC,EAAMwpC,GACnB,IAAKA,EACD,OAAOxpC,EAEX,IAAImlB,EAAGC,EAAGnwB,EAAG6d,EAAGgsE,EAAIjD,EAAIse,EAExB,IAAKllG,EAAI,EAAG6pF,GADZ9+E,EAAOmzF,EAAWnzF,IACIvI,OAAQxC,EAAI6pF,EAAI7pF,IAElC,IAAK6d,EAAI,EAAG+oE,GADZse,EAAQn6F,EAAK/K,IACUwC,OAAQqb,EAAI+oE,EAAI/oE,GAAK,EACxCqS,EAAIqkB,EAAOrkB,EAAEg1E,EAAMrnF,GAAIqnF,EAAMrnF,EAAI,IACjCsS,EAAIokB,EAAOpkB,EAAE+0E,EAAMrnF,GAAIqnF,EAAMrnF,EAAI,IACjCqnF,EAAMrnF,GAAKqS,EACXg1E,EAAMrnF,EAAI,GAAKsS,EAGvB,OAAOplB,GA4XX4L,EAAK5L,KAAK8G,SAAWA,EACrB8E,EAAK5L,KAAKglB,MAAQ4sE,KAgBtBhmF,EAAKurE,QAAO,SAAUvrE,EAAM4wE,EAASG,EAAOF,GACxC,IAAIW,EAAO35E,KAAK6P,IACZ+pE,EAAO55E,KAAK4P,IAGZ+mF,EAAM,SAAU1vD,GAKhB,GAJAvxC,KAAKuxC,MAAQ,GACpBvxC,KAAKkhG,SAAW,GACTlhG,KAAK1B,OAAS,EACd0B,KAAK8K,KAAO,MACRymC,EACA,IAAK,IAAIz1C,EAAI,EAAG6pF,EAAKp0C,EAAMjzC,OAAQxC,EAAI6pF,EAAI7pF,IACnCy1C,EAAMz1C,KACNkE,KAAKA,KAAKuxC,MAAMjzC,QAAU0B,KAAKuxC,MAAMvxC,KAAKuxC,MAAMjzC,QAAUizC,EAAMz1C,GAChEkE,KAAK1B,WAKrB6iG,EAAWF,EAAIvjG,UAQfyjG,EAAS/yF,KAAO,WAGZ,IAFA,IAAIrF,EACAyK,EACK1X,EAAI,EAAG6pF,EAAKtnF,UAAUC,OAAQxC,EAAI6pF,EAAI7pF,KAC3CiN,EAAO1K,UAAUvC,MAGbkE,KADAwT,EAAMxT,KAAKuxC,MAAMjzC,QACL0B,KAAKuxC,MAAM/9B,GAAOzK,EAC9B/I,KAAK1B,UAGb,OAAO0B,MASXmhG,EAASr/F,IAAM,WAEX,OADA9B,KAAK1B,eAAiB0B,KAAKA,KAAK1B,UACzB0B,KAAKuxC,MAAMzvC,OActBq/F,EAASlqF,QAAU,SAAUG,EAAUgqF,GACnC,IAAK,IAAItlG,EAAI,EAAG6pF,EAAK3lF,KAAKuxC,MAAMjzC,OAAQxC,EAAI6pF,EAAI7pF,IAC5C,IAAiD,IAA7Csb,EAASnb,KAAKmlG,EAASphG,KAAKuxC,MAAMz1C,GAAIA,GACtC,OAAOkE,KAGf,OAAOA,MAuBXmhG,EAASh6F,QAAU,SAAU6sF,EAAO9jC,EAAIyyB,EAAQvrE,GACvB,mBAAVurE,GAAyBA,EAAOrkF,SACvC8Y,EAAWurE,EACXA,EAAStB,EAAKnS,QAEd8kB,aAAiBvhF,EAAKgxE,EAAE4d,YACxBjqF,EAAW48E,EAAM58E,SACjBurE,EAASqR,EAAMrR,OACfzyB,EAAKyyB,EAAOP,IACZ4R,EAAQA,EAAM5sF,MAElB,IAAIiO,EAAOhX,UACX,GAAIoU,EAAK1C,GAAGikF,EAAO,UAAYvhF,EAAK1C,GAAGsF,EAAKA,EAAK/W,OAAS,GAAI,SAC1D,IAAIgjG,GAAO,EAEf,IAAIC,EACAC,EAAU,WACFD,EACAvhG,KAAK+L,EAAIw1F,EAETA,EAAQvhG,KAAK+L,GAGrB6nC,EAAK,EACL9vC,EAAM9D,KACNyhG,EAAarqF,GAAY,aACfw8B,GAAM9vC,EAAIxF,QACZ8Y,EAASnb,KAAK+D,OAG1B,OAAOA,KAAKiX,SAAQ,SAAUjT,EAAIlI,GAC9B0lF,IAAIoM,KAAK,oBAAsB5pF,EAAGU,GAAI88F,GAClCF,EACAjsF,EAAKvZ,IAAMkI,EAAGmD,QAAQ6E,MAAMhI,EAAIqR,EAAKvZ,IAErCkI,EAAGmD,QAAQ6sF,EAAO9jC,EAAIyyB,EAAQ8e,OAY1CN,EAASzQ,OAAS,WACd,KAAO1wF,KAAK1B,QACR0B,KAAK8B,MAAM4uF,SAEf,OAAO1wF,MAqBXmhG,EAAS7jG,KAAO,SAAU8J,EAAMqD,EAAGsB,GAC/B,IAAI4uB,EAAO,GACX,GAAgB,mBAALlwB,EACPzK,KAAKkhG,SAAS95F,GAAQqD,MACnB,CACH,IAAIi3F,EAAQ31F,GAAK3E,EACjBpH,KAAKkhG,SAAS95F,GAAQ,SAAUkd,GAC5BqW,EAAK+mE,GAASp9E,EACd7Z,EAAErD,KAAKuzB,IAGf,OAAO36B,MASXmhG,EAAS/5F,KAAO,SAAUrK,GACtB,IAAI4kG,EAAU,GACd,IAAK,IAAIroF,KAAKvc,EACNiD,KAAKkhG,SAAS5nF,GACdtZ,KAAKkhG,SAAS5nF,GAAGvc,EAAMuc,IAEvBqoF,EAAQroF,GAAKvc,EAAMuc,GAG3B,IAAK,IAAIxd,EAAI,EAAG6pF,EAAK3lF,KAAKuxC,MAAMjzC,OAAQxC,EAAI6pF,EAAI7pF,IAC5CkE,KAAKuxC,MAAMz1C,GAAGsL,KAAKu6F,GAEvB,OAAO3hG,MAQXmhG,EAASjJ,MAAQ,WACb,KAAOl4F,KAAK1B,QACR0B,KAAK8B,OAcbq/F,EAAS77E,OAAS,SAAUlgB,EAAOgpB,EAAOwzE,GACtCx8F,EAAQA,EAAQ,EAAI6+E,EAAKjkF,KAAK1B,OAAS8G,EAAO,GAAKA,EACnDgpB,EAAQ61D,EAAK,EAAGC,EAAKlkF,KAAK1B,OAAS8G,EAAOgpB,IAC1C,IAGItyB,EAHA+lG,EAAO,GACPC,EAAQ,GACRzsF,EAAO,GAEX,IAAKvZ,EAAI,EAAGA,EAAIuC,UAAUC,OAAQxC,IAC9BuZ,EAAKjH,KAAK/P,UAAUvC,IAExB,IAAKA,EAAI,EAAGA,EAAIsyB,EAAOtyB,IACnBgmG,EAAM1zF,KAAKpO,KAAKoF,EAAQtJ,IAE5B,KAAOA,EAAIkE,KAAK1B,OAAS8G,EAAOtJ,IAC5B+lG,EAAKzzF,KAAKpO,KAAKoF,EAAQtJ,IAE3B,IAAIimG,EAAS1sF,EAAK/W,OAClB,IAAKxC,EAAI,EAAGA,EAAIimG,EAASF,EAAKvjG,OAAQxC,IAClCkE,KAAKuxC,MAAMnsC,EAAQtJ,GAAKkE,KAAKoF,EAAQtJ,GAAKA,EAAIimG,EAAS1sF,EAAKvZ,GAAK+lG,EAAK/lG,EAAIimG,GAG9E,IADAjmG,EAAIkE,KAAKuxC,MAAMjzC,OAAS0B,KAAK1B,QAAU8vB,EAAQ2zE,EACxC/hG,KAAKlE,WACDkE,KAAKlE,KAEhB,OAAO,IAAImlG,EAAIa,IAWnBX,EAASa,QAAU,SAAUh+F,GACzB,IAAK,IAAIlI,EAAI,EAAG6pF,EAAK3lF,KAAK1B,OAAQxC,EAAI6pF,EAAI7pF,IAAK,GAAIkE,KAAKlE,IAAMkI,EAE1D,OADAhE,KAAKslB,OAAOxpB,EAAG,IACR,EAEX,OAAO,GAWXqlG,EAAS1Q,YAAc,SAAUzsF,GAE7B,IADA,IAAIlI,EAAIkE,KAAKuxC,MAAMjzC,OACZxC,KACHkE,KAAKuxC,MAAMz1C,GAAG20F,YAAYzsF,GAE9B,OAAOhE,MASXmhG,EAASnnC,QAAU,WAKf,IAJA,IAAIhuC,EAAI,GACJC,EAAI,GACJiH,EAAK,GACLC,EAAK,GACAr3B,EAAIkE,KAAKuxC,MAAMjzC,OAAQxC,KAAM,IAAKkE,KAAKuxC,MAAMz1C,GAAGkzF,QAAS,CAC9D,IAAIxpB,EAAMxlE,KAAKuxC,MAAMz1C,GAAGk+D,UACxBhuC,EAAE5d,KAAKo3D,EAAIx5C,GACXC,EAAE7d,KAAKo3D,EAAIv5C,GACXiH,EAAG9kB,KAAKo3D,EAAIx5C,EAAIw5C,EAAI3/D,OACpBstB,EAAG/kB,KAAKo3D,EAAIv5C,EAAIu5C,EAAIl9D,QAMxB,MAAO,CACH0jB,EALJA,EAAIk4D,EAAKl4E,MAAM,EAAGggB,GAMdC,EALJA,EAAIi4D,EAAKl4E,MAAM,EAAGigB,GAMdiH,GALJA,EAAK+wD,EAAKj4E,MAAM,EAAGknB,GAMfC,GALJA,EAAK8wD,EAAKj4E,MAAM,EAAGmnB,GAMfttB,MAAOqtB,EAAKlH,EACZ1jB,OAAQ6qB,EAAKlH,EACb2lE,GAAI5lE,GAAKkH,EAAKlH,GAAK,EACnB6lE,GAAI5lE,GAAKkH,EAAKlH,GAAK,IAW3Bk1E,EAASt1E,MAAQ,SAAUhuB,GACvBA,EAAI,IAAIojG,EACR,IAAK,IAAInlG,EAAI,EAAG6pF,EAAK3lF,KAAKuxC,MAAMjzC,OAAQxC,EAAI6pF,EAAI7pF,IAC5C+B,EAAEuQ,KAAKpO,KAAKuxC,MAAMz1C,GAAG+vB,SAEzB,OAAOhuB,GAEXsjG,EAASxzF,SAAW,WAChB,MAAO,cAEXwzF,EAASr2F,KAAO,MAQhB2H,EAAKwuF,IAAMA,EAYXxuF,EAAK3O,IAAM,WACP,IAAIA,EAAM,IAAIm9F,EAId,OAHI5iG,UAAUC,QACVwF,EAAIsK,KAAKpC,MAAMlI,EAAKvC,MAAM7D,UAAU0S,MAAMnU,KAAKoC,UAAW,IAEvDyF,MAiBf2O,EAAKurE,QAAO,SAAUvrE,EAAM4wE,EAASG,EAAOF,GACxC,IAAIpzE,EAAQ,GACRwlF,EAAS,YACT7R,EAAM9oE,OAEV,SAASknF,EAASl5F,GACd,IAAIhN,EAAIgN,EAAK,GACb,OAAQhN,EAAE0hD,eACN,IAAK,IAAK,MAAO,CAAC1hD,EAAG,EAAG,GACxB,IAAK,IAAK,MAAO,CAACA,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACpC,IAAK,IAAK,OAAmB,GAAfgN,EAAKzK,OACR,CAACvC,EAAG,EAAGgN,EAAK,GAAIA,EAAK,IAErB,CAAChN,EAAG,GAEf,IAAK,IAAK,OAAmB,GAAfgN,EAAKzK,OACR,CAACvC,EAAG,EAAG,EAAGgN,EAAK,GAAIA,EAAK,IACT,GAAfA,EAAKzK,OACL,CAACvC,EAAG,EAAG,GAEP,CAACA,EAAG,IAwCvB,SAAS65F,EAAU9nF,GACf,OAAOA,EAOX,SAASo0F,EAAWp0F,GAChB,OAAOA,EAAI3E,KAAK,KAEpB,SAASg5F,EAAU/Y,GACf,OAAO32E,EAAK81E,IAAIa,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAEhD,SAASld,EAAQrlE,GACb,IAAW/K,EAAG6pF,EAAIhsE,EAAG+oE,EAAI13E,EAAKP,EAA1B6O,EAAI,EAAyBvN,EAAI,GACrC,IAAKjQ,EAAI,EAAG6pF,EAAK9+E,EAAKvI,OAAQxC,EAAI6pF,EAAI7pF,IAAK,CAGvC,IAFAkP,EAAM,IACNP,EAAI,CAAC,IAAM5D,EAAK/K,GAAG,GAAK,KACnB6d,EAAI,EAAG+oE,EAAK77E,EAAK/K,GAAGwC,OAAQqb,EAAI+oE,EAAI/oE,IACrClP,EAAEkP,GAAK,OAASL,IAAM,IAE1BtO,GAAOP,EAAI,IACXsB,EAAEjQ,GAAKkP,EAEX,OAAO1K,SAAS,MAAO,mCAAqCyL,EAAI,MAEpE,SAASq2F,EAAWv7F,GAEhB,IADA,IAAImE,EAAM,GACDlP,EAAI,EAAG6pF,EAAK9+E,EAAKvI,OAAQxC,EAAI6pF,EAAI7pF,IACtC,IAAK,IAAI6d,EAAI,EAAG+oE,EAAK77E,EAAK/K,GAAGwC,OAAQqb,EAAI+oE,EAAI/oE,IACzC3O,EAAIoD,KAAKvH,EAAK/K,GAAG6d,IAGzB,OAAO3O,EAEX,SAASq3F,EAAUnjG,GACf,OAAOsmF,SAAStmF,GA7FpBgR,EAAMyuD,OAASzuD,EAAM0uD,KAAO,SAqG5BykB,EAAQ3lF,UAAU4kG,MAAQ,SAAUjmG,EAAM0P,GACtC,OAAOy1E,IAAI,kBAAmBxhF,KAAM3D,EAAM0P,GAAGygF,gBAEjDhL,IAAIyL,GAAG,mBAAmB,SAAU5wF,EAAM0P,GACtC,IAAIqN,EAAG1N,EAAGjB,EAAIo5E,EAAI7jF,KAAKoH,KAAK/K,IAAS,IACjC2H,EAAKhE,KACT,GAAmB,UAAfkQ,EAAM7T,GAGN,OAFA+c,EAAI3G,EAAKkS,MAAMla,GACfiB,EAAI+G,EAAKkS,MAAM5Y,GACR,CACHvK,KAAM,CAAC4X,EAAExc,EAAGwc,EAAEmL,EAAGnL,EAAErN,EAAGqN,EAAE8iD,SACxB/6B,GAAI,CAACz1B,EAAE9O,EAAG8O,EAAE6Y,EAAG7Y,EAAEK,EAAGL,EAAEwwD,SACtB1vD,EAAG21F,GAGX,GAAY,WAAR9lG,EAGA,MAAO,CACHmF,KAHJ4X,EAAIpZ,KAAKoH,KAAK/K,GAAMo4F,GAAGnmF,MAAM,KAAKzF,IAAIokE,QAIlC9rC,GAHJz1B,EAAIK,EAAEuC,MAAM,KAAKzF,IAAIokE,QAIjBzgE,EAAG01F,GAGX,GAAY,aAAR7lG,GAA+B,qBAARA,GAAuC,oBAARA,EAUtD,MATgB,iBAAL0P,IACPA,EAAI83E,EAAI93E,GAAGxG,QAAQ,gBAAiBkF,IA3GhD,SAA2BwrB,EAAImvC,EAAIpL,GAC/B/jC,EAAKA,GAAM,IAAIxjB,EAAK+U,OACpB49C,EAAKA,GAAM,IAAI3yD,EAAK+U,OACpByO,EAAKxjB,EAAKs3E,qBAAqB9zD,EAAG65D,sBAAwB,GAC1D1qB,EAAK3yD,EAAKs3E,qBAAqB3kB,EAAG0qB,sBAAwB,GAM1D,IALA,IAGWn2E,EAAG+oE,EACV6f,EAAKC,EAJLC,EAAYn4F,KAAK6P,IAAI8b,EAAG33B,OAAQ8mE,EAAG9mE,QACnCkD,EAAO,GACP2/B,EAAK,GACLrlC,EAAI,EAEDA,EAAI2mG,EAAW3mG,IAAK,CAGvB,GAFAymG,EAAMtsE,EAAGn6B,IAAMmmG,EAAS78B,EAAGtpE,IAC3B0mG,EAAMp9B,EAAGtpE,IAAMmmG,EAASM,GACpBA,EAAI,IAAMC,EAAI,IACU,KAAxBD,EAAI,GAAG9kD,gBAAyB8kD,EAAI,IAAMC,EAAI,IAAMD,EAAI,IAAMC,EAAI,KAC1C,KAAxBD,EAAI,GAAG9kD,gBAAyB8kD,EAAI,IAAMC,EAAI,IAAMD,EAAI,IAAMC,EAAI,IAChE,CACEvsE,EAAKxjB,EAAKgxE,EAAE2G,iBAAiBn0D,EAAI+jC,KACjCoL,EAAK3yD,EAAKgxE,EAAE2G,iBAAiBhlB,EAAIpL,KACjCx4D,EAAO,CAAC,CAAC,IAAKy0B,EAAGxrB,EAAGwrB,EAAGlqB,EAAGkqB,EAAG95B,EAAG85B,EAAG75B,EAAG65B,EAAGjwB,EAAGiwB,EAAGzpB,IAC/C20B,EAAK,CAAC,CAAC,IAAKikC,EAAG36D,EAAG26D,EAAGr5D,EAAGq5D,EAAGjpE,EAAGipE,EAAGhpE,EAAGgpE,EAAGp/D,EAAGo/D,EAAG54D,IAC7C,MAIR,IAFAhL,EAAK1F,GAAK,GACVqlC,EAAGrlC,GAAK,GACH6d,EAAI,EAAG+oE,EAAKp4E,KAAK6P,IAAIooF,EAAIjkG,OAAQkkG,EAAIlkG,QAASqb,EAAI+oE,EAAI/oE,IACvDA,KAAK4oF,IAAQ/gG,EAAK1F,GAAG6d,GAAK4oF,EAAI5oF,IAC9BA,KAAK6oF,IAAQrhE,EAAGrlC,GAAG6d,GAAK6oF,EAAI7oF,IAGpC,MAAO,CACHnY,KAAM4gG,EAAW5gG,GACjB2/B,GAAIihE,EAAWjhE,GACf30B,EAAG0/D,EAAQ1qE,IAkFJkhG,CANPj4F,EAAIzK,KAAKqwC,OAILtkC,EAHC0G,EAAKgxE,EAAE0G,YAAYjqE,KAAKnU,GAGrB0G,EAAKgxE,EAAE2G,iBAAiBr+E,EAAG/L,KAAKg6D,WAFhCvnD,EAAKgxE,EAAE2G,iBAAiB33E,EAAKgxE,EAAEwG,oBAAoBl+E,GAAI/L,KAAKg6D,YAIrC,WAC3B,OAAOh2D,EAAGg2D,QAAQ,MAG1B,GAAY,KAAR39D,GAAuB,QAARA,EAEf,MAAO,CACHmF,KAAM4gG,GAFVhpF,EAAI3G,EAAK5L,KAAKk6F,QAAQt2F,EAAGsB,IAEF,IACnBo1B,GAAIihE,EAAWhpF,EAAE,IACjB5M,EAAG0/D,EAAQ9yD,EAAE,KAGrB,GAAY,UAAR/c,EAGA,MAAO,CACHmF,KAHJ4X,EAAIyqE,EAAIp5E,GAAG6D,MAAMmE,EAAKgxE,EAAEa,WAIpBnjD,GAHJz1B,EAAIm4E,EAAI93E,GAAGuC,MAAMmE,EAAKgxE,EAAEa,WAIpB93E,EAAG,SAAUsB,GAAO,OAAOA,IAGnC,GAAIu0F,EAAU53F,IAAM43F,EAAUt2F,GAC1B,MAAO,CACHvK,KAAMuiF,WAAWt5E,GACjB02B,GAAI4iD,WAAWh4E,GACfS,EAAGopF,GAGX,IAxGaE,EAoCGnnB,EAAMC,EAoElBsnB,EAAQzrF,EAAE+9E,MAAMkN,GAChBiN,EAAQ9e,EAAI93E,GAAGy8E,MAAMkN,GACzB,OAAIQ,IAtEYvnB,EAsEQunB,EAtEFtnB,EAsES+zB,EArE1BlwF,EAAK1C,GAAG4+D,EAAM,UAAal8D,EAAK1C,GAAG6+D,EAAM,UAGvCD,EAAKhhE,YAAcihE,EAAKjhE,YAmEpB,CACHnM,KAAMuiF,WAAWt5E,GACjB02B,GAAI4iD,WAAWh4E,GACfS,GA9GKspF,EA8GMI,EA7GZ,SAAUpoF,GACb,OAAQA,EAAI+6E,QAAQ,GAAKiN,KA+GlB,CACHt0F,KAAMxB,KAAK2wF,KAAKt0F,GAChB8kC,GAAInhC,KAAK2wF,KAAKt0F,EAAM0P,GACpBS,EAAGopF,SAmBnBnjF,EAAKurE,QAAO,SAAUvrE,EAAM4wE,EAASG,EAAOF,GAmTxC,IAlTA,IAAIsL,EAAUvL,EAAQ3lF,UAEtBklG,GAAgB,gBAAiBtf,EAAKC,KACtCsf,EAAS,CACL,QAAS,WAAY,YAAa,YAAa,WAC/C,YAAa,UAAW,aAAc,YAAa,WACnD,eAEJC,EAAW,CACPC,UAAW,aACXC,UAAW,YACXC,QAAS,YAEbC,EAAY,SAAUjH,EAAIj4F,GACtB,IAAI3H,EAAa,KAAN4/F,EAAY,YAAc,aACjC1Y,EAAMv/E,GAAMA,EAAG83B,KAAO93B,EAAG83B,KAAKkwD,cAAgB1I,EAAKC,IACvD,OAAOA,EAAIlnF,KAAQknF,EAAIhoE,gBAAkB,kBAAoB,QAAQlf,IAKzE8mG,EAAe,WACX,OAAOnjG,KAAKojG,cAAcC,kBAK9BC,EAAY,WACR,OAAOtjG,KAAKojG,cAAcG,mBAE9BC,EAAW,SAAUtkG,EAAK4L,EAAM+C,EAAIhE,GAChC,IAAI45F,EAAWb,GAAiBE,EAASh4F,GAAQg4F,EAASh4F,GAAQA,EAC9D0B,EAAI,SAAUxG,GACV,IAAI09F,EAAUR,EAAU,IAAKr5F,GACzB85F,EAAUT,EAAU,IAAKr5F,GAC7B,GAAI+4F,GAAiBE,EAAY,eAAEh4F,GAC/B,IAAK,IAAIhP,EAAI,EAAG6pF,EAAK3/E,EAAE49F,eAAiB59F,EAAE49F,cAActlG,OAAQxC,EAAI6pF,EAAI7pF,IACpE,GAAIkK,EAAE49F,cAAc9nG,GAAGsC,QAAUc,GAAOA,EAAIgsF,SAASllF,EAAE49F,cAAc9nG,GAAGsC,QAAS,CAC7E,IAAIylG,EAAO79F,GACXA,EAAIA,EAAE49F,cAAc9nG,IAClBsnG,cAAgBS,EAClB79F,EAAEq9F,eAAiBF,EACnBn9F,EAAEu9F,gBAAkBD,EACpB,MAIZ,IAAIt3E,EAAIhmB,EAAE89F,QAAUH,EAChB13E,EAAIjmB,EAAE+9F,QAAUL,EACpB,OAAO71F,EAAG5R,KAAK4N,EAAS7D,EAAGgmB,EAAGC,IAStC,OANInhB,IAAS24F,GACTvkG,EAAIuH,iBAAiBqE,EAAM0B,GAAG,GAGlCtN,EAAIuH,iBAAiBg9F,EAAUj3F,GAAG,GAE3B,WAMH,OALI1B,IAAS24F,GACTvkG,EAAIwH,oBAAoBoE,EAAM0B,GAAG,GAGrCtN,EAAIwH,oBAAoB+8F,EAAUj3F,GAAG,IAC9B,IAGfw3F,EAAO,GACPC,EAAW,SAAUj+F,GAOjB,IANA,IAIIk+F,EAJAl4E,EAAIhmB,EAAE89F,QACN73E,EAAIjmB,EAAE+9F,QACNL,EAAUR,EAAU,KACpBS,EAAUT,EAAU,KAEpBvpF,EAAIqqF,EAAK1lG,OACNqb,KAAK,CAER,GADAuqF,EAAQF,EAAKrqF,GACTipF,GAGA,IAFA,IACIuB,EADAroG,EAAIkK,EAAEo+F,SAAWp+F,EAAEo+F,QAAQ9lG,OAExBxC,KAEH,IADAqoG,EAAQn+F,EAAEo+F,QAAQtoG,IACRuoG,YAAcH,EAAMlgG,GAAGsgG,MAAM5/F,IAAMw/F,EAAMlgG,GAAG83B,KAAKovD,SAASiZ,EAAM/lG,QAAS,CAC/E4tB,EAAIm4E,EAAML,QACV73E,EAAIk4E,EAAMJ,SACT/9F,EAAEo9F,cAAgBp9F,EAAEo9F,cAAgBp9F,GAAGq9F,iBACxC,YAIRr9F,EAAEq9F,iBAEN,IAAIvnE,EAAOooE,EAAMlgG,GAAG83B,KAETA,EAAK00D,YACH10D,EAAKF,WACJE,EAAK92B,MAAM8J,QAOzBkd,GAAK23E,EACL13E,GAAKy3E,EACLliB,IAAI,kBAAoB0iB,EAAMlgG,GAAGU,GAAIw/F,EAAMK,YAAcL,EAAMlgG,GAAIgoB,EAAIk4E,EAAMlgG,GAAGsgG,MAAMt4E,EAAGC,EAAIi4E,EAAMlgG,GAAGsgG,MAAMr4E,EAAGD,EAAGC,EAAGjmB,KAG7Hw+F,EAAS,SAAUx+F,GACfyM,EAAKgyF,YAAYR,GAAUS,UAAUF,GAGrC,IAFA,IACIN,EADApoG,EAAIkoG,EAAK1lG,OAENxC,MACHooG,EAAQF,EAAKloG,IACPkI,GAAGsgG,MAAQ,GACjB9iB,IAAI,iBAAmB0iB,EAAMlgG,GAAGU,GAAIw/F,EAAMS,WAAaT,EAAMU,aAAeV,EAAMK,YAAcL,EAAMlgG,GAAIgC,GAC1Gw7E,IAAIqjB,IAAI,eAAiBX,EAAMlgG,GAAGU,IAEtCs/F,EAAO,IA4LFloG,EAAI+mG,EAAOvkG,OAAQxC,MACxB,SAAWqb,GACP1E,EAAK0E,GAAay3E,EAAQz3E,GAAa,SAAUtJ,EAAIg4E,GACjD,GAAIpzE,EAAK1C,GAAGlC,EAAI,YACZ7N,KAAK6iG,OAAS7iG,KAAK6iG,QAAU,GAC7B7iG,KAAK6iG,OAAOz0F,KAAK,CACb/R,KAAM8a,EACN3K,EAAGqB,EACHi3F,OAAQtB,EAASxjG,KAAK87B,MAAQr6B,SAAU0V,EAAWtJ,EAAIg4E,GAAS7lF,aAGpE,IAAK,IAAIlE,EAAI,EAAG6pF,EAAK3lF,KAAK6iG,OAAOvkG,OAAQxC,EAAI6pF,EAAI7pF,IAAK,GAAIkE,KAAK6iG,OAAO/mG,GAAGO,MAAQ8a,EAC7E,IACInX,KAAK6iG,OAAO/mG,GAAG0Q,EAAEvQ,KAAK+D,MACxB,MAAOgG,IAGjB,OAAOhG,MAEXyS,EAAK,KAAO0E,GACZy3E,EAAQ,KAAOz3E,GAAa,SAAUtJ,GAGlC,IAFA,IAAIg1F,EAAS7iG,KAAK6iG,QAAU,GACxB9mG,EAAI8mG,EAAOvkG,OACRvC,KAAK,GAAI8mG,EAAO9mG,GAAGM,MAAQ8a,IAClB0rF,EAAO9mG,GAAGyQ,GAAKqB,IAAOA,GAIlC,OAHAg1F,EAAO9mG,GAAG+oG,SACVjC,EAAOv9E,OAAOvpB,EAAG,IAChB8mG,EAAOvkG,eAAiB0B,KAAK6iG,OACvB7iG,KAEX,OAAOA,MA7Bf,CA+BG6iG,EAAO/mG,IAad8yF,EAAQ7O,MAAQ,SAAUglB,EAAMC,EAAOC,EAAUC,GAC7C,OAAOllG,KAAKmlG,UAAUJ,EAAME,GAAUG,SAASJ,EAAOE,GAAaD,IAWvErW,EAAQyW,QAAU,SAAUN,EAAMC,GAC9B,OAAOhlG,KAAKslG,YAAYP,GAAMQ,WAAWP,IAE7C,IAAIQ,EAAY,GAmChB5W,EAAQoV,KAAO,SAAUyB,EAAQC,EAASC,EAAOpB,EAAYK,EAAaD,GACtE,IAEQiB,EAFJ5hG,EAAKhE,KACT,IAAK3B,UAAUC,OAEX,OAAO0F,EAAGggG,MAAK,SAAUxd,EAAIC,GACzBzmF,KAAKoH,KAAK,CACNkiB,UAAWs8E,GAAiBA,EAAgB,IAAM,KAAO,CAACpf,EAAIC,QAEnE,WACCmf,EAAgB5lG,KAAKspB,YAAYsmE,SAGzC,SAASv7E,EAAMrO,EAAGgmB,EAAGC,IAChBjmB,EAAEo9F,eAAiBp9F,GAAGq9F,iBACvBr/F,EAAGsgG,MAAMt4E,EAAIA,EACbhoB,EAAGsgG,MAAMr4E,EAAIA,EACbjoB,EAAGsgG,MAAM5/F,GAAKsB,EAAEq+F,YACfL,EAAK1lG,QAAUmU,EAAKuwF,UAAUiB,GAAUhB,QAAQuB,GACjDR,EAAK51F,KAAK,CAACpK,GAAIA,EAAIugG,WAAYA,EAAYK,YAAaA,EAAaD,UAAWA,IAChFe,GAAWlkB,IAAIyL,GAAG,mBAAqBjpF,EAAGU,GAAIghG,GAC9CD,GAAUjkB,IAAIyL,GAAG,kBAAoBjpF,EAAGU,GAAI+gG,GAC5CE,GAASnkB,IAAIyL,GAAG,iBAAmBjpF,EAAGU,GAAIihG,GAC1CnkB,IAAI,mBAAqBx9E,EAAGU,GAAIkgG,GAAeL,GAAcvgG,EAAIgoB,EAAGC,EAAGjmB,GAE3E,SAAS0iC,EAAK1iC,EAAGgmB,EAAGC,GAChBu1D,IAAI,iBAAmBx9E,EAAGU,GAAIV,EAAIgC,EAAGgmB,EAAGC,GAM5C,OAJAu1D,IAAIyL,GAAG,iBAAmBjpF,EAAGU,GAAI2P,GACjCrQ,EAAGsgG,MAAQ,GACXkB,EAAUp3F,KAAK,CAACpK,GAAIA,EAAIqQ,MAAOA,EAAOq0B,KAAMA,IAC5C1kC,EAAG++F,UAAUr6D,GACN1kC,GAkBX4qF,EAAQiX,OAAS,WAEb,IADA,IAAI/pG,EAAI0pG,EAAUlnG,OACXxC,KAAS0pG,EAAU1pG,GAAGkI,IAAMhE,OAC/BA,KAAK8lG,YAAYN,EAAU1pG,GAAG4sC,MAC9B88D,EAAUlgF,OAAOxpB,EAAG,GACpB0lF,IAAIsjB,OAAO,eAAiB9kG,KAAK0E,IACjC88E,IAAIsjB,OAAO,iBAAmB9kG,KAAK0E,KAGvC,OADC8gG,EAAUlnG,QAAUmU,EAAKgyF,YAAYR,GAAUS,UAAUF,GACnDxkG,SAiBfyS,EAAKurE,QAAO,SAAUvrE,EAAM4wE,EAASG,EAAOF,GAC1BD,EAAQ3lF,UAAtB,IACIqoG,EAASviB,EAAM9lF,UACfsoG,EAAQ,kBACRniB,EAAM9oE,OACNmqE,EAAIzyE,EAAKgxE,EAAEyB,EACfzyE,EAAKvJ,OAAS,GAgBd68F,EAAO78F,OAAS,SAAU+8F,GACtB,IAAI1a,EAAQvrF,KACM,OAAdurF,EAAMzgF,OACNygF,EAAQA,EAAMA,OAElB,IAAI/+E,EAAIiG,EAAKknB,MAAMkqD,EAAIoiB,IACnBvhG,EAAK+N,EAAKgxE,EAAE/+E,KAGZwE,GAFQqiF,EAAMzvD,KAAKO,YACVkvD,EAAMzvD,KAAK4uB,aACXw6B,EAAE,WAOf,OANAA,EAAEh8E,EAAQ,CACNxE,GAAIA,EACJwhG,YAAa,mBAEjBh9F,EAAO6F,YAAYvC,EAAEsvB,MACrByvD,EAAMrtD,KAAKnvB,YAAY7F,GAChB,IAAIm6E,EAAQn6E,IAGvBs4E,IAAIyL,GAAG,4BAA4B,WAC/BzL,IAAI7qE,OACJ,IAAI/Y,EAAIsnF,EAAEllF,KAAK87B,KAAM,UACrB,GAAIl+B,EAAG,CACH,IAAI4qF,EAAQ3E,EAAIjmF,GAAG4qF,MAAMwd,GACzB,OAAOxd,GAAS/1E,EAAKvL,OAAOshF,EAAM,QAG1ChH,IAAIyL,GAAG,yBAAyB,SAAUlwF,GACtC,GAAIA,aAAiBsmF,GAAyB,UAAdtmF,EAAM+N,KAAkB,CACpD02E,IAAI7qE,OACJ,IAAIjS,EAAK3H,EAAM++B,KAAKp3B,GACfA,IACDwgF,EAAEnoF,EAAM++B,KAAM,CAACp3B,GAAI3H,EAAM2H,KACzBA,EAAK3H,EAAM2H,IAEfwgF,EAAEllF,KAAK87B,KAAM,CACT5yB,OAAQuJ,EAAKwyE,IAAIvgF,KAGpB3H,GAAkB,QAATA,IACVykF,IAAI7qE,OACJ3W,KAAK87B,KAAK8gC,gBAAgB,cAkBlCnqD,EAAKvJ,OAAO9F,KAAO,SAAU4oB,EAAGC,GACnB,MAALD,IACAA,EAAI,GAER,IAAI1c,EAAW,MAAL2c,EAAYD,EAAI,CAACA,EAAGC,GAC9B,OAAOxZ,EAAKwzE,OAAO,yCAA2C,CAC1D32E,IAAKA,KAGbmD,EAAKvJ,OAAO9F,KAAKuK,SAAW,WACxB,OAAO3N,QA6BXyS,EAAKvJ,OAAOi9F,OAAS,SAAU3f,EAAIC,EAAIrjF,EAAMuhB,EAAOu3C,GA0BhD,OAzBe,MAAXA,IACa,MAATv3C,GACAu3C,EAAU94D,EACVA,EAAO,EACPuhB,EAAQ,SAERu3C,EAAUv3C,EACVA,EAAQvhB,EACRA,EAAO,IAGH,MAARA,IACAA,EAAO,GAEI,MAAX84D,IACAA,EAAU,GAEJ,MAANsqB,IACAA,EAAK,EACLC,EAAK,GAEC,MAANA,IACAA,EAAKD,GAET7hE,EAAQlS,EAAKkS,MAAMA,GACZlS,EAAKwzE,OAAO,kVAAmV,CAClWthE,MAAOA,EACP6hE,GAAIA,EACJC,GAAIA,EACJrjF,KAAMA,EACN84D,QAASA,KAGjBzpD,EAAKvJ,OAAOi9F,OAAOx4F,SAAW,WAC1B,OAAO3N,QAWXyS,EAAKvJ,OAAOk9F,UAAY,SAAUC,GAI9B,OAHc,MAAVA,IACAA,EAAS,GAEN5zF,EAAKwzE,OAAO,oGAAqG,CACpHx7E,EAAG,MAAS,OAAU,EAAI47F,GAC1Bt6F,EAAG,MAAS,OAAU,EAAIs6F,GAC1BlqG,EAAG,MAAS,OAAU,EAAIkqG,GAC1BjqG,EAAG,MAAS,OAAU,EAAIiqG,GAC1BrgG,EAAG,MAAS,OAAU,EAAIqgG,GAC1B75F,EAAG,MAAS,OAAU,EAAI65F,GAC1B9hF,EAAG,MAAS,OAAU,EAAI8hF,GAC1BhiF,EAAG,MAAS,OAAU,EAAIgiF,MAGlC5zF,EAAKvJ,OAAOk9F,UAAUz4F,SAAW,WAC7B,OAAO3N,QAWXyS,EAAKvJ,OAAOo9F,MAAQ,SAAUD,GAI1B,OAHc,MAAVA,IACAA,EAAS,GAEN5zF,EAAKwzE,OAAO,oGAAqG,CACpHx7E,EAAG,KAAQ,MAAS,EAAI47F,GACxBt6F,EAAG,KAAQ,MAAS,EAAIs6F,GACxBlqG,EAAG,KAAQ,MAAS,EAAIkqG,GACxBjqG,EAAG,KAAQ,MAAS,EAAIiqG,GACxBrgG,EAAG,KAAQ,MAAS,EAAIqgG,GACxB75F,EAAG,KAAQ,MAAS,EAAI65F,GACxB9hF,EAAG,KAAQ,MAAS,EAAI8hF,GACxBhiF,EAAG,KAAQ,MAAS,EAAIgiF,GACxBvqG,EAAG,KAAQ,MAAS,EAAIuqG,MAGhC5zF,EAAKvJ,OAAOo9F,MAAM34F,SAAW,WACzB,OAAO3N,QAWXyS,EAAKvJ,OAAOq9F,SAAW,SAAUF,GAI7B,OAHc,MAAVA,IACAA,EAAS,GAEN5zF,EAAKwzE,OAAO,qDAAsD,CACrEogB,OAAQ,EAAIA,KAGpB5zF,EAAKvJ,OAAOq9F,SAAS54F,SAAW,WAC5B,OAAO3N,QAWXyS,EAAKvJ,OAAOs9F,UAAY,SAAUt+E,GAE9B,OADAA,EAAQA,GAAS,EACVzV,EAAKwzE,OAAO,qDAAsD,CACrE/9D,MAAOA,KAGfzV,EAAKvJ,OAAOs9F,UAAU74F,SAAW,WAC7B,OAAO3N,QAWXyS,EAAKvJ,OAAOyhF,OAAS,SAAU0b,GAK3B,OAJc,MAAVA,IACAA,EAAS,GAGN5zF,EAAKwzE,OAAO,sNAAuN,CACtOogB,OAAQA,EACRI,QAAS,EAAIJ,KAGrB5zF,EAAKvJ,OAAOyhF,OAAOh9E,SAAW,WAC1B,OAAO3N,QAWXyS,EAAKvJ,OAAOw9F,WAAa,SAAUL,GAI/B,OAHc,MAAVA,IACAA,EAAS,GAEN5zF,EAAKwzE,OAAO,yKAA0K,CACzLogB,OAAQA,KAGhB5zF,EAAKvJ,OAAOw9F,WAAW/4F,SAAW,WAC9B,OAAO3N,QAWXyS,EAAKvJ,OAAOy9F,SAAW,SAAUN,GAI7B,OAHc,MAAVA,IACAA,EAAS,GAEN5zF,EAAKwzE,OAAO,2OAA4O,CAC3PogB,OAAQA,EACRI,QAAS,GAAKJ,EAAS,KAG/B5zF,EAAKvJ,OAAOy9F,SAASh5F,SAAW,WAC5B,OAAO3N,WAiBfyS,EAAKurE,QAAO,SAAUvrE,EAAM4wE,EAASG,EAAOF,EAAMuI,GAC9C,IAAIrmB,EAAM/yD,EAAKgxE,EAAEje,IACbz1D,EAAK0C,EAAK1C,GACV62F,EAAc,sBACdj5F,EAAW,WACP,MAAO,IAAM3N,KAAKwmF,GAAK,IAAMxmF,KAAKymF,IAgB1CpD,EAAQ3lF,UAAUmpG,SAAW,SAAU7iG,EAAI8iG,GAC5B,MAAPA,GAAe/2F,EAAG/L,EAAI,YACtB8iG,EAAM9iG,EACNA,EAAK,MAGT,IAAIs/B,GADJt/B,EAAKA,GAAMhE,KAAKurF,OACJvxB,QAAUh2D,EAAGg2D,UAAYwL,EAAIxhE,GACrCsmF,EAAKtqF,KAAKg6D,UACVhvD,EAAM,GAGV,OADA87F,GADAA,EAAMA,GAAOA,EAAIte,MAAMoe,IACXE,EAAI,GAAGrpD,cAAgB,KAE/B,IAAK,IACDzyC,EAAIw7E,GAAK,EACTx7E,EAAIy7E,GAAKnjD,EAAGrX,EAAIq+D,EAAGr+D,EACvB,MACA,IAAK,IACDjhB,EAAIw7E,GAAK,EACTx7E,EAAIy7E,GAAKnjD,EAAGnQ,GAAKm3D,EAAGn3D,GACxB,MACA,IAAK,IACDnoB,EAAIw7E,GAAK,EACTx7E,EAAIy7E,GAAKnjD,EAAGuuD,GAAKvH,EAAGuH,GACxB,MACA,IAAK,IACD7mF,EAAIw7E,GAAKljD,EAAGtX,EAAIs+D,EAAGt+D,EACnBhhB,EAAIy7E,GAAK,EACb,MACA,IAAK,IACDz7E,EAAIw7E,GAAKljD,EAAGpQ,GAAKo3D,EAAGp3D,GACpBloB,EAAIy7E,GAAK,EACb,MACA,QACIz7E,EAAIw7E,GAAKljD,EAAGsuD,GAAKtH,EAAGsH,GACpB5mF,EAAIy7E,GAAK,EAIjB,OADAz7E,EAAI2C,SAAWA,EACR3C,GAgBXq4E,EAAQ3lF,UAAUqpG,MAAQ,SAAU/iG,EAAI8iG,GACpC,OAAO9mG,KAAKspB,UAAU,MAAQtpB,KAAK6mG,SAAS7iG,EAAI8iG,QAiBxDr0F,EAAKurE,QAAO,SAAUvrE,EAAM4wE,EAASG,EAAOF,EAAMuI,GAC9C,IAAI+C,EAAUvL,EAAQ3lF,UAClBqS,EAAK0C,EAAK1C,GACV8zE,EAAM9oE,OACNnQ,EAAM,iBACV,SAASwF,EAAM5O,EAAM2/B,EAAI30B,GACrB,OAAO,SAAU4G,GACb,IAAIqvE,EAAMrvE,EAAIhD,MAAM5O,EAAM2/B,GAI1B,OAHkB,GAAdshD,EAAInkF,SACJmkF,EAAMA,EAAI,IAEPj2E,EAAIA,EAAEi2E,GAAOA,GAG5B,IAAI4e,EAAY,SAAUj6F,EAAM8oD,EAAIyyB,EAAQvrE,GACnB,mBAAVurE,GAAyBA,EAAOrkF,SACvC8Y,EAAWurE,EACXA,EAAStB,EAAKnS,QAElBlvE,KAAKoH,KAAOA,EACZpH,KAAKoiF,IAAMlyB,EACXyyB,IAAW3iF,KAAK2iF,OAASA,GACzBvrE,IAAapX,KAAKoX,SAAWA,IAEjC3E,EAAKgxE,EAAE4d,UAAYA,EAanB5uF,EAAK20D,UAAY,SAAUhgE,EAAM8oD,EAAIyyB,EAAQvrE,GACzC,OAAO,IAAIiqF,EAAUj6F,EAAM8oD,EAAIyyB,EAAQvrE,IAiB3Cw3E,EAAQoY,OAAS,WACb,IACIvkB,EAAM,GACV,IAAK,IAAI/9E,KAFA1E,KAES0rF,MAFT1rF,KAEuB0rF,MAAM9gF,GAAKlG,IACtC,SAAU+F,GACPg4E,EAAIr0E,KAAK,CACLoH,KAAM,IAAI6rF,EAAU52F,EAAEw8F,OAAQx8F,EAAE23E,IAAK33E,EAAEk4E,OAAQl4E,EAAEy8F,WACjD7lB,KAAM52E,EACN08F,UAAW18F,EAAEmrC,SACbA,OAAQ,SAAU9nC,GACd,OAAOrD,EAAEmrC,OAAO9nC,IAEpB6I,KAAM,WACFlM,EAAEkM,UATd,CAHK3W,KAeA0rF,MAAMhnF,IAEf,OAAO+9E,GAgCXhwE,EAAKtL,QAAU,SAAU3F,EAAM2/B,EAAI7jB,EAAQ4yC,EAAIyyB,EAAQvrE,GAC9B,mBAAVurE,GAAyBA,EAAOrkF,SACvC8Y,EAAWurE,EACXA,EAAStB,EAAKnS,QAElB,IAAI1xC,EAAM6jD,EAAKvnB,OACXtkD,EAAO6rE,EAAK7/E,EAAM2/B,EAAI3D,EAAKA,EAAM0yB,EAAImxB,EAAKvnB,KAAMx8C,EAAQqlE,GAE5D,OADAvrE,GAAYoqE,IAAIoM,KAAK,eAAiBp4E,EAAK9Q,GAAI0S,GACxC5B,GAUXo5E,EAAQj4E,KAAO,WAEX,IADA,IAAI+0E,EAAQ1rF,KAAKgnG,SACRlrG,EAAI,EAAG6pF,EAAK+F,EAAMptF,OAAQxC,EAAI6pF,EAAI7pF,IACvC4vF,EAAM5vF,GAAG6a,OAEb,OAAO3W,MAcX4uF,EAAQznF,QAAU,SAAU6sF,EAAO9jC,EAAIyyB,EAAQvrE,GACtB,mBAAVurE,GAAyBA,EAAOrkF,SACvC8Y,EAAWurE,EACXA,EAAStB,EAAKnS,QAEd8kB,aAAiBqN,IACjBjqF,EAAW48E,EAAM58E,SACjBurE,EAASqR,EAAMrR,OACfzyB,EAAK8jC,EAAM5R,IACX4R,EAAQA,EAAM5sF,MAElB,IAAuC5F,EAAM2/B,EAAI30B,EAAG46F,EAAhDC,EAAQ,GAAIC,EAAQ,GAAI/5F,EAAO,GAC/BvJ,EAAKhE,KACT,IAAK,IAAI3C,KAAO22F,EAAO,GAAIA,EAAMppF,GAAKvN,GAAM,CACpC2G,EAAGs+F,OAEH9gG,GADA4lG,EAAKpjG,EAAGs+F,MAAMjlG,EAAKwmF,EAAImQ,EAAM32F,MACnBmE,KACV2/B,EAAKimE,EAAGjmE,GACR30B,EAAI46F,EAAG56F,IAEPhL,GAAQwC,EAAGoD,KAAK/J,GAChB8jC,GAAM6yD,EAAM32F,IAEhB,IAAImW,EAAMzD,EAAGvO,EAAM,SAAWA,EAAKlD,OAAS,EAC5CiP,EAAKlQ,GAAO+S,EAAMi3F,EAAM/oG,OAAQ+oG,EAAM/oG,OAASkV,EAAKhH,GACpD66F,EAAQA,EAAM35F,OAAOlM,GACrB8lG,EAAQA,EAAM55F,OAAOyzB,GAEzB,IAAI3D,EAAM6jD,EAAKvnB,OACXtkD,EAAO6rE,EAAKgmB,EAAOC,EAAO9pE,EAAKA,EAAM0yB,EAAImxB,EAAKvnB,MAAM,SAAUhsD,GAC1D,IAAI1G,EAAO,GACX,IAAK,IAAI/J,KAAOkQ,EAAUA,EAAK3C,GAAKvN,KAChC+J,EAAK/J,GAAOkQ,EAAKlQ,GAAKyQ,IAE1B9J,EAAGoD,KAAKA,KACTu7E,GAcP,OAbA3+E,EAAG0nF,MAAMl2E,EAAK9Q,IAAM8Q,EACpBA,EAAKyxF,OAASjT,EACdx+E,EAAK0xF,UAAY9vF,EACjBoqE,IAAI,oBAAsBx9E,EAAGU,GAAI8Q,GACjCgsE,IAAIoM,KAAK,eAAiBp4E,EAAK9Q,IAAI,WAC/B88E,IAAIqjB,IAAI,UAAYrvF,EAAK9Q,WAClBV,EAAG0nF,MAAMl2E,EAAK9Q,IACrB0S,GAAYA,EAASnb,KAAK+H,MAE9Bw9E,IAAIoM,KAAK,aAAep4E,EAAK9Q,IAAI,WAC7B88E,IAAIqjB,IAAI,UAAYrvF,EAAK9Q,WAClBV,EAAG0nF,MAAMl2E,EAAK9Q,OAElBV,MAiBfyO,EAAKurE,QAAO,SAAUvrE,EAAM4wE,EAASG,EAAOF,GAuCxC,SAASikB,EAAUC,GACfA,EAASA,EAAOl5F,MAAM,SACtB,IAAIqW,EAAQ,IAAI5J,OAAOysF,EAAO,IAiB9B,OAhBA7iF,EAAM,IAAM6iF,EAAO,GACnB7iF,EAAM,KAAO6iF,EAAO,GACpB7iF,EAAM,KAAO6iF,EAAO,GACpB7iF,EAAM,KAAO6iF,EAAO,GACpB7iF,EAAM,KAAO6iF,EAAO,GACpB7iF,EAAM,KAAO6iF,EAAO,GACpB7iF,EAAM,KAAO6iF,EAAO,GACpB7iF,EAAM,KAAO6iF,EAAO,GACpB7iF,EAAM,KAAO6iF,EAAO,GACpB7iF,EAAM,KAAO6iF,EAAO,GAChBA,EAAO,MACP7iF,EAAM8iF,KAAOD,EAAO,IACpB7iF,EAAM+iF,KAAOF,EAAO,IACpB7iF,EAAMgjF,KAAOH,EAAO,IACpB7iF,EAAMijF,KAAOJ,EAAO,KAEjB7iF,EA7BXlS,EAAKo1F,IAAM,GASXp1F,EAAKq1F,KAAO,GAsBZr1F,EAAKo1F,IAAIzf,IAAMmf,EA1DG,sGA2DlB90F,EAAKo1F,IAAIE,KAAOR,EA1DE,sGA2DlB90F,EAAKo1F,IAAIG,OAAST,EA1DA,sGA2DlB90F,EAAKo1F,IAAII,WAAaV,EA1DJ,sGA2DlB90F,EAAKo1F,IAAIK,OAASX,EA1DA,sGA2DlB90F,EAAKo1F,IAAIvf,KAAOif,EA1DE,sGA2DlB90F,EAAKo1F,IAAIM,UAAYZ,EA1DH,sGA2DlB90F,EAAKo1F,IAAIO,KAAOb,EA1DE,sGA2DlB90F,EAAKo1F,IAAIQ,KAAOd,EA1DE,sGA2DlB90F,EAAKo1F,IAAIxf,MAAQkf,EA1DC,sGA2DlB90F,EAAKo1F,IAAIS,WAAaf,EA1DJ,sGA2DlB90F,EAAKo1F,IAAIU,KAAOhB,EA1DE,sGA2DlB90F,EAAKo1F,IAAIW,OAASjB,EA1DA,sGA2DlB90F,EAAKo1F,IAAIY,MAAQlB,EA1DC,sGA2DlB90F,EAAKo1F,IAAIa,OAASnB,EA1DA,sGA2DlB90F,EAAKo1F,IAAIc,WAAapB,EA1DJ,sGA2DlB90F,EAAKo1F,IAAIe,MAAQrB,EA1DC,0EA2DlB90F,EAAKo1F,IAAIgB,KAAOtB,EA1DE,0EA2DlB90F,EAAKo1F,IAAIiB,SAAWvB,EA1DF,0EA2DlB90F,EAAKq1F,KAAKiB,UAAY,UACtBt2F,EAAKq1F,KAAKkB,SAAW,UACrBv2F,EAAKq1F,KAAKmB,UAAY,UACtBx2F,EAAKq1F,KAAKY,OAAS,UACnBj2F,EAAKq1F,KAAKoB,SAAW,UACrBz2F,EAAKq1F,KAAKqB,UAAY,UACtB12F,EAAKq1F,KAAKsB,OAAS,UACnB32F,EAAKq1F,KAAKuB,QAAU,UACpB52F,EAAKq1F,KAAKwB,WAAa,UACvB72F,EAAKq1F,KAAKyB,WAAa,UACvB92F,EAAKq1F,KAAK0B,SAAW,UACrB/2F,EAAKq1F,KAAK2B,YAAc,UACxBh3F,EAAKq1F,KAAK4B,SAAW,UACrBj3F,EAAKq1F,KAAK6B,SAAW,UACrBl3F,EAAKq1F,KAAK8B,OAAS,UACnBn3F,EAAKq1F,KAAK+B,OAAS,UACnBp3F,EAAKq1F,KAAKgC,WAAa,UACvBr3F,EAAKq1F,KAAKiC,aAAe,UACzBt3F,EAAKq1F,KAAKkC,SAAW,UACrBv3F,EAAKq1F,KAAKmC,SAAW,UAUrBx3F,EAAKy3F,gBAAkB,WACnB,IAAK,IAAIvlF,KAASlS,EAAKo1F,IACfp1F,EAAKo1F,IAAIlqG,eAAegnB,KACxB7mB,OAAO6mB,GAASlS,EAAKo1F,IAAIljF,QAMzC9oB,EAAOD,QAAU6W,G,gBCh9PjB,OAmBA,SAAW6wE,GACP,IAQI6mB,EACAxzF,EARA/L,EAAM,iBACN05E,EAAY,SACZ8lB,EAAgB,UAEhBC,EAAU,SAAU5/F,EAAGsB,GACnB,OAAOtB,EAAIsB,GAIf82F,EAAS,CAACtlG,EAAG,IACbivF,EAAe,WACX,IAAK,IAAI1wF,EAAI,EAAG6pF,EAAK3lF,KAAK1B,OAAQxC,EAAI6pF,EAAI7pF,IACtC,QAAsB,IAAXkE,KAAKlE,GACZ,OAAOkE,KAAKlE,IAIxBwuG,EAAc,WAEV,IADA,IAAIxuG,EAAIkE,KAAK1B,SACJxC,GACL,QAAsB,IAAXkE,KAAKlE,GACZ,OAAOkE,KAAKlE,IAIxByuG,EAAS/tG,OAAOkB,UAAUiQ,SAC1Bk2E,EAAM9oE,OACNqB,EAAU7a,MAAM6a,SAAW,SAAUouF,GACjC,OAAOA,aAAcjpG,OAA4B,kBAAnBgpG,EAAOtuG,KAAKuuG,IAc9ChpB,EAAM,SAAUnlF,EAAMwpF,GAClB,IAII9pF,EAJA0uG,EAAU9zF,EACVtB,EAAO9T,MAAM7D,UAAU0S,MAAMnU,KAAKoC,UAAW,GAC7CqsG,EAAYlpB,EAAIkpB,UAAUruG,GAC1B6vB,EAAI,EAEJy+E,EAAU,GACVC,EAAQ,GACR5/F,EAAM,GACN6/F,EAAKV,EACTn/F,EAAIwhF,aAAeA,EACnBxhF,EAAIs/F,YAAcA,EAClBH,EAAgB9tG,EAChBsa,EAAO,EACP,IAAK,IAAI7a,EAAI,EAAG6pF,EAAK+kB,EAAUpsG,OAAQxC,EAAI6pF,EAAI7pF,IAAS,WAAY4uG,EAAU5uG,KAC1E6uG,EAAQv8F,KAAKs8F,EAAU5uG,GAAGojF,QACtBwrB,EAAU5uG,GAAGojF,OAAS,IACtB0rB,EAAMF,EAAU5uG,GAAGojF,QAAUwrB,EAAU5uG,KAI/C,IADA6uG,EAAQG,KAAKT,GACNM,EAAQz+E,GAAK,GAGhB,GAFAnwB,EAAI6uG,EAAMD,EAAQz+E,MAClBlhB,EAAIoD,KAAKrS,EAAEiQ,MAAM65E,EAAOxwE,IACpBsB,EAEA,OADAA,EAAO8zF,EACAz/F,EAGf,IAAKlP,EAAI,EAAGA,EAAI6pF,EAAI7pF,IAEhB,GAAI,WADJC,EAAI2uG,EAAU5uG,IAEV,GAAIC,EAAEmjF,QAAUyrB,EAAQz+E,GAAI,CAExB,GADAlhB,EAAIoD,KAAKrS,EAAEiQ,MAAM65E,EAAOxwE,IACpBsB,EACA,MAEJ,GAII,IAFA5a,EAAI6uG,EAAMD,IADVz+E,MAEKlhB,EAAIoD,KAAKrS,EAAEiQ,MAAM65E,EAAOxwE,IACzBsB,EACA,YAEC5a,QAET6uG,EAAM7uG,EAAEmjF,QAAUnjF,OAItB,GADAiP,EAAIoD,KAAKrS,EAAEiQ,MAAM65E,EAAOxwE,IACpBsB,EACA,MAMZ,OAFAA,EAAO8zF,EACPN,EAAgBU,EACT7/F,GAGfw2E,EAAIupB,QAAUlI,EAWdrhB,EAAIkpB,UAAY,SAAUruG,GACtB,IAEI0M,EACAwoC,EACAj4B,EACAxd,EACA6pF,EACAhsE,EACA+oE,EACAsoB,EATA96F,EAAQkM,EAAQ/f,GAAQA,EAAOA,EAAKiS,MAAMg2E,GAC1Ct+E,EAAI68F,EASJoI,EAAK,CAACjlG,GACNgF,EAAM,GACV,IAAKlP,EAAI,EAAG6pF,EAAKz1E,EAAM5R,OAAQxC,EAAI6pF,EAAI7pF,IAAK,CAExC,IADAkvG,EAAM,GACDrxF,EAAI,EAAG+oE,EAAKuoB,EAAG3sG,OAAQqb,EAAI+oE,EAAI/oE,IAIhC,IAFA43B,EAAQ,EADRvrC,EAAIilG,EAAGtxF,GAAGpc,GACC2S,EAAMpU,IAAKkK,EA/HnB,MAgIHsT,EAAI,EACGA,MACHvQ,EAAOwoC,EAAMj4B,MAET0xF,EAAI58F,KAAKrF,GACTiC,EAAMA,EAAI0C,OAAO3E,EAAKyD,GAAK,KAIvCy+F,EAAKD,EAET,OAAOhgG,GAYXw2E,EAAI8C,UAAY,SAAU4mB,GAClBA,GAEAA,EAAM,KADNA,EAAMrnB,EAAIqnB,GAAK3lG,QAAQ,oBAAqB,OAC1B,IAClB++E,EAAY,IAAI6mB,OAAOD,IAEvB5mB,EAAY,UA4BpB9C,EAAIyL,GAAK,SAAU5wF,EAAMmQ,GACrB,GAAgB,mBAALA,EACP,OAAO,aAGX,IADA,IAAI0D,EAAQkM,EAAQ/f,GAAQ+f,EAAQ/f,EAAK,IAAMA,EAAO,CAACA,GAAQwnF,EAAIxnF,GAAMiS,MAAM87F,GACtEtuG,EAAI,EAAG6pF,EAAKz1E,EAAM5R,OAAQxC,EAAI6pF,EAAI7pF,KACtC,SAAUO,GAIP,IAHA,IAEI+uG,EAFAl7F,EAAQkM,EAAQ/f,GAAQA,EAAOwnF,EAAIxnF,GAAMiS,MAAMg2E,GAC/Ct+E,EAAI68F,EAEC/mG,EAAI,EAAG6pF,EAAKz1E,EAAM5R,OAAQxC,EAAI6pF,EAAI7pF,IAEvCkK,GADAA,EAAIA,EAAEzI,GACAI,eAAeuS,EAAMpU,KAAOkK,EAAEkK,EAAMpU,MAAQkK,EAAEkK,EAAMpU,IAAM,CAACyB,EAAG,KAGxE,IADAyI,EAAEwG,EAAIxG,EAAEwG,GAAK,GACR1Q,EAAI,EAAG6pF,EAAK3/E,EAAEwG,EAAElO,OAAQxC,EAAI6pF,EAAI7pF,IAAK,GAAIkK,EAAEwG,EAAE1Q,IAAM0Q,EAAG,CACvD4+F,GAAQ,EACR,OAEHA,GAASplG,EAAEwG,EAAE4B,KAAK5B,GAbvB,CAcE0D,EAAMpU,IAEZ,OAAO,SAAUojF,IACRA,IAAWA,IACZ1yE,EAAE0yE,QAAUA,KAmBxBsC,EAAIh1E,EAAI,SAAUvG,GACd,IAAI+tF,EAAQ,GAAG5jF,MAAMnU,KAAKoC,UAAW,GACrC,OAAO,WACHmjF,EAAIx1E,MAAM,KAAM,CAAC/F,EAAO,MAAMyH,OAAOsmF,GAAOtmF,OAAO,GAAG0C,MAAMnU,KAAKoC,UAAW,OASpFmjF,EAAI7qE,KAAO,WACPA,EAAO,GAcX6qE,EAAI0L,GAAK,SAAUme,GACf,IAAIC,EAAMlvF,EAAQ+tF,GAAiBA,EAAchhG,KAAK,KAAOghG,EAC7D,OAAIkB,EACO,IAAIF,OAAO,gBAAkBE,EAAU,iBAAiBnrF,KAAKorF,GAEjEA,GAWX9pB,EAAI+pB,IAAM,WACN,OAAOnvF,EAAQ+tF,GAAiBA,EAAgBA,EAAc77F,MAAMg2E,IAkBxE9C,EAAIqjB,IAAMrjB,EAAIsjB,OAAS,SAAUzoG,EAAMmQ,GACnC,GAAKnQ,EAAL,CAIA,IAAI6T,EAAQkM,EAAQ/f,GAAQ+f,EAAQ/f,EAAK,IAAMA,EAAO,CAACA,GAAQwnF,EAAIxnF,GAAMiS,MAAM87F,GAC/E,GAAIl6F,EAAM5R,OAAS,EACf,IAAK,IAAIxC,EAAI,EAAG6pF,EAAKz1E,EAAM5R,OAAQxC,EAAI6pF,EAAI7pF,IACvC0lF,EAAIqjB,IAAI30F,EAAMpU,GAAI0Q,OAF1B,CAMA0D,EAAQkM,EAAQ/f,GAAQA,EAAOwnF,EAAIxnF,GAAMiS,MAAMg2E,GAC/C,IAAIt+E,EACA3I,EACAioB,EACO3L,EAAG+oE,EACV4oB,EAAM,CAACzI,GACP2I,EAAS,GACb,IAAK1vG,EAAI,EAAG6pF,EAAKz1E,EAAM5R,OAAQxC,EAAI6pF,EAAI7pF,IACnC,IAAK6d,EAAI,EAAGA,EAAI2xF,EAAIhtG,OAAQqb,GAAK2L,EAAOhnB,OAAS,EAAG,CAGhD,GAFAgnB,EAAS,CAAC3L,EAAG,GACb3T,EAAIslG,EAAI3xF,GAAGpc,EAxTR,KAyTC2S,EAAMpU,GACFkK,EAAEkK,EAAMpU,MACRwpB,EAAOlX,KAAKpI,EAAEkK,EAAMpU,KACpB0vG,EAAO16D,QAAQ,CACXvzC,EAAGyI,EACH3J,KAAM6T,EAAMpU,WAIpB,IAAKuB,KAAO2I,EAAOA,EAAE4E,GAAKvN,KACtBioB,EAAOlX,KAAKpI,EAAE3I,IACdmuG,EAAO16D,QAAQ,CACXvzC,EAAGyI,EACH3J,KAAMgB,KAIlBiuG,EAAIhmF,OAAOtZ,MAAMs/F,EAAKhmF,GAG9B,IAAKxpB,EAAI,EAAG6pF,EAAK2lB,EAAIhtG,OAAQxC,EAAI6pF,EAAI7pF,IAEjC,IADAkK,EAAIslG,EAAIxvG,GACDkK,EAAEzI,GAAG,CACR,GAAIiP,EAAG,CACH,GAAIxG,EAAEwG,EAAG,CACL,IAAKmN,EAAI,EAAG+oE,EAAK18E,EAAEwG,EAAElO,OAAQqb,EAAI+oE,EAAI/oE,IAAK,GAAI3T,EAAEwG,EAAEmN,IAAMnN,EAAG,CACvDxG,EAAEwG,EAAE8Y,OAAO3L,EAAG,GACd,OAEH3T,EAAEwG,EAAElO,eAAiB0H,EAAEwG,EAE5B,IAAKnP,KAAO2I,EAAEzI,EAAG,GAAIyI,EAAEzI,EAAEqN,GAAKvN,IAAQ2I,EAAEzI,EAAEF,GAAKmP,EAAG,CAC9C,IAAIi/F,EAAQzlG,EAAEzI,EAAEF,GAAKmP,EACrB,IAAKmN,EAAI,EAAG+oE,EAAK+oB,EAAMntG,OAAQqb,EAAI+oE,EAAI/oE,IAAK,GAAI8xF,EAAM9xF,IAAMnN,EAAG,CAC3Di/F,EAAMnmF,OAAO3L,EAAG,GAChB,OAEH8xF,EAAMntG,eAAiB0H,EAAEzI,EAAEF,GAAKmP,QAIrC,IAAKnP,YADE2I,EAAEwG,EACGxG,EAAEzI,EAAOyI,EAAEzI,EAAEqN,GAAKvN,IAAQ2I,EAAEzI,EAAEF,GAAKmP,UACpCxG,EAAEzI,EAAEF,GAAKmP,EAGxBxG,EAAIA,EAAEzI,EAIdmuG,EAAO,IAAK5vG,EAAI,EAAG6pF,EAAK6lB,EAAOltG,OAAQxC,EAAI6pF,EAAI7pF,IAAK,CAEhD,IAAKuB,KADL2I,EAAIwlG,EAAO1vG,IACGyB,EAAEyI,EAAE3J,MAAMmQ,EAEpB,SAASk/F,EAEb,IAAKruG,KAAO2I,EAAEzI,EAAEyI,EAAE3J,MAAMkB,EAEpB,SAASmuG,SAGN1lG,EAAEzI,EAAEyI,EAAE3J,aAjFbmlF,EAAIupB,QAAUlI,EAAS,CAACtlG,EAAG,KAmGnCikF,EAAIoM,KAAO,SAAUvxF,EAAMmQ,GACvB,IAAIod,EAAK,WAEL,OADA43D,EAAIqjB,IAAIxoG,EAAMutB,GACPpd,EAAER,MAAMhM,KAAM3B,YAEzB,OAAOmjF,EAAIyL,GAAG5wF,EAAMutB,IAQxB43D,EAAIxjF,QAxZU,QAyZdwjF,EAAI7zE,SAAW,WACX,MAAO,6BAEX21E,EAAK9B,IAAMA,EACqB3lF,EAAOD,QAAUC,EAAOD,QAAU4lF,OAAgG,KAA3B,EAAF,WAAgB,OAAOA,GAAM,QAA/B,OAA+B,aA9ZtK,CA+ZoB,oBAAV1jF,OAAwBA,OAASkC,O,6BC5a3C,SAASf,EAAuBC,GAAO,OAAOA,GAAOA,EAAIhC,WAAagC,EAAM,CAAE,QAAWA,GAJzF1C,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAKT,IAEImkF,EAAoBjiF,EAFD,EAAQ,KAM3B+/E,EAAgB//E,EAFD,EAAQ,IAIvBkiF,EAAS,EAAQ,IAIjBzhF,EAAS,CACXqH,IAAK,CACHE,IAAKi6E,EAA2B,QAChC75E,YAAa,kEACb+5E,SAAU,4IACVj6E,QAAS,SAAiBN,GACxB,IAAIyU,EAAM,EACNqwF,EAAQ3rG,KAAKohF,SAAS9yE,MAAM,KAC5Bs9F,EAAaD,EAAMrtG,OACnB+iF,EAAOvjF,OAAOujF,MAEH,SAASwqB,IAClBvwF,EAAMswF,EAAa,IAEvB/kG,EAAKM,QAAQ,CAAEN,KAAM8kG,EAAMrwF,IAAgB,IAARA,EAAY,IAAM,IAAa,IAARA,EAAY+lE,EAAK0B,OAAS1B,EAAK9oE,SAAS,WAChGszF,OAGFvwF,KAGFuwF,KAIJjlG,WAAY,SAAoB9F,EAAQ+E,EAAOE,GAC7C,MAAO,CACLyc,SAAU,WACV3c,MAAO,OACPyC,OAAQ,OACRvC,MAAOA,EAAQ,UAAY,EAC3B2c,KAAM3c,EAAQ,EAAI,UAClBq5E,aAAcr5E,EAAQ,kBAAoB,gBAC1Cs5E,YAAat5E,EAAQ,kBAAoB,gBACzCu5E,WAAYv5E,EAAQ,kBAAoB,gBACxCw5E,gBAAiBx5E,EAAQ,kBAAoB,gBAC7CujB,UAAWvjB,EAAQ,kBAAoB,kBAI3Cy5E,SAAU,SAAkB1+E,EAAQ+E,EAAOE,GACzC,MAAO,CACLq5E,aAAct+E,EAAS,uBAAyBiF,EAAQ,0BAA4B,2BACpFs5E,YAAav+E,EAAS,uBAAyBiF,EAAQ,0BAA4B,2BACnFu5E,WAAYx+E,EAAS,uBAAyBiF,EAAQ,0BAA4B,2BAClFw5E,gBAAiBz+E,EAAS,uBAAyBiF,EAAQ,0BAA4B,2BACvFujB,UAAWxoB,EAAS,uBAAyBiF,EAAQ,0BAA4B,2BACjFH,WAAY9E,EAAS,oBAAsB,mBAI/C2+E,KAAM,SAAc3+E,EAAQ+E,EAAOE,GACjC,IAAI+lG,GAAa,EAAI3qB,EAAOzuE,SAAS7M,GAtDtB,IAuDf,MAAO,CACL2c,SAAU,QACV48D,aAAct+E,EAAS,GAAKiF,EAAQ,eAAiB+lG,EAAa,UAAY,gBAAkBA,EAAa,UAC7GzsB,YAAav+E,EAAS,GAAKiF,EAAQ,eAAiB+lG,EAAa,UAAY,gBAAkBA,EAAa,UAC5GxsB,WAAYx+E,EAAS,GAAKiF,EAAQ,eAAiB+lG,EAAa,UAAY,gBAAkBA,EAAa,UAC3GvsB,gBAAiBz+E,EAAS,GAAKiF,EAAQ,eAAiB+lG,EAAa,UAAY,gBAAkBA,EAAa,UAChHxiF,UAAWxoB,EAAS,GAAKiF,EAAQ,eAAiB+lG,EAAa,UAAY,gBAAkBA,EAAa,UAC1GlmG,WAAY9E,EAAS,2GAA6G,uGAClIo7D,QAASp7D,EAAS,EAAI,IAI1BiI,KAAM,SAAcjI,EAAQ+E,EAAOE,EAAOk7E,GACxC,IAAI6qB,GAAa,EAAI3qB,EAAOzuE,SAAS7M,GApEtB,IAqEf,MAAO,CACLu5E,aAAct+E,EAAS,uBAAyBiF,EAAQ,eAAiB+lG,EAAa,UAAY,gBAAkBA,EAAa,UACjIzsB,YAAav+E,EAAS,uBAAyBiF,EAAQ,eAAiB+lG,EAAa,UAAY,gBAAkBA,EAAa,UAChIxsB,WAAYx+E,EAAS,uBAAyBiF,EAAQ,eAAiB+lG,EAAa,UAAY,gBAAkBA,EAAa,UAC/HvsB,gBAAiBz+E,EAAS,uBAAyBiF,EAAQ,eAAiB+lG,EAAa,UAAY,gBAAkBA,EAAa,UACpIxiF,UAAWxoB,EAAS,uBAAyBiF,EAAQ,eAAiB+lG,EAAa,UAAY,gBAAkBA,EAAa,UAC9HlmG,WAAY9E,EAAS,yCAA2C,uGAChEo7D,QAASp7D,EAAS,EAAI,IAI1BirG,YAAa,SAAqBjrG,EAAQ+E,EAAOE,GAC/C,IAAI+lG,GAAa,EAAI3qB,EAAOzuE,SAAS7M,GAjFtB,IAkFf,MAAO,CACLu5E,aAAct+E,EAAS,uBAAyBiF,EAAQ,eAAiB+lG,EAAa,UAAY,gBAAkBA,EAAa,UACjIzsB,YAAav+E,EAAS,uBAAyBiF,EAAQ,eAAiB+lG,EAAa,UAAY,gBAAkBA,EAAa,UAChIxsB,WAAYx+E,EAAS,uBAAyBiF,EAAQ,eAAiB+lG,EAAa,UAAY,gBAAkBA,EAAa,UAC/HvsB,gBAAiBz+E,EAAS,uBAAyBiF,EAAQ,eAAiB+lG,EAAa,UAAY,gBAAkBA,EAAa,UACpIxiF,UAAWxoB,EAAS,uBAAyBiF,EAAQ,eAAiB+lG,EAAa,UAAY,gBAAkBA,EAAa,UAC9HlmG,WAAY9E,EAAS,2GAA6G,uGAClIo7D,QAASp7D,EAAS,EAAI,KAK5BlF,EAAiB,SAAI,EAAIojF,EAAuB,SAAGt/E,GACnD7D,EAAOD,QAAUA,EAAiB,S,6BC/GlCY,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAKT,IAFgCmC,EAE5B6/E,EAAe,EAAQ,GAEvBC,GAJ4B9/E,EAIW6/E,IAJU7/E,EAAIhC,WAAagC,EAAM,CAAE,QAAWA,GAyBzFtD,EAAiB,SAAI,EAAIojF,EAAuB,SAnBnC,CACX36E,SAAU,SAAkBvD,EAAQ+E,EAAOE,GACzC,MAAO,CACLq5E,aAAct+E,EAAS,GAAKiF,EAAQ,gBAAkBF,EAAQ,UAAY,eAAiBA,EAAQ,UACnGw5E,YAAav+E,EAAS,GAAKiF,EAAQ,gBAAkBF,EAAQ,UAAY,eAAiBA,EAAQ,UAClGy5E,WAAYx+E,EAAS,GAAKiF,EAAQ,gBAAkBF,EAAQ,UAAY,eAAiBA,EAAQ,UACjG05E,gBAAiBz+E,EAAS,GAAKiF,EAAQ,gBAAkBF,EAAQ,UAAY,eAAiBA,EAAQ,UACtGyjB,UAAWxoB,EAAS,GAAKiF,EAAQ,gBAAkBF,EAAQ,UAAY,eAAiBA,EAAQ,UAChGD,WAAY,aAIhBpB,eAAgB,SAAwB1D,GACtC,MAAO,CACLgX,SAAUhX,EAAS,GAAK,aAM9BjF,EAAOD,QAAUA,EAAiB,S,6BC9BlCY,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAKT,IAFgCmC,EAE5B6/E,EAAe,EAAQ,GAEvBC,GAJ4B9/E,EAIW6/E,IAJU7/E,EAAIhC,WAAagC,EAAM,CAAE,QAAWA,GA4BzFtD,EAAiB,SAAI,EAAIojF,EAAuB,SAtBnC,CACX36E,SAAU,SAAkBvD,EAAQ+E,EAAOE,GACzC,MAAO,CACLq5E,aAAct+E,EAAS,GAAKiF,EAAQ,gBAAkBF,EAAQ,yBAA2B,eAAiBA,EAAQ,0BAClHw5E,YAAav+E,EAAS,GAAKiF,EAAQ,gBAAkBF,EAAQ,yBAA2B,eAAiBA,EAAQ,0BACjHy5E,WAAYx+E,EAAS,GAAKiF,EAAQ,gBAAkBF,EAAQ,yBAA2B,eAAiBA,EAAQ,0BAChH05E,gBAAiBz+E,EAAS,GAAKiF,EAAQ,gBAAkBF,EAAQ,yBAA2B,eAAiBA,EAAQ,0BACrHyjB,UAAWxoB,EAAS,GAAKiF,EAAQ,gBAAkBF,EAAQ,yBAA2B,eAAiBA,EAAQ,0BAC/G8c,gBAAiB5c,EAAQ,WAAa,SACtCgd,eAAgB,cAChBnd,WAAY,aAIhBpB,eAAgB,SAAwB1D,GACtC,MAAO,CACL4rD,YAAa,SACb50C,SAAUhX,EAAS,GAAK,aAM9BjF,EAAOD,QAAUA,EAAiB,S,6BCjClCY,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAKT,IAFgCmC,EAE5B6/E,EAAe,EAAQ,GAEvBC,GAJ4B9/E,EAIW6/E,IAJU7/E,EAAIhC,WAAagC,EAAM,CAAE,QAAWA,GA2BzFtD,EAAiB,SAAI,EAAIojF,EAAuB,SArBnC,CACX36E,SAAU,SAAkBvD,EAAQ+E,GAClC,MAAO,CACLu5E,aAAct+E,EAAS,GAAK,sBAAwB+E,EAAQ,IAC5Dw5E,YAAav+E,EAAS,GAAK,sBAAwB+E,EAAQ,IAC3Dy5E,WAAYx+E,EAAS,GAAK,sBAAwB+E,EAAQ,IAC1D05E,gBAAiBz+E,EAAS,GAAK,sBAAwB+E,EAAQ,IAC/DyjB,UAAWxoB,EAAS,GAAK,sBAAwB+E,EAAQ,IACzD8c,gBAAiB,OACjBI,eAAgB,cAChBnd,WAAY,aAIhBpB,eAAgB,WACd,MAAO,CACLkoD,YAAa,aAMnB7wD,EAAOD,QAAUA,EAAiB,S,6BChClCY,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAKT,IAFgCmC,EAE5B6/E,EAAe,EAAQ,GAEvBC,GAJ4B9/E,EAIW6/E,IAJU7/E,EAAIhC,WAAagC,EAAM,CAAE,QAAWA,GA4BzFtD,EAAiB,SAAI,EAAIojF,EAAuB,SAtBnC,CACX36E,SAAU,SAAkBvD,EAAQ+E,EAAOE,GACzC,MAAO,CACLq5E,aAAct+E,EAAS,GAAKiF,EAAQ,gDAAkD,gDACtFs5E,YAAav+E,EAAS,GAAKiF,EAAQ,gDAAkD,gDACrFu5E,WAAYx+E,EAAS,GAAKiF,EAAQ,gDAAkD,gDACpFw5E,gBAAiBz+E,EAAS,GAAKiF,EAAQ,gDAAkD,gDACzFujB,UAAWxoB,EAAS,GAAKiF,EAAQ,gDAAkD,gDACnFgd,eAAgB,cAChBnd,WAAY,WACZkS,SAAUhX,EAAS,GAAK,WAI5B0D,eAAgB,SAAwB1D,GACtC,MAAO,CACL4rD,YAAa,SACb50C,SAAUhX,EAAS,GAAK,aAM9BjF,EAAOD,QAAUA,EAAiB,S,6BCjClCY,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAKT,IAFgCmC,EAE5B6/E,EAAe,EAAQ,GAEvBC,GAJ4B9/E,EAIW6/E,IAJU7/E,EAAIhC,WAAagC,EAAM,CAAE,QAAWA,GAsCzFtD,EAAiB,SAAI,EAAIojF,EAAuB,SAhCnC,CACXQ,SAAU,SAAkB1+E,GAC1B,MAAO,CACLs+E,aAAct+E,EAAS,GAAK,2BAC5Bu+E,YAAav+E,EAAS,GAAK,2BAC3Bw+E,WAAYx+E,EAAS,GAAK,2BAC1By+E,gBAAiBz+E,EAAS,GAAK,2BAC/BwoB,UAAWxoB,EAAS,GAAK,2BACzB8E,WAAY,yBAIhBvB,SAAU,SAAkBvD,EAAQ+E,EAAOE,GACzC,MAAO,CACLq5E,aAAct+E,EAAS,GAAKiF,EAAQ,gBAAkBF,EAAQ,UAAY,eAAiBA,EAAQ,UACnGw5E,YAAav+E,EAAS,GAAKiF,EAAQ,gBAAkBF,EAAQ,UAAY,eAAiBA,EAAQ,UAClGy5E,WAAYx+E,EAAS,GAAKiF,EAAQ,gBAAkBF,EAAQ,UAAY,eAAiBA,EAAQ,UACjG05E,gBAAiBz+E,EAAS,GAAKiF,EAAQ,gBAAkBF,EAAQ,UAAY,eAAiBA,EAAQ,UACtGyjB,UAAWxoB,EAAS,GAAKiF,EAAQ,gBAAkBF,EAAQ,UAAY,eAAiBA,EAAQ,UAChGD,WAAY,aAIhBpB,eAAgB,SAAwB1D,GACtC,MAAO,CACL4rD,YAAa,SACbs/C,kBAAmB,SACnBl0F,SAAUhX,EAAS,GAAK,aAM9BjF,EAAOD,QAAUA,EAAiB,S,6BC3ClCY,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAKT,IAFgCmC,EAE5B6/E,EAAe,EAAQ,GAEvBC,GAJ4B9/E,EAIW6/E,IAJU7/E,EAAIhC,WAAagC,EAAM,CAAE,QAAWA,GAgEzFtD,EAAiB,SAAI,EAAIojF,EAAuB,SA1DnC,CACXQ,SAAU,SAAkB1+E,EAAQ+E,EAAOE,GACzC,MAAO,CACLq5E,aAAc,uBACdC,YAAa,uBACbC,WAAY,uBACZC,gBAAiB,uBACjBj2D,UAAW,uBACX41D,OAAQp+E,EAAS,KAAQ,IAI7Bm+E,QAAS,SAAiBn+E,EAAQ+E,EAAOE,GACvC,MAAO,CACLm5E,OAAQ,KACRE,aAAct+E,EAASiF,EAAQ,gBAAkBF,EAAQ,UAAY,eAAiBA,EAAQ,UAAY,uBAC1Gw5E,YAAav+E,EAASiF,EAAQ,gBAAkBF,EAAQ,UAAY,eAAiBA,EAAQ,UAAY,uBACzGy5E,WAAYx+E,EAASiF,EAAQ,gBAAkBF,EAAQ,UAAY,eAAiBA,EAAQ,UAAY,uBACxG05E,gBAAiBz+E,EAASiF,EAAQ,gBAAkBF,EAAQ,UAAY,eAAiBA,EAAQ,UAAY,uBAC7GyjB,UAAWxoB,EAASiF,EAAQ,gBAAkBF,EAAQ,UAAY,eAAiBA,EAAQ,UAAY,uBACvGD,WAAY,WACZqmG,WAAYnrG,EAAS,UAAY,WAIrCuD,SAAU,SAAkBvD,EAAQ+E,EAAOE,GACzC,MAAO,CACLq5E,aAAct+E,EAAS,GAAKiF,EAAQ,gBAAkBF,EAAQ,UAAY,eAAiBA,EAAQ,UACnGw5E,YAAav+E,EAAS,GAAKiF,EAAQ,gBAAkBF,EAAQ,UAAY,eAAiBA,EAAQ,UAClGy5E,WAAYx+E,EAAS,GAAKiF,EAAQ,gBAAkBF,EAAQ,UAAY,eAAiBA,EAAQ,UACjG05E,gBAAiBz+E,EAAS,GAAKiF,EAAQ,gBAAkBF,EAAQ,UAAY,eAAiBA,EAAQ,UACtGyjB,UAAWxoB,EAAS,GAAKiF,EAAQ,gBAAkBF,EAAQ,UAAY,eAAiBA,EAAQ,UAChGD,WAAY,WACZs5E,OAAQ,KACR18D,SAAU,aAId0pF,WAAY,SAAoBprG,EAAQ+E,EAAOE,GAC7C,MAAO,CACLq5E,aAAct+E,EAASiF,EAAQ,eAAiBF,EAAQ,UAAY,gBAAkBA,EAAQ,UAAY,uBAC1Gw5E,YAAav+E,EAASiF,EAAQ,eAAiBF,EAAQ,UAAY,gBAAkBA,EAAQ,UAAY,uBACzGy5E,WAAYx+E,EAASiF,EAAQ,eAAiBF,EAAQ,UAAY,gBAAkBA,EAAQ,UAAY,uBACxG05E,gBAAiBz+E,EAASiF,EAAQ,eAAiBF,EAAQ,UAAY,gBAAkBA,EAAQ,UAAY,uBAC7GyjB,UAAWxoB,EAASiF,EAAQ,eAAiBF,EAAQ,UAAY,gBAAkBA,EAAQ,UAAY,uBACvGD,WAAY,WACZ4c,SAAU,WACV08D,OAAQ,OAIZ16E,eAAgB,SAAwB1D,GACtC,MAAO,CACLgX,SAAUhX,EAAS,GAAK,aAM9BjF,EAAOD,QAAUA,EAAiB,S,23CChEbuwG,E,oXAEExlG,GAAW,IACnBg0B,EAAQ36B,KAAKtB,MAAbi8B,KACP,GAAGA,GAAQA,IAASh0B,EAAUg0B,KAAK,CAC/B,IAAMyxE,EAAYzxE,EAAKyxE,UAAWzxE,EAAKyxE,UAAYpsG,KAAKtB,MAAM0tG,UAExDp2C,GADSr7B,EAAK0xE,OAAQ1xE,EAAK0xE,OAASrsG,KAAKtB,MAAM2tG,QAC7Bn5F,sBAAYynB,EAAKq7B,SAAWr7B,EAAKq7B,QAEnDs2C,EAAO,IAAIC,KAAK,CAACv2C,GAAU,CAAClrD,KAAMshG,IAClCI,EAAW7xE,EAAK6xE,SAEtB,GAAI1uG,OAAO8iB,UAAU6rF,iBACjB3uG,OAAO8iB,UAAU6rF,iBAAiBH,EAAME,OACrC,CACH,IAAM/hG,EAAIhJ,SAAS8F,cAAc,KACjC9F,SAAS4B,KAAK0L,YAAYtE,GAC1B,IAAMw6E,EAAMnnF,OAAO81F,IAAI8Y,gBAAgBJ,GACvC7hG,EAAEs0B,KAAOkmD,EACTx6E,EAAEkiG,SAAWH,EACb/hG,EAAEmiG,QACFppG,YAAW,WACP1F,OAAO81F,IAAIiZ,gBAAgB5nB,GAC3BxjF,SAAS4B,KAAK08B,YAAYt1B,KAC3B,O,+BAMX,OAAQ,U,8BA9BsBhB,aAkCtC0iG,EAAS/hG,aAAe,CACpBgiG,UAAW,aACXC,QAAQ,GAGZF,EAASziG,UAAY,CAIjBhF,GAAIooG,IAAUnjG,OAKdgxB,KAAMmyE,IAAU1/D,MAAM,CAClBo/D,SAAUM,IAAUnjG,OAAOO,WAC3B8rD,QAAS82C,IAAUC,IAAI7iG,WACvBmiG,OAAQS,IAAU9iG,KAClBoiG,UAAWU,IAAUnjG,SAMzB0iG,OAAQS,IAAU9iG,KAKlBoiG,UAAWU,IAAUnjG,OAMrBqjG,SAAUF,IAAU/iG,M,i7CCpEHgL,E,sQAEjB,WAAYrW,GAAO,a,4FAAA,UACf,cAAMA,IACDuuG,MAAQC,IAAMC,YACnB,EAAKnpG,GAAK,KAHK,E,yDAOfhE,KAAKgE,GAAGkU,IAAIo9D,QAAQ83B,uB,4CAGF72F,GAElB,GAAGvW,KAAKtB,MAAMqY,OAASR,EAAUQ,QAAU/W,KAAKtB,MAAMqY,MAAM,CAExD,IAAMs2F,EAAS7wG,OAAO2B,OAAO,GAAI6B,KAAKgE,GAAGkU,IAAIo9D,QAAQ52E,OAMrD,OALA2uG,EAAOt2F,MAAQR,EAAUQ,MACzB/W,KAAKgE,GAAGkU,IAAIo9D,QAAQ52E,MAAQ2uG,EAE5BrtG,KAAKgE,GAAGkU,IAAIo9D,QAAQ83B,sBAEb,EAGX,IAAI,IAAMroG,KAAQwR,EACd,GAAY,kBAATxR,GAGA/E,KAAKtB,MAAMqG,KAAUwR,EAAUxR,GAC9B,OAAO,EAIf,OAAO,I,+BAKP,GAAI/E,KAAKtB,MAAMumF,IAAK,CAChB,IAAIqoB,EAAU,IAAIh4D,eAClBg4D,EAAQvlG,KAAK,MAAO/H,KAAKtB,MAAMumF,KAAK,GACpCqoB,EAAQ73D,KAAK,MACbz1C,KAAKtB,MAAMkE,QAAQoT,cAAgB4G,KAAK+c,MAAM2zE,EAAQn4D,cAI1D,OADAn1C,KAAKgE,GAAK,kBAAC,IAAD,KAAOhE,KAAKtB,MAAZ,CAAmBwZ,IAAKlY,KAAKitG,SAChCjtG,KAAKgE,Q,8BA/CgByF,a,4sCAmDpCsL,EAAOrL,UAAY,CAKfhF,GAAIooG,IAAUnjG,OAKdb,SAAUgkG,IAAUhxE,KAKpB15B,UAAW0qG,IAAUnjG,OAKrB/G,QAASkqG,IAAUtvG,OAKnBynF,IAAK6nB,IAAUnjG,OAKf9D,MAAOinG,IAAUnjG,OAKjBrB,OAAQwkG,IAAUnjG,OAGlB+M,UAAWo2F,IAAU9iG,KACrByL,SAAUq3F,IAAU9iG,KACpB+M,MAAO+1F,IAAU3iG,OACjB+L,SAAU42F,IAAU10F,QAAQ00F,IAAU3iG,QACtC6M,UAAW81F,IAAU3iG,OACrBoN,SAAUu1F,IAAUnjG,OACpB6N,UAAWs1F,IAAUnjG,OACrB8N,uBAAwBq1F,IAAU9iG,KAClC0N,MAAOo1F,IAAUnjG,OACjB3E,MAAO8nG,IAAUnjG,Q,ICpGA4jG,E,sQAEjB,WAAY7uG,GAAO,a,4FAAA,UACf,cAAMA,IACD8uG,eAAiB,EAAKA,eAAelwG,KAApB,MACtB,EAAKmwG,aAAe,EAAKA,aAAanwG,KAAlB,MAHL,E,oDAMJ2I,GACX,IAAIjG,KAAKtB,MAAMgvG,aAAe1tG,KAAKtB,MAAMgvG,YAAYt5F,QAAQnO,EAAM5I,MAAQ,EAAE,CACzE,IAAMswG,EAAU3tG,KAAKtB,MAAMkvG,WAAWC,QAClC,SAAStxG,EAAG+c,GAAsB,OAAjB/c,EAAE+c,GAAKrT,EAAMqT,GAAW/c,IAAM,IAGnD,GAFAyD,KAAKtB,MAAMsuG,SAAS,CAACW,QAASA,IAC9B3tG,KAAKtB,MAAMsuG,SAAS,CAACc,WAAY9tG,KAAKtB,MAAMovG,WAAa,IACtDH,EAAQtwG,IAAI,CACX,IAAM0wG,EAAevxG,OAAO2B,OAAO6B,KAAKtB,MAAMqvG,aAAc,IAC5DA,EAAaJ,EAAQtwG,KAAOswG,EAC5B3tG,KAAKtB,MAAMsuG,SAAS,CAACe,aAAcA,Q,mCAKlC9nG,GACT,IAAIjG,KAAKtB,MAAMgvG,aAAe1tG,KAAKtB,MAAMgvG,YAAYt5F,QAAQnO,EAAM5I,MAAQ,EAAE,CACzE,IAAM2wG,EAAQhuG,KAAKtB,MAAMkvG,WAAWC,QACpC,SAAStxG,EAAG+c,GAAsB,OAAjB/c,EAAE+c,GAAKrT,EAAMqT,GAAW/c,IAAM,IAG/C,GAFAyD,KAAKtB,MAAMsuG,SAAS,CAACgB,MAAOA,IAC5BhuG,KAAKtB,MAAMsuG,SAAS,CAACiB,SAAUjuG,KAAKtB,MAAMuvG,SAAW,IAClDD,EAAM3wG,IAAI,CACT,IAAM0wG,EAAevxG,OAAO2B,OAAO6B,KAAKtB,MAAMqvG,aAAc,WACrDA,EAAa9nG,EAAM5I,KAC1B2C,KAAKtB,MAAMsuG,SAAS,CAACe,aAAcA,Q,0CAM3CtsG,SAASgF,iBAAiB,UAAWzG,KAAKwtG,gBAAgB,GAC1D/rG,SAASgF,iBAAiB,QAASzG,KAAKytG,cAAc,K,6CAItDhsG,SAASiF,oBAAoB,UAAW1G,KAAKwtG,gBAAgB,GAC7D/rG,SAASiF,oBAAoB,QAAS1G,KAAKytG,cAAc,K,+BAIzD,OAAQ,U,8BA/CsBhkG,a,ysCAmDtC8jG,EAASnjG,aAAe,CACpBwjG,WAAY,CAAC,MAAO,SAAU,UAAW,WAAW,UAAW,UAC/DE,WAAY,EACZG,SAAU,EACVF,aAAc,IAIlBR,EAAS7jG,UAAY,CAIjBhF,GAAIooG,IAAUnjG,OAKdikG,WAAYd,IAAU10F,QAAQ00F,IAAUnjG,QAKxC+jG,YAAaZ,IAAU10F,QAAQ00F,IAAUnjG,QAMzCqjG,SAAUF,IAAU/iG,KAapB4jG,QAASb,IAAUtvG,OAKnBwwG,MAAOlB,IAAUtvG,OAKjBuwG,aAAcjB,IAAUtvG,OAKvBswG,WAAYhB,IAAU3iG,OAKvB8jG,SAAUnB,IAAU3iG,Q,IC/GH+jG,E,sQAEjB,WAAYxvG,GAAO,a,4FAAA,UAEf,cAAMA,IAEDi8B,KAAO,GAJG,E,gEASQ7xB,EAAUkD,GAEjC,GAAKlD,EAIL,GAAKA,EAASxK,OAKd,IAAK,IAAIxC,EAAI,EAAGA,EAAIgN,EAASxK,OAAQxC,IACjCkE,KAAKmuG,iCAAiCrlG,EAAShN,GAAIkQ,QALnDhM,KAAKmuG,iCAAiCrlG,EAAUkD,K,uDASvBoiG,EAAOpiG,GAC/BoiG,EAAM1vG,QAGXsN,EAAMoiG,GACNpuG,KAAKquG,2BAA2BD,EAAM1vG,MAAMoK,SAAUkD,M,+BAGjD3O,EAAKqB,GACV,GAAKA,EAIL,IADA,IAAMsyC,EAAWhxC,KAAKtB,MAAM4vG,OAAOjxG,GAC1BvB,EAAI,EAAGA,EAAIk1C,EAAS1yC,OAAQxC,IAAK,CACtC,IAAI4I,EAAKssC,EAASl1C,GAAG4I,GAAKssC,EAASl1C,GAAG4I,GAAKssC,EAASl1C,GAAG,GACjDiJ,EAAOisC,EAASl1C,GAAGiJ,KAAOisC,EAASl1C,GAAGiJ,KAAOisC,EAASl1C,GAAG,GAC3DyyG,EAAa7vG,EAAMgG,GAGL,WAAd,EAAOA,KAAiBA,EAAKkY,KAAKE,UAAUpY,IACtB,WAAtB,EAAO6pG,KAAyBA,EAAa3xF,KAAKE,UAAUyxF,IAG5DA,IAAe7pG,GAAQK,KAAQrG,IAM/BsB,KAAK26B,KAAKt9B,IAAQ2C,KAAK26B,KAAKt9B,GAAKqH,IAAO1E,KAAK26B,KAAKt9B,GAAKqH,GAAIK,IAC3D/E,KAAK26B,KAAKt9B,GAAKqH,GAAIK,GAAMhI,QAAU2B,EAAMqG,KAI7C/E,KAAK26B,KAAKt9B,GAAO2C,KAAK26B,KAAKt9B,IAAQ,GACnC2C,KAAK26B,KAAKt9B,GAAKqH,GAAM1E,KAAK26B,KAAKt9B,GAAKqH,IAAO,GAC3C1E,KAAK26B,KAAKt9B,GAAKqH,GAAIK,GAAQ,CAAChI,MAAO2B,EAAMqG,GAAO+0D,MAAM,IAAIvqC,MAAO4I,gB,+BAMhE,WAEL+0E,IAAMtkG,SAASC,IAAI7I,KAAKtB,MAAMoK,UAAU,SAACslG,GAAU,eACpC/wG,GACP,IAAMmxG,EAAMJ,EAAM1vG,MAAM+vG,oBAClB3lG,EAAW0lG,EAAI9vG,MAAMoK,SAC3B,EAAK4lG,SAASrxG,EAAKmxG,EAAI9vG,OACvB,EAAK2vG,2BAA2BvlG,GAAU,SAACslG,GAAD,OAAW,EAAKM,SAASrxG,EAAK+wG,EAAM1vG,WAJlF,IAAK,IAAMrB,KAAO,EAAKqB,MAAM4vG,OAAQ,EAA1BjxG,MAQf,IAAMmhD,EAAU,GAChB,IAAK,IAAMnhD,KAAO2C,KAAKtB,MAAM4vG,OAAQ,CACjC,IAAIx0C,EAAO,EACX,IAAK,IAAMp1D,KAAM1E,KAAK26B,KAAKt9B,GACvB,IAAK,IAAM0H,KAAQ/E,KAAK26B,KAAKt9B,GAAKqH,GAAI,CAClC,IAAMigC,EAAO3kC,KAAK26B,KAAKt9B,GAAKqH,GAAIK,GAC7B4/B,EAAKm1B,KAAOA,IACXA,EAAOn1B,EAAKm1B,KACZtb,EAAQnhD,GAAO,CAACN,MAAO4nC,EAAK5nC,MAAOitE,QAAS,CAACtlE,GAAGA,EAAIK,KAAKA,MAOzE,OAFA/E,KAAKtB,MAAMsuG,SAAS,CAACryE,KAAM6jB,IAEpB,yBAAKp8C,UAAWpC,KAAKtB,MAAM0D,UAAW4C,MAAOhF,KAAKtB,MAAMsG,OAAQhF,KAAKtB,MAAMoK,e,8BA/FrDW,aAoGrCykG,EAAQ9jG,aAAe,GAEvB8jG,EAAQxkG,UAAY,CAKhB4kG,OAAQxB,IAAU6B,SACd7B,IAAU10F,QACN00F,IAAUljG,UAAU,CAEhBkjG,IAAU10F,QAAQ00F,IAAUnjG,QAE5BmjG,IAAU1/D,MAAM,CACZ1oC,GAAIooG,IAAUljG,UAAU,CAACkjG,IAAUnjG,OAAOO,WAAY4iG,IAAUtvG,OAAO0M,aACvEnF,KAAM+nG,IAAUC,IAAI7iG,iBAOpCywB,KAAMmyE,IAAUtvG,OAKhBkH,GAAIooG,IAAUnjG,OAMdqjG,SAAUF,IAAU/iG,KAKpBjB,SAAUgkG,IAAU10F,QAAQ00F,IAAUhxE,MAKtC92B,MAAO8nG,IAAUtvG,OAKjB4E,UAAW0qG,IAAUnjG,Q,kuCCpJJilG,E,sQAEjB,WAAYlwG,GAAO,O,4FAAA,qBACTA,G,8CAGD,MAGCsB,KAAKtB,MAFJmH,EADF,EACEA,MAAOyC,EADT,EACSA,OAAQhE,EADjB,EACiBA,WAAYG,EAD7B,EAC6BA,iBAAkBsB,EAD/C,EAC+CA,MAAOG,EADtD,EACsDA,kBAAmBsB,EADzE,EACyEA,UAAW5D,EADpF,EACoFA,oBACrF+B,EAFC,EAEDA,aAAcmC,EAFb,EAEaA,iBAAkBwB,EAF/B,EAE+BA,gBAAiBnG,EAFhD,EAEgDA,iBAAkB6B,EAFlE,EAEkEA,MAAON,EAFzE,EAEyEA,GAAItC,EAF7E,EAE6EA,UAAWguE,EAFxF,EAEwFA,OAAQtnE,EAFhG,EAEgGA,SAE/FpK,EAAQ,CACVmH,MAAOA,EAAOyC,OAAQA,EAAQhE,WAAYA,EAAYG,iBAAkBA,EAAkBsB,MAAOA,EACjGG,kBAAmBA,EAAmBsB,UAAWA,EAAW5D,oBAAqBA,EACjF+B,aAAcA,EAAcmC,iBAAkBA,EAAkBwB,gBAAiBA,EACjFnG,iBAAkBA,EAAkB6B,MAAOA,EAAON,GAAGA,EAAItC,UAAWA,GAClEzC,EAAOkvG,IAAYz+B,GACzB,OACI,kBAACzwE,EAASjB,EACLoK,Q,8BAlBuBW,aAyBxCmlG,EAAWxkG,aAAe,CACtBvE,MAAO,QACPyC,OAAQ,OACR8nE,OAAQ,SAGZw+B,EAAWllG,UAAY,CAEnB7D,MAAOinG,IAAUnjG,OAEjBrB,OAAQwkG,IAAUnjG,OAElBymE,OAAQ08B,IAAUhjG,MAAM,CAAC,QAAS,QAAS,UAAW,SAAU,OAAQ,aAAc,YAClF,cAAe,WAAY,WAE/BxF,WAAYwoG,IAAUnjG,OAEtBlF,iBAAkBqoG,IAAUnjG,OAE5B5D,MAAO+mG,IAAU9iG,KAEjB9D,kBAAmB4mG,IAAU9iG,KAE7BxC,UAAWslG,IAAU9iG,KAErBpG,oBAAqBkpG,IAAU9iG,KAE/BrE,aAAcmnG,IAAU9iG,KAExBlC,iBAAkBglG,IAAU9iG,KAE5BV,gBAAiBwjG,IAAU9iG,KAE3B7G,iBAAkB2pG,IAAU9iG,KAE5BhF,MAAO8nG,IAAUtvG,OAIjBsD,OAAQgsG,IAAU9iG,KAOlBtF,GAAIooG,IAAUnjG,OAKdb,SAAUgkG,IAAUhxE,KAKpB15B,UAAW0qG,IAAUnjG,QCrFzB,IAAImlG,EAAW,SAAkBjhG,EAAIisD,GACnC,IAAIi1C,OAAU,EAEd,OAAO,WACL,IAAIpsG,EAAQ3C,KACRgvG,EAAa3wG,UAEb4wG,EAAe,WACjB,OAAOphG,EAAG7B,MAAMrJ,EAAOqsG,IAGzBzrG,aAAawrG,GACbA,EAAUvrG,WAAWyrG,EAAcn1C,KAMnCo1C,EAAgB,WAClB,IAAIC,EAAK,WACP,OAA8B,OAArB,EAAI7kG,KAAKmD,UAAsB,GAAGE,SAAS,IAAIsmE,UAAU,IAEpE,OAAOk7B,IAAOA,IAAO,IAAMA,IAAO,IAAMA,IAAO,IAAMA,IAAO,IAAMA,IAAOA,IAAOA,KAGlF,SAASC,EAAWp+D,GAClB,IAAIq+D,EAAU,EAMd,OALAr+D,EAAS/5B,SAAQ,SAAUjT,GACrBA,EAAGu+C,KAAKj6C,OAAS+mG,IACnBA,EAAUrrG,EAAGu+C,KAAKj6C,WAGf+mG,EAGT,SAASC,EAAmBr6F,GAC1B,IAAIstC,EAAOttC,EAAKstC,KACZtlD,EAAOgY,EAAKhY,KAEZulB,GADavN,EAAKs6F,WACPt6F,EAAKuN,UAChBxL,EAAY/B,EAAK+B,UACjBnR,EAAQoP,EAAKpP,MAEjB,GAAa,UAAT5I,EAAkB,OAAO,EAC7B,OAAQ+Z,GACN,IAAK,UACH,OAAOwL,EAAShhB,KAAO,EACzB,IAAK,SACL,QACE,OAAO+gD,EAAK18C,MAAQ2c,EAAShhB,MAAQqE,GAsD3C,SAAS2pG,GAAQC,GACf,IAAIxyG,EAAOwyG,EAAMxyG,KACbuE,EAAOiuG,EAAMjuG,KACbwV,EAAYy4F,EAAMz4F,UAClBurC,EAAOktD,EAAMltD,KACb18C,EAAQ4pG,EAAM5pG,MAEdwO,EAAQ7S,GAAQ,EAEpB,OAAQvE,GACN,IAAK,QACH,OAAQ+Z,GACN,IAAK,UACH,OAAOnR,EACT,IAAK,SACL,QACE,OAAQ08C,EAAK18C,MAEnB,IAAK,SACH,OAAQmR,GACN,IAAK,UACH,OAAOurC,EAAK18C,MAAQA,EAAQ,EAAIA,EAAQ08C,EAAK18C,MAC/C,IAAK,SACL,QACE,OAAO08C,EAAK18C,MAAQA,EAAQA,EAAQ08C,EAAK18C,MAAQ,EAEvD,IAAK,QACL,QACE,OAAQmR,GACN,IAAK,UACH,OAAO,EACT,IAAK,SACL,QACE,OAAOurC,EAAK18C,MAAQwO,EAAQxO,EAAQA,EAAQ08C,EAAK18C,MAAQA,EAAQ08C,EAAK7/B,KAAO6/B,EAAK18C,QAK5F,IAAI6pG,GAAc,SAAWC,GAC3B,IAAI1yG,EAAO0yG,EAAM1yG,KACbmI,EAAQuqG,EAAMvqG,MACdm9C,EAAOotD,EAAMptD,KACb39B,EAAS+qF,EAAM/qF,OACf/e,EAAQ8pG,EAAM9pG,MACdmR,EAAY24F,EAAM34F,UAElBxV,EAlFN,SAAiBouG,GACf,IAAIxqG,EAAQwqG,EAAMxqG,MACdm9C,EAAOqtD,EAAMrtD,KACb39B,EAASgrF,EAAMhrF,OACf/e,EAAQ+pG,EAAM/pG,MACdmR,EAAY44F,EAAM54F,UAEtB,GAAc,IAAV5R,EAAa,OAAOwf,EAExB,GAAsB,iBAAXA,EACT,OAxBJ,SAAuB3P,GACrB,IAAIstC,EAAOttC,EAAKstC,KACZ39B,EAAS3P,EAAK2P,OAGlB,OAFgB3P,EAAK+B,WAGnB,IAAK,UACH,OAAO4N,EAAS29B,EAAK18C,MACvB,IAAK,SACL,QACE,OAAO+e,GAcFirF,CAAc,CAAEttD,KAAMA,EAAM39B,OAAQA,EAAQ5N,UAAWA,IAGhE,OAAQA,GACN,IAAK,UACH,OAAQurC,EAAK18C,MACf,IAAK,SACL,QACE,OAAOA,GAgEAiqG,CAAQ,CAAE1qG,MAAOA,EAAOm9C,KAAMA,EAAM39B,OAAQA,EAAQ/e,MAAOA,EAAOmR,UAAWA,IAExF,MAAO,CACLxV,KAAMA,EACN2/B,GAhEJ,SAAe4uE,GACb,IAAIxtD,EAAOwtD,EAAMxtD,KACb18C,EAAQkqG,EAAMlqG,MAGlB,OAFgBkqG,EAAM/4F,WAGpB,IAAK,UACH,OAAOnR,EACT,IAAK,SACL,QACE,OAAQ08C,EAAK18C,OAmDRmqG,CAAM,CAAEztD,KAAMA,EAAM18C,MAAOA,EAAOmR,UAAWA,IAIpD5F,KAAMo+F,GAAQ,CAAEvyG,KAAMA,EAAMuE,KAAMA,EAAMwV,UAAWA,EAAWurC,KAAMA,EAAM18C,MAAOA,MAIrF,SAASoqG,GAAch7F,GACrB,IAAIzT,EAAOyT,EAAKzT,KACZ+gD,EAAOttC,EAAKstC,KAGhB,OAFgBttC,EAAK+B,WAGnB,IAAK,UAED,OAAOxV,EAEX,IAAK,SACL,QAEI,OAAOA,EAAO+gD,EAAK18C,OAK3B,SAASqqG,GAAej7F,GACtB,IAAI2P,EAAS3P,EAAK2P,OACd29B,EAAOttC,EAAKstC,KACZvrC,EAAY/B,EAAK+B,UACjBnR,EAAQoP,EAAKpP,MAEjB,GAAe,WAAX+e,EACF,OAAQ5N,GACN,IAAK,UACH,OAAQurC,EAAK18C,MACf,IAAK,SACL,QACE,OAAOA,EAGb,GAAsB,iBAAX+e,EAAqB,CAC9B,IAAIurF,EAAiBljC,OAAOroD,EAAOrf,QAAQ,IAAK,KAChD,GAAI4qG,EAAgB,OAAOtqG,EAAQ,IAAMsqG,EAE3C,OAAOvrF,EAGT,IAAIwrF,GAAiB,SAAUvwG,EAAUf,GACvC,KAAMe,aAAoBf,GACxB,MAAM,IAAIgB,UAAU,sCAIpBuwG,GAAc,WAChB,SAAS5xG,EAAiBL,EAAQM,GAChC,IAAK,IAAI5C,EAAI,EAAGA,EAAI4C,EAAMJ,OAAQxC,IAAK,CACrC,IAAI6C,EAAaD,EAAM5C,GACvB6C,EAAWjC,WAAaiC,EAAWjC,aAAc,EACjDiC,EAAWC,cAAe,EACtB,UAAWD,IAAYA,EAAWE,UAAW,GACjDrC,OAAOC,eAAe2B,EAAQO,EAAWtB,IAAKsB,IAIlD,OAAO,SAAUG,EAAaC,EAAYC,GAGxC,OAFID,GAAYN,EAAiBK,EAAYpB,UAAWqB,GACpDC,GAAaP,EAAiBK,EAAaE,GACxCF,GAdO,GAkBd,GAAWtC,OAAO2B,QAAU,SAAUC,GACxC,IAAK,IAAItC,EAAI,EAAGA,EAAIuC,UAAUC,OAAQxC,IAAK,CACzC,IAAIyC,EAASF,UAAUvC,GAEvB,IAAK,IAAIuB,KAAOkB,EACV/B,OAAOkB,UAAUC,eAAe1B,KAAKsC,EAAQlB,KAC/Ce,EAAOf,GAAOkB,EAAOlB,IAK3B,OAAOe,GAGLkyG,GAAW,SAAUtvG,EAAUC,GACjC,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAInB,UAAU,kEAAoEmB,GAG1FD,EAAStD,UAAYlB,OAAOY,OAAO6D,GAAcA,EAAWvD,UAAW,CACrEwD,YAAa,CACXnE,MAAOiE,EACPtE,YAAY,EACZmC,UAAU,EACVD,cAAc,KAGdqC,IAAYzE,OAAO2E,eAAiB3E,OAAO2E,eAAeH,EAAUC,GAAcD,EAASI,UAAYH,IAGzGsvG,GAA4B,SAAUhmG,EAAMtO,GAC9C,IAAKsO,EACH,MAAM,IAAIsQ,eAAe,6DAG3B,OAAO5e,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BsO,EAAPtO,GAGxEu0G,GAAoB,SAAUp9F,GAChC,GAAI7R,MAAM6a,QAAQhJ,GAAM,CACtB,IAAK,IAAItX,EAAI,EAAG8yE,EAAOrtE,MAAM6R,EAAI9U,QAASxC,EAAIsX,EAAI9U,OAAQxC,IAAK8yE,EAAK9yE,GAAKsX,EAAItX,GAE7E,OAAO8yE,EAEP,OAAOrtE,MAAMC,KAAK4R,IAIlB,GAAgB,SAAU4B,GAG5B,SAASy7F,IACP,IAAIx7F,EAEAC,EAAOvS,EAEXytG,GAAepwG,KAAMywG,GAErB,IAAK,IAAIr7F,EAAO/W,UAAUC,OAAQ+W,EAAO9T,MAAM6T,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC3ED,EAAKC,GAAQjX,UAAUiX,GAGzB,OAAeJ,EAASvS,EAAQ4tG,GAA0BvwG,MAAOiV,EAAOw7F,EAAcrvG,WAAa5E,OAAOmE,eAAe8vG,IAAgBx0G,KAAK+P,MAAMiJ,EAAM,CAACjV,MAAM0N,OAAO2H,KAAiB1S,EAAM9B,MAAQ,CACrMiI,SAAUnG,EAAMjE,MAAMoK,SAAS,CAC7B1D,MAAOzC,EAAMjE,MAAM0G,QAErBsrG,KAAM/tG,EAAMjE,MAAMgyG,KAClBluF,SAAU,CAAEhhB,UAAMf,EAAW0gC,QAAI1gC,EAAW2Q,UAAM3Q,GAClDmkB,OAAQjiB,EAAMjE,MAAMkmB,OACpB29B,KAAM,MACL5/C,EAAMqpB,EAAI,EAAGrpB,EAAMguG,UAAW,EAAOhuG,EAAMiuG,eAAgB,EAAOjuG,EAAMkuG,WAAa,IAAM1D,YAAaxqG,EAAMmuG,kBAAoB,WACnInuG,EAAMouG,aAAY,GAClBpuG,EAAMquG,SAAW,IAAIC,iBAAiBtuG,EAAMuuG,YAC5CvuG,EAAMquG,SAASG,QAAQxuG,EAAMkuG,WAAWv7B,QAAS,CAAE87B,eAAe,EAAMC,WAAW,EAAMC,SAAS,KACjG3uG,EAAM4uG,qBAAuB,WAC9B5uG,EAAMquG,SAASQ,cACd7uG,EAAMuuG,WAAa,WACpBvuG,EAAMouG,eACLpuG,EAAMyqG,mBAAqB,SAAUzmG,EAAW8qG,GAC5C9uG,EAAMqpB,GAAKylF,EAAUjvF,SAAShhB,OAASmB,EAAM9B,MAAM2hB,SAAShhB,OAC/DmB,EAAMqpB,EAAIrpB,EAAM9B,MAAM2hB,SAAShhB,KAC/BmB,EAAMkuG,WAAWv7B,QAAQtwE,MAAMskB,UAAY,eAAiB3mB,EAAMqpB,EAAI,aAEpErpB,EAAMqpB,IAAMrpB,EAAM9B,MAAM2hB,SAAShhB,MAAQmF,EAAU+qG,UAAY/uG,EAAMjE,MAAMgzG,UAAY/qG,EAAU+qG,SAAS7rG,QAAUlD,EAAMjE,MAAMgzG,SAAS7rG,QACvIlD,EAAMjE,MAAMkmB,OACdjiB,EAAMqpB,EAAIrpB,EAAMqpB,GAAKrpB,EAAMjE,MAAMkmB,OAASje,EAAUie,QAEpDjiB,EAAMqpB,EAAIrpB,EAAMqpB,GAAKrpB,EAAMjE,MAAMgzG,SAAS7rG,MAAQc,EAAU+qG,SAAS7rG,OAEvElD,EAAMkuG,WAAWv7B,QAAQtwE,MAAMskB,UAAY,eAAiB3mB,EAAMqpB,EAAI,aAEpErpB,EAAMjE,MAAMgyG,OAAS/pG,EAAU0N,OAAS1R,EAAMjE,MAAM2V,OACtD1R,EAAMwE,UAEJxE,EAAMjE,MAAM2V,QAAU1N,EAAU+pG,MAAQ/tG,EAAMjE,MAAMgyG,MACtD/tG,EAAMwE,UAEJR,EAAU+pG,OAAS/tG,EAAMjE,MAAMgyG,OACjC/tG,EAAMguG,UAAW,IAElBhuG,EAAMouG,YAAc,SAAUY,GAC/B,IAAIC,EAAcjvG,EAAMjE,MACpBzB,EAAO20G,EAAY30G,KACnB4I,EAAQ+rG,EAAY/rG,MACpBnB,EAAKktG,EAAYltG,GACjBmtG,EAASD,EAAYC,OACrB76F,EAAY46F,EAAY56F,UACxB5R,EAAQwsG,EAAYxsG,MACpB0sG,EAAUF,EAAYE,QAGtBvvD,EAAO5/C,EAAMkuG,WAAWv7B,QAAQ0Y,wBACpC,GAAmB,IAAfzrC,EAAK18C,MAAT,CAEA,IAAI+e,EAA+B,IAAtBjiB,EAAMjE,MAAM0G,MAAc8qG,GAAe,CAAEtrF,OAAQjiB,EAAMjE,MAAMkmB,OAAQ29B,KAAMA,EAAMvrC,UAAWA,EAAWnR,MAAOA,IAAWlD,EAAMjE,MAAMkmB,OAEhJpC,EAAWktF,GAAY,CAAEzyG,KAAMA,EAAMslD,KAAMA,EAAMn9C,MAAOA,EAAOwf,OAAQA,EAAQ/e,MAAOA,EAAOmR,UAAWA,IAS5G,GAPA86F,EAAQ,CACN1sG,MAAOzC,EAAMjE,MAAM0G,MACnBm9C,KAAMA,EACN39B,OAAQA,EACRmtF,WAAY9B,GAAc,CAAEzuG,KAAMghB,EAAShhB,KAAM+gD,KAAMA,EAAMvrC,UAAWA,MAGtE26F,EAAS,CACX,IAAIK,EAAwB1C,EAAmB,CAAEryG,KAAMA,EAAMslD,KAAMA,EAAM//B,SAAUA,EAAUoC,OAAQA,EAAQ5N,UAAWA,EAAWnR,MAAOA,IACtImsG,GACFH,EAAO,CACLntG,GAAIA,EACJU,MAAOA,EACPm9C,KAAMA,EACNwvD,WAAY9B,GAAc,CAAEzuG,KAAMghB,EAAShhB,KAAM+gD,KAAMA,EAAMvrC,UAAWA,MAGvEg7F,IAA0BptF,GAAoB,IAAVxf,GACvCysG,EAAO,CAAEntG,GAAIA,EAAIU,MAAOA,EAAOm9C,KAAMA,IAEvC5/C,EAAMiuG,cAAgBoB,EAGxBrvG,EAAMM,SAAS,CACbs/C,KAAMA,EACN39B,OAAQA,EACRpC,SAAUA,MAEX7f,EAAMsvG,kBAAoB,WAC3B,OAAItvG,EAAMiuG,gBACuB,WAA1BjuG,EAAMjE,MAAMsY,UAAyBrU,EAAMqpB,GAAKrpB,EAAM9B,MAAM2hB,SAASpR,KAAOzO,EAAMqpB,GAAKrpB,EAAM9B,MAAM2hB,SAASpR,OAClHzO,EAAMuvG,YAAc,WACjBvvG,EAAMsvG,sBAERtvG,EAAMiuG,eAAgB,EACtBjuG,EAAMjE,MAAMmzG,OAAO,CACjBntG,GAAI/B,EAAMjE,MAAMgG,GAChBU,MAAOzC,EAAMjE,MAAM0G,MACnBm9C,KAAM5/C,EAAM9B,MAAM0hD,SAGrB5/C,EAAMwvG,aAAe,WACtB,OAAQxvG,EAAMjE,MAAMsY,WAClB,IAAK,UACH,OAAOrU,EAAMqpB,GAAKrpB,EAAM9B,MAAM2hB,SAAS2e,GACzC,IAAK,SACL,QACE,OAAOx+B,EAAMqpB,GAAKrpB,EAAM9B,MAAM2hB,SAAS2e,KAE1Cx+B,EAAMwE,QAAU,WACjB,IAAIxE,EAAMguG,SAAV,CACAhuG,EAAMguG,UAAW,EAEjB,IAAIyB,EAAgB,KAqBpBt0G,OAAOk6B,uBAnBI,SAASpc,EAAKy2F,GACvB,GAAK1vG,EAAMguG,UACNhuG,EAAMkuG,WAAWv7B,QAAtB,CAEA,IAAIg9B,EAAWF,EAAgBC,EAAYD,EAAgB,EAE3DzvG,EAAMqpB,EAA8B,WAA1BrpB,EAAMjE,MAAMsY,UAAyBrU,EAAMqpB,EAAIsmF,EAAW,IAAM3vG,EAAMjE,MAAMqY,MAAQpU,EAAMqpB,EAAIsmF,EAAW,IAAM3vG,EAAMjE,MAAMqY,MACrIpU,EAAMkuG,WAAWv7B,QAAQtwE,MAAMskB,UAAY,eAAiB3mB,EAAMqpB,EAAI,YACtErpB,EAAMuvG,cAEFvvG,EAAMwvG,gBACRxvG,EAAMguG,UAAW,EACjByB,EAAgB,KAChBzvG,EAAMjE,MAAM6zG,SAAS5vG,EAAMjE,MAAMgG,MAEjC0tG,EAAgBC,EAChBv0G,OAAOk6B,sBAAsBpc,UAIhCjZ,EAAM64D,OAAS,WAChB,OAAO,IAAMj0D,cACX,MACA,CACEnF,UAAW,kBACX4C,MAAO,CACLwtG,WAAY,YACZhwF,SAAU,WACVE,KAAM,EACND,IAAK,EACL6G,UAAW,eAAiB3mB,EAAMqpB,EAAI,aAExC9T,IAAKvV,EAAMkuG,YAEbluG,EAAM9B,MAAMiI,WAELynG,GAA0B5tG,EAAlCuS,GAGL,OAnKAo7F,GAASG,EAAez7F,GAmKjBy7F,EApKW,CAqKlB,IAAMhnG,WAER,GAAcC,UAAY,CACxBZ,SAAU,oBAAU,CAAC,OAAM,SAAOoB,WAClC8M,UAAW,SAAO9M,WAClB6M,MAAO,SAAO7M,WACdxF,GAAI,SAAOwF,WACX9E,MAAO,SAAO8E,WACdjN,KAAM,SAAOiN,WACbwmG,KAAM,OAAKxmG,WACX2nG,OAAQ,OAAK3nG,WACbqoG,SAAU,OAAKroG,WACf4nG,QAAS,OAAK5nG,WACdmK,MAAO,OAAKnK,WAEZ0a,OAAQ,oBAAU,CAAC,SAAQ,WAC3B8sF,SAAU,SACV7rG,MAAO,UAET,GAAcuE,aAAe,CAC3Bwa,YAAQnkB,EACRoF,WAAOpF,EACPixG,SAAU,MAGZ,IAAIe,GAAkB,SAAyB7tF,EAAQ/e,GACrD,MAAO,CACLmrC,SAAU,CAAC,CACTtsC,GAAIwqG,IACJ9pG,MAAO,EACPkD,OAAQ,EACR+L,OAAO,EACPuQ,OAAQA,EACR29B,KAAM,KACNmvD,SAAU,OAEZ7rG,MAAOA,EACPyC,OAAQ,IAIR,GAAS,SAAU0M,GAGrB,SAAS09F,IACP,IAAIz9F,EAEAC,EAAOvS,EAEXytG,GAAepwG,KAAM0yG,GAErB,IAAK,IAAIt9F,EAAO/W,UAAUC,OAAQ+W,EAAO9T,MAAM6T,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC3ED,EAAKC,GAAQjX,UAAUiX,GAGzB,OAAeJ,EAASvS,EAAQ4tG,GAA0BvwG,MAAOiV,EAAOy9F,EAAOtxG,WAAa5E,OAAOmE,eAAe+xG,IAASz2G,KAAK+P,MAAMiJ,EAAM,CAACjV,MAAM0N,OAAO2H,KAAiB1S,EAAMyO,KAAO,KAAMzO,EAAM9B,MAAQ4xG,GAAgB9vG,EAAMjE,MAAMkmB,QAASjiB,EAAMgwG,UAAY,IAAMxF,YAAaxqG,EAAMiwG,UAAY9D,GAAS,WAC/S,OAAOnsG,EAAMkwG,aACZ,KAAMlwG,EAAMmuG,kBAAoB,WACjCnuG,EAAMM,SAAS,CACb4C,MAAOlD,EAAMgwG,UAAUr9B,QAAQj5C,YAC/B/zB,OAAQ3F,EAAMjE,MAAM4J,SAEtBxK,OAAO2I,iBAAiB,SAAU9D,EAAMiwG,YACvCjwG,EAAM4uG,qBAAuB,WAC9BzzG,OAAO4I,oBAAoB,SAAU/D,EAAMiwG,YAC1CjwG,EAAMmvG,QAAU,SAAUlC,GAC3B,IAAIxqG,EAAQwqG,EAAMxqG,MACdm9C,EAAOqtD,EAAMrtD,KAEbwvD,GADSnC,EAAMhrF,OACFgrF,EAAMmC,YAEvBpvG,EAAMM,UAAS,SAAUwuG,GACvB,IAAIzgE,EAAWygE,EAAUzgE,SAASnoC,KAAI,SAAU7E,GAC9C,IAAI8uG,EAAQ9uG,EASZ,OARIA,EAAGoB,QAAUA,IAAO0tG,EAAMvwD,KAAOA,GAEjCv+C,EAAGoB,QAAUA,EAAQ,IACvB0tG,EAAMpB,SAAWnvD,EACbuwD,EAAMluF,SACRkuF,EAAMluF,OAASmtF,IAGZe,KAET,MAAO,CACL9hE,SAAUA,EACV1oC,OAAQ3F,EAAMjE,MAAM4J,OAASmpG,EAAUnpG,OAAS8mG,EAAWp+D,QAG9DruC,EAAMkwG,SAAW,WACblwG,EAAMgwG,UAAUr9B,SAAW3yE,EAAMgwG,UAAUr9B,QAAQj5C,cAAgB15B,EAAM9B,MAAMgF,OACpFlD,EAAMM,SAAS,GAAS,GAAIwvG,GAAgB9vG,EAAMjE,MAAMkmB,OAAQjiB,EAAMgwG,UAAUr9B,QAAQj5C,aAAc,CACpG/zB,OAAQ3F,EAAMjE,MAAM4J,WAErB3F,EAAM4vG,SAAW,SAAU7tG,GAC5B/B,EAAMM,UAAS,SAAUwuG,GACvB,MAAO,CACLzgE,SAAUygE,EAAUzgE,SAAS9nC,QAAO,SAAUlF,GAC5C,OAAOA,EAAGU,KAAOA,UAItB/B,EAAMkvG,OAAS,SAAU9B,GACjBA,EAAMrrG,GAAf,IACIU,EAAQ2qG,EAAM3qG,MACdm9C,EAAOwtD,EAAMxtD,KACbwvD,EAAahC,EAAMgC,WAEvBpvG,EAAMM,UAAS,SAAUwuG,GACvB,MAAO,CACLzgE,SAAU,GAAGtjC,OAAO8iG,GAAkBiB,EAAUzgE,SAASnoC,KAAI,SAAU7E,GACrE,IAAI8uG,EAAQ9uG,EAKZ,OAJIA,EAAGoB,QAAUA,IAAO0tG,EAAMvwD,KAAOA,IACpB,IAAbv+C,EAAGoB,OAAepB,EAAG4gB,QAAUkuF,EAAM1tG,QAAUA,EAAQ,KACzD0tG,EAAMz+F,OAAQ,GAETy+F,MAEJ,CAAC,CACJpuG,GAAIwqG,IACJ9pG,MAAOqsG,EAAUzgE,SAASygE,EAAUzgE,SAAS1yC,OAAS,GAAG8G,MAAQ,EACjEkD,OAAQ,EACR+L,OAAO,EACPuQ,OAAQmtF,EACRxvD,KAAM,KACNmvD,SAAUnvD,UAIPguD,GAA0B5tG,EAAlCuS,GA8CL,OArIAo7F,GAASoC,EAAQ19F,GA0FjBq7F,GAAYqC,EAAQ,CAAC,CACnBr1G,IAAK,SACLN,MAAO,WACL,IAAI+J,EAAS9G,KAEb,OAAO,IAAMuH,cACX,MACA,CACEnF,UAAW,SACX8V,IAAKlY,KAAK2yG,UACV3tG,MAAO,CACLwd,SAAU,WACV1K,SAAU,SACVxP,OAAQtI,KAAKa,MAAMyH,QAAUtI,KAAKa,MAAMyH,OAAS,OAGrDtI,KAAKa,MAAMgF,OAAS7F,KAAKa,MAAMmwC,SAASnoC,KAAI,SAAU7E,GACpD,OAAO,IAAMuD,cACX,GACA,CACElK,IAAK2G,EAAGU,GACRA,GAAIV,EAAGU,GACPU,MAAOpB,EAAGoB,MACViP,MAAOrQ,EAAGqQ,MACVuQ,OAAQ5gB,EAAG4gB,OACX8sF,SAAU1tG,EAAG0tG,SAEb16F,UAAWlQ,EAAOpI,MAAMsY,UACxB/Z,KAAM6J,EAAOpI,MAAMzB,KACnByzG,KAAM5pG,EAAOpI,MAAMgyG,KACnB35F,MAAOjQ,EAAOpI,MAAMqY,MAEpBw7F,SAAUzrG,EAAOyrG,SACjBV,OAAQ/qG,EAAO+qG,OACfC,QAAShrG,EAAOgrG,QAChBjsG,MAAOiB,EAAOjG,MAAMgF,OAEtBiB,EAAOpI,MAAMoK,kBAMhB4pG,EAtII,CAuIX,IAAMjpG,WAER,GAAOC,UAAY,CACjBZ,SAAU,oBAAU,CAAC,OAAM,SAAOoB,WAElC8M,UAAW,SACX/Z,KAAM,SACNyzG,KAAM,OACN9rF,OAAQ,oBAAU,CAAC,SAAQ,WAC3B7N,MAAO,SACPzO,OAAQ,oBAAU,CAAC,SAAQ,YAE7B,GAAO8B,aAAe,CACpBwa,OAAQ,EACR7N,MAAO,EACPC,UAAW,SACX/Z,KAAM,QACNyzG,MAAM,EACNpoG,YAAQ7H,GAGK,U,yzCCpnBMiyG,G,6WAER,WACL,OACI,kBAAC,GAAgB1yG,KAAKtB,OACjB,qBAAE0G,MACC,oCACK,EAAK1G,MAAMoK,kB,gCAPAW,a,qzCAgBpCipG,GAAOhpG,UAAY,CAEfsN,UAAW81F,IAAUhjG,MAAM,CAAC,UAAW,WAEvC7M,KAAM6vG,IAAUhjG,MAAM,CAAC,QAAS,QAAS,WAEzC4mG,KAAM5D,IAAU9iG,KAEhB4a,OAAQkoF,IAAUljG,UAAU,CAACkjG,IAAU3iG,OAAQ2iG,IAAUnjG,SAEzDoN,MAAO+1F,IAAU3iG,OAEjB7B,OAAQwkG,IAAUljG,UAAU,CAACkjG,IAAU3iG,OAAQ2iG,IAAUnjG,SAOzDjF,GAAIooG,IAAUnjG,OAKdb,SAAUgkG,IAAUhxE,KAKpB15B,UAAW0qG,IAAUnjG,Q,IC9CJopG,G,mXAEF,WAEN9tB,EAAOjlF,KAAKtB,MAAZumF,IACE+tB,EAAahzG,KAAKtB,MAAlBs0G,UACP/tB,EAAMA,GAAW,QAAUguB,SAASC,KAAO,MAC3ClzG,KAAKmzG,OAAS,IAAIC,UAAUnuB,EAAK+tB,GAEjChzG,KAAKmzG,OAAOE,OAAS,SAACrtG,GAElB,EAAKtH,MAAMsuG,SAAS,CAChBnsG,MAAO,CAEH80C,WAAYy9D,UAAUE,KACtBC,UAAWvtG,EAAEutG,UACb3wB,UAAW58E,EAAE48E,UAEb/jD,OAAQ74B,EAAE64B,WAItB7+B,KAAKmzG,OAAOK,UAAY,SAACxtG,GAErB,EAAKtH,MAAMsuG,SAAS,CAChByG,QAAS,CACL94E,KAAM30B,EAAE20B,KACR44E,UAAWvtG,EAAEutG,UACb10E,OAAQ74B,EAAE64B,OACV+jD,UAAW58E,EAAE48E,cAIzB5iF,KAAKmzG,OAAO7c,QAAU,SAACtwF,GAEnB,EAAKtH,MAAMsuG,SAAS,CAAC7nG,MAAOyX,KAAKE,UAAU9W,MAE/ChG,KAAKmzG,OAAOO,QAAU,SAAC1tG,GAEnB,EAAKtH,MAAMsuG,SAAS,CAChBnsG,MAAO,CAEH80C,WAAYy9D,UAAUO,OACtBJ,UAAWvtG,EAAEutG,UACb3wB,UAAW58E,EAAE48E,UAEbzuE,KAAMnO,EAAEmO,KACRy/F,OAAQ5tG,EAAE4tG,OACVC,SAAU7tG,EAAE6tG,e,0CAOxB7zG,KAAK8zG,iB,yCAGUntG,GAAW,IACnB8uC,EAAQz1C,KAAKtB,MAAb+2C,KAEHA,GAAQA,IAAS9uC,EAAU8uC,MACvBz1C,KAAKtB,MAAMmC,MAAM80C,aAAey9D,UAAUE,MAC1CtzG,KAAKmzG,OAAO19D,KAAKA,K,6CAQzBz1C,KAAKmzG,OAAOtvG,U,+BAIZ,OAAQ,U,gCA3E2B4F,aAgF3CspG,GAAc3oG,aAAe,CACzBvJ,MAAO,CAAC80C,WAAYy9D,UAAUW,aAGlChB,GAAcrpG,UAAY,CAKtB7I,MAAOisG,IAAUtvG,OAKjBi2G,QAAS3G,IAAUtvG,OAKnB2H,MAAO2nG,IAAUtvG,OAKjBi4C,KAAMq3D,IAAUtvG,OAKhBynF,IAAK6nB,IAAUnjG,OAKfqpG,UAAWlG,IAAU10F,QAAQ00F,IAAUnjG,QAKvCjF,GAAIooG,IAAUnjG,OAMdqjG,SAAUF,IAAU/iG,MC5HxB,IAAIiqG,GAJJ,SAA8BnmG,EAAIhS,GACjC,OAAiCgS,EAA1BhS,EAAS,CAAED,QAAS,IAAiBC,EAAOD,SAAUC,EAAOD,QAGpDq4G,EAAqB,SAAUp4G;;;;;;CAQ/C,WAEA,IAAIq4G,EAAS,GAAGv2G,eAEhB,SAASw2G,IAGR,IAFA,IAAI/e,EAAU,GAELt5F,EAAI,EAAGA,EAAIuC,UAAUC,OAAQxC,IAAK,CAC1C,IAAI8jB,EAAMvhB,UAAUvC,GACpB,GAAK8jB,EAAL,CAEA,IAAIw0F,SAAiBx0F,EAErB,GAAgB,WAAZw0F,GAAoC,WAAZA,EAC3Bhf,EAAQhnF,KAAKwR,QACP,GAAIre,MAAM6a,QAAQwD,GACxBw1E,EAAQhnF,KAAK+lG,EAAWnoG,MAAM,KAAM4T,SAC9B,GAAgB,WAAZw0F,EACV,IAAK,IAAI/2G,KAAOuiB,EACXs0F,EAAOj4G,KAAK2jB,EAAKviB,IAAQuiB,EAAIviB,IAChC+3F,EAAQhnF,KAAK/Q,IAMjB,OAAO+3F,EAAQjsF,KAAK,KAGjBtN,EAAOD,QACVC,EAAOD,QAAUu4G,EAEjBr2G,OAAOq2G,WAAaA,EAhCtB,MAqCI,GAAiB,SAAUt0G,EAAUf,GACvC,KAAMe,aAAoBf,GACxB,MAAM,IAAIgB,UAAU,sCAIpB,GAAc,WAChB,SAASrB,EAAiBL,EAAQM,GAChC,IAAK,IAAI5C,EAAI,EAAGA,EAAI4C,EAAMJ,OAAQxC,IAAK,CACrC,IAAI6C,EAAaD,EAAM5C,GACvB6C,EAAWjC,WAAaiC,EAAWjC,aAAc,EACjDiC,EAAWC,cAAe,EACtB,UAAWD,IAAYA,EAAWE,UAAW,GACjDrC,OAAOC,eAAe2B,EAAQO,EAAWtB,IAAKsB,IAIlD,OAAO,SAAUG,EAAaC,EAAYC,GAGxC,OAFID,GAAYN,EAAiBK,EAAYpB,UAAWqB,GACpDC,GAAaP,EAAiBK,EAAaE,GACxCF,GAdO,GAwBd,GAAWtC,OAAO2B,QAAU,SAAUC,GACxC,IAAK,IAAItC,EAAI,EAAGA,EAAIuC,UAAUC,OAAQxC,IAAK,CACzC,IAAIyC,EAASF,UAAUvC,GAEvB,IAAK,IAAIuB,KAAOkB,EACV/B,OAAOkB,UAAUC,eAAe1B,KAAKsC,EAAQlB,KAC/Ce,EAAOf,GAAOkB,EAAOlB,IAK3B,OAAOe,GAyCL,GAA4B,SAAUmM,EAAMtO,GAC9C,IAAKsO,EACH,MAAM,IAAIsQ,eAAe,6DAG3B,OAAO5e,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BsO,EAAPtO,GAWxE,GAAa,SAAUo4G,GAGzB,SAASC,IACP,IAAIr/F,EAEAC,EAAOvS,EAEX,GAAe3C,KAAMs0G,GAErB,IAAK,IAAIl/F,EAAO/W,UAAUC,OAAQ+W,EAAO9T,MAAM6T,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC3ED,EAAKC,GAAQjX,UAAUiX,GAGzB,OAAeJ,EAASvS,EAAQ,GAA0B3C,MAAOiV,EAAOq/F,EAAWlzG,WAAa5E,OAAOmE,eAAe2zG,IAAar4G,KAAK+P,MAAMiJ,EAAM,CAACjV,MAAM0N,OAAO2H,KAAiB1S,EAAM9B,MAAQ,CAC/L+0C,OAAQ,WACPjzC,EAAM4xG,YAAa,EAAe,GAA0B5xG,EAAlCuS,GAgG/B,OApKa,SAAUlU,EAAUC,GACjC,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAInB,UAAU,kEAAoEmB,GAG1FD,EAAStD,UAAYlB,OAAOY,OAAO6D,GAAcA,EAAWvD,UAAW,CACrEwD,YAAa,CACXnE,MAAOiE,EACPtE,YAAY,EACZmC,UAAU,EACVD,cAAc,KAGdqC,IAAYzE,OAAO2E,eAAiB3E,OAAO2E,eAAeH,EAAUC,GAAcD,EAASI,UAAYH,GAwC3G,CAASqzG,EAAYD,GAkBrB,GAAYC,EAAY,CAAC,CACvBj3G,IAAK,qBACLN,MAAO,WACLiD,KAAKu0G,YAAa,EAClBv0G,KAAKw0G,QAAQx0G,KAAKtB,SAEnB,CACDrB,IAAK,uBACLN,MAAO,WACLiD,KAAKu0G,YAAa,IAEnB,CACDl3G,IAAK,4BACLN,MAAO,SAAmC2B,IACpCsB,KAAKtB,MAAMsQ,MAAQtQ,EAAMsQ,KAAOhP,KAAKtB,MAAM+1G,WAAa/1G,EAAM+1G,UAAkC,UAAtBz0G,KAAKa,MAAM+0C,SACvF51C,KAAKw0G,QAAQ91G,KAGhB,CACDrB,IAAK,SACLN,MAAO,WACL,IAAI6Y,EAAS5V,KAAKtB,MACdsQ,EAAM4G,EAAO5G,IACbylG,EAAW7+F,EAAO6+F,SAClBC,EAAc9+F,EAAO8+F,YACrBC,EAAS/+F,EAAO++F,OAChBC,EAAqBh/F,EAAOg/F,mBAC5BC,EAAmBj/F,EAAOi/F,iBAC1BC,EAAiBl/F,EAAOk/F,eACxBhsG,EAAW8M,EAAO9M,SAClB9D,EAAQ4Q,EAAO5Q,MACf+vG,EA9EoB,SAAU71G,EAAKqO,GAC3C,IAAInP,EAAS,GAEb,IAAK,IAAItC,KAAKoD,EACRqO,EAAK6G,QAAQtY,IAAM,GAClBU,OAAOkB,UAAUC,eAAe1B,KAAKiD,EAAKpD,KAC/CsC,EAAOtC,GAAKoD,EAAIpD,IAGlB,OAAOsC,EAqEQ42G,CAAwBp/F,EAAQ,CAAC,MAAO,WAAY,cAAe,SAAU,qBAAsB,mBAAoB,iBAAkB,WAAY,UAC5JggC,EAAS51C,KAAKa,MAAM+0C,OAGpBq/D,EAAgB,GAChBC,EAAmC,YAAXt/D,GAAwB8+D,EAEhDzvB,EAAMj2E,GAAOylG,EAMjB,GAJIA,IAAwB,UAAX7+D,GAAsBs/D,KACrCjwB,EAAMwvB,GAGJxvB,EAAK,CACP,IAAIkwB,EAAkB,OAASlwB,EAAM,IACrCgwB,EAAcE,gBAAkBA,EAChCF,EAAcL,mBAAqBA,EACnCK,EAAcJ,iBAAmBA,EACjCI,EAAcH,eAAiBA,EAGjC,IAAIM,EAAY54G,OAAO2B,OAAO82G,EAAejwG,GAE7C,OAAO,IAAMuC,cACX,MACA,GAAS,CACPvC,MAAOowG,GACNL,GACHjsG,EACAosG,GAAyBP,KAG5B,CACDt3G,IAAK,UACLN,MAAO,SAAiB2B,GACtB,IAAIoI,EAAS9G,KAETgP,EAAMtQ,EAAMsQ,IAGhB,GAAKA,EAEE,CACL,IAAIilC,EAAM,IAAIiyB,MAEdjyB,EAAIuiD,OAAS,WACP1vF,EAAOytG,YACTztG,EAAO7D,SAAS,CAAE2yC,OAAQ,aAI9B3B,EAAIqiD,QAAUriD,EAAIohE,QAAU,SAAUpvG,GAChCa,EAAOytG,YACTztG,EAAO7D,SAAS,CAAE2yC,OAAQ,WAI9B51C,KAAKiD,SAAS,CAAE2yC,OAAQ,YACxB3B,EAAIjlC,IAAMA,OAjBVhP,KAAKiD,SAAS,CAAE2yC,OAAQ,cAqBvB0+D,EAhHQ,CAiHf,iBAEF,GAAW5qG,UAAY,CAErBsF,IAAK,IAAUrF,OAGf8qG,SAAU,IAAU9qG,OAGpBb,SAAU,IAAUgzB,KAGpB44E,YAAa,IAAU1qG,KAGvB2qG,OAAQ,IAAU74E,KAGlBg5E,eAAgB,IAAUnrG,OAG1BirG,mBAAoB,IAAUjrG,OAG9BkrG,iBAAkB,IAAUlrG,OAG5B3E,MAAO,IAAUxH,QAEnB,GAAW4M,aAAe,CACxBsqG,aAAa,EACbE,mBAAoB,gBACpBC,iBAAkB,YAClBC,eAAgB,SA8BlB,IACIp1G,GAAwB,0BAAxBA,GAA8D,wBAA9DA,GAAkG,wBAAlGA,GAAqI,uBAArIA,GAAsK,sBAAtKA,GAA6M,6BAA7MA,GAAqP,wBA5BzP,SAAqBytF,EAAKj1E,QACX,IAARA,IAAiBA,EAAM,IAC5B,IAAIo9F,EAAWp9F,EAAIo9F,SAEnB,GAAKnoB,GAA2B,oBAAb1rF,SAAnB,CAEA,IAAI8zG,EAAO9zG,SAAS8zG,MAAQ9zG,SAAS8mE,qBAAqB,QAAQ,GAC9DvjE,EAAQvD,SAAS8F,cAAc,SACnCvC,EAAM8F,KAAO,WAEI,QAAbwqG,GACEC,EAAK1oB,WACP0oB,EAAK5sD,aAAa3jD,EAAOuwG,EAAK1oB,YAKhC0oB,EAAKxmG,YAAY/J,GAGfA,EAAMwwG,WACRxwG,EAAMwwG,WAAWjf,QAAUpJ,EAE3BnoF,EAAM+J,YAAYtN,SAAS0jF,eAAegI,KAM9CsoB,CAFU,2oBAIV,IAAIC,GAAmB,SAAU71G,EAAUf,GACzC,KAAMe,aAAoBf,GACxB,MAAM,IAAIgB,UAAU,sCAIpB61G,GAAgB,WAClB,SAASl3G,EAAiBL,EAAQM,GAChC,IAAK,IAAI5C,EAAI,EAAGA,EAAI4C,EAAMJ,OAAQxC,IAAK,CACrC,IAAI6C,EAAaD,EAAM5C,GACvB6C,EAAWjC,WAAaiC,EAAWjC,aAAc,EACjDiC,EAAWC,cAAe,EACtB,UAAWD,IAAYA,EAAWE,UAAW,GACjDrC,OAAOC,eAAe2B,EAAQO,EAAWtB,IAAKsB,IAIlD,OAAO,SAAUG,EAAaC,EAAYC,GAGxC,OAFID,GAAYN,EAAiBK,EAAYpB,UAAWqB,GACpDC,GAAaP,EAAiBK,EAAaE,GACxCF,GAdS,GAkBhB82G,GAAap5G,OAAO2B,QAAU,SAAUC,GAC1C,IAAK,IAAItC,EAAI,EAAGA,EAAIuC,UAAUC,OAAQxC,IAAK,CACzC,IAAIyC,EAASF,UAAUvC,GAEvB,IAAK,IAAIuB,KAAOkB,EACV/B,OAAOkB,UAAUC,eAAe1B,KAAKsC,EAAQlB,KAC/Ce,EAAOf,GAAOkB,EAAOlB,IAK3B,OAAOe,GA+BLy3G,GAA8B,SAAUtrG,EAAMtO,GAChD,IAAKsO,EACH,MAAM,IAAIsQ,eAAe,6DAG3B,OAAO5e,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BsO,EAAPtO,GAOxE,GAAoB,SAAU2D,GAGhC,SAASk2G,IACP,IAAI7gG,EAEAC,EAAOvS,EAEX+yG,GAAiB11G,KAAM81G,GAEvB,IAAK,IAAI1gG,EAAO/W,UAAUC,OAAQ+W,EAAO9T,MAAM6T,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC3ED,EAAKC,GAAQjX,UAAUiX,GAGzB,OAAeJ,EAASvS,EAAQkzG,GAA4B71G,MAAOiV,EAAO6gG,EAAkB10G,WAAa5E,OAAOmE,eAAem1G,IAAoB75G,KAAK+P,MAAMiJ,EAAM,CAACjV,MAAM0N,OAAO2H,KAAiB1S,EAAM9B,MAAQ,CAC/MyxG,SAAU3vG,EAAMjE,MAAMq3G,iBACrBpzG,EAAMqzG,YAAc,SAAU99F,GAC/BvV,EAAMszG,SAAW/9F,GAChBvV,EAAMuzG,eAAiB,SAAUjwG,GAClCA,EAAMo9F,iBACN,IAAI8S,EAAUlwG,EAAMmwG,YAAYD,QAEhC,IAAKA,EAAS,CACZ,IAAI5zD,EAAOt8C,EAAM7H,OAAO4vF,wBACxBmoB,EAAUlwG,EAAM29F,cAAc,GAAGyS,MAAQ9zD,EAAK7/B,KAEhD,IAAI7c,EAAQlD,EAAMjE,MAAMmH,MAEpBysG,EAAWhoG,KAAK6P,IAAI,EAAG7P,KAAK4P,IAAI,GAAIi8F,EAAUtwG,EAAQ,IAAMA,IAChElD,EAAMM,SAAS,CAAEqvG,SAAUA,KAC1B3vG,EAAM2zG,eAAiB,SAAUrwG,GAClCA,EAAMo9F,iBACN,IAAI8S,EAAUlwG,EAAMmwG,YAAYD,QAEhC,IAAKA,EAAS,CACZ,IAAI5zD,EAAOt8C,EAAM7H,OAAO4vF,wBACxBmoB,EAAUlwG,EAAM29F,cAAc,GAAGyS,MAAQ9zD,EAAK7/B,KAEhD,IAAI7c,EAAQlD,EAAMjE,MAAMmH,MAEpBysG,EAAWhoG,KAAK6P,IAAI,EAAG7P,KAAK4P,IAAI,EAAGi8F,EAAUtwG,IACjDlD,EAAMM,SAAS,CAAEqvG,SAAUA,KAClBuD,GAA4BlzG,EAApCuS,GAoEL,OAtJe,SAAUlU,EAAUC,GACnC,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAInB,UAAU,kEAAoEmB,GAG1FD,EAAStD,UAAYlB,OAAOY,OAAO6D,GAAcA,EAAWvD,UAAW,CACrEwD,YAAa,CACXnE,MAAOiE,EACPtE,YAAY,EACZmC,UAAU,EACVD,cAAc,KAGdqC,IAAYzE,OAAO2E,eAAiB3E,OAAO2E,eAAeH,EAAUC,GAAcD,EAASI,UAAYH,GA4B3Gs1G,CAAWT,EAAmBl2G,GA4C9B+1G,GAAcG,EAAmB,CAAC,CAChCz4G,IAAK,SACLN,MAAO,WACL,IAAI6Y,EAAS5V,KAAKtB,MACd6oF,EAAS3xE,EAAO2xE,OAChBC,EAAQ5xE,EAAO4xE,MACfplF,EAAYwT,EAAOxT,UAEnBo0G,GADkB5gG,EAAOmgG,gBACPngG,EAAO4gG,iBACzBC,EAAiB7gG,EAAO6gG,eACxBC,EAAc9gG,EAAO8gG,YACrBC,EAAa/gG,EAAO+gG,WACpB9wG,EAAQ+P,EAAO/P,MACfyC,EAASsN,EAAOtN,OAChBysG,EAnFsB,SAAU71G,EAAKqO,GAC7C,IAAInP,EAAS,GAEb,IAAK,IAAItC,KAAKoD,EACRqO,EAAK6G,QAAQtY,IAAM,GAClBU,OAAOkB,UAAUC,eAAe1B,KAAKiD,EAAKpD,KAC/CsC,EAAOtC,GAAKoD,EAAIpD,IAGlB,OAAOsC,EA0EQw4G,CAA0BhhG,EAAQ,CAAC,SAAU,QAAS,YAAa,kBAAmB,kBAAmB,iBAAkB,cAAe,aAAc,QAAS,WACxK08F,EAAWtyG,KAAKa,MAAMyxG,SAG1B,OAAO,IAAM/qG,cACX,MACAquG,GAAW,CACTxzG,UAAW4xG,GAAWt0G,GAAkB0C,GACxC4C,MAAO,CACLa,MAAOA,EACPyC,OAAQA,IAETysG,GACH,IAAMxtG,cACJ,MACA,CACEnF,UAAW1C,GACXsF,MAAO,CACLa,MAAO,IAAMysG,EAAW,MAG5B,IAAM/qG,cAAc,GAAYquG,GAAW,CACzC5mG,IAAKw4E,EACLplF,UAAW4xG,GAAWt0G,GAAc+2G,GACpCzxG,MAAO,CAAEa,MAAOA,IACf8wG,KAEL,IAAMpvG,cAAc,GAAYquG,GAAW,CACzC5mG,IAAKu4E,EACLnlF,UAAW4xG,GAAWt0G,GAAe82G,IACpCE,IACH,IAAMnvG,cAAc,MAAO,CACzBnF,UAAW1C,GACXsF,MAAO,CACL0d,KAAM,IAAM4vF,EAAW,OAG3B,IAAM/qG,cAAc,MAAO,CACzBnF,UAAW1C,GACXwY,IAAKlY,KAAKg2G,YACVa,YAAa72G,KAAKk2G,eAClBY,YAAa92G,KAAKk2G,iBAEpB,IAAM3uG,cAAc,MAAO,CACzBnF,UAAW1C,GACXm3G,YAAa72G,KAAKs2G,eAClBQ,YAAa92G,KAAKs2G,sBAKnBR,EA9Ge,CA+GtB,aAEF,GAAkBpsG,UAAY,CAC5B69E,OAAQ,IAAU59E,OAAOO,WACzBs9E,MAAO,IAAU79E,OAAOO,WACxBrE,MAAO,IAAUsE,OAAOD,WACxB5B,OAAQ,IAAU6B,OAAOD,WACzB6rG,gBAAiB,IAAU5rG,OAC3B/H,UAAW,IAAUuH,OACrB6sG,gBAAiB,IAAU7sG,OAC3B8sG,eAAgB,IAAU9sG,OAC1B+sG,YAAa,IAAUl5G,OACvBm5G,WAAY,IAAUn5G,QAExB,GAAkB4M,aAAe,CAC/B2rG,gBAAiB,GACjBW,YAAa,GACbC,WAAY,IAGC,U,yzCCrhBMI,G,6WAGb,OACI,kBAAC,GAAsB/2G,KAAKtB,Y,gCAJC+K,aAUzCstG,GAAYrtG,UAAY,CAEpB69E,OAAQulB,IAAUnjG,OAElB69E,MAAOslB,IAAUnjG,OAEjB9D,MAAOinG,IAAU3iG,OAEjB7B,OAAQwkG,IAAU3iG,OAElB4rG,gBAAiBjJ,IAAU3iG,OAE3BqsG,gBAAiB1J,IAAUnjG,OAE3B8sG,eAAgB3J,IAAUnjG,OAE1B+sG,YAAa5J,IAAUtvG,OAEvBm5G,WAAY7J,IAAUtvG,OAOtBkH,GAAIooG,IAAUnjG,OAKdb,SAAUgkG,IAAUhxE,KAKpB15B,UAAW0qG,IAAUnjG,QCpDzB","file":"dash_extensions.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 115);\n","(function() { module.exports = window[\"PropTypes\"]; }());","(function() { module.exports = window[\"React\"]; }());","var core = module.exports = { version: '2.6.11' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x3, _x4, _x5) { var _again = true; _function: while (_again) { var object = _x3, property = _x4, receiver = _x5; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x3 = parent; _x4 = property; _x5 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _baseStyles = require('./baseStyles');\n\nvar _baseStyles2 = _interopRequireDefault(_baseStyles);\n\nvar _BurgerIcon = require('./BurgerIcon');\n\nvar _BurgerIcon2 = _interopRequireDefault(_BurgerIcon);\n\nvar _CrossIcon = require('./CrossIcon');\n\nvar _CrossIcon2 = _interopRequireDefault(_CrossIcon);\n\nexports['default'] = function (styles) {\n  var Menu = (function (_Component) {\n    _inherits(Menu, _Component);\n\n    function Menu(props) {\n      _classCallCheck(this, Menu);\n\n      _get(Object.getPrototypeOf(Menu.prototype), 'constructor', this).call(this, props);\n      this.state = {\n        isOpen: false\n      };\n\n      if (!styles) {\n        throw new Error('No styles supplied');\n      }\n    }\n\n    _createClass(Menu, [{\n      key: 'focusOnFirstMenuItem',\n      value: function focusOnFirstMenuItem() {\n        var firstItem = Array.from(document.getElementsByClassName('bm-item')).shift();\n        if (firstItem) {\n          firstItem.focus();\n        }\n      }\n    }, {\n      key: 'focusOnLastMenuItem',\n      value: function focusOnLastMenuItem() {\n        var lastItem = Array.from(document.getElementsByClassName('bm-item')).pop();\n        if (lastItem) {\n          lastItem.focus();\n        }\n      }\n    }, {\n      key: 'focusOnCrossButton',\n      value: function focusOnCrossButton() {\n        var crossButton = document.getElementById('react-burger-cross-btn');\n        if (crossButton) {\n          crossButton.focus();\n        }\n      }\n    }, {\n      key: 'focusOnMenuButton',\n      value: function focusOnMenuButton() {\n        var menuButton = document.getElementById('react-burger-menu-btn');\n        if (menuButton) {\n          menuButton.focus();\n        }\n      }\n    }, {\n      key: 'focusOnMenuItem',\n      value: function focusOnMenuItem(siblingType) {\n        if (document.activeElement.className.includes('bm-item')) {\n          var sibling = document.activeElement[siblingType];\n          if (sibling) {\n            sibling.focus();\n          } else {\n            this.focusOnCrossButton();\n          }\n        } else {\n          if (siblingType === 'previousElementSibling') {\n            this.focusOnLastMenuItem();\n          } else {\n            this.focusOnFirstMenuItem();\n          }\n        }\n      }\n    }, {\n      key: 'focusOnNextMenuItem',\n      value: function focusOnNextMenuItem() {\n        this.focusOnMenuItem('nextElementSibling');\n      }\n    }, {\n      key: 'focusOnPreviousMenuItem',\n      value: function focusOnPreviousMenuItem() {\n        this.focusOnMenuItem('previousElementSibling');\n      }\n    }, {\n      key: 'toggleMenu',\n      value: function toggleMenu() {\n        var _this = this;\n\n        var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n        var isOpen = options.isOpen;\n        var noStateChange = options.noStateChange;\n        var focusOnLastItem = options.focusOnLastItem;\n\n        var newState = {\n          isOpen: typeof isOpen !== 'undefined' ? isOpen : !this.state.isOpen\n        };\n\n        this.applyWrapperStyles();\n\n        this.setState(newState, function () {\n          !noStateChange && _this.props.onStateChange(newState);\n\n          if (!_this.props.disableAutoFocus) {\n            // For accessibility reasons, ensures that when we toggle open,\n            // we focus the first or last menu item according to given parameter.\n            if (newState.isOpen) {\n              focusOnLastItem ? _this.focusOnLastMenuItem() : _this.focusOnFirstMenuItem();\n            } else {\n              if (document.activeElement) {\n                document.activeElement.blur();\n              } else {\n                document.body.blur(); // Needed for IE\n              }\n            }\n          }\n\n          // Timeout ensures wrappers are cleared after animation finishes.\n          _this.timeoutId && clearTimeout(_this.timeoutId);\n          _this.timeoutId = setTimeout(function () {\n            _this.timeoutId = null;\n            if (!newState.isOpen) {\n              _this.applyWrapperStyles(false);\n            }\n          }, 500);\n        });\n      }\n    }, {\n      key: 'open',\n      value: function open() {\n        if (typeof this.props.onOpen === 'function') {\n          this.props.onOpen();\n        } else {\n          this.toggleMenu();\n        }\n      }\n    }, {\n      key: 'close',\n      value: function close() {\n        if (typeof this.props.onClose === 'function') {\n          this.props.onClose();\n        } else {\n          this.toggleMenu();\n        }\n      }\n    }, {\n      key: 'overlayClick',\n      value: function overlayClick() {\n        if (this.props.disableOverlayClick === true || typeof this.props.disableOverlayClick === 'function' && this.props.disableOverlayClick()) {\n          return;\n        } else {\n          this.close();\n        }\n      }\n\n      // Applies component-specific styles to external wrapper elements.\n    }, {\n      key: 'applyWrapperStyles',\n      value: function applyWrapperStyles() {\n        var set = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\n        var applyClass = function applyClass(el, className) {\n          return el.classList[set ? 'add' : 'remove'](className);\n        };\n\n        if (this.props.htmlClassName) {\n          applyClass(document.querySelector('html'), this.props.htmlClassName);\n        }\n        if (this.props.bodyClassName) {\n          applyClass(document.querySelector('body'), this.props.bodyClassName);\n        }\n\n        if (styles.pageWrap && this.props.pageWrapId) {\n          this.handleExternalWrapper(this.props.pageWrapId, styles.pageWrap, set);\n        }\n\n        if (styles.outerContainer && this.props.outerContainerId) {\n          this.handleExternalWrapper(this.props.outerContainerId, styles.outerContainer, set);\n        }\n      }\n\n      // Sets or unsets styles on DOM elements outside the menu component.\n      // This is necessary for correct page interaction with some of the menus.\n      // Throws and returns if the required external elements don't exist,\n      // which means any external page animations won't be applied.\n    }, {\n      key: 'handleExternalWrapper',\n      value: function handleExternalWrapper(id, wrapperStyles, set) {\n        var wrapper = document.getElementById(id);\n\n        if (!wrapper) {\n          console.error(\"Element with ID '\" + id + \"' not found\");\n          return;\n        }\n\n        var builtStyles = this.getStyle(wrapperStyles);\n\n        for (var prop in builtStyles) {\n          if (builtStyles.hasOwnProperty(prop)) {\n            wrapper.style[prop] = set ? builtStyles[prop] : '';\n          }\n        }\n\n        // Prevent any horizontal scroll.\n        // Only set overflow-x as an inline style if htmlClassName or\n        // bodyClassName is not passed in. Otherwise, it is up to the caller to\n        // decide if they want to set the overflow style in CSS using the custom\n        // class names.\n        var applyOverflow = function applyOverflow(el) {\n          return el.style['overflow-x'] = set ? 'hidden' : '';\n        };\n        if (!this.props.htmlClassName) {\n          applyOverflow(document.querySelector('html'));\n        }\n        if (!this.props.bodyClassName) {\n          applyOverflow(document.querySelector('body'));\n        }\n      }\n\n      // Builds styles incrementally for a given element.\n    }, {\n      key: 'getStyles',\n      value: function getStyles(el, index, inline) {\n        var propName = 'bm' + el.replace(el.charAt(0), el.charAt(0).toUpperCase());\n\n        // Set base styles.\n        var output = _baseStyles2['default'][el] ? this.getStyle(_baseStyles2['default'][el]) : {};\n\n        // Add animation-specific styles.\n        if (styles[el]) {\n          output = _extends({}, output, this.getStyle(styles[el], index + 1));\n        }\n\n        // Add custom styles.\n        if (this.props.styles[propName]) {\n          output = _extends({}, output, this.props.styles[propName]);\n        }\n\n        // Add element inline styles.\n        if (inline) {\n          output = _extends({}, output, inline);\n        }\n\n        // Remove transition if required\n        // (useful if rendering open initially).\n        if (this.props.noTransition) {\n          delete output.transition;\n        }\n\n        return output;\n      }\n    }, {\n      key: 'getStyle',\n      value: function getStyle(style, index) {\n        var width = this.props.width;\n\n        var formattedWidth = typeof width !== 'string' ? width + 'px' : width;\n        return style(this.state.isOpen, formattedWidth, this.props.right, index);\n      }\n    }, {\n      key: 'listenForKeyDowns',\n      value: function listenForKeyDowns(e) {\n        e = e || window.event;\n\n        var ARROW_DOWN = 'ArrowDown';\n        var ARROW_UP = 'ArrowUp';\n        var ENTER = 'Enter';\n        var ESCAPE = 'Escape';\n        var SPACE = ' ';\n        var HOME = 'Home';\n        var END = 'End';\n\n        if (this.state.isOpen) {\n          switch (e.key) {\n            case ESCAPE:\n              // Close on ESC, unless disabled\n              if (!this.props.disableCloseOnEsc) {\n                this.close();\n                this.focusOnMenuButton();\n              }\n              break;\n            case ARROW_DOWN:\n              this.focusOnNextMenuItem();\n              break;\n            case ARROW_UP:\n              this.focusOnPreviousMenuItem();\n              break;\n            case HOME:\n              this.focusOnFirstMenuItem();\n              break;\n            case END:\n              this.focusOnLastMenuItem();\n              break;\n          }\n        } else {\n          // Key downs came from menu button\n          if (e.target === document.getElementById('react-burger-menu-btn')) {\n            switch (e.key) {\n              case ARROW_DOWN:\n              case ENTER:\n              case SPACE:\n                // If down arrow, space or enter, open menu and focus on first menuitem\n                this.toggleMenu();\n                break;\n              case ARROW_UP:\n                // If arrow up, open menu and focus on last menuitem\n                this.toggleMenu({ focusOnLastItem: true });\n                break;\n            }\n          }\n        }\n      }\n    }, {\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        this.onKeyDown = this.props.customOnKeyDown ? this.props.customOnKeyDown : this.listenForKeyDowns.bind(this);\n\n        // Bind keydown handlers (or custom function if supplied).\n        window.addEventListener('keydown', this.onKeyDown);\n\n        // Allow initial open state to be set by props.\n        if (this.props.isOpen) {\n          this.toggleMenu({ isOpen: true, noStateChange: true });\n        }\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        window.removeEventListener('keydown', this.onKeyDown);\n\n        this.applyWrapperStyles(false);\n\n        // Avoid potentially attempting to update an unmounted component.\n        this.timeoutId && clearTimeout(this.timeoutId);\n      }\n    }, {\n      key: 'componentDidUpdate',\n      value: function componentDidUpdate(prevProps) {\n        var _this2 = this;\n\n        var wasToggled = typeof this.props.isOpen !== 'undefined' && this.props.isOpen !== this.state.isOpen && this.props.isOpen !== prevProps.isOpen;\n        if (wasToggled) {\n          this.toggleMenu();\n          // Toggling changes SVG animation requirements, so we defer these until the next componentDidUpdate\n          return;\n        }\n\n        if (styles.svg) {\n          (function () {\n            var morphShape = _reactDom2['default'].findDOMNode(_this2, 'bm-morph-shape');\n            var path = styles.svg.lib(morphShape).select('path');\n\n            if (_this2.state.isOpen) {\n              // Animate SVG path.\n              styles.svg.animate(path);\n            } else {\n              // Reset path (timeout ensures animation happens off screen).\n              setTimeout(function () {\n                path.attr('d', styles.svg.pathInitial);\n              }, 300);\n            }\n          })();\n        }\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _this3 = this;\n\n        return _react2['default'].createElement(\n          'div',\n          null,\n          !this.props.noOverlay && _react2['default'].createElement('div', {\n            className: ('bm-overlay ' + this.props.overlayClassName).trim(),\n            onClick: function () {\n              return _this3.overlayClick();\n            },\n            style: this.getStyles('overlay')\n          }),\n          this.props.customBurgerIcon !== false && _react2['default'].createElement(\n            'div',\n            { style: this.getStyles('burgerIcon') },\n            _react2['default'].createElement(_BurgerIcon2['default'], {\n              onClick: function () {\n                return _this3.open();\n              },\n              styles: this.props.styles,\n              customIcon: this.props.customBurgerIcon,\n              className: this.props.burgerButtonClassName,\n              barClassName: this.props.burgerBarClassName,\n              onIconStateChange: this.props.onIconStateChange\n            })\n          ),\n          _react2['default'].createElement(\n            'div',\n            {\n              id: this.props.id,\n              className: ('bm-menu-wrap ' + this.props.className).trim(),\n              style: this.getStyles('menuWrap'),\n              'aria-hidden': !this.state.isOpen\n            },\n            styles.svg && _react2['default'].createElement(\n              'div',\n              {\n                className: ('bm-morph-shape ' + this.props.morphShapeClassName).trim(),\n                style: this.getStyles('morphShape')\n              },\n              _react2['default'].createElement(\n                'svg',\n                {\n                  width: '100%',\n                  height: '100%',\n                  viewBox: '0 0 100 800',\n                  preserveAspectRatio: 'none'\n                },\n                _react2['default'].createElement('path', { d: styles.svg.pathInitial })\n              )\n            ),\n            _react2['default'].createElement(\n              'div',\n              {\n                className: ('bm-menu ' + this.props.menuClassName).trim(),\n                style: this.getStyles('menu')\n              },\n              _react2['default'].createElement(this.props.itemListElement, {\n                className: ('bm-item-list ' + this.props.itemListClassName).trim(),\n                style: this.getStyles('itemList')\n              }, _react2['default'].Children.map(this.props.children, function (item, index) {\n                if (item) {\n                  var classList = ['bm-item', _this3.props.itemClassName, item.props.className].filter(function (className) {\n                    return !!className;\n                  }).join(' ');\n                  var extraProps = {\n                    key: index,\n                    className: classList,\n                    style: _this3.getStyles('item', index, item.props.style),\n                    tabIndex: -1\n                  };\n                  return _react2['default'].cloneElement(item, extraProps);\n                }\n              }))\n            ),\n            this.props.customCrossIcon !== false && _react2['default'].createElement(\n              'div',\n              { style: this.getStyles('closeButton') },\n              _react2['default'].createElement(_CrossIcon2['default'], {\n                onClick: function () {\n                  return _this3.close();\n                },\n                styles: this.props.styles,\n                customIcon: this.props.customCrossIcon,\n                className: this.props.crossButtonClassName,\n                crossClassName: this.props.crossClassName\n              })\n            )\n          )\n        );\n      }\n    }]);\n\n    return Menu;\n  })(_react.Component);\n\n  Menu.propTypes = {\n    bodyClassName: _propTypes2['default'].string,\n    burgerBarClassName: _propTypes2['default'].string,\n    burgerButtonClassName: _propTypes2['default'].string,\n    className: _propTypes2['default'].string,\n    crossButtonClassName: _propTypes2['default'].string,\n    crossClassName: _propTypes2['default'].string,\n    customBurgerIcon: _propTypes2['default'].oneOfType([_propTypes2['default'].element, _propTypes2['default'].oneOf([false])]),\n    customCrossIcon: _propTypes2['default'].oneOfType([_propTypes2['default'].element, _propTypes2['default'].oneOf([false])]),\n    customOnKeyDown: _propTypes2['default'].func,\n    disableAutoFocus: _propTypes2['default'].bool,\n    disableCloseOnEsc: _propTypes2['default'].bool,\n    disableOverlayClick: _propTypes2['default'].oneOfType([_propTypes2['default'].bool, _propTypes2['default'].func]),\n    htmlClassName: _propTypes2['default'].string,\n    id: _propTypes2['default'].string,\n    isOpen: _propTypes2['default'].bool,\n    itemClassName: _propTypes2['default'].string,\n    itemListClassName: _propTypes2['default'].string,\n    itemListElement: _propTypes2['default'].oneOf(['div', 'nav']),\n    menuClassName: _propTypes2['default'].string,\n    morphShapeClassName: _propTypes2['default'].string,\n    noOverlay: _propTypes2['default'].bool,\n    noTransition: _propTypes2['default'].bool,\n    onClose: _propTypes2['default'].func,\n    onIconHoverChange: _propTypes2['default'].func,\n    onOpen: _propTypes2['default'].func,\n    onStateChange: _propTypes2['default'].func,\n    outerContainerId: styles && styles.outerContainer ? _propTypes2['default'].string.isRequired : _propTypes2['default'].string,\n    overlayClassName: _propTypes2['default'].string,\n    pageWrapId: styles && styles.pageWrap ? _propTypes2['default'].string.isRequired : _propTypes2['default'].string,\n    right: _propTypes2['default'].bool,\n    styles: _propTypes2['default'].object,\n    width: _propTypes2['default'].oneOfType([_propTypes2['default'].number, _propTypes2['default'].string])\n  };\n\n  Menu.defaultProps = {\n    bodyClassName: '',\n    burgerBarClassName: '',\n    burgerButtonClassName: '',\n    className: '',\n    crossButtonClassName: '',\n    crossClassName: '',\n    disableAutoFocus: false,\n    disableCloseOnEsc: false,\n    htmlClassName: '',\n    id: '',\n    itemClassName: '',\n    itemListClassName: '',\n    menuClassName: '',\n    morphShapeClassName: '',\n    noOverlay: false,\n    noTransition: false,\n    onStateChange: function onStateChange() {},\n    outerContainerId: '',\n    overlayClassName: '',\n    pageWrapId: '',\n    styles: {},\n    width: 300,\n    onIconHoverChange: function onIconHoverChange() {},\n    itemListElement: 'nav'\n  };\n\n  return Menu;\n};\n\nmodule.exports = exports['default'];","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","module.exports = true;\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","exports.f = {}.propertyIsEnumerable;\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: ' 2019 Denis Pushkarev (zloirock.ru)'\n});\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","exports.f = Object.getOwnPropertySymbols;\n","module.exports = {};\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","exports.f = require('./_wks');\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","module.exports = require('./_hide');\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nexports['default'] = function () {\n  var Snap = undefined;\n  try {\n    Snap = require('snapsvg-cjs');\n  } finally {\n    return Snap;\n  }\n};\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar pxToNum = function pxToNum(val) {\n  return parseInt(val.slice(0, -2), 10);\n};\nexports.pxToNum = pxToNum;","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lottieWeb = require('lottie-web');\n\nvar _lottieWeb2 = _interopRequireDefault(_lottieWeb);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Lottie = function (_React$Component) {\n  (0, _inherits3.default)(Lottie, _React$Component);\n\n  function Lottie() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, Lottie);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Lottie.__proto__ || (0, _getPrototypeOf2.default)(Lottie)).call.apply(_ref, [this].concat(args))), _this), _this.handleClickToPause = function () {\n      // The pause() method is for handling pausing by passing a prop isPaused\n      // This method is for handling the ability to pause by clicking on the animation\n      if (_this.anim.isPaused) {\n        _this.anim.play();\n      } else {\n        _this.anim.pause();\n      }\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(Lottie, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          options = _props.options,\n          eventListeners = _props.eventListeners;\n      var loop = options.loop,\n          autoplay = options.autoplay,\n          animationData = options.animationData,\n          rendererSettings = options.rendererSettings,\n          segments = options.segments;\n\n\n      this.options = {\n        container: this.el,\n        renderer: 'svg',\n        loop: loop !== false,\n        autoplay: autoplay !== false,\n        segments: segments !== false,\n        animationData: animationData,\n        rendererSettings: rendererSettings\n      };\n\n      this.options = (0, _extends3.default)({}, this.options, options);\n\n      this.anim = _lottieWeb2.default.loadAnimation(this.options);\n      this.registerEvents(eventListeners);\n    }\n  }, {\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate(nextProps /* , nextState */) {\n      /* Recreate the animation handle if the data is changed */\n      if (this.options.animationData !== nextProps.options.animationData) {\n        this.deRegisterEvents(this.props.eventListeners);\n        this.destroy();\n        this.options = (0, _extends3.default)({}, this.options, nextProps.options);\n        this.anim = _lottieWeb2.default.loadAnimation(this.options);\n        this.registerEvents(nextProps.eventListeners);\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.props.isStopped) {\n        this.stop();\n      } else if (this.props.segments) {\n        this.playSegments();\n      } else {\n        this.play();\n      }\n\n      this.pause();\n      this.setSpeed();\n      this.setDirection();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.deRegisterEvents(this.props.eventListeners);\n      this.destroy();\n      this.options.animationData = null;\n      this.anim = null;\n    }\n  }, {\n    key: 'setSpeed',\n    value: function setSpeed() {\n      this.anim.setSpeed(this.props.speed);\n    }\n  }, {\n    key: 'setDirection',\n    value: function setDirection() {\n      this.anim.setDirection(this.props.direction);\n    }\n  }, {\n    key: 'play',\n    value: function play() {\n      this.anim.play();\n    }\n  }, {\n    key: 'playSegments',\n    value: function playSegments() {\n      this.anim.playSegments(this.props.segments);\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this.anim.stop();\n    }\n  }, {\n    key: 'pause',\n    value: function pause() {\n      if (this.props.isPaused && !this.anim.isPaused) {\n        this.anim.pause();\n      } else if (!this.props.isPaused && this.anim.isPaused) {\n        this.anim.pause();\n      }\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.anim.destroy();\n    }\n  }, {\n    key: 'registerEvents',\n    value: function registerEvents(eventListeners) {\n      var _this2 = this;\n\n      eventListeners.forEach(function (eventListener) {\n        _this2.anim.addEventListener(eventListener.eventName, eventListener.callback);\n      });\n    }\n  }, {\n    key: 'deRegisterEvents',\n    value: function deRegisterEvents(eventListeners) {\n      var _this3 = this;\n\n      eventListeners.forEach(function (eventListener) {\n        _this3.anim.removeEventListener(eventListener.eventName, eventListener.callback);\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _props2 = this.props,\n          width = _props2.width,\n          height = _props2.height,\n          ariaRole = _props2.ariaRole,\n          ariaLabel = _props2.ariaLabel,\n          isClickToPauseDisabled = _props2.isClickToPauseDisabled,\n          title = _props2.title;\n\n\n      var getSize = function getSize(initial) {\n        var size = void 0;\n\n        if (typeof initial === 'number') {\n          size = initial + 'px';\n        } else {\n          size = initial || '100%';\n        }\n\n        return size;\n      };\n\n      var lottieStyles = (0, _extends3.default)({\n        width: getSize(width),\n        height: getSize(height),\n        overflow: 'hidden',\n        margin: '0 auto',\n        outline: 'none'\n      }, this.props.style);\n\n      var onClickHandler = isClickToPauseDisabled ? function () {\n        return null;\n      } : this.handleClickToPause;\n\n      return (\n        // Bug with eslint rules https://github.com/airbnb/javascript/issues/1374\n        // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n        _react2.default.createElement('div', {\n          ref: function ref(c) {\n            _this4.el = c;\n          },\n          style: lottieStyles,\n          onClick: onClickHandler,\n          title: title,\n          role: ariaRole,\n          'aria-label': ariaLabel,\n          tabIndex: '0'\n        })\n      );\n    }\n  }]);\n  return Lottie;\n}(_react2.default.Component);\n\nexports.default = Lottie;\n\n\nLottie.propTypes = {\n  eventListeners: _propTypes2.default.arrayOf(_propTypes2.default.object),\n  options: _propTypes2.default.object.isRequired,\n  height: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n  width: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n  isStopped: _propTypes2.default.bool,\n  isPaused: _propTypes2.default.bool,\n  speed: _propTypes2.default.number,\n  segments: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  direction: _propTypes2.default.number,\n  ariaRole: _propTypes2.default.string,\n  ariaLabel: _propTypes2.default.string,\n  isClickToPauseDisabled: _propTypes2.default.bool,\n  title: _propTypes2.default.string\n};\n\nLottie.defaultProps = {\n  eventListeners: [],\n  isStopped: false,\n  isPaused: false,\n  speed: 1,\n  ariaRole: 'button',\n  ariaLabel: 'animation',\n  isClickToPauseDisabled: false,\n  title: ''\n};","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports['default'] = {\n  slide: require('./menus/slide'),\n  stack: require('./menus/stack'),\n  elastic: require('./menus/elastic'),\n  bubble: require('./menus/bubble'),\n  push: require('./menus/push'),\n  pushRotate: require('./menus/pushRotate'),\n  scaleDown: require('./menus/scaleDown'),\n  scaleRotate: require('./menus/scaleRotate'),\n  fallDown: require('./menus/fallDown'),\n  reveal: require('./menus/reveal')\n};\nmodule.exports = exports['default'];","\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","module.exports = function () { /* empty */ };\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","(typeof navigator !== \"undefined\") && (function(root, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(function() {\n            return factory(root);\n        });\n    } else if (typeof module === \"object\" && module.exports) {\n        module.exports = factory(root);\n    } else {\n        root.lottie = factory(root);\n        root.bodymovin = root.lottie;\n    }\n}((window || {}), function(window) {\n\t\"use strict\";\r\nvar svgNS = \"http://www.w3.org/2000/svg\";\r\n\r\nvar locationHref = '';\r\n\r\nvar initialDefaultFrame = -999999;\r\n\r\nvar subframeEnabled = true;\r\nvar expressionsPlugin;\r\nvar isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\nvar cachedColors = {};\r\nvar bm_rounder = Math.round;\r\nvar bm_rnd;\r\nvar bm_pow = Math.pow;\r\nvar bm_sqrt = Math.sqrt;\r\nvar bm_abs = Math.abs;\r\nvar bm_floor = Math.floor;\r\nvar bm_max = Math.max;\r\nvar bm_min = Math.min;\r\nvar blitter = 10;\r\n\r\nvar BMMath = {};\r\n(function(){\r\n    var propertyNames = [\"abs\", \"acos\", \"acosh\", \"asin\", \"asinh\", \"atan\", \"atanh\", \"atan2\", \"ceil\", \"cbrt\", \"expm1\", \"clz32\", \"cos\", \"cosh\", \"exp\", \"floor\", \"fround\", \"hypot\", \"imul\", \"log\", \"log1p\", \"log2\", \"log10\", \"max\", \"min\", \"pow\", \"random\", \"round\", \"sign\", \"sin\", \"sinh\", \"sqrt\", \"tan\", \"tanh\", \"trunc\", \"E\", \"LN10\", \"LN2\", \"LOG10E\", \"LOG2E\", \"PI\", \"SQRT1_2\", \"SQRT2\"];\r\n    var i, len = propertyNames.length;\r\n    for(i=0;i<len;i+=1){\r\n        BMMath[propertyNames[i]] = Math[propertyNames[i]];\r\n    }\r\n}());\r\n\r\nfunction ProjectInterface(){return {};}\r\n\r\nBMMath.random = Math.random;\r\nBMMath.abs = function(val){\r\n    var tOfVal = typeof val;\r\n    if(tOfVal === 'object' && val.length){\r\n        var absArr = createSizedArray(val.length);\r\n        var i, len = val.length;\r\n        for(i=0;i<len;i+=1){\r\n            absArr[i] = Math.abs(val[i]);\r\n        }\r\n        return absArr;\r\n    }\r\n    return Math.abs(val);\r\n\r\n};\r\nvar defaultCurveSegments = 150;\r\nvar degToRads = Math.PI/180;\r\nvar roundCorner = 0.5519;\r\n\r\nfunction roundValues(flag){\r\n    if(flag){\r\n        bm_rnd = Math.round;\r\n    }else{\r\n        bm_rnd = function(val){\r\n            return val;\r\n        };\r\n    }\r\n}\r\nroundValues(false);\r\n\r\nfunction styleDiv(element){\r\n    element.style.position = 'absolute';\r\n    element.style.top = 0;\r\n    element.style.left = 0;\r\n    element.style.display = 'block';\r\n    element.style.transformOrigin = element.style.webkitTransformOrigin = '0 0';\r\n    element.style.backfaceVisibility  = element.style.webkitBackfaceVisibility = 'visible';\r\n    element.style.transformStyle = element.style.webkitTransformStyle = element.style.mozTransformStyle = \"preserve-3d\";\r\n}\r\n\r\nfunction BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier){\r\n    this.type = type;\r\n    this.currentTime = currentTime;\r\n    this.totalTime = totalTime;\r\n    this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteEvent(type, frameMultiplier){\r\n    this.type = type;\r\n    this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier){\r\n    this.type = type;\r\n    this.currentLoop = currentLoop;\r\n    this.totalLoops = totalLoops;\r\n    this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMSegmentStartEvent(type, firstFrame, totalFrames){\r\n    this.type = type;\r\n    this.firstFrame = firstFrame;\r\n    this.totalFrames = totalFrames;\r\n}\r\n\r\nfunction BMDestroyEvent(type, target){\r\n    this.type = type;\r\n    this.target = target;\r\n}\r\n\r\nfunction BMRenderFrameErrorEvent(nativeError, currentTime) {\r\n    this.type = 'renderFrameError';\r\n    this.nativeError = nativeError;\r\n    this.currentTime = currentTime;\r\n}\r\n\r\nfunction BMConfigErrorEvent(nativeError) {\r\n    this.type = 'configError';\r\n    this.nativeError = nativeError;\r\n}\r\n\r\nfunction BMAnimationConfigErrorEvent(type, nativeError) {\r\n    this.type = type;\r\n    this.nativeError = nativeError;\r\n    this.currentTime = currentTime;\r\n}\r\n\r\nvar createElementID = (function(){\r\n    var _count = 0;\r\n    return function createID() {\r\n        return '__lottie_element_' + ++_count\r\n    }\r\n}())\r\n\r\nfunction HSVtoRGB(h, s, v) {\r\n    var r, g, b, i, f, p, q, t;\r\n    i = Math.floor(h * 6);\r\n    f = h * 6 - i;\r\n    p = v * (1 - s);\r\n    q = v * (1 - f * s);\r\n    t = v * (1 - (1 - f) * s);\r\n    switch (i % 6) {\r\n        case 0: r = v; g = t; b = p; break;\r\n        case 1: r = q; g = v; b = p; break;\r\n        case 2: r = p; g = v; b = t; break;\r\n        case 3: r = p; g = q; b = v; break;\r\n        case 4: r = t; g = p; b = v; break;\r\n        case 5: r = v; g = p; b = q; break;\r\n    }\r\n    return [ r,\r\n        g,\r\n         b ];\r\n}\r\n\r\nfunction RGBtoHSV(r, g, b) {\r\n    var max = Math.max(r, g, b), min = Math.min(r, g, b),\r\n        d = max - min,\r\n        h,\r\n        s = (max === 0 ? 0 : d / max),\r\n        v = max / 255;\r\n\r\n    switch (max) {\r\n        case min: h = 0; break;\r\n        case r: h = (g - b) + d * (g < b ? 6: 0); h /= 6 * d; break;\r\n        case g: h = (b - r) + d * 2; h /= 6 * d; break;\r\n        case b: h = (r - g) + d * 4; h /= 6 * d; break;\r\n    }\r\n\r\n    return [\r\n         h,\r\n         s,\r\n         v\r\n    ];\r\n}\r\n\r\nfunction addSaturationToRGB(color,offset){\r\n    var hsv = RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);\r\n    hsv[1] += offset;\r\n    if (hsv[1] > 1) {\r\n        hsv[1] = 1;\r\n    }\r\n    else if (hsv[1] <= 0) {\r\n        hsv[1] = 0;\r\n    }\r\n    return HSVtoRGB(hsv[0],hsv[1],hsv[2]);\r\n}\r\n\r\nfunction addBrightnessToRGB(color,offset){\r\n    var hsv = RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);\r\n    hsv[2] += offset;\r\n    if (hsv[2] > 1) {\r\n        hsv[2] = 1;\r\n    }\r\n    else if (hsv[2] < 0) {\r\n        hsv[2] = 0;\r\n    }\r\n    return HSVtoRGB(hsv[0],hsv[1],hsv[2]);\r\n}\r\n\r\nfunction addHueToRGB(color,offset) {\r\n    var hsv = RGBtoHSV(color[0]*255,color[1]*255,color[2]*255);\r\n    hsv[0] += offset/360;\r\n    if (hsv[0] > 1) {\r\n        hsv[0] -= 1;\r\n    }\r\n    else if (hsv[0] < 0) {\r\n        hsv[0] += 1;\r\n    }\r\n    return HSVtoRGB(hsv[0],hsv[1],hsv[2]);\r\n}\r\n\r\nvar rgbToHex = (function(){\r\n    var colorMap = [];\r\n    var i;\r\n    var hex;\r\n    for(i=0;i<256;i+=1){\r\n        hex = i.toString(16);\r\n        colorMap[i] = hex.length == 1 ? '0' + hex : hex;\r\n    }\r\n\r\n    return function(r, g, b) {\r\n        if(r<0){\r\n            r = 0;\r\n        }\r\n        if(g<0){\r\n            g = 0;\r\n        }\r\n        if(b<0){\r\n            b = 0;\r\n        }\r\n        return '#' + colorMap[r] + colorMap[g] + colorMap[b];\r\n    };\r\n}());\r\nfunction BaseEvent(){}\r\nBaseEvent.prototype = {\r\n\ttriggerEvent: function (eventName, args) {\r\n\t    if (this._cbs[eventName]) {\r\n\t        var len = this._cbs[eventName].length;\r\n\t        for (var i = 0; i < len; i++){\r\n\t            this._cbs[eventName][i](args);\r\n\t        }\r\n\t    }\r\n\t},\r\n\taddEventListener: function (eventName, callback) {\r\n\t    if (!this._cbs[eventName]){\r\n\t        this._cbs[eventName] = [];\r\n\t    }\r\n\t    this._cbs[eventName].push(callback);\r\n\r\n\t\treturn function() {\r\n\t\t\tthis.removeEventListener(eventName, callback);\r\n\t\t}.bind(this);\r\n\t},\r\n\tremoveEventListener: function (eventName,callback){\r\n\t    if (!callback){\r\n\t        this._cbs[eventName] = null;\r\n\t    }else if(this._cbs[eventName]){\r\n\t        var i = 0, len = this._cbs[eventName].length;\r\n\t        while(i<len){\r\n\t            if(this._cbs[eventName][i] === callback){\r\n\t                this._cbs[eventName].splice(i,1);\r\n\t                i -=1;\r\n\t                len -= 1;\r\n\t            }\r\n\t            i += 1;\r\n\t        }\r\n\t        if(!this._cbs[eventName].length){\r\n\t            this._cbs[eventName] = null;\r\n\t        }\r\n\t    }\r\n\t}\r\n};\r\nvar createTypedArray = (function(){\r\n\tfunction createRegularArray(type, len){\r\n\t\tvar i = 0, arr = [], value;\r\n\t\tswitch(type) {\r\n\t\t\tcase 'int16':\r\n\t\t\tcase 'uint8c':\r\n\t\t\t\tvalue = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tvalue = 1.1;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tarr.push(value);\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\tfunction createTypedArray(type, len){\r\n\t\tif(type === 'float32') {\r\n\t\t\treturn new Float32Array(len);\r\n\t\t} else if(type === 'int16') {\r\n\t\t\treturn new Int16Array(len);\r\n\t\t} else if(type === 'uint8c') {\r\n\t\t\treturn new Uint8ClampedArray(len);\r\n\t\t}\r\n\t}\r\n\tif(typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\r\n\t\treturn createTypedArray;\r\n\t} else {\r\n\t\treturn createRegularArray;\r\n\t}\r\n}());\r\n\r\nfunction createSizedArray(len) {\r\n\treturn Array.apply(null,{length:len});\r\n}\r\nfunction createNS(type) {\r\n\t//return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n\treturn document.createElementNS(svgNS, type);\r\n}\r\nfunction createTag(type) {\r\n\t//return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n\treturn document.createElement(type);\r\n}\r\nfunction DynamicPropertyContainer(){};\r\nDynamicPropertyContainer.prototype = {\r\n\taddDynamicProperty: function(prop) {\r\n\t\tif(this.dynamicProperties.indexOf(prop) === -1) {\r\n\t        this.dynamicProperties.push(prop);\r\n\t        this.container.addDynamicProperty(this);\r\n\t    \tthis._isAnimated = true;\r\n\t    }\r\n\t},\r\n\titerateDynamicProperties: function(){\r\n\t    this._mdf = false;\r\n\t    var i, len = this.dynamicProperties.length;\r\n\t    for(i=0;i<len;i+=1){\r\n\t        this.dynamicProperties[i].getValue();\r\n\t        if(this.dynamicProperties[i]._mdf) {\r\n\t            this._mdf = true;\r\n\t        }\r\n\t    }\r\n\t},\r\n\tinitDynamicPropertyContainer: function(container){\r\n\t    this.container = container;\r\n\t    this.dynamicProperties = [];\r\n\t    this._mdf = false;\r\n\t    this._isAnimated = false;\r\n\t}\r\n}\r\nvar getBlendMode = (function() {\r\n\r\n\tvar blendModeEnums = {\r\n        0:'source-over',\r\n        1:'multiply',\r\n        2:'screen',\r\n        3:'overlay',\r\n        4:'darken',\r\n        5:'lighten',\r\n        6:'color-dodge',\r\n        7:'color-burn',\r\n        8:'hard-light',\r\n        9:'soft-light',\r\n        10:'difference',\r\n        11:'exclusion',\r\n        12:'hue',\r\n        13:'saturation',\r\n        14:'color',\r\n        15:'luminosity'\r\n    }\r\n\r\n\treturn function(mode) {\r\n\t\treturn blendModeEnums[mode] || '';\r\n\t}\r\n}())\r\n/*!\r\n Transformation Matrix v2.0\r\n (c) Epistemex 2014-2015\r\n www.epistemex.com\r\n By Ken Fyrstenberg\r\n Contributions by leeoniya.\r\n License: MIT, header required.\r\n */\r\n\r\n/**\r\n * 2D transformation matrix object initialized with identity matrix.\r\n *\r\n * The matrix can synchronize a canvas context by supplying the context\r\n * as an argument, or later apply current absolute transform to an\r\n * existing context.\r\n *\r\n * All values are handled as floating point values.\r\n *\r\n * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n * @prop {number} a - scale x\r\n * @prop {number} b - shear y\r\n * @prop {number} c - shear x\r\n * @prop {number} d - scale y\r\n * @prop {number} e - translate x\r\n * @prop {number} f - translate y\r\n * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n * @constructor\r\n */\r\n\r\nvar Matrix = (function(){\r\n\r\n    var _cos = Math.cos;\r\n    var _sin = Math.sin;\r\n    var _tan = Math.tan;\r\n    var _rnd = Math.round;\r\n\r\n    function reset(){\r\n        this.props[0] = 1;\r\n        this.props[1] = 0;\r\n        this.props[2] = 0;\r\n        this.props[3] = 0;\r\n        this.props[4] = 0;\r\n        this.props[5] = 1;\r\n        this.props[6] = 0;\r\n        this.props[7] = 0;\r\n        this.props[8] = 0;\r\n        this.props[9] = 0;\r\n        this.props[10] = 1;\r\n        this.props[11] = 0;\r\n        this.props[12] = 0;\r\n        this.props[13] = 0;\r\n        this.props[14] = 0;\r\n        this.props[15] = 1;\r\n        return this;\r\n    }\r\n\r\n    function rotate(angle) {\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateX(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin,  mCos, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateY(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos,  0,  mSin, 0, 0, 1, 0, 0, -mSin,  0,  mCos, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateZ(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function shear(sx,sy){\r\n        return this._t(1, sy, sx, 1, 0, 0);\r\n    }\r\n\r\n    function skew(ax, ay){\r\n        return this.shear(_tan(ax), _tan(ay));\r\n    }\r\n\r\n    function skewFromAxis(ax, angle){\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, mSin,  0, 0, -mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1)\r\n            ._t(1, 0,  0, 0, _tan(ax),  1, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1)\r\n            ._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n        //return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\r\n    }\r\n\r\n    function scale(sx, sy, sz) {\r\n        if(!sz && sz !== 0) {\r\n            sz = 1;\r\n        }\r\n        if(sx === 1 && sy === 1 && sz === 1){\r\n            return this;\r\n        }\r\n        return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\r\n        this.props[0] = a;\r\n        this.props[1] = b;\r\n        this.props[2] = c;\r\n        this.props[3] = d;\r\n        this.props[4] = e;\r\n        this.props[5] = f;\r\n        this.props[6] = g;\r\n        this.props[7] = h;\r\n        this.props[8] = i;\r\n        this.props[9] = j;\r\n        this.props[10] = k;\r\n        this.props[11] = l;\r\n        this.props[12] = m;\r\n        this.props[13] = n;\r\n        this.props[14] = o;\r\n        this.props[15] = p;\r\n        return this;\r\n    }\r\n\r\n    function translate(tx, ty, tz) {\r\n        tz = tz || 0;\r\n        if(tx !== 0 || ty !== 0 || tz !== 0){\r\n            return this._t(1,0,0,0,0,1,0,0,0,0,1,0,tx,ty,tz,1);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\r\n\r\n        var _p = this.props;\r\n\r\n        if(a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0){\r\n            //NOTE: commenting this condition because TurboFan deoptimizes code when present\r\n            //if(m2 !== 0 || n2 !== 0 || o2 !== 0){\r\n                _p[12] = _p[12] * a2 + _p[15] * m2;\r\n                _p[13] = _p[13] * f2 + _p[15] * n2;\r\n                _p[14] = _p[14] * k2 + _p[15] * o2;\r\n                _p[15] = _p[15] * p2;\r\n            //}\r\n            this._identityCalculated = false;\r\n            return this;\r\n        }\r\n\r\n        var a1 = _p[0];\r\n        var b1 = _p[1];\r\n        var c1 = _p[2];\r\n        var d1 = _p[3];\r\n        var e1 = _p[4];\r\n        var f1 = _p[5];\r\n        var g1 = _p[6];\r\n        var h1 = _p[7];\r\n        var i1 = _p[8];\r\n        var j1 = _p[9];\r\n        var k1 = _p[10];\r\n        var l1 = _p[11];\r\n        var m1 = _p[12];\r\n        var n1 = _p[13];\r\n        var o1 = _p[14];\r\n        var p1 = _p[15];\r\n\r\n        /* matrix order (canvas compatible):\r\n         * ace\r\n         * bdf\r\n         * 001\r\n         */\r\n        _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\r\n        _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2 ;\r\n        _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2 ;\r\n        _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2 ;\r\n\r\n        _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2 ;\r\n        _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2 ;\r\n        _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2 ;\r\n        _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2 ;\r\n\r\n        _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2 ;\r\n        _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2 ;\r\n        _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2 ;\r\n        _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2 ;\r\n\r\n        _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2 ;\r\n        _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2 ;\r\n        _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2 ;\r\n        _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2 ;\r\n\r\n        this._identityCalculated = false;\r\n        return this;\r\n    }\r\n\r\n    function isIdentity() {\r\n        if(!this._identityCalculated){\r\n            this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\r\n            this._identityCalculated = true;\r\n        }\r\n        return this._identity;\r\n    }\r\n\r\n    function equals(matr){\r\n        var i = 0;\r\n        while (i < 16) {\r\n            if(matr.props[i] !== this.props[i]) {\r\n                return false;\r\n            }\r\n            i+=1;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function clone(matr){\r\n        var i;\r\n        for(i=0;i<16;i+=1){\r\n            matr.props[i] = this.props[i];\r\n        }\r\n    }\r\n\r\n    function cloneFromProps(props){\r\n        var i;\r\n        for(i=0;i<16;i+=1){\r\n            this.props[i] = props[i];\r\n        }\r\n    }\r\n\r\n    function applyToPoint(x, y, z) {\r\n\r\n        return {\r\n            x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n            y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n            z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\r\n        };\r\n        /*return {\r\n         x: x * me.a + y * me.c + me.e,\r\n         y: x * me.b + y * me.d + me.f\r\n         };*/\r\n    }\r\n    function applyToX(x, y, z) {\r\n        return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\r\n    }\r\n    function applyToY(x, y, z) {\r\n        return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\r\n    }\r\n    function applyToZ(x, y, z) {\r\n        return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\r\n    }\r\n\r\n    function getInverseMatrix() {\r\n        var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\r\n        var a = this.props[5]/determinant;\r\n        var b = - this.props[1]/determinant;\r\n        var c = - this.props[4]/determinant;\r\n        var d = this.props[0]/determinant;\r\n        var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12])/determinant;\r\n        var f = - (this.props[0] * this.props[13] - this.props[1] * this.props[12])/determinant;\r\n        var inverseMatrix = new Matrix();\r\n        inverseMatrix.props[0] = a;\r\n        inverseMatrix.props[1] = b;\r\n        inverseMatrix.props[4] = c;\r\n        inverseMatrix.props[5] = d;\r\n        inverseMatrix.props[12] = e;\r\n        inverseMatrix.props[13] = f;\r\n        return inverseMatrix;\r\n    }\r\n\r\n    function inversePoint(pt) {\r\n        var inverseMatrix = this.getInverseMatrix();\r\n        return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0)\r\n    }\r\n\r\n    function inversePoints(pts){\r\n        var i, len = pts.length, retPts = [];\r\n        for(i=0;i<len;i+=1){\r\n            retPts[i] = inversePoint(pts[i]);\r\n        }\r\n        return retPts;\r\n    }\r\n\r\n    function applyToTriplePoints(pt1, pt2, pt3) {\r\n        var arr = createTypedArray('float32', 6);\r\n        if(this.isIdentity()) {\r\n            arr[0] = pt1[0];\r\n            arr[1] = pt1[1];\r\n            arr[2] = pt2[0];\r\n            arr[3] = pt2[1];\r\n            arr[4] = pt3[0];\r\n            arr[5] = pt3[1];\r\n        } else {\r\n            var p0 = this.props[0], p1 = this.props[1], p4 = this.props[4], p5 = this.props[5], p12 = this.props[12], p13 = this.props[13];\r\n            arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\r\n            arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\r\n            arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\r\n            arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\r\n            arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\r\n            arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function applyToPointArray(x,y,z){\r\n        var arr;\r\n        if(this.isIdentity()) {\r\n            arr = [x,y,z];\r\n        } else {\r\n            arr = [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function applyToPointStringified(x, y) {\r\n        if(this.isIdentity()) {\r\n            return x + ',' + y;\r\n        }\r\n        var _p = this.props;\r\n        return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100+','+ Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\r\n    }\r\n\r\n    function toCSS() {\r\n        //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n        /*if(this.isIdentity()) {\r\n            return '';\r\n        }*/\r\n        var i = 0;\r\n        var props = this.props;\r\n        var cssValue = 'matrix3d(';\r\n        var v = 10000;\r\n        while(i<16){\r\n            cssValue += _rnd(props[i]*v)/v;\r\n            cssValue += i === 15 ? ')':',';\r\n            i += 1;\r\n        }\r\n        return cssValue;\r\n    }\r\n\r\n    function roundMatrixProperty(val) {\r\n        var v = 10000;\r\n        if((val < 0.000001 && val > 0) || (val > -0.000001 && val < 0)) {\r\n            return _rnd(val * v) / v;\r\n        }\r\n        return val;\r\n    }\r\n\r\n    function to2dCSS() {\r\n        //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n        /*if(this.isIdentity()) {\r\n            return '';\r\n        }*/\r\n        var props = this.props;\r\n        var _a = roundMatrixProperty(props[0]);\r\n        var _b = roundMatrixProperty(props[1]);\r\n        var _c = roundMatrixProperty(props[4]);\r\n        var _d = roundMatrixProperty(props[5]);\r\n        var _e = roundMatrixProperty(props[12]);\r\n        var _f = roundMatrixProperty(props[13]);\r\n        return \"matrix(\" + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + \")\";\r\n    }\r\n\r\n    return function(){\r\n        this.reset = reset;\r\n        this.rotate = rotate;\r\n        this.rotateX = rotateX;\r\n        this.rotateY = rotateY;\r\n        this.rotateZ = rotateZ;\r\n        this.skew = skew;\r\n        this.skewFromAxis = skewFromAxis;\r\n        this.shear = shear;\r\n        this.scale = scale;\r\n        this.setTransform = setTransform;\r\n        this.translate = translate;\r\n        this.transform = transform;\r\n        this.applyToPoint = applyToPoint;\r\n        this.applyToX = applyToX;\r\n        this.applyToY = applyToY;\r\n        this.applyToZ = applyToZ;\r\n        this.applyToPointArray = applyToPointArray;\r\n        this.applyToTriplePoints = applyToTriplePoints;\r\n        this.applyToPointStringified = applyToPointStringified;\r\n        this.toCSS = toCSS;\r\n        this.to2dCSS = to2dCSS;\r\n        this.clone = clone;\r\n        this.cloneFromProps = cloneFromProps;\r\n        this.equals = equals;\r\n        this.inversePoints = inversePoints;\r\n        this.inversePoint = inversePoint;\r\n        this.getInverseMatrix = getInverseMatrix;\r\n        this._t = this.transform;\r\n        this.isIdentity = isIdentity;\r\n        this._identity = true;\r\n        this._identityCalculated = false;\r\n\r\n        this.props = createTypedArray('float32', 16);\r\n        this.reset();\r\n    };\r\n}());\r\n\r\n/*\r\n Copyright 2014 David Bau.\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining\r\n a copy of this software and associated documentation files (the\r\n \"Software\"), to deal in the Software without restriction, including\r\n without limitation the rights to use, copy, modify, merge, publish,\r\n distribute, sublicense, and/or sell copies of the Software, and to\r\n permit persons to whom the Software is furnished to do so, subject to\r\n the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be\r\n included in all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n */\r\n\r\n(function (pool, math) {\r\n//\r\n// The following constants are related to IEEE 754 limits.\r\n//\r\n    var global = this,\r\n        width = 256,        // each RC4 output is 0 <= x < 256\r\n        chunks = 6,         // at least six RC4 outputs for each double\r\n        digits = 52,        // there are 52 significant digits in a double\r\n        rngname = 'random', // rngname: name for Math.random and Math.seedrandom\r\n        startdenom = math.pow(width, chunks),\r\n        significance = math.pow(2, digits),\r\n        overflow = significance * 2,\r\n        mask = width - 1,\r\n        nodecrypto;         // node.js crypto module, initialized at the bottom.\r\n\r\n//\r\n// seedrandom()\r\n// This is the seedrandom function described above.\r\n//\r\n    function seedrandom(seed, options, callback) {\r\n        var key = [];\r\n        options = (options === true) ? { entropy: true } : (options || {});\r\n\r\n        // Flatten the seed string or build one from local entropy if needed.\r\n        var shortseed = mixkey(flatten(\r\n            options.entropy ? [seed, tostring(pool)] :\r\n                (seed === null) ? autoseed() : seed, 3), key);\r\n\r\n        // Use the seed to initialize an ARC4 generator.\r\n        var arc4 = new ARC4(key);\r\n\r\n        // This function returns a random double in [0, 1) that contains\r\n        // randomness in every bit of the mantissa of the IEEE 754 value.\r\n        var prng = function() {\r\n            var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\r\n                d = startdenom,                 //   and denominator d = 2 ^ 48.\r\n                x = 0;                          //   and no 'extra last byte'.\r\n            while (n < significance) {          // Fill up all significant digits by\r\n                n = (n + x) * width;              //   shifting numerator and\r\n                d *= width;                       //   denominator and generating a\r\n                x = arc4.g(1);                    //   new least-significant-byte.\r\n            }\r\n            while (n >= overflow) {             // To avoid rounding up, before adding\r\n                n /= 2;                           //   last byte, shift everything\r\n                d /= 2;                           //   right using integer math until\r\n                x >>>= 1;                         //   we have exactly the desired bits.\r\n            }\r\n            return (n + x) / d;                 // Form the number within [0, 1).\r\n        };\r\n\r\n        prng.int32 = function() { return arc4.g(4) | 0; };\r\n        prng.quick = function() { return arc4.g(4) / 0x100000000; };\r\n        prng.double = prng;\r\n\r\n        // Mix the randomness into accumulated entropy.\r\n        mixkey(tostring(arc4.S), pool);\r\n\r\n        // Calling convention: what to return as a function of prng, seed, is_math.\r\n        return (options.pass || callback ||\r\n        function(prng, seed, is_math_call, state) {\r\n            if (state) {\r\n                // Load the arc4 state from the given state if it has an S array.\r\n                if (state.S) { copy(state, arc4); }\r\n                // Only provide the .state method if requested via options.state.\r\n                prng.state = function() { return copy(arc4, {}); };\r\n            }\r\n\r\n            // If called as a method of Math (Math.seedrandom()), mutate\r\n            // Math.random because that is how seedrandom.js has worked since v1.0.\r\n            if (is_math_call) { math[rngname] = prng; return seed; }\r\n\r\n            // Otherwise, it is a newer calling convention, so return the\r\n            // prng directly.\r\n            else return prng;\r\n        })(\r\n            prng,\r\n            shortseed,\r\n            'global' in options ? options.global : (this == math),\r\n            options.state);\r\n    }\r\n    math['seed' + rngname] = seedrandom;\r\n\r\n//\r\n// ARC4\r\n//\r\n// An ARC4 implementation.  The constructor takes a key in the form of\r\n// an array of at most (width) integers that should be 0 <= x < (width).\r\n//\r\n// The g(count) method returns a pseudorandom integer that concatenates\r\n// the next (count) outputs from ARC4.  Its return value is a number x\r\n// that is in the range 0 <= x < (width ^ count).\r\n//\r\n    function ARC4(key) {\r\n        var t, keylen = key.length,\r\n            me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\r\n\r\n        // The empty key [] is treated as [0].\r\n        if (!keylen) { key = [keylen++]; }\r\n\r\n        // Set up S using the standard key scheduling algorithm.\r\n        while (i < width) {\r\n            s[i] = i++;\r\n        }\r\n        for (i = 0; i < width; i++) {\r\n            s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\r\n            s[j] = t;\r\n        }\r\n\r\n        // The \"g\" method returns the next (count) outputs as one number.\r\n        me.g = function(count) {\r\n            // Using instance members instead of closure state nearly doubles speed.\r\n            var t, r = 0,\r\n                i = me.i, j = me.j, s = me.S;\r\n            while (count--) {\r\n                t = s[i = mask & (i + 1)];\r\n                r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\r\n            }\r\n            me.i = i; me.j = j;\r\n            return r;\r\n            // For robust unpredictability, the function call below automatically\r\n            // discards an initial batch of values.  This is called RC4-drop[256].\r\n            // See http://google.com/search?q=rsa+fluhrer+response&btnI\r\n        };\r\n    }\r\n\r\n//\r\n// copy()\r\n// Copies internal state of ARC4 to or from a plain object.\r\n//\r\n    function copy(f, t) {\r\n        t.i = f.i;\r\n        t.j = f.j;\r\n        t.S = f.S.slice();\r\n        return t;\r\n    }\r\n\r\n//\r\n// flatten()\r\n// Converts an object tree to nested arrays of strings.\r\n//\r\n    function flatten(obj, depth) {\r\n        var result = [], typ = (typeof obj), prop;\r\n        if (depth && typ == 'object') {\r\n            for (prop in obj) {\r\n                try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\r\n            }\r\n        }\r\n        return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\r\n    }\r\n\r\n//\r\n// mixkey()\r\n// Mixes a string seed into a key that is an array of integers, and\r\n// returns a shortened string seed that is equivalent to the result key.\r\n//\r\n    function mixkey(seed, key) {\r\n        var stringseed = seed + '', smear, j = 0;\r\n        while (j < stringseed.length) {\r\n            key[mask & j] =\r\n                mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\r\n        }\r\n        return tostring(key);\r\n    }\r\n\r\n//\r\n// autoseed()\r\n// Returns an object for autoseeding, using window.crypto and Node crypto\r\n// module if available.\r\n//\r\n    function autoseed() {\r\n        try {\r\n            if (nodecrypto) { return tostring(nodecrypto.randomBytes(width)); }\r\n            var out = new Uint8Array(width);\r\n            (global.crypto || global.msCrypto).getRandomValues(out);\r\n            return tostring(out);\r\n        } catch (e) {\r\n            var browser = global.navigator,\r\n                plugins = browser && browser.plugins;\r\n            return [+new Date(), global, plugins, global.screen, tostring(pool)];\r\n        }\r\n    }\r\n\r\n//\r\n// tostring()\r\n// Converts an array of charcodes to a string\r\n//\r\n    function tostring(a) {\r\n        return String.fromCharCode.apply(0, a);\r\n    }\r\n\r\n//\r\n// When seedrandom.js is loaded, we immediately mix a few bits\r\n// from the built-in RNG into the entropy pool.  Because we do\r\n// not want to interfere with deterministic PRNG state later,\r\n// seedrandom will not call math.random on its own again after\r\n// initialization.\r\n//\r\n    mixkey(math.random(), pool);\r\n\r\n//\r\n// Nodejs and AMD support: export the implementation as a module using\r\n// either convention.\r\n//\r\n\r\n// End anonymous scope, and pass initial values.\r\n})(\r\n    [],     // pool: entropy pool starts empty\r\n    BMMath    // math: package containing random, pow, and seedrandom\r\n);\r\nvar BezierFactory = (function(){\r\n    /**\r\n     * BezierEasing - use bezier curve for transition easing function\r\n     * by Gatan Renaudeau 2014 - 2015  MIT License\r\n     *\r\n     * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n     * Usage:\r\n     * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n     * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n     *\r\n     */\r\n\r\n        var ob = {};\r\n    ob.getBezierEasing = getBezierEasing;\r\n    var beziers = {};\r\n\r\n    function getBezierEasing(a,b,c,d,nm){\r\n        var str = nm || ('bez_' + a+'_'+b+'_'+c+'_'+d).replace(/\\./g, 'p');\r\n        if(beziers[str]){\r\n            return beziers[str];\r\n        }\r\n        var bezEasing = new BezierEasing([a,b,c,d]);\r\n        beziers[str] = bezEasing;\r\n        return bezEasing;\r\n    }\r\n\r\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\r\n    var NEWTON_ITERATIONS = 4;\r\n    var NEWTON_MIN_SLOPE = 0.001;\r\n    var SUBDIVISION_PRECISION = 0.0000001;\r\n    var SUBDIVISION_MAX_ITERATIONS = 10;\r\n\r\n    var kSplineTableSize = 11;\r\n    var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\r\n\r\n    var float32ArraySupported = typeof Float32Array === \"function\";\r\n\r\n    function A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\r\n    function B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\r\n    function C (aA1)      { return 3.0 * aA1; }\r\n\r\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\r\n    function calcBezier (aT, aA1, aA2) {\r\n        return ((A(aA1, aA2)*aT + B(aA1, aA2))*aT + C(aA1))*aT;\r\n    }\r\n\r\n// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\r\n    function getSlope (aT, aA1, aA2) {\r\n        return 3.0 * A(aA1, aA2)*aT*aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\r\n    }\r\n\r\n    function binarySubdivide (aX, aA, aB, mX1, mX2) {\r\n        var currentX, currentT, i = 0;\r\n        do {\r\n            currentT = aA + (aB - aA) / 2.0;\r\n            currentX = calcBezier(currentT, mX1, mX2) - aX;\r\n            if (currentX > 0.0) {\r\n                aB = currentT;\r\n            } else {\r\n                aA = currentT;\r\n            }\r\n        } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\r\n        return currentT;\r\n    }\r\n\r\n    function newtonRaphsonIterate (aX, aGuessT, mX1, mX2) {\r\n        for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\r\n            var currentSlope = getSlope(aGuessT, mX1, mX2);\r\n            if (currentSlope === 0.0) return aGuessT;\r\n            var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\r\n            aGuessT -= currentX / currentSlope;\r\n        }\r\n        return aGuessT;\r\n    }\r\n\r\n    /**\r\n     * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n     */\r\n    function BezierEasing (points) {\r\n        this._p = points;\r\n        this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\r\n        this._precomputed = false;\r\n\r\n        this.get = this.get.bind(this);\r\n    }\r\n\r\n    BezierEasing.prototype = {\r\n\r\n        get: function (x) {\r\n            var mX1 = this._p[0],\r\n                mY1 = this._p[1],\r\n                mX2 = this._p[2],\r\n                mY2 = this._p[3];\r\n            if (!this._precomputed) this._precompute();\r\n            if (mX1 === mY1 && mX2 === mY2) return x; // linear\r\n            // Because JavaScript number are imprecise, we should guarantee the extremes are right.\r\n            if (x === 0) return 0;\r\n            if (x === 1) return 1;\r\n            return calcBezier(this._getTForX(x), mY1, mY2);\r\n        },\r\n\r\n        // Private part\r\n\r\n        _precompute: function () {\r\n            var mX1 = this._p[0],\r\n                mY1 = this._p[1],\r\n                mX2 = this._p[2],\r\n                mY2 = this._p[3];\r\n            this._precomputed = true;\r\n            if (mX1 !== mY1 || mX2 !== mY2)\r\n                this._calcSampleValues();\r\n        },\r\n\r\n        _calcSampleValues: function () {\r\n            var mX1 = this._p[0],\r\n                mX2 = this._p[2];\r\n            for (var i = 0; i < kSplineTableSize; ++i) {\r\n                this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n         */\r\n        _getTForX: function (aX) {\r\n            var mX1 = this._p[0],\r\n                mX2 = this._p[2],\r\n                mSampleValues = this._mSampleValues;\r\n\r\n            var intervalStart = 0.0;\r\n            var currentSample = 1;\r\n            var lastSample = kSplineTableSize - 1;\r\n\r\n            for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\r\n                intervalStart += kSampleStepSize;\r\n            }\r\n            --currentSample;\r\n\r\n            // Interpolate to provide an initial guess for t\r\n            var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample+1] - mSampleValues[currentSample]);\r\n            var guessForT = intervalStart + dist * kSampleStepSize;\r\n\r\n            var initialSlope = getSlope(guessForT, mX1, mX2);\r\n            if (initialSlope >= NEWTON_MIN_SLOPE) {\r\n                return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\r\n            } else if (initialSlope === 0.0) {\r\n                return guessForT;\r\n            } else {\r\n                return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\r\n            }\r\n        }\r\n    };\r\n\r\n    return ob;\r\n\r\n}());\r\n(function () {\r\n    var lastTime = 0;\r\n    var vendors = ['ms', 'moz', 'webkit', 'o'];\r\n    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n        window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n    }\r\n    if(!window.requestAnimationFrame)\r\n        window.requestAnimationFrame = function (callback, element) {\r\n            var currTime = new Date().getTime();\r\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n            var id = setTimeout(function () {\r\n                    callback(currTime + timeToCall);\r\n                },\r\n                timeToCall);\r\n            lastTime = currTime + timeToCall;\r\n            return id;\r\n        };\r\n    if(!window.cancelAnimationFrame)\r\n        window.cancelAnimationFrame = function (id) {\r\n            clearTimeout(id);\r\n        };\r\n}());\r\n\r\nfunction extendPrototype(sources,destination){\r\n    var i, len = sources.length, sourcePrototype;\r\n    for (i = 0;i < len;i += 1) {\r\n        sourcePrototype = sources[i].prototype;\r\n        for (var attr in sourcePrototype) {\r\n            if (sourcePrototype.hasOwnProperty(attr)) destination.prototype[attr] = sourcePrototype[attr];\r\n        }\r\n    }\r\n}\r\n\r\nfunction getDescriptor(object, prop) {\r\n    return Object.getOwnPropertyDescriptor(object, prop);\r\n}\r\n\r\nfunction createProxyFunction(prototype) {\r\n\tfunction ProxyFunction(){}\r\n\tProxyFunction.prototype = prototype;\r\n\treturn ProxyFunction;\r\n}\r\nfunction bezFunction(){\r\n\r\n    var easingFunctions = [];\r\n    var math = Math;\r\n\r\n    function pointOnLine2D(x1,y1, x2,y2, x3,y3){\r\n        var det1 = (x1*y2) + (y1*x3) + (x2*y3) - (x3*y2) - (y3*x1) - (x2*y1);\r\n        return det1 > -0.001 && det1 < 0.001;\r\n    }\r\n\r\n    function pointOnLine3D(x1,y1,z1, x2,y2,z2, x3,y3,z3){\r\n        if(z1 === 0 && z2 === 0 && z3 === 0) {\r\n            return pointOnLine2D(x1,y1, x2,y2, x3,y3);\r\n        }\r\n        var dist1 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2) + Math.pow(z2 - z1, 2));\r\n        var dist2 = Math.sqrt(Math.pow(x3 - x1, 2) + Math.pow(y3 - y1, 2) + Math.pow(z3 - z1, 2));\r\n        var dist3 = Math.sqrt(Math.pow(x3 - x2, 2) + Math.pow(y3 - y2, 2) + Math.pow(z3 - z2, 2));\r\n        var diffDist;\r\n        if(dist1 > dist2){\r\n            if(dist1 > dist3){\r\n                diffDist = dist1 - dist2 - dist3;\r\n            } else {\r\n                diffDist = dist3 - dist2 - dist1;\r\n            }\r\n        } else if(dist3 > dist2){\r\n            diffDist = dist3 - dist2 - dist1;\r\n        } else {\r\n            diffDist = dist2 - dist1 - dist3;\r\n        }\r\n        return diffDist > -0.0001 && diffDist < 0.0001;\r\n    }\r\n\r\n    var getBezierLength = (function(){\r\n\r\n        return function(pt1,pt2,pt3,pt4){\r\n            var curveSegments = defaultCurveSegments;\r\n            var k;\r\n            var i, len;\r\n            var ptCoord,perc,addedLength = 0;\r\n            var ptDistance;\r\n            var point = [],lastPoint = [];\r\n            var lengthData = bezier_length_pool.newElement();\r\n            len = pt3.length;\r\n            for(k=0;k<curveSegments;k+=1){\r\n                perc = k/(curveSegments-1);\r\n                ptDistance = 0;\r\n                for(i=0;i<len;i+=1){\r\n                    ptCoord = bm_pow(1-perc,3)*pt1[i]+3*bm_pow(1-perc,2)*perc*pt3[i]+3*(1-perc)*bm_pow(perc,2)*pt4[i]+bm_pow(perc,3)*pt2[i];\r\n                    point[i] = ptCoord;\r\n                    if(lastPoint[i] !== null){\r\n                        ptDistance += bm_pow(point[i] - lastPoint[i],2);\r\n                    }\r\n                    lastPoint[i] = point[i];\r\n                }\r\n                if(ptDistance){\r\n                    ptDistance = bm_sqrt(ptDistance);\r\n                    addedLength += ptDistance;\r\n                }\r\n                lengthData.percents[k] = perc;\r\n                lengthData.lengths[k] = addedLength;\r\n            }\r\n            lengthData.addedLength = addedLength;\r\n            return lengthData;\r\n        };\r\n    }());\r\n\r\n    function getSegmentsLength(shapeData) {\r\n        var segmentsLength = segments_length_pool.newElement();\r\n        var closed = shapeData.c;\r\n        var pathV = shapeData.v;\r\n        var pathO = shapeData.o;\r\n        var pathI = shapeData.i;\r\n        var i, len = shapeData._length;\r\n        var lengths = segmentsLength.lengths;\r\n        var totalLength = 0;\r\n        for(i=0;i<len-1;i+=1){\r\n            lengths[i] = getBezierLength(pathV[i],pathV[i+1],pathO[i],pathI[i+1]);\r\n            totalLength += lengths[i].addedLength;\r\n        }\r\n        if(closed && len){\r\n            lengths[i] = getBezierLength(pathV[i],pathV[0],pathO[i],pathI[0]);\r\n            totalLength += lengths[i].addedLength;\r\n        }\r\n        segmentsLength.totalLength = totalLength;\r\n        return segmentsLength;\r\n    }\r\n\r\n    function BezierData(length){\r\n        this.segmentLength = 0;\r\n        this.points = new Array(length);\r\n    }\r\n\r\n    function PointData(partial,point){\r\n        this.partialLength = partial;\r\n        this.point = point;\r\n    }\r\n\r\n    var buildBezierData = (function(){\r\n\r\n        var storedData = {};\r\n\r\n        return function (pt1, pt2, pt3, pt4){\r\n            var bezierName = (pt1[0]+'_'+pt1[1]+'_'+pt2[0]+'_'+pt2[1]+'_'+pt3[0]+'_'+pt3[1]+'_'+pt4[0]+'_'+pt4[1]).replace(/\\./g, 'p');\r\n            if(!storedData[bezierName]){\r\n                var curveSegments = defaultCurveSegments;\r\n                var k, i, len;\r\n                var ptCoord,perc,addedLength = 0;\r\n                var ptDistance;\r\n                var point,lastPoint = null;\r\n                if (pt1.length === 2 && (pt1[0] != pt2[0] || pt1[1] != pt2[1]) && pointOnLine2D(pt1[0],pt1[1],pt2[0],pt2[1],pt1[0]+pt3[0],pt1[1]+pt3[1]) && pointOnLine2D(pt1[0],pt1[1],pt2[0],pt2[1],pt2[0]+pt4[0],pt2[1]+pt4[1])){\r\n                    curveSegments = 2;\r\n                }\r\n                var bezierData = new BezierData(curveSegments);\r\n                len = pt3.length;\r\n                for (k = 0; k < curveSegments; k += 1) {\r\n                    point = createSizedArray(len);\r\n                    perc = k / (curveSegments - 1);\r\n                    ptDistance = 0;\r\n                    for (i = 0; i < len; i += 1){\r\n                        ptCoord = bm_pow(1-perc,3)*pt1[i]+3*bm_pow(1-perc,2)*perc*(pt1[i] + pt3[i])+3*(1-perc)*bm_pow(perc,2)*(pt2[i] + pt4[i])+bm_pow(perc,3)*pt2[i];\r\n                        point[i] = ptCoord;\r\n                        if(lastPoint !== null){\r\n                            ptDistance += bm_pow(point[i] - lastPoint[i],2);\r\n                        }\r\n                    }\r\n                    ptDistance = bm_sqrt(ptDistance);\r\n                    addedLength += ptDistance;\r\n                    bezierData.points[k] = new PointData(ptDistance, point);\r\n                    lastPoint = point;\r\n                }\r\n                bezierData.segmentLength = addedLength;\r\n                storedData[bezierName] = bezierData;\r\n            }\r\n            return storedData[bezierName];\r\n        };\r\n    }());\r\n\r\n    function getDistancePerc(perc,bezierData){\r\n        var percents = bezierData.percents;\r\n        var lengths = bezierData.lengths;\r\n        var len = percents.length;\r\n        var initPos = bm_floor((len-1)*perc);\r\n        var lengthPos = perc*bezierData.addedLength;\r\n        var lPerc = 0;\r\n        if(initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]){\r\n            return percents[initPos];\r\n        }else{\r\n            var dir = lengths[initPos] > lengthPos ? -1 : 1;\r\n            var flag = true;\r\n            while(flag){\r\n                if(lengths[initPos] <= lengthPos && lengths[initPos+1] > lengthPos){\r\n                    lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos+1] - lengths[initPos]);\r\n                    flag = false;\r\n                }else{\r\n                    initPos += dir;\r\n                }\r\n                if(initPos < 0 || initPos >= len - 1){\r\n                    //FIX for TypedArrays that don't store floating point values with enough accuracy\r\n                    if(initPos === len - 1) {\r\n                        return percents[initPos];\r\n                    }\r\n                    flag = false;\r\n                }\r\n            }\r\n            return percents[initPos] + (percents[initPos+1] - percents[initPos])*lPerc;\r\n        }\r\n    }\r\n\r\n    function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\r\n        var t1 = getDistancePerc(percent,bezierData);\r\n        var u0 = 1;\r\n        var u1 = 1 - t1;\r\n        var ptX = Math.round((u1*u1*u1* pt1[0] + (t1*u1*u1 + u1*t1*u1 + u1*u1*t1)* pt3[0] + (t1*t1*u1 + u1*t1*t1 + t1*u1*t1)*pt4[0] + t1*t1*t1* pt2[0])* 1000) / 1000;\r\n        var ptY = Math.round((u1*u1*u1* pt1[1] + (t1*u1*u1 + u1*t1*u1 + u1*u1*t1)* pt3[1] + (t1*t1*u1 + u1*t1*t1 + t1*u1*t1)*pt4[1] + t1*t1*t1* pt2[1])* 1000) / 1000;\r\n        return [ptX, ptY];\r\n    }\r\n\r\n    function getSegmentArray() {\r\n\r\n    }\r\n\r\n    var bezier_segment_points = createTypedArray('float32', 8);\r\n\r\n    function getNewSegment(pt1,pt2,pt3,pt4,startPerc,endPerc, bezierData){\r\n\r\n        startPerc = startPerc < 0 ? 0 : startPerc > 1 ? 1 : startPerc;\r\n        var t0 = getDistancePerc(startPerc,bezierData);\r\n        endPerc = endPerc > 1 ? 1 : endPerc;\r\n        var t1 = getDistancePerc(endPerc,bezierData);\r\n        var i, len = pt1.length;\r\n        var u0 = 1 - t0;\r\n        var u1 = 1 - t1;\r\n        var u0u0u0 = u0*u0*u0;\r\n        var t0u0u0_3 = t0*u0*u0*3;\r\n        var t0t0u0_3 = t0*t0*u0*3;\r\n        var t0t0t0 = t0*t0*t0;\r\n        //\r\n        var u0u0u1 = u0*u0*u1;\r\n        var t0u0u1_3 = t0*u0*u1 + u0*t0*u1 + u0*u0*t1;\r\n        var t0t0u1_3 = t0*t0*u1 + u0*t0*t1 + t0*u0*t1;\r\n        var t0t0t1 = t0*t0*t1;\r\n        //\r\n        var u0u1u1 = u0*u1*u1;\r\n        var t0u1u1_3 = t0*u1*u1 + u0*t1*u1 + u0*u1*t1;\r\n        var t0t1u1_3 = t0*t1*u1 + u0*t1*t1 + t0*u1*t1;\r\n        var t0t1t1 = t0*t1*t1;\r\n        //\r\n        var u1u1u1 = u1*u1*u1;\r\n        var t1u1u1_3 = t1*u1*u1 + u1*t1*u1 + u1*u1*t1;\r\n        var t1t1u1_3 = t1*t1*u1 + u1*t1*t1 + t1*u1*t1;\r\n        var t1t1t1 = t1*t1*t1;\r\n        for(i=0;i<len;i+=1){\r\n            bezier_segment_points[i * 4] = Math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000;\r\n            bezier_segment_points[i * 4 + 1] = Math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000;\r\n            bezier_segment_points[i * 4 + 2] = Math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000;\r\n            bezier_segment_points[i * 4 + 3] = Math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000;\r\n        }\r\n\r\n        return bezier_segment_points;\r\n    }\r\n\r\n    return {\r\n        getSegmentsLength : getSegmentsLength,\r\n        getNewSegment : getNewSegment,\r\n        getPointInSegment : getPointInSegment,\r\n        buildBezierData : buildBezierData,\r\n        pointOnLine2D : pointOnLine2D,\r\n        pointOnLine3D : pointOnLine3D\r\n    };\r\n}\r\n\r\nvar bez = bezFunction();\r\nfunction dataFunctionManager(){\r\n\r\n    //var tCanvasHelper = createTag('canvas').getContext('2d');\r\n\r\n    function completeLayers(layers, comps, fontManager){\r\n        var layerData;\r\n        var animArray, lastFrame;\r\n        var i, len = layers.length;\r\n        var j, jLen, k, kLen;\r\n        for(i=0;i<len;i+=1){\r\n            layerData = layers[i];\r\n            if(!('ks' in layerData) || layerData.completed){\r\n                continue;\r\n            }\r\n            layerData.completed = true;\r\n            if(layerData.tt){\r\n                layers[i-1].td = layerData.tt;\r\n            }\r\n            animArray = [];\r\n            lastFrame = -1;\r\n            if(layerData.hasMask){\r\n                var maskProps = layerData.masksProperties;\r\n                jLen = maskProps.length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    if(maskProps[j].pt.k.i){\r\n                        convertPathsToAbsoluteValues(maskProps[j].pt.k);\r\n                    }else{\r\n                        kLen = maskProps[j].pt.k.length;\r\n                        for(k=0;k<kLen;k+=1){\r\n                            if(maskProps[j].pt.k[k].s){\r\n                                convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\r\n                            }\r\n                            if(maskProps[j].pt.k[k].e){\r\n                                convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if(layerData.ty===0){\r\n                layerData.layers = findCompLayers(layerData.refId, comps);\r\n                completeLayers(layerData.layers,comps, fontManager);\r\n            }else if(layerData.ty === 4){\r\n                completeShapes(layerData.shapes);\r\n            }else if(layerData.ty == 5){\r\n                completeText(layerData, fontManager);\r\n            }\r\n        }\r\n    }\r\n\r\n    function findCompLayers(id,comps){\r\n        var i = 0, len = comps.length;\r\n        while(i<len){\r\n            if(comps[i].id === id){\r\n                if(!comps[i].layers.__used) {\r\n                    comps[i].layers.__used = true;\r\n                    return comps[i].layers;\r\n                }\r\n                return JSON.parse(JSON.stringify(comps[i].layers));\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n\r\n    function completeShapes(arr){\r\n        var i, len = arr.length;\r\n        var j, jLen;\r\n        var hasPaths = false;\r\n        for(i=len-1;i>=0;i-=1){\r\n            if(arr[i].ty == 'sh'){\r\n                if(arr[i].ks.k.i){\r\n                    convertPathsToAbsoluteValues(arr[i].ks.k);\r\n                }else{\r\n                    jLen = arr[i].ks.k.length;\r\n                    for(j=0;j<jLen;j+=1){\r\n                        if(arr[i].ks.k[j].s){\r\n                            convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\r\n                        }\r\n                        if(arr[i].ks.k[j].e){\r\n                            convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\r\n                        }\r\n                    }\r\n                }\r\n                hasPaths = true;\r\n            }else if(arr[i].ty == 'gr'){\r\n                completeShapes(arr[i].it);\r\n            }\r\n        }\r\n        /*if(hasPaths){\r\n            //mx: distance\r\n            //ss: sensitivity\r\n            //dc: decay\r\n            arr.splice(arr.length-1,0,{\r\n                \"ty\": \"ms\",\r\n                \"mx\":20,\r\n                \"ss\":10,\r\n                 \"dc\":0.001,\r\n                \"maxDist\":200\r\n            });\r\n        }*/\r\n    }\r\n\r\n    function convertPathsToAbsoluteValues(path){\r\n        var i, len = path.i.length;\r\n        for(i=0;i<len;i+=1){\r\n            path.i[i][0] += path.v[i][0];\r\n            path.i[i][1] += path.v[i][1];\r\n            path.o[i][0] += path.v[i][0];\r\n            path.o[i][1] += path.v[i][1];\r\n        }\r\n    }\r\n\r\n    function checkVersion(minimum,animVersionString){\r\n        var animVersion = animVersionString ? animVersionString.split('.') : [100,100,100];\r\n        if(minimum[0]>animVersion[0]){\r\n            return true;\r\n        } else if(animVersion[0] > minimum[0]){\r\n            return false;\r\n        }\r\n        if(minimum[1]>animVersion[1]){\r\n            return true;\r\n        } else if(animVersion[1] > minimum[1]){\r\n            return false;\r\n        }\r\n        if(minimum[2]>animVersion[2]){\r\n            return true;\r\n        } else if(animVersion[2] > minimum[2]){\r\n            return false;\r\n        }\r\n    }\r\n\r\n    var checkText = (function(){\r\n        var minimumVersion = [4,4,14];\r\n\r\n        function updateTextLayer(textLayer){\r\n            var documentData = textLayer.t.d;\r\n            textLayer.t.d = {\r\n                k: [\r\n                    {\r\n                        s:documentData,\r\n                        t:0\r\n                    }\r\n                ]\r\n            };\r\n        }\r\n\r\n        function iterateLayers(layers){\r\n            var i, len = layers.length;\r\n            for(i=0;i<len;i+=1){\r\n                if(layers[i].ty === 5){\r\n                    updateTextLayer(layers[i]);\r\n                }\r\n            }\r\n        }\r\n\r\n        return function (animationData){\r\n            if(checkVersion(minimumVersion,animationData.v)){\r\n                iterateLayers(animationData.layers);\r\n                if(animationData.assets){\r\n                    var i, len = animationData.assets.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        if(animationData.assets[i].layers){\r\n                            iterateLayers(animationData.assets[i].layers);\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    var checkChars = (function() {\r\n        var minimumVersion = [4,7,99];\r\n        return function (animationData){\r\n            if(animationData.chars && !checkVersion(minimumVersion,animationData.v)){\r\n                var i, len = animationData.chars.length, j, jLen, k, kLen;\r\n                var pathData, paths;\r\n                for(i = 0; i < len; i += 1) {\r\n                    if(animationData.chars[i].data && animationData.chars[i].data.shapes) {\r\n                        paths = animationData.chars[i].data.shapes[0].it;\r\n                        jLen = paths.length;\r\n\r\n                        for(j = 0; j < jLen; j += 1) {\r\n                            pathData = paths[j].ks.k;\r\n                            if(!pathData.__converted) {\r\n                                convertPathsToAbsoluteValues(paths[j].ks.k);\r\n                                pathData.__converted = true;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    var checkColors = (function(){\r\n        var minimumVersion = [4,1,9];\r\n\r\n        function iterateShapes(shapes){\r\n            var i, len = shapes.length;\r\n            var j, jLen;\r\n            for(i=0;i<len;i+=1){\r\n                if(shapes[i].ty === 'gr'){\r\n                    iterateShapes(shapes[i].it);\r\n                }else if(shapes[i].ty === 'fl' || shapes[i].ty === 'st'){\r\n                    if(shapes[i].c.k && shapes[i].c.k[0].i){\r\n                        jLen = shapes[i].c.k.length;\r\n                        for(j=0;j<jLen;j+=1){\r\n                            if(shapes[i].c.k[j].s){\r\n                                shapes[i].c.k[j].s[0] /= 255;\r\n                                shapes[i].c.k[j].s[1] /= 255;\r\n                                shapes[i].c.k[j].s[2] /= 255;\r\n                                shapes[i].c.k[j].s[3] /= 255;\r\n                            }\r\n                            if(shapes[i].c.k[j].e){\r\n                                shapes[i].c.k[j].e[0] /= 255;\r\n                                shapes[i].c.k[j].e[1] /= 255;\r\n                                shapes[i].c.k[j].e[2] /= 255;\r\n                                shapes[i].c.k[j].e[3] /= 255;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        shapes[i].c.k[0] /= 255;\r\n                        shapes[i].c.k[1] /= 255;\r\n                        shapes[i].c.k[2] /= 255;\r\n                        shapes[i].c.k[3] /= 255;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        function iterateLayers(layers){\r\n            var i, len = layers.length;\r\n            for(i=0;i<len;i+=1){\r\n                if(layers[i].ty === 4){\r\n                    iterateShapes(layers[i].shapes);\r\n                }\r\n            }\r\n        }\r\n\r\n        return function (animationData){\r\n            if(checkVersion(minimumVersion,animationData.v)){\r\n                iterateLayers(animationData.layers);\r\n                if(animationData.assets){\r\n                    var i, len = animationData.assets.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        if(animationData.assets[i].layers){\r\n                            iterateLayers(animationData.assets[i].layers);\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    var checkShapes = (function(){\r\n        var minimumVersion = [4,4,18];\r\n\r\n\r\n\r\n        function completeShapes(arr){\r\n            var i, len = arr.length;\r\n            var j, jLen;\r\n            var hasPaths = false;\r\n            for(i=len-1;i>=0;i-=1){\r\n                if(arr[i].ty == 'sh'){\r\n                    if(arr[i].ks.k.i){\r\n                        arr[i].ks.k.c = arr[i].closed;\r\n                    }else{\r\n                        jLen = arr[i].ks.k.length;\r\n                        for(j=0;j<jLen;j+=1){\r\n                            if(arr[i].ks.k[j].s){\r\n                                arr[i].ks.k[j].s[0].c = arr[i].closed;\r\n                            }\r\n                            if(arr[i].ks.k[j].e){\r\n                                arr[i].ks.k[j].e[0].c = arr[i].closed;\r\n                            }\r\n                        }\r\n                    }\r\n                    hasPaths = true;\r\n                }else if(arr[i].ty == 'gr'){\r\n                    completeShapes(arr[i].it);\r\n                }\r\n            }\r\n        }\r\n\r\n        function iterateLayers(layers){\r\n            var layerData;\r\n            var i, len = layers.length;\r\n            var j, jLen, k, kLen;\r\n            for(i=0;i<len;i+=1){\r\n                layerData = layers[i];\r\n                if(layerData.hasMask){\r\n                    var maskProps = layerData.masksProperties;\r\n                    jLen = maskProps.length;\r\n                    for(j=0;j<jLen;j+=1){\r\n                        if(maskProps[j].pt.k.i){\r\n                            maskProps[j].pt.k.c = maskProps[j].cl;\r\n                        }else{\r\n                            kLen = maskProps[j].pt.k.length;\r\n                            for(k=0;k<kLen;k+=1){\r\n                                if(maskProps[j].pt.k[k].s){\r\n                                    maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\r\n                                }\r\n                                if(maskProps[j].pt.k[k].e){\r\n                                    maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if(layerData.ty === 4){\r\n                    completeShapes(layerData.shapes);\r\n                }\r\n            }\r\n        }\r\n\r\n        return function (animationData){\r\n            if(checkVersion(minimumVersion,animationData.v)){\r\n                iterateLayers(animationData.layers);\r\n                if(animationData.assets){\r\n                    var i, len = animationData.assets.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        if(animationData.assets[i].layers){\r\n                            iterateLayers(animationData.assets[i].layers);\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }());\r\n\r\n    function completeData(animationData, fontManager){\r\n        if(animationData.__complete){\r\n            return;\r\n        }\r\n        checkColors(animationData);\r\n        checkText(animationData);\r\n        checkChars(animationData);\r\n        checkShapes(animationData);\r\n        completeLayers(animationData.layers, animationData.assets, fontManager);\r\n        animationData.__complete = true;\r\n        //blitAnimation(animationData, animationData.assets, fontManager);\r\n    }\r\n\r\n    function completeText(data, fontManager){\r\n        if(data.t.a.length === 0 && !('m' in data.t.p)){\r\n            data.singleShape = true;\r\n        }\r\n    }\r\n\r\n    var moduleOb = {};\r\n    moduleOb.completeData = completeData;\r\n    moduleOb.checkColors = checkColors;\r\n    moduleOb.checkChars = checkChars;\r\n    moduleOb.checkShapes = checkShapes;\r\n    moduleOb.completeLayers = completeLayers;\r\n\r\n    return moduleOb;\r\n}\r\n\r\nvar dataManager = dataFunctionManager();\r\n\r\nvar FontManager = (function(){\r\n\r\n    var maxWaitingTime = 5000;\r\n    var emptyChar = {\r\n        w: 0,\r\n        size:0,\r\n        shapes:[]\r\n    };\r\n    var combinedCharacters = [];\r\n    //Hindi characters\r\n    combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366\r\n    , 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379\r\n    , 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\r\n\r\n    function trimFontOptions(font) {\r\n        var familyArray = font.split(',');\r\n        var i, len = familyArray.length;\r\n        var enabledFamilies = [];\r\n        for (i = 0; i < len; i += 1) {\r\n            if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\r\n                enabledFamilies.push(familyArray[i]);\r\n            }\r\n        }\r\n        return enabledFamilies.join(',');\r\n    }\r\n\r\n    function setUpNode(font, family){\r\n        var parentNode = createTag('span');\r\n        parentNode.style.fontFamily    = family;\r\n        var node = createTag('span');\r\n        // Characters that vary significantly among different fonts\r\n        node.innerHTML = 'giItT1WQy@!-/#';\r\n        // Visible - so we can measure it - but not on the screen\r\n        parentNode.style.position      = 'absolute';\r\n        parentNode.style.left          = '-10000px';\r\n        parentNode.style.top           = '-10000px';\r\n        // Large font size makes even subtle changes obvious\r\n        parentNode.style.fontSize      = '300px';\r\n        // Reset any font properties\r\n        parentNode.style.fontVariant   = 'normal';\r\n        parentNode.style.fontStyle     = 'normal';\r\n        parentNode.style.fontWeight    = 'normal';\r\n        parentNode.style.letterSpacing = '0';\r\n        parentNode.appendChild(node);\r\n        document.body.appendChild(parentNode);\r\n\r\n        // Remember width with no applied web font\r\n        var width = node.offsetWidth;\r\n        node.style.fontFamily = trimFontOptions(font) + ', ' + family;\r\n        return {node:node, w:width, parent:parentNode};\r\n    }\r\n\r\n    function checkLoadedFonts() {\r\n        var i, len = this.fonts.length;\r\n        var node, w;\r\n        var loadedCount = len;\r\n        for(i=0;i<len; i+= 1){\r\n            if(this.fonts[i].loaded){\r\n                loadedCount -= 1;\r\n                continue;\r\n            }\r\n            if(this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0){\r\n                this.fonts[i].loaded = true;\r\n            } else{\r\n                node = this.fonts[i].monoCase.node;\r\n                w = this.fonts[i].monoCase.w;\r\n                if(node.offsetWidth !== w){\r\n                    loadedCount -= 1;\r\n                    this.fonts[i].loaded = true;\r\n                }else{\r\n                    node = this.fonts[i].sansCase.node;\r\n                    w = this.fonts[i].sansCase.w;\r\n                    if(node.offsetWidth !== w){\r\n                        loadedCount -= 1;\r\n                        this.fonts[i].loaded = true;\r\n                    }\r\n                }\r\n                if(this.fonts[i].loaded){\r\n                    this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\r\n                    this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\r\n                }\r\n            }\r\n        }\r\n\r\n        if(loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime){\r\n            setTimeout(this.checkLoadedFontsBinded, 20);\r\n        }else{\r\n            setTimeout(this.setIsLoadedBinded, 10);\r\n\r\n        }\r\n    }\r\n\r\n    function createHelper(def, fontData){\r\n        var tHelper = createNS('text');\r\n        tHelper.style.fontSize = '100px';\r\n        //tHelper.style.fontFamily = fontData.fFamily;\r\n        tHelper.setAttribute('font-family', fontData.fFamily);\r\n        tHelper.setAttribute('font-style', fontData.fStyle);\r\n        tHelper.setAttribute('font-weight', fontData.fWeight);\r\n        tHelper.textContent = '1';\r\n        if(fontData.fClass){\r\n            tHelper.style.fontFamily = 'inherit';\r\n            tHelper.setAttribute('class', fontData.fClass);\r\n        } else {\r\n            tHelper.style.fontFamily = fontData.fFamily;\r\n        }\r\n        def.appendChild(tHelper);\r\n        var tCanvasHelper = createTag('canvas').getContext('2d');\r\n        tCanvasHelper.font = fontData.fWeight + ' ' + fontData.fStyle + ' 100px '+ fontData.fFamily;\r\n        //tCanvasHelper.font = ' 100px '+ fontData.fFamily;\r\n        return tHelper;\r\n    }\r\n\r\n    function addFonts(fontData, defs){\r\n        if(!fontData){\r\n            this.isLoaded = true;\r\n            return;\r\n        }\r\n        if(this.chars){\r\n            this.isLoaded = true;\r\n            this.fonts = fontData.list;\r\n            return;\r\n        }\r\n\r\n\r\n        var fontArr = fontData.list;\r\n        var i, len = fontArr.length;\r\n        var _pendingFonts = len;\r\n        for(i=0; i<len; i+= 1){\r\n            var shouldLoadFont = true;\r\n            var loadedSelector;\r\n            var j;\r\n            fontArr[i].loaded = false;\r\n            fontArr[i].monoCase = setUpNode(fontArr[i].fFamily,'monospace');\r\n            fontArr[i].sansCase = setUpNode(fontArr[i].fFamily,'sans-serif');\r\n            if(!fontArr[i].fPath) {\r\n                fontArr[i].loaded = true;\r\n                _pendingFonts -= 1;\r\n            }else if(fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3){\r\n                loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"'+ fontArr[i].fFamily +'\"], style[f-origin=\"3\"][f-family=\"'+ fontArr[i].fFamily +'\"]');\r\n\r\n                if (loadedSelector.length > 0) {\r\n                    shouldLoadFont = false;\r\n                }\r\n\r\n                if (shouldLoadFont) {\r\n                    var s = createTag('style');\r\n                    s.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n                    s.setAttribute('f-origin', fontArr[i].origin);\r\n                    s.setAttribute('f-family', fontArr[i].fFamily);\r\n                    s.type = \"text/css\";\r\n                    s.innerHTML = \"@font-face {\" + \"font-family: \"+fontArr[i].fFamily+\"; font-style: normal; src: url('\"+fontArr[i].fPath+\"');}\";\r\n                    defs.appendChild(s);\r\n                }\r\n            } else if(fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1){\r\n                loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\r\n\r\n                for (j = 0; j < loadedSelector.length; j++) {\r\n                    if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\r\n                        // Font is already loaded\r\n                        shouldLoadFont = false;\r\n                    }\r\n                }\r\n\r\n                if (shouldLoadFont) {\r\n                    var l = createTag('link');\r\n                    l.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n                    l.setAttribute('f-origin', fontArr[i].origin);\r\n                    l.type = \"text/css\";\r\n                    l.rel = \"stylesheet\";\r\n                    l.href = fontArr[i].fPath;\r\n                    document.body.appendChild(l);\r\n                }\r\n            } else if(fontArr[i].fOrigin === 't' || fontArr[i].origin === 2){\r\n                loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\r\n\r\n                for (j = 0; j < loadedSelector.length; j++) {\r\n                    if (fontArr[i].fPath === loadedSelector[j].src) {\r\n                        // Font is already loaded\r\n                        shouldLoadFont = false;\r\n                    }\r\n                }\r\n\r\n                if (shouldLoadFont) {\r\n                    var sc = createTag('link');\r\n                    sc.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n                    sc.setAttribute('f-origin', fontArr[i].origin);\r\n                    sc.setAttribute('rel','stylesheet');\r\n                    sc.setAttribute('href',fontArr[i].fPath);\r\n                    defs.appendChild(sc);\r\n                }\r\n            }\r\n            fontArr[i].helper = createHelper(defs,fontArr[i]);\r\n            fontArr[i].cache = {};\r\n            this.fonts.push(fontArr[i]);\r\n        }\r\n        if (_pendingFonts === 0) {\r\n            this.isLoaded = true;\r\n        } else {\r\n            //On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\r\n            //Adding this timeout seems to fix it\r\n           setTimeout(this.checkLoadedFonts.bind(this), 100);\r\n        }\r\n    }\r\n\r\n    function addChars(chars){\r\n        if(!chars){\r\n            return;\r\n        }\r\n        if(!this.chars){\r\n            this.chars = [];\r\n        }\r\n        var i, len = chars.length;\r\n        var j, jLen = this.chars.length, found;\r\n        for(i=0;i<len;i+=1){\r\n            j = 0;\r\n            found = false;\r\n            while(j<jLen){\r\n                if(this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch){\r\n                    found = true;\r\n                }\r\n                j += 1;\r\n            }\r\n            if(!found){\r\n                this.chars.push(chars[i]);\r\n                jLen += 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    function getCharData(char, style, font){\r\n        var i = 0, len = this.chars.length;\r\n        while( i < len) {\r\n            if(this.chars[i].ch === char && this.chars[i].style === style && this.chars[i].fFamily === font){\r\n\r\n                return this.chars[i];\r\n            }\r\n            i+= 1;\r\n        }\r\n        if((typeof char === 'string' && char.charCodeAt(0) !== 13 || !char) && console && console.warn) {\r\n            console.warn('Missing character from exported characters list: ', char, style, font);\r\n        }\r\n        return emptyChar;\r\n    }\r\n\r\n    function measureText(char, fontName, size) {\r\n        var fontData = this.getFontByName(fontName);\r\n        var index = char.charCodeAt(0);\r\n        if(!fontData.cache[index + 1]) {\r\n            var tHelper = fontData.helper;\r\n            //Canvas version\r\n            //fontData.cache[index] = tHelper.measureText(char).width / 100;\r\n            //SVG version\r\n            //console.log(tHelper.getBBox().width)\r\n            if (char === ' ') {\r\n                tHelper.textContent = '|' + char + '|';\r\n                var doubleSize = tHelper.getComputedTextLength();\r\n                tHelper.textContent = '||';\r\n                var singleSize = tHelper.getComputedTextLength();\r\n                fontData.cache[index + 1] = (doubleSize - singleSize)/100;\r\n            } else {\r\n                tHelper.textContent = char;\r\n                fontData.cache[index + 1] = (tHelper.getComputedTextLength())/100;\r\n            }\r\n        }\r\n        return fontData.cache[index + 1] * size;\r\n    }\r\n\r\n    function getFontByName(name){\r\n        var i = 0, len = this.fonts.length;\r\n        while(i<len){\r\n            if(this.fonts[i].fName === name) {\r\n                return this.fonts[i];\r\n            }\r\n            i += 1;\r\n        }\r\n        return this.fonts[0];\r\n    }\r\n\r\n    function getCombinedCharacterCodes() {\r\n        return combinedCharacters;\r\n    }\r\n\r\n    function setIsLoaded() {\r\n        this.isLoaded = true\r\n    }\r\n\r\n    var Font = function(){\r\n        this.fonts = [];\r\n        this.chars = null;\r\n        this.typekitLoaded = 0;\r\n        this.isLoaded = false;\r\n        this.initTime = Date.now();\r\n        this.setIsLoadedBinded = this.setIsLoaded.bind(this)\r\n        this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this)\r\n    };\r\n    //TODO: for now I'm adding these methods to the Class and not the prototype. Think of a better way to implement it. \r\n    Font.getCombinedCharacterCodes = getCombinedCharacterCodes;\r\n\r\n    var fontPrototype = {\r\n        addChars: addChars,\r\n        addFonts: addFonts,\r\n        getCharData: getCharData,\r\n        getFontByName: getFontByName,\r\n        measureText: measureText,\r\n        checkLoadedFonts: checkLoadedFonts,\r\n        setIsLoaded: setIsLoaded,\r\n    }\r\n\r\n    Font.prototype = fontPrototype;\r\n\r\n    return Font;\r\n\r\n}());\r\nvar PropertyFactory = (function(){\r\n\r\n    var initFrame = initialDefaultFrame;\r\n    var math_abs = Math.abs;\r\n\r\n    function interpolateValue(frameNum, caching) {\r\n        var offsetTime = this.offsetTime;\r\n        var newValue;\r\n        if (this.propType === 'multidimensional') {\r\n            newValue = createTypedArray('float32', this.pv.length);\r\n        }\r\n        var iterationIndex = caching.lastIndex;\r\n        var i = iterationIndex;\r\n        var len = this.keyframes.length - 1, flag = true;\r\n        var keyData, nextKeyData;\r\n\r\n        while (flag) {\r\n            keyData = this.keyframes[i];\r\n            nextKeyData = this.keyframes[i + 1];\r\n            if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime){\r\n                if(keyData.h){\r\n                    keyData = nextKeyData;\r\n                }\r\n                iterationIndex = 0;\r\n                break;\r\n            }\r\n            if ((nextKeyData.t - offsetTime) > frameNum){\r\n                iterationIndex = i;\r\n                break;\r\n            }\r\n            if (i < len - 1){\r\n                i += 1;\r\n            } else {\r\n                iterationIndex = 0;\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n        var k, kLen, perc, jLen, j, fnc;\r\n        var nextKeyTime = nextKeyData.t - offsetTime;\r\n        var keyTime = keyData.t - offsetTime;\r\n        var endValue;\r\n        if (keyData.to) {\r\n            if (!keyData.bezierData) {\r\n                keyData.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\r\n            }\r\n            var bezierData = keyData.bezierData;\r\n            if (frameNum >= nextKeyTime || frameNum < keyTime) {\r\n                var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\r\n                kLen = bezierData.points[ind].point.length;\r\n                for (k = 0; k < kLen; k += 1) {\r\n                    newValue[k] = bezierData.points[ind].point[k];\r\n                }\r\n                // caching._lastKeyframeIndex = -1;\r\n            } else {\r\n                if (keyData.__fnct) {\r\n                    fnc = keyData.__fnct;\r\n                } else {\r\n                    fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\r\n                    keyData.__fnct = fnc;\r\n                }\r\n                perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n                var distanceInLine = bezierData.segmentLength*perc;\r\n\r\n                var segmentPerc;\r\n                var addedLength =  (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastAddedLength : 0;\r\n                j =  (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastPoint : 0;\r\n                flag = true;\r\n                jLen = bezierData.points.length;\r\n                while (flag) {\r\n                    addedLength += bezierData.points[j].partialLength;\r\n                    if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\r\n                        kLen = bezierData.points[j].point.length;\r\n                        for (k = 0; k < kLen; k += 1) {\r\n                            newValue[k] = bezierData.points[j].point[k];\r\n                        }\r\n                        break;\r\n                    } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\r\n                        segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\r\n                        kLen = bezierData.points[j].point.length;\r\n                        for (k = 0; k < kLen; k += 1) {\r\n                            newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\r\n                        }\r\n                        break;\r\n                    }\r\n                    if (j < jLen - 1){\r\n                        j += 1;\r\n                    } else {\r\n                        flag = false;\r\n                    }\r\n                }\r\n                caching._lastPoint = j;\r\n                caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\r\n                caching._lastKeyframeIndex = i;\r\n            }\r\n        } else {\r\n            var outX, outY, inX, inY, keyValue;\r\n            len = keyData.s.length;\r\n            endValue = nextKeyData.s || keyData.e;\r\n            if (this.sh && keyData.h !== 1) {\r\n                if (frameNum >= nextKeyTime) {\r\n                    newValue[0] = endValue[0];\r\n                    newValue[1] = endValue[1];\r\n                    newValue[2] = endValue[2];\r\n                } else if (frameNum <= keyTime) {\r\n                    newValue[0] = keyData.s[0];\r\n                    newValue[1] = keyData.s[1];\r\n                    newValue[2] = keyData.s[2];\r\n                } else {\r\n                    var quatStart = createQuaternion(keyData.s);\r\n                    var quatEnd = createQuaternion(endValue);\r\n                    var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\r\n                    quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\r\n                }\r\n                \r\n            } else {\r\n                for(i = 0; i < len; i += 1) {\r\n                    if (keyData.h !== 1) {\r\n                        if (frameNum >= nextKeyTime) {\r\n                            perc = 1;\r\n                        } else if(frameNum < keyTime) {\r\n                            perc = 0;\r\n                        } else {\r\n                            if(keyData.o.x.constructor === Array) {\r\n                                if (!keyData.__fnct) {\r\n                                    keyData.__fnct = [];\r\n                                }\r\n                                if (!keyData.__fnct[i]) {\r\n                                    outX = (typeof keyData.o.x[i] === 'undefined') ? keyData.o.x[0] : keyData.o.x[i];\r\n                                    outY = (typeof keyData.o.y[i] === 'undefined') ? keyData.o.y[0] : keyData.o.y[i];\r\n                                    inX = (typeof keyData.i.x[i] === 'undefined') ? keyData.i.x[0] : keyData.i.x[i];\r\n                                    inY = (typeof keyData.i.y[i] === 'undefined') ? keyData.i.y[0] : keyData.i.y[i];\r\n                                    fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                                    keyData.__fnct[i] = fnc;\r\n                                } else {\r\n                                    fnc = keyData.__fnct[i];\r\n                                }\r\n                            } else {\r\n                                if (!keyData.__fnct) {\r\n                                    outX = keyData.o.x;\r\n                                    outY = keyData.o.y;\r\n                                    inX = keyData.i.x;\r\n                                    inY = keyData.i.y;\r\n                                    fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                                    keyData.__fnct = fnc;\r\n                                } else {\r\n                                    fnc = keyData.__fnct;\r\n                                }\r\n                            }\r\n                            perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime ));\r\n                        }\r\n                    }\r\n\r\n                    endValue = nextKeyData.s || keyData.e;\r\n                    keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\r\n\r\n                    if (this.propType === 'multidimensional') {\r\n                        newValue[i] = keyValue;\r\n                    } else {\r\n                        newValue = keyValue;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        caching.lastIndex = iterationIndex;\r\n        return newValue;\r\n    }\r\n\r\n    //based on @Toji's https://github.com/toji/gl-matrix/\r\n    function slerp(a, b, t) {\r\n        var out = [];\r\n        var ax = a[0], ay = a[1], az = a[2], aw = a[3],\r\n        bx = b[0], by = b[1], bz = b[2], bw = b[3]\r\n\r\n        var omega, cosom, sinom, scale0, scale1;\r\n\r\n        cosom = ax * bx + ay * by + az * bz + aw * bw;\r\n        if (cosom < 0.0) {\r\n            cosom = -cosom;\r\n            bx = -bx;\r\n            by = -by;\r\n            bz = -bz;\r\n            bw = -bw;\r\n        }\r\n        if ((1.0 - cosom) > 0.000001) {\r\n            omega = Math.acos(cosom);\r\n            sinom = Math.sin(omega);\r\n            scale0 = Math.sin((1.0 - t) * omega) / sinom;\r\n            scale1 = Math.sin(t * omega) / sinom;\r\n        } else {\r\n            scale0 = 1.0 - t;\r\n            scale1 = t;\r\n        }\r\n        out[0] = scale0 * ax + scale1 * bx;\r\n        out[1] = scale0 * ay + scale1 * by;\r\n        out[2] = scale0 * az + scale1 * bz;\r\n        out[3] = scale0 * aw + scale1 * bw;\r\n\r\n        return out;\r\n    }\r\n\r\n    function quaternionToEuler(out, quat) {\r\n        var qx = quat[0];\r\n        var qy = quat[1];\r\n        var qz = quat[2];\r\n        var qw = quat[3];\r\n        var heading = Math.atan2(2*qy*qw-2*qx*qz , 1 - 2*qy*qy - 2*qz*qz)\r\n        var attitude = Math.asin(2*qx*qy + 2*qz*qw) \r\n        var bank = Math.atan2(2*qx*qw-2*qy*qz , 1 - 2*qx*qx - 2*qz*qz);\r\n        out[0] = heading/degToRads;\r\n        out[1] = attitude/degToRads;\r\n        out[2] = bank/degToRads;\r\n    }\r\n\r\n    function createQuaternion(values) {\r\n        var heading = values[0] * degToRads;\r\n        var attitude = values[1] * degToRads;\r\n        var bank = values[2] * degToRads;\r\n        var c1 = Math.cos(heading / 2);\r\n        var c2 = Math.cos(attitude / 2);\r\n        var c3 = Math.cos(bank / 2);\r\n        var s1 = Math.sin(heading / 2);\r\n        var s2 = Math.sin(attitude / 2);\r\n        var s3 = Math.sin(bank / 2);\r\n        var w = c1 * c2 * c3 - s1 * s2 * s3;\r\n        var x = s1 * s2 * c3 + c1 * c2 * s3;\r\n        var y = s1 * c2 * c3 + c1 * s2 * s3;\r\n        var z = c1 * s2 * c3 - s1 * c2 * s3;\r\n\r\n        return [x,y,z,w];\r\n    }\r\n\r\n    function getValueAtCurrentTime(){\r\n        var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n        var initTime = this.keyframes[0].t - this.offsetTime;\r\n        var endTime = this.keyframes[this.keyframes.length- 1].t-this.offsetTime;\r\n        if(!(frameNum === this._caching.lastFrame || (this._caching.lastFrame !== initFrame && ((this._caching.lastFrame >= endTime && frameNum >= endTime) || (this._caching.lastFrame < initTime && frameNum < initTime))))){\r\n            if(this._caching.lastFrame >= frameNum) {\r\n                this._caching._lastKeyframeIndex = -1;\r\n                this._caching.lastIndex = 0;\r\n            }\r\n\r\n            var renderResult = this.interpolateValue(frameNum, this._caching);\r\n            this.pv = renderResult;\r\n        }\r\n        this._caching.lastFrame = frameNum;\r\n        return this.pv;\r\n    }\r\n\r\n    function setVValue(val) {\r\n        var multipliedValue;\r\n        if(this.propType === 'unidimensional') {\r\n            multipliedValue = val * this.mult;\r\n            if(math_abs(this.v - multipliedValue) > 0.00001) {\r\n                this.v = multipliedValue;\r\n                this._mdf = true;\r\n            }\r\n        } else {\r\n            var i = 0, len = this.v.length;\r\n            while (i < len) {\r\n                multipliedValue = val[i] * this.mult;\r\n                if (math_abs(this.v[i] - multipliedValue) > 0.00001) {\r\n                    this.v[i] = multipliedValue;\r\n                    this._mdf = true;\r\n                }\r\n                i += 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    function processEffectsSequence() {\r\n        if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\r\n            return;\r\n        }\r\n        if(this.lock) {\r\n            this.setVValue(this.pv);\r\n            return;\r\n        }\r\n        this.lock = true;\r\n        this._mdf = this._isFirstFrame;\r\n        var multipliedValue;\r\n        var i, len = this.effectsSequence.length;\r\n        var finalValue = this.kf ? this.pv : this.data.k;\r\n        for(i = 0; i < len; i += 1) {\r\n            finalValue = this.effectsSequence[i](finalValue);\r\n        }\r\n        this.setVValue(finalValue);\r\n        this._isFirstFrame = false;\r\n        this.lock = false;\r\n        this.frameId = this.elem.globalData.frameId;\r\n    }\r\n\r\n    function addEffect(effectFunction) {\r\n        this.effectsSequence.push(effectFunction);\r\n        this.container.addDynamicProperty(this);\r\n    }\r\n\r\n    function ValueProperty(elem, data, mult, container){\r\n        this.propType = 'unidimensional';\r\n        this.mult = mult || 1;\r\n        this.data = data;\r\n        this.v = mult ? data.k * mult : data.k;\r\n        this.pv = data.k;\r\n        this._mdf = false;\r\n        this.elem = elem;\r\n        this.container = container;\r\n        this.comp = elem.comp;\r\n        this.k = false;\r\n        this.kf = false;\r\n        this.vel = 0;\r\n        this.effectsSequence = [];\r\n        this._isFirstFrame = true;\r\n        this.getValue = processEffectsSequence;\r\n        this.setVValue = setVValue;\r\n        this.addEffect = addEffect;\r\n    }\r\n\r\n    function MultiDimensionalProperty(elem, data, mult, container) {\r\n        this.propType = 'multidimensional';\r\n        this.mult = mult || 1;\r\n        this.data = data;\r\n        this._mdf = false;\r\n        this.elem = elem;\r\n        this.container = container;\r\n        this.comp = elem.comp;\r\n        this.k = false;\r\n        this.kf = false;\r\n        this.frameId = -1;\r\n        var i, len = data.k.length;\r\n        this.v = createTypedArray('float32', len);\r\n        this.pv = createTypedArray('float32', len);\r\n        var arr = createTypedArray('float32', len);\r\n        this.vel = createTypedArray('float32', len);\r\n        for (i = 0; i < len; i += 1) {\r\n            this.v[i] = data.k[i] * this.mult;\r\n            this.pv[i] = data.k[i];\r\n        }\r\n        this._isFirstFrame = true;\r\n        this.effectsSequence = [];\r\n        this.getValue = processEffectsSequence;\r\n        this.setVValue = setVValue;\r\n        this.addEffect = addEffect;\r\n    }\r\n\r\n    function KeyframedValueProperty(elem, data, mult, container) {\r\n        this.propType = 'unidimensional';\r\n        this.keyframes = data.k;\r\n        this.offsetTime = elem.data.st;\r\n        this.frameId = -1;\r\n        this._caching = {lastFrame: initFrame, lastIndex: 0, value: 0, _lastKeyframeIndex: -1};\r\n        this.k = true;\r\n        this.kf = true;\r\n        this.data = data;\r\n        this.mult = mult || 1;\r\n        this.elem = elem;\r\n        this.container = container;\r\n        this.comp = elem.comp;\r\n        this.v = initFrame;\r\n        this.pv = initFrame;\r\n        this._isFirstFrame = true;\r\n        this.getValue = processEffectsSequence;\r\n        this.setVValue = setVValue;\r\n        this.interpolateValue = interpolateValue;\r\n        this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n        this.addEffect = addEffect;\r\n    }\r\n\r\n    function KeyframedMultidimensionalProperty(elem, data, mult, container){\r\n        this.propType = 'multidimensional';\r\n        var i, len = data.k.length;\r\n        var s, e,to,ti;\r\n        for (i = 0; i < len - 1; i += 1) {\r\n            if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\r\n                s = data.k[i].s;\r\n                e = data.k[i + 1].s;\r\n                to = data.k[i].to;\r\n                ti = data.k[i].ti;\r\n                if((s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0],s[1],e[0],e[1],s[0] + to[0],s[1] + to[1]) && bez.pointOnLine2D(s[0],s[1],e[0],e[1],e[0] + ti[0],e[1] + ti[1])) || (s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0],s[1],s[2],e[0],e[1],e[2],s[0] + to[0],s[1] + to[1],s[2] + to[2]) && bez.pointOnLine3D(s[0],s[1],s[2],e[0],e[1],e[2],e[0] + ti[0],e[1] + ti[1],e[2] + ti[2]))){\r\n                    data.k[i].to = null;\r\n                    data.k[i].ti = null;\r\n                }\r\n                if(s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\r\n                    if(s.length === 2 || (s[2] === e[2] && to[2] === 0 && ti[2] === 0)) {\r\n                        data.k[i].to = null;\r\n                        data.k[i].ti = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n        this.keyframes = data.k;\r\n        this.offsetTime = elem.data.st;\r\n        this.k = true;\r\n        this.kf = true;\r\n        this._isFirstFrame = true;\r\n        this.mult = mult || 1;\r\n        this.elem = elem;\r\n        this.container = container;\r\n        this.comp = elem.comp;\r\n        this.getValue = processEffectsSequence;\r\n        this.setVValue = setVValue;\r\n        this.interpolateValue = interpolateValue;\r\n        this.frameId = -1;\r\n        var arrLen = data.k[0].s.length;\r\n        this.v = createTypedArray('float32', arrLen);\r\n        this.pv = createTypedArray('float32', arrLen);\r\n        for (i = 0; i < arrLen; i += 1) {\r\n            this.v[i] = initFrame;\r\n            this.pv[i] = initFrame;\r\n        }\r\n        this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray('float32', arrLen)};\r\n        this.addEffect = addEffect;\r\n    }\r\n\r\n    function getProp(elem,data,type, mult, container) {\r\n        var p;\r\n        if(!data.k.length){\r\n            p = new ValueProperty(elem,data, mult, container);\r\n        }else if(typeof(data.k[0]) === 'number'){\r\n            p = new MultiDimensionalProperty(elem,data, mult, container);\r\n        }else{\r\n            switch(type){\r\n                case 0:\r\n                    p = new KeyframedValueProperty(elem,data,mult, container);\r\n                    break;\r\n                case 1:\r\n                    p = new KeyframedMultidimensionalProperty(elem,data,mult, container);\r\n                    break;\r\n            }\r\n        }\r\n        if(p.effectsSequence.length){\r\n            container.addDynamicProperty(p);\r\n        }\r\n        return p;\r\n    }\r\n\r\n    var ob = {\r\n        getProp: getProp\r\n    };\r\n    return ob;\r\n}());\r\nvar TransformPropertyFactory = (function() {\r\n\r\n    var defaultVector = [0,0]\r\n\r\n    function applyToMatrix(mat) {\r\n        var _mdf = this._mdf;\r\n        this.iterateDynamicProperties();\r\n        this._mdf = this._mdf || _mdf;\r\n        if (this.a) {\r\n            mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n        }\r\n        if (this.s) {\r\n            mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n        }\r\n        if (this.sk) {\r\n            mat.skewFromAxis(-this.sk.v, this.sa.v);\r\n        }\r\n        if (this.r) {\r\n            mat.rotate(-this.r.v);\r\n        } else {\r\n            mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n        }\r\n        if (this.data.p.s) {\r\n            if (this.data.p.z) {\r\n                mat.translate(this.px.v, this.py.v, -this.pz.v);\r\n            } else {\r\n                mat.translate(this.px.v, this.py.v, 0);\r\n            }\r\n        } else {\r\n            mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n        }\r\n    }\r\n    function processKeys(forceRender){\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n            return;\r\n        }\r\n        if(this._isDirty) {\r\n            this.precalculateMatrix();\r\n            this._isDirty = false;\r\n        }\r\n\r\n        this.iterateDynamicProperties();\r\n\r\n        if (this._mdf || forceRender) {\r\n            this.v.cloneFromProps(this.pre.props);\r\n            if (this.appliedTransformations < 1) {\r\n                this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n            }\r\n            if(this.appliedTransformations < 2) {\r\n                this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n            }\r\n            if (this.sk && this.appliedTransformations < 3) {\r\n                this.v.skewFromAxis(-this.sk.v, this.sa.v);\r\n            }\r\n            if (this.r && this.appliedTransformations < 4) {\r\n                this.v.rotate(-this.r.v);\r\n            } else if (!this.r && this.appliedTransformations < 4){\r\n                this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n            }\r\n            if (this.autoOriented) {\r\n                var v1,v2, frameRate = this.elem.globalData.frameRate;\r\n                if(this.p && this.p.keyframes && this.p.getValueAtTime) {\r\n                    if (this.p._caching.lastFrame+this.p.offsetTime <= this.p.keyframes[0].t) {\r\n                        v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate,0);\r\n                        v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\r\n                    } else if(this.p._caching.lastFrame+this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\r\n                        v1 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t / frameRate), 0);\r\n                        v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\r\n                    } else {\r\n                        v1 = this.p.pv;\r\n                        v2 = this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\r\n                    }\r\n                } else if(this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\r\n                    v1 = [];\r\n                    v2 = [];\r\n                    var px = this.px, py = this.py, frameRate;\r\n                    if (px._caching.lastFrame+px.offsetTime <= px.keyframes[0].t) {\r\n                        v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate,0);\r\n                        v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate,0);\r\n                        v2[0] = px.getValueAtTime((px.keyframes[0].t) / frameRate,0);\r\n                        v2[1] = py.getValueAtTime((py.keyframes[0].t) / frameRate,0);\r\n                    } else if(px._caching.lastFrame+px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\r\n                        v1[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t / frameRate),0);\r\n                        v1[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t / frameRate),0);\r\n                        v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate,0);\r\n                        v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate,0);\r\n                    } else {\r\n                        v1 = [px.pv, py.pv];\r\n                        v2[0] = px.getValueAtTime((px._caching.lastFrame+px.offsetTime - 0.01) / frameRate,px.offsetTime);\r\n                        v2[1] = py.getValueAtTime((py._caching.lastFrame+py.offsetTime - 0.01) / frameRate,py.offsetTime);\r\n                    }\r\n                } else {\r\n                    v1 = v2 = defaultVector\r\n                }\r\n                this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\r\n            }\r\n            if(this.data.p && this.data.p.s){\r\n                if(this.data.p.z) {\r\n                    this.v.translate(this.px.v, this.py.v, -this.pz.v);\r\n                } else {\r\n                    this.v.translate(this.px.v, this.py.v, 0);\r\n                }\r\n            }else{\r\n                this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2]);\r\n            }\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n    }\r\n\r\n    function precalculateMatrix() {\r\n        if(!this.a.k) {\r\n            this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n            this.appliedTransformations = 1;\r\n        } else {\r\n            return;\r\n        }\r\n        if(!this.s.effectsSequence.length) {\r\n            this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n            this.appliedTransformations = 2;\r\n        } else {\r\n            return;\r\n        }\r\n        if(this.sk) {\r\n            if(!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\r\n                this.pre.skewFromAxis(-this.sk.v, this.sa.v);\r\n            this.appliedTransformations = 3;\r\n            } else {\r\n                return;\r\n            }\r\n        }\r\n        if (this.r) {\r\n            if(!this.r.effectsSequence.length) {\r\n                this.pre.rotate(-this.r.v);\r\n                this.appliedTransformations = 4;\r\n            } else {\r\n                return;\r\n            }\r\n        } else if(!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\r\n            this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\r\n            this.appliedTransformations = 4;\r\n        }\r\n    }\r\n\r\n    function autoOrient(){\r\n        //\r\n        //var prevP = this.getValueAtTime();\r\n    }\r\n\r\n    function addDynamicProperty(prop) {\r\n        this._addDynamicProperty(prop);\r\n        this.elem.addDynamicProperty(prop);\r\n        this._isDirty = true;\r\n    }\r\n\r\n    function TransformProperty(elem,data,container){\r\n        this.elem = elem;\r\n        this.frameId = -1;\r\n        this.propType = 'transform';\r\n        this.data = data;\r\n        this.v = new Matrix();\r\n        //Precalculated matrix with non animated properties\r\n        this.pre = new Matrix();\r\n        this.appliedTransformations = 0;\r\n        this.initDynamicPropertyContainer(container || elem);\r\n        if(data.p && data.p.s){\r\n            this.px = PropertyFactory.getProp(elem,data.p.x,0,0,this);\r\n            this.py = PropertyFactory.getProp(elem,data.p.y,0,0,this);\r\n            if(data.p.z){\r\n                this.pz = PropertyFactory.getProp(elem,data.p.z,0,0,this);\r\n            }\r\n        }else{\r\n            this.p = PropertyFactory.getProp(elem,data.p || {k:[0,0,0]},1,0,this);\r\n        }\r\n        if(data.rx) {\r\n            this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\r\n            this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\r\n            this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\r\n            if(data.or.k[0].ti) {\r\n                var i, len = data.or.k.length;\r\n                for(i=0;i<len;i+=1) {\r\n                    data.or.k[i].to = data.or.k[i].ti = null;\r\n                }\r\n            }\r\n            this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this);\r\n            //sh Indicates it needs to be capped between -180 and 180\r\n            this.or.sh = true;\r\n        } else {\r\n            this.r = PropertyFactory.getProp(elem, data.r || {k: 0}, 0, degToRads, this);\r\n        }\r\n        if(data.sk){\r\n            this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\r\n            this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\r\n        }\r\n        this.a = PropertyFactory.getProp(elem,data.a || {k:[0,0,0]},1,0,this);\r\n        this.s = PropertyFactory.getProp(elem,data.s || {k:[100,100,100]},1,0.01,this);\r\n        // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\r\n        if(data.o){\r\n            this.o = PropertyFactory.getProp(elem,data.o,0,0.01,elem);\r\n        } else {\r\n            this.o = {_mdf:false,v:1};\r\n        }\r\n        this._isDirty = true;\r\n        if(!this.dynamicProperties.length){\r\n            this.getValue(true);\r\n        }\r\n    }\r\n\r\n    TransformProperty.prototype = {\r\n        applyToMatrix: applyToMatrix,\r\n        getValue: processKeys,\r\n        precalculateMatrix: precalculateMatrix,\r\n        autoOrient: autoOrient\r\n    }\r\n\r\n    extendPrototype([DynamicPropertyContainer], TransformProperty);\r\n    TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\r\n    TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\r\n\r\n    function getTransformProperty(elem,data,container){\r\n        return new TransformProperty(elem,data,container);\r\n    }\r\n\r\n    return {\r\n        getTransformProperty: getTransformProperty\r\n    };\r\n\r\n}());\r\nfunction ShapePath(){\r\n\tthis.c = false;\r\n\tthis._length = 0;\r\n\tthis._maxLength = 8;\r\n\tthis.v = createSizedArray(this._maxLength);\r\n\tthis.o = createSizedArray(this._maxLength);\r\n\tthis.i = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapePath.prototype.setPathData = function(closed, len) {\r\n\tthis.c = closed;\r\n\tthis.setLength(len);\r\n\tvar i = 0;\r\n\twhile(i < len){\r\n\t\tthis.v[i] = point_pool.newElement();\r\n\t\tthis.o[i] = point_pool.newElement();\r\n\t\tthis.i[i] = point_pool.newElement();\r\n\t\ti += 1;\r\n\t}\r\n};\r\n\r\nShapePath.prototype.setLength = function(len) {\r\n\twhile(this._maxLength < len) {\r\n\t\tthis.doubleArrayLength();\r\n\t}\r\n\tthis._length = len;\r\n};\r\n\r\nShapePath.prototype.doubleArrayLength = function() {\r\n\tthis.v = this.v.concat(createSizedArray(this._maxLength));\r\n\tthis.i = this.i.concat(createSizedArray(this._maxLength));\r\n\tthis.o = this.o.concat(createSizedArray(this._maxLength));\r\n\tthis._maxLength *= 2;\r\n};\r\n\r\nShapePath.prototype.setXYAt = function(x, y, type, pos, replace) {\r\n\tvar arr;\r\n\tthis._length = Math.max(this._length, pos + 1);\r\n\tif(this._length >= this._maxLength) {\r\n\t\tthis.doubleArrayLength();\r\n\t}\r\n\tswitch(type){\r\n\t\tcase 'v':\r\n\t\t\tarr = this.v;\r\n\t\t\tbreak;\r\n\t\tcase 'i':\r\n\t\t\tarr = this.i;\r\n\t\t\tbreak;\r\n\t\tcase 'o':\r\n\t\t\tarr = this.o;\r\n\t\t\tbreak;\r\n\t}\r\n\tif(!arr[pos] || (arr[pos] && !replace)){\r\n\t\tarr[pos] = point_pool.newElement();\r\n\t}\r\n\tarr[pos][0] = x;\r\n\tarr[pos][1] = y;\r\n};\r\n\r\nShapePath.prototype.setTripleAt = function(vX,vY,oX,oY,iX,iY,pos, replace) {\r\n\tthis.setXYAt(vX,vY,'v',pos, replace);\r\n\tthis.setXYAt(oX,oY,'o',pos, replace);\r\n\tthis.setXYAt(iX,iY,'i',pos, replace);\r\n};\r\n\r\nShapePath.prototype.reverse = function() {\r\n\tvar newPath = new ShapePath();\r\n\tnewPath.setPathData(this.c, this._length);\r\n\tvar vertices = this.v, outPoints = this.o, inPoints = this.i;\r\n\tvar init = 0;\r\n\tif (this.c) {\r\n\t\tnewPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\r\n        init = 1;\r\n    }\r\n    var cnt = this._length - 1;\r\n    var len = this._length;\r\n\r\n    var i;\r\n    for (i = init; i < len; i += 1) {\r\n    \tnewPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\r\n        cnt -= 1;\r\n    }\r\n    return newPath;\r\n};\r\nvar ShapePropertyFactory = (function(){\r\n\r\n    var initFrame = -999999;\r\n\r\n    function interpolateShape(frameNum, previousValue, caching) {\r\n        var iterationIndex = caching.lastIndex;\r\n        var keyPropS,keyPropE,isHold, j, k, jLen, kLen, perc, vertexValue;\r\n        var kf = this.keyframes;\r\n        if(frameNum < kf[0].t-this.offsetTime){\r\n            keyPropS = kf[0].s[0];\r\n            isHold = true;\r\n            iterationIndex = 0;\r\n        }else if(frameNum >= kf[kf.length - 1].t-this.offsetTime){\r\n            keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\r\n            /*if(kf[kf.length - 1].s){\r\n                keyPropS = kf[kf.length - 1].s[0];\r\n            }else{\r\n                keyPropS = kf[kf.length - 2].e[0];\r\n            }*/\r\n            isHold = true;\r\n        }else{\r\n            var i = iterationIndex;\r\n            var len = kf.length- 1,flag = true,keyData,nextKeyData;\r\n            while(flag){\r\n                keyData = kf[i];\r\n                nextKeyData = kf[i+1];\r\n                if((nextKeyData.t - this.offsetTime) > frameNum){\r\n                    break;\r\n                }\r\n                if(i < len - 1){\r\n                    i += 1;\r\n                }else{\r\n                    flag = false;\r\n                }\r\n            }\r\n            isHold = keyData.h === 1;\r\n            iterationIndex = i;\r\n            if(!isHold){\r\n                if(frameNum >= nextKeyData.t-this.offsetTime){\r\n                    perc = 1;\r\n                }else if(frameNum < keyData.t-this.offsetTime){\r\n                    perc = 0;\r\n                }else{\r\n                    var fnc;\r\n                    if(keyData.__fnct){\r\n                        fnc = keyData.__fnct;\r\n                    }else{\r\n                        fnc = BezierFactory.getBezierEasing(keyData.o.x,keyData.o.y,keyData.i.x,keyData.i.y).get;\r\n                        keyData.__fnct = fnc;\r\n                    }\r\n                    perc = fnc((frameNum-(keyData.t-this.offsetTime))/((nextKeyData.t-this.offsetTime)-(keyData.t-this.offsetTime)));\r\n                }\r\n                keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\r\n            }\r\n            keyPropS = keyData.s[0];\r\n        }\r\n        jLen = previousValue._length;\r\n        kLen = keyPropS.i[0].length;\r\n        caching.lastIndex = iterationIndex;\r\n\r\n        for(j=0;j<jLen;j+=1){\r\n            for(k=0;k<kLen;k+=1){\r\n                vertexValue = isHold ? keyPropS.i[j][k] :  keyPropS.i[j][k]+(keyPropE.i[j][k]-keyPropS.i[j][k])*perc;\r\n                previousValue.i[j][k] = vertexValue;\r\n                vertexValue = isHold ? keyPropS.o[j][k] :  keyPropS.o[j][k]+(keyPropE.o[j][k]-keyPropS.o[j][k])*perc;\r\n                previousValue.o[j][k] = vertexValue;\r\n                vertexValue = isHold ? keyPropS.v[j][k] :  keyPropS.v[j][k]+(keyPropE.v[j][k]-keyPropS.v[j][k])*perc;\r\n                previousValue.v[j][k] = vertexValue;\r\n            }\r\n        }\r\n    }\r\n\r\n    function interpolateShapeCurrentTime(){\r\n        var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n        var initTime = this.keyframes[0].t - this.offsetTime;\r\n        var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n        var lastFrame = this._caching.lastFrame;\r\n        if(!(lastFrame !== initFrame && ((lastFrame < initTime && frameNum < initTime) || (lastFrame > endTime && frameNum > endTime)))){\r\n            ////\r\n            this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\r\n            this.interpolateShape(frameNum, this.pv, this._caching);\r\n            ////\r\n        }\r\n        this._caching.lastFrame = frameNum;\r\n        return this.pv;\r\n    }\r\n\r\n    function resetShape(){\r\n        this.paths = this.localShapeCollection;\r\n    }\r\n\r\n    function shapesEqual(shape1, shape2) {\r\n        if(shape1._length !== shape2._length || shape1.c !== shape2.c){\r\n            return false;\r\n        }\r\n        var i, len = shape1._length;\r\n        for(i = 0; i < len; i += 1) {\r\n            if(shape1.v[i][0] !== shape2.v[i][0] \r\n            || shape1.v[i][1] !== shape2.v[i][1] \r\n            || shape1.o[i][0] !== shape2.o[i][0] \r\n            || shape1.o[i][1] !== shape2.o[i][1] \r\n            || shape1.i[i][0] !== shape2.i[i][0] \r\n            || shape1.i[i][1] !== shape2.i[i][1]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function setVValue(newPath) {\r\n        if(!shapesEqual(this.v, newPath)) {\r\n            this.v = shape_pool.clone(newPath);\r\n            this.localShapeCollection.releaseShapes();\r\n            this.localShapeCollection.addShape(this.v);\r\n            this._mdf = true;\r\n            this.paths = this.localShapeCollection;\r\n        }\r\n    }\r\n\r\n    function processEffectsSequence() {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n            return;\r\n        } else if (!this.effectsSequence.length) {\r\n            this._mdf = false;\r\n            return;\r\n        }\r\n        if (this.lock) {\r\n            this.setVValue(this.pv);\r\n            return;\r\n        }\r\n        this.lock = true;\r\n        this._mdf = false;\r\n        var finalValue = this.kf ? this.pv : this.data.ks ? this.data.ks.k : this.data.pt.k;\r\n        var i, len = this.effectsSequence.length;\r\n        for(i = 0; i < len; i += 1) {\r\n            finalValue = this.effectsSequence[i](finalValue);\r\n        }\r\n        this.setVValue(finalValue);\r\n        this.lock = false;\r\n        this.frameId = this.elem.globalData.frameId;\r\n    };\r\n\r\n    function ShapeProperty(elem, data, type){\r\n        this.propType = 'shape';\r\n        this.comp = elem.comp;\r\n        this.container = elem;\r\n        this.elem = elem;\r\n        this.data = data;\r\n        this.k = false;\r\n        this.kf = false;\r\n        this._mdf = false;\r\n        var pathData = type === 3 ? data.pt.k : data.ks.k;\r\n        this.v = shape_pool.clone(pathData);\r\n        this.pv = shape_pool.clone(this.v);\r\n        this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n        this.paths = this.localShapeCollection;\r\n        this.paths.addShape(this.v);\r\n        this.reset = resetShape;\r\n        this.effectsSequence = [];\r\n    }\r\n\r\n    function addEffect(effectFunction) {\r\n        this.effectsSequence.push(effectFunction);\r\n        this.container.addDynamicProperty(this);\r\n    }\r\n\r\n    ShapeProperty.prototype.interpolateShape = interpolateShape;\r\n    ShapeProperty.prototype.getValue = processEffectsSequence;\r\n    ShapeProperty.prototype.setVValue = setVValue;\r\n    ShapeProperty.prototype.addEffect = addEffect;\r\n\r\n    function KeyframedShapeProperty(elem,data,type){\r\n        this.propType = 'shape';\r\n        this.comp = elem.comp;\r\n        this.elem = elem;\r\n        this.container = elem;\r\n        this.offsetTime = elem.data.st;\r\n        this.keyframes = type === 3 ? data.pt.k : data.ks.k;\r\n        this.k = true;\r\n        this.kf = true;\r\n        var i, len = this.keyframes[0].s[0].i.length;\r\n        var jLen = this.keyframes[0].s[0].i[0].length;\r\n        this.v = shape_pool.newElement();\r\n        this.v.setPathData(this.keyframes[0].s[0].c, len);\r\n        this.pv = shape_pool.clone(this.v);\r\n        this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n        this.paths = this.localShapeCollection;\r\n        this.paths.addShape(this.v);\r\n        this.lastFrame = initFrame;\r\n        this.reset = resetShape;\r\n        this._caching = {lastFrame: initFrame, lastIndex: 0};\r\n        this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\r\n    }\r\n    KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\r\n    KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\r\n    KeyframedShapeProperty.prototype.setVValue = setVValue;\r\n    KeyframedShapeProperty.prototype.addEffect = addEffect;\r\n\r\n    var EllShapeProperty = (function(){\r\n\r\n        var cPoint = roundCorner;\r\n\r\n        function EllShapeProperty(elem,data) {\r\n            /*this.v = {\r\n                v: createSizedArray(4),\r\n                i: createSizedArray(4),\r\n                o: createSizedArray(4),\r\n                c: true\r\n            };*/\r\n            this.v = shape_pool.newElement();\r\n            this.v.setPathData(true, 4);\r\n            this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n            this.paths = this.localShapeCollection;\r\n            this.localShapeCollection.addShape(this.v);\r\n            this.d = data.d;\r\n            this.elem = elem;\r\n            this.comp = elem.comp;\r\n            this.frameId = -1;\r\n            this.initDynamicPropertyContainer(elem);\r\n            this.p = PropertyFactory.getProp(elem,data.p,1,0,this);\r\n            this.s = PropertyFactory.getProp(elem,data.s,1,0,this);\r\n            if(this.dynamicProperties.length){\r\n                this.k = true;\r\n            }else{\r\n                this.k = false;\r\n                this.convertEllToPath();\r\n            }\r\n        };\r\n\r\n        EllShapeProperty.prototype = {\r\n            reset: resetShape,\r\n            getValue: function (){\r\n                if(this.elem.globalData.frameId === this.frameId){\r\n                    return;\r\n                }\r\n                this.frameId = this.elem.globalData.frameId;\r\n                this.iterateDynamicProperties();\r\n\r\n                if(this._mdf){\r\n                    this.convertEllToPath();\r\n                }\r\n            },\r\n            convertEllToPath: function() {\r\n                var p0 = this.p.v[0], p1 = this.p.v[1], s0 = this.s.v[0]/2, s1 = this.s.v[1]/2;\r\n                var _cw = this.d !== 3;\r\n                var _v = this.v;\r\n                _v.v[0][0] = p0;\r\n                _v.v[0][1] = p1 - s1;\r\n                _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n                _v.v[1][1] = p1;\r\n                _v.v[2][0] = p0;\r\n                _v.v[2][1] = p1 + s1;\r\n                _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n                _v.v[3][1] = p1;\r\n                _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n                _v.i[0][1] = p1 - s1;\r\n                _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n                _v.i[1][1] = p1 - s1 * cPoint;\r\n                _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n                _v.i[2][1] = p1 + s1;\r\n                _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n                _v.i[3][1] = p1 + s1 * cPoint;\r\n                _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n                _v.o[0][1] = p1 - s1;\r\n                _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n                _v.o[1][1] = p1 + s1 * cPoint;\r\n                _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n                _v.o[2][1] = p1 + s1;\r\n                _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n                _v.o[3][1] = p1 - s1 * cPoint;\r\n            }\r\n        }\r\n\r\n        extendPrototype([DynamicPropertyContainer], EllShapeProperty);\r\n\r\n        return EllShapeProperty;\r\n    }());\r\n\r\n    var StarShapeProperty = (function() {\r\n\r\n        function StarShapeProperty(elem,data) {\r\n            this.v = shape_pool.newElement();\r\n            this.v.setPathData(true, 0);\r\n            this.elem = elem;\r\n            this.comp = elem.comp;\r\n            this.data = data;\r\n            this.frameId = -1;\r\n            this.d = data.d;\r\n            this.initDynamicPropertyContainer(elem);\r\n            if(data.sy === 1){\r\n                this.ir = PropertyFactory.getProp(elem,data.ir,0,0,this);\r\n                this.is = PropertyFactory.getProp(elem,data.is,0,0.01,this);\r\n                this.convertToPath = this.convertStarToPath;\r\n            } else {\r\n                this.convertToPath = this.convertPolygonToPath;\r\n            }\r\n            this.pt = PropertyFactory.getProp(elem,data.pt,0,0,this);\r\n            this.p = PropertyFactory.getProp(elem,data.p,1,0,this);\r\n            this.r = PropertyFactory.getProp(elem,data.r,0,degToRads,this);\r\n            this.or = PropertyFactory.getProp(elem,data.or,0,0,this);\r\n            this.os = PropertyFactory.getProp(elem,data.os,0,0.01,this);\r\n            this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n            this.localShapeCollection.addShape(this.v);\r\n            this.paths = this.localShapeCollection;\r\n            if(this.dynamicProperties.length){\r\n                this.k = true;\r\n            }else{\r\n                this.k = false;\r\n                this.convertToPath();\r\n            }\r\n        };\r\n\r\n        StarShapeProperty.prototype = {\r\n            reset: resetShape,\r\n            getValue: function() {\r\n                if(this.elem.globalData.frameId === this.frameId){\r\n                    return;\r\n                }\r\n                this.frameId = this.elem.globalData.frameId;\r\n                this.iterateDynamicProperties();\r\n                if(this._mdf){\r\n                    this.convertToPath();\r\n                }\r\n            },\r\n            convertStarToPath: function() {\r\n                var numPts = Math.floor(this.pt.v)*2;\r\n                var angle = Math.PI*2/numPts;\r\n                /*this.v.v.length = numPts;\r\n                this.v.i.length = numPts;\r\n                this.v.o.length = numPts;*/\r\n                var longFlag = true;\r\n                var longRad = this.or.v;\r\n                var shortRad = this.ir.v;\r\n                var longRound = this.os.v;\r\n                var shortRound = this.is.v;\r\n                var longPerimSegment = 2*Math.PI*longRad/(numPts*2);\r\n                var shortPerimSegment = 2*Math.PI*shortRad/(numPts*2);\r\n                var i, rad,roundness,perimSegment, currentAng = -Math.PI/ 2;\r\n                currentAng += this.r.v;\r\n                var dir = this.data.d === 3 ? -1 : 1;\r\n                this.v._length = 0;\r\n                for(i=0;i<numPts;i+=1){\r\n                    rad = longFlag ? longRad : shortRad;\r\n                    roundness = longFlag ? longRound : shortRound;\r\n                    perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\r\n                    var x = rad * Math.cos(currentAng);\r\n                    var y = rad * Math.sin(currentAng);\r\n                    var ox = x === 0 && y === 0 ? 0 : y/Math.sqrt(x*x + y*y);\r\n                    var oy = x === 0 && y === 0 ? 0 : -x/Math.sqrt(x*x + y*y);\r\n                    x +=  + this.p.v[0];\r\n                    y +=  + this.p.v[1];\r\n                    this.v.setTripleAt(x,y,x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir,x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir, i, true);\r\n\r\n                    /*this.v.v[i] = [x,y];\r\n                    this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                    this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                    this.v._length = numPts;*/\r\n                    longFlag = !longFlag;\r\n                    currentAng += angle*dir;\r\n                }\r\n            },\r\n            convertPolygonToPath: function() {\r\n                var numPts = Math.floor(this.pt.v);\r\n                var angle = Math.PI*2/numPts;\r\n                var rad = this.or.v;\r\n                var roundness = this.os.v;\r\n                var perimSegment = 2*Math.PI*rad/(numPts*4);\r\n                var i, currentAng = -Math.PI/ 2;\r\n                var dir = this.data.d === 3 ? -1 : 1;\r\n                currentAng += this.r.v;\r\n                this.v._length = 0;\r\n                for(i=0;i<numPts;i+=1){\r\n                    var x = rad * Math.cos(currentAng);\r\n                    var y = rad * Math.sin(currentAng);\r\n                    var ox = x === 0 && y === 0 ? 0 : y/Math.sqrt(x*x + y*y);\r\n                    var oy = x === 0 && y === 0 ? 0 : -x/Math.sqrt(x*x + y*y);\r\n                    x +=  + this.p.v[0];\r\n                    y +=  + this.p.v[1];\r\n                    this.v.setTripleAt(x,y,x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir,x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir, i, true);\r\n                    currentAng += angle*dir;\r\n                }\r\n                this.paths.length = 0;\r\n                this.paths[0] = this.v;\r\n            }\r\n\r\n        }\r\n        extendPrototype([DynamicPropertyContainer], StarShapeProperty);\r\n\r\n        return StarShapeProperty;\r\n    }());\r\n\r\n    var RectShapeProperty = (function() {\r\n\r\n         function RectShapeProperty(elem,data) {\r\n            this.v = shape_pool.newElement();\r\n            this.v.c = true;\r\n            this.localShapeCollection = shapeCollection_pool.newShapeCollection();\r\n            this.localShapeCollection.addShape(this.v);\r\n            this.paths = this.localShapeCollection;\r\n            this.elem = elem;\r\n            this.comp = elem.comp;\r\n            this.frameId = -1;\r\n            this.d = data.d;\r\n            this.initDynamicPropertyContainer(elem);\r\n            this.p = PropertyFactory.getProp(elem,data.p,1,0,this);\r\n            this.s = PropertyFactory.getProp(elem,data.s,1,0,this);\r\n            this.r = PropertyFactory.getProp(elem,data.r,0,0,this);\r\n            if(this.dynamicProperties.length){\r\n                this.k = true;\r\n            }else{\r\n                this.k = false;\r\n                this.convertRectToPath();\r\n            }\r\n        };\r\n\r\n        RectShapeProperty.prototype = {\r\n            convertRectToPath: function (){\r\n                var p0 = this.p.v[0], p1 = this.p.v[1], v0 = this.s.v[0]/2, v1 = this.s.v[1]/2;\r\n                var round = bm_min(v0,v1,this.r.v);\r\n                var cPoint = round*(1-roundCorner);\r\n                this.v._length = 0;\r\n\r\n                if(this.d === 2 || this.d === 1) {\r\n                    this.v.setTripleAt(p0+v0, p1-v1+round,p0+v0, p1-v1+round,p0+v0,p1-v1+cPoint,0, true);\r\n                    this.v.setTripleAt(p0+v0, p1+v1-round,p0+v0, p1+v1-cPoint,p0+v0, p1+v1-round,1, true);\r\n                    if(round!== 0){\r\n                        this.v.setTripleAt(p0+v0-round, p1+v1,p0+v0-round,p1+v1,p0+v0-cPoint,p1+v1,2, true);\r\n                        this.v.setTripleAt(p0-v0+round,p1+v1,p0-v0+cPoint,p1+v1,p0-v0+round,p1+v1,3, true);\r\n                        this.v.setTripleAt(p0-v0,p1+v1-round,p0-v0,p1+v1-round,p0-v0,p1+v1-cPoint,4, true);\r\n                        this.v.setTripleAt(p0-v0,p1-v1+round,p0-v0,p1-v1+cPoint,p0-v0,p1-v1+round,5, true);\r\n                        this.v.setTripleAt(p0-v0+round,p1-v1,p0-v0+round,p1-v1,p0-v0+cPoint,p1-v1,6, true);\r\n                        this.v.setTripleAt(p0+v0-round,p1-v1,p0+v0-cPoint,p1-v1,p0+v0-round,p1-v1,7, true);\r\n                    } else {\r\n                        this.v.setTripleAt(p0-v0,p1+v1,p0-v0+cPoint,p1+v1,p0-v0,p1+v1,2);\r\n                        this.v.setTripleAt(p0-v0,p1-v1,p0-v0,p1-v1+cPoint,p0-v0,p1-v1,3);\r\n                    }\r\n                }else{\r\n                    this.v.setTripleAt(p0+v0,p1-v1+round,p0+v0,p1-v1+cPoint,p0+v0,p1-v1+round,0, true);\r\n                    if(round!== 0){\r\n                        this.v.setTripleAt(p0+v0-round,p1-v1,p0+v0-round,p1-v1,p0+v0-cPoint,p1-v1,1, true);\r\n                        this.v.setTripleAt(p0-v0+round,p1-v1,p0-v0+cPoint,p1-v1,p0-v0+round,p1-v1,2, true);\r\n                        this.v.setTripleAt(p0-v0,p1-v1+round,p0-v0,p1-v1+round,p0-v0,p1-v1+cPoint,3, true);\r\n                        this.v.setTripleAt(p0-v0,p1+v1-round,p0-v0,p1+v1-cPoint,p0-v0,p1+v1-round,4, true);\r\n                        this.v.setTripleAt(p0-v0+round,p1+v1,p0-v0+round,p1+v1,p0-v0+cPoint,p1+v1,5, true);\r\n                        this.v.setTripleAt(p0+v0-round,p1+v1,p0+v0-cPoint,p1+v1,p0+v0-round,p1+v1,6, true);\r\n                        this.v.setTripleAt(p0+v0,p1+v1-round,p0+v0,p1+v1-round,p0+v0,p1+v1-cPoint,7, true);\r\n                    } else {\r\n                        this.v.setTripleAt(p0-v0,p1-v1,p0-v0+cPoint,p1-v1,p0-v0,p1-v1,1, true);\r\n                        this.v.setTripleAt(p0-v0,p1+v1,p0-v0,p1+v1-cPoint,p0-v0,p1+v1,2, true);\r\n                        this.v.setTripleAt(p0+v0,p1+v1,p0+v0-cPoint,p1+v1,p0+v0,p1+v1,3, true);\r\n\r\n                    }\r\n                }\r\n            },\r\n            getValue: function(frameNum){\r\n                if(this.elem.globalData.frameId === this.frameId){\r\n                    return;\r\n                }\r\n                this.frameId = this.elem.globalData.frameId;\r\n                this.iterateDynamicProperties();\r\n                if(this._mdf){\r\n                    this.convertRectToPath();\r\n                }\r\n\r\n            },\r\n            reset: resetShape\r\n        }\r\n        extendPrototype([DynamicPropertyContainer], RectShapeProperty);\r\n\r\n        return RectShapeProperty;\r\n    }());\r\n\r\n    function getShapeProp(elem,data,type){\r\n        var prop;\r\n        if(type === 3 || type === 4){\r\n            var dataProp = type === 3 ? data.pt : data.ks;\r\n            var keys = dataProp.k;\r\n            if(keys.length){\r\n                prop = new KeyframedShapeProperty(elem, data, type);\r\n            }else{\r\n                prop = new ShapeProperty(elem, data, type);\r\n            }\r\n        }else if(type === 5){\r\n            prop = new RectShapeProperty(elem, data);\r\n        }else if(type === 6){\r\n            prop = new EllShapeProperty(elem, data);\r\n        }else if(type === 7){\r\n            prop = new StarShapeProperty(elem, data);\r\n        }\r\n        if(prop.k){\r\n            elem.addDynamicProperty(prop);\r\n        }\r\n        return prop;\r\n    }\r\n\r\n    function getConstructorFunction() {\r\n        return ShapeProperty;\r\n    }\r\n\r\n    function getKeyframedConstructorFunction() {\r\n        return KeyframedShapeProperty;\r\n    }\r\n\r\n    var ob = {};\r\n    ob.getShapeProp = getShapeProp;\r\n    ob.getConstructorFunction = getConstructorFunction;\r\n    ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\r\n    return ob;\r\n}());\r\nvar ShapeModifiers = (function(){\r\n    var ob = {};\r\n    var modifiers = {};\r\n    ob.registerModifier = registerModifier;\r\n    ob.getModifier = getModifier;\r\n\r\n    function registerModifier(nm,factory){\r\n        if(!modifiers[nm]){\r\n            modifiers[nm] = factory;\r\n        }\r\n    }\r\n\r\n    function getModifier(nm,elem, data){\r\n        return new modifiers[nm](elem, data);\r\n    }\r\n\r\n    return ob;\r\n}());\r\n\r\nfunction ShapeModifier(){}\r\nShapeModifier.prototype.initModifierProperties = function(){};\r\nShapeModifier.prototype.addShapeToModifier = function(){};\r\nShapeModifier.prototype.addShape = function(data){\r\n    if (!this.closed) {\r\n        // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\r\n        data.sh.container.addDynamicProperty(data.sh);\r\n        var shapeData = {shape:data.sh, data: data, localShapeCollection:shapeCollection_pool.newShapeCollection()};\r\n        this.shapes.push(shapeData);\r\n        this.addShapeToModifier(shapeData);\r\n        if (this._isAnimated) {\r\n            data.setAsAnimated();\r\n        }\r\n    }\r\n};\r\nShapeModifier.prototype.init = function(elem,data){\r\n    this.shapes = [];\r\n    this.elem = elem;\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.initModifierProperties(elem,data);\r\n    this.frameId = initialDefaultFrame;\r\n    this.closed = false;\r\n    this.k = false;\r\n    if(this.dynamicProperties.length){\r\n        this.k = true;\r\n    }else{\r\n        this.getValue(true);\r\n    }\r\n};\r\nShapeModifier.prototype.processKeys = function(){\r\n    if(this.elem.globalData.frameId === this.frameId){\r\n        return;\r\n    }\r\n    this.frameId = this.elem.globalData.frameId;\r\n    this.iterateDynamicProperties();\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], ShapeModifier);\r\nfunction TrimModifier(){\r\n}\r\nextendPrototype([ShapeModifier], TrimModifier);\r\nTrimModifier.prototype.initModifierProperties = function(elem, data) {\r\n    this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\r\n    this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\r\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\r\n    this.sValue = 0;\r\n    this.eValue = 0;\r\n    this.getValue = this.processKeys;\r\n    this.m = data.m;\r\n    this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\r\n};\r\n\r\nTrimModifier.prototype.addShapeToModifier = function(shapeData){\r\n    shapeData.pathsData = [];\r\n};\r\n\r\nTrimModifier.prototype.calculateShapeEdges = function(s, e, shapeLength, addedLength, totalModifierLength) {\r\n    var segments = [];\r\n    if (e <= 1) {\r\n        segments.push({\r\n            s: s,\r\n            e: e\r\n        });\r\n    } else if (s >= 1) {\r\n        segments.push({\r\n            s: s - 1,\r\n            e: e - 1\r\n        });\r\n    } else {\r\n        segments.push({\r\n            s: s,\r\n            e: 1\r\n        });\r\n        segments.push({\r\n            s: 0,\r\n            e: e - 1\r\n        });\r\n    }\r\n    var shapeSegments = [];\r\n    var i, len = segments.length, segmentOb;\r\n    for (i = 0; i < len; i += 1) {\r\n        segmentOb = segments[i];\r\n        if (segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength) {\r\n            \r\n        } else {\r\n            var shapeS, shapeE;\r\n            if (segmentOb.s * totalModifierLength <= addedLength) {\r\n                shapeS = 0;\r\n            } else {\r\n                shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\r\n            }\r\n            if(segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\r\n                shapeE = 1;\r\n            } else {\r\n                shapeE = ((segmentOb.e * totalModifierLength - addedLength) / shapeLength);\r\n            }\r\n            shapeSegments.push([shapeS, shapeE]);\r\n        }\r\n    }\r\n    if (!shapeSegments.length) {\r\n        shapeSegments.push([0, 0]);\r\n    }\r\n    return shapeSegments;\r\n};\r\n\r\nTrimModifier.prototype.releasePathsData = function(pathsData) {\r\n    var i, len = pathsData.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        segments_length_pool.release(pathsData[i]);\r\n    }\r\n    pathsData.length = 0;\r\n    return pathsData;\r\n};\r\n\r\nTrimModifier.prototype.processShapes = function(_isFirstFrame) {\r\n    var s, e;\r\n    if (this._mdf || _isFirstFrame) {\r\n        var o = (this.o.v % 360) / 360;\r\n        if (o < 0) {\r\n            o += 1;\r\n        }\r\n        s = (this.s.v > 1 ? 1 : this.s.v < 0 ? 0 : this.s.v) + o;\r\n        e = (this.e.v > 1 ? 1 : this.e.v < 0 ? 0 : this.e.v) + o;\r\n        if (s === e) {\r\n\r\n        }\r\n        if (s > e) {\r\n            var _s = s;\r\n            s = e;\r\n            e = _s;\r\n        }\r\n        s = Math.round(s * 10000) * 0.0001;\r\n        e = Math.round(e * 10000) * 0.0001;\r\n        this.sValue = s;\r\n        this.eValue = e;\r\n    } else {\r\n        s = this.sValue;\r\n        e = this.eValue;\r\n    }\r\n    var shapePaths;\r\n    var i, len = this.shapes.length, j, jLen;\r\n    var pathsData, pathData, totalShapeLength, totalModifierLength = 0;\r\n\r\n    if (e === s) {\r\n        for (i = 0; i < len; i += 1) {\r\n            this.shapes[i].localShapeCollection.releaseShapes();\r\n            this.shapes[i].shape._mdf = true;\r\n            this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\r\n        }\r\n    } else if (!((e === 1 && s === 0) || (e===0 && s === 1))){\r\n        var segments = [], shapeData, localShapeCollection;\r\n        for (i = 0; i < len; i += 1) {\r\n            shapeData = this.shapes[i];\r\n            // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\r\n            if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\r\n                shapeData.shape.paths = shapeData.localShapeCollection;\r\n            } else {\r\n                shapePaths = shapeData.shape.paths;\r\n                jLen = shapePaths._length;\r\n                totalShapeLength = 0;\r\n                if (!shapeData.shape._mdf && shapeData.pathsData.length) {\r\n                    totalShapeLength = shapeData.totalShapeLength;\r\n                } else {\r\n                    pathsData = this.releasePathsData(shapeData.pathsData);\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                        pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\r\n                        pathsData.push(pathData);\r\n                        totalShapeLength += pathData.totalLength;\r\n                    }\r\n                    shapeData.totalShapeLength = totalShapeLength;\r\n                    shapeData.pathsData = pathsData;\r\n                }\r\n\r\n                totalModifierLength += totalShapeLength;\r\n                shapeData.shape._mdf = true;\r\n            }\r\n        }\r\n        var shapeS = s, shapeE = e, addedLength = 0, edges;\r\n        for (i = len - 1; i >= 0; i -= 1) {\r\n            shapeData = this.shapes[i];\r\n            if (shapeData.shape._mdf) {\r\n                localShapeCollection = shapeData.localShapeCollection;\r\n                localShapeCollection.releaseShapes();\r\n                //if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\r\n                if (this.m === 2 && len > 1) {\r\n                    edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\r\n                    addedLength += shapeData.totalShapeLength;\r\n                } else {\r\n                    edges = [[shapeS, shapeE]];\r\n                }\r\n                jLen = edges.length;\r\n                for (j = 0; j < jLen; j += 1) {\r\n                    shapeS = edges[j][0];\r\n                    shapeE = edges[j][1];\r\n                    segments.length = 0;\r\n                    if (shapeE <= 1) {\r\n                        segments.push({\r\n                            s:shapeData.totalShapeLength * shapeS,\r\n                            e:shapeData.totalShapeLength * shapeE\r\n                        });\r\n                    } else if (shapeS >= 1) {\r\n                        segments.push({\r\n                            s:shapeData.totalShapeLength * (shapeS - 1),\r\n                            e:shapeData.totalShapeLength * (shapeE - 1)\r\n                        });\r\n                    } else {\r\n                        segments.push({\r\n                            s:shapeData.totalShapeLength * shapeS,\r\n                            e:shapeData.totalShapeLength\r\n                        });\r\n                        segments.push({\r\n                            s:0,\r\n                            e:shapeData.totalShapeLength * (shapeE - 1)\r\n                        });\r\n                    }\r\n                    var newShapesData = this.addShapes(shapeData,segments[0]);\r\n                    if (segments[0].s !== segments[0].e) {\r\n                        if (segments.length > 1) {\r\n                            var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\r\n                            if (lastShapeInCollection.c) {\r\n                                var lastShape = newShapesData.pop();\r\n                                this.addPaths(newShapesData, localShapeCollection);\r\n                                newShapesData = this.addShapes(shapeData, segments[1], lastShape);\r\n                            } else {\r\n                                this.addPaths(newShapesData, localShapeCollection);\r\n                                newShapesData = this.addShapes(shapeData, segments[1]);\r\n                            }\r\n                        } \r\n                        this.addPaths(newShapesData, localShapeCollection);\r\n                    }\r\n                    \r\n                }\r\n                shapeData.shape.paths = localShapeCollection;\r\n            }\r\n        }\r\n    } else if (this._mdf) {\r\n        for (i = 0; i < len; i += 1) {\r\n            //Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\r\n            //Don't remove this even if it's losing cached info.\r\n            this.shapes[i].pathsData.length = 0;\r\n            this.shapes[i].shape._mdf = true;\r\n        }\r\n    }\r\n};\r\n\r\nTrimModifier.prototype.addPaths = function(newPaths, localShapeCollection) {\r\n    var i, len = newPaths.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        localShapeCollection.addShape(newPaths[i]);\r\n    }\r\n};\r\n\r\nTrimModifier.prototype.addSegment = function(pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\r\n    shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\r\n    shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\r\n    if(newShape){\r\n        shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\r\n    }\r\n    shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addSegmentFromArray = function(points, shapePath, pos, newShape) {\r\n    shapePath.setXYAt(points[1], points[5], 'o', pos);\r\n    shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\r\n    if(newShape){\r\n        shapePath.setXYAt(points[0], points[4], 'v', pos);\r\n    }\r\n    shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addShapes = function(shapeData, shapeSegment, shapePath) {\r\n    var pathsData = shapeData.pathsData;\r\n    var shapePaths = shapeData.shape.paths.shapes;\r\n    var i, len = shapeData.shape.paths._length, j, jLen;\r\n    var addedLength = 0;\r\n    var currentLengthData,segmentCount;\r\n    var lengths;\r\n    var segment;\r\n    var shapes = [];\r\n    var initPos;\r\n    var newShape = true;\r\n    if (!shapePath) {\r\n        shapePath = shape_pool.newElement();\r\n        segmentCount = 0;\r\n        initPos = 0;\r\n    } else {\r\n        segmentCount = shapePath._length;\r\n        initPos = shapePath._length;\r\n    }\r\n    shapes.push(shapePath);\r\n    for (i = 0; i < len; i += 1) {\r\n        lengths = pathsData[i].lengths;\r\n        shapePath.c = shapePaths[i].c;\r\n        jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\r\n        for (j = 1; j < jLen; j +=1) {\r\n            currentLengthData = lengths[j-1];\r\n            if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\r\n                addedLength += currentLengthData.addedLength;\r\n                shapePath.c = false;\r\n            } else if(addedLength > shapeSegment.e) {\r\n                shapePath.c = false;\r\n                break;\r\n            } else {\r\n                if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\r\n                    this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                } else {\r\n                    segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength)/currentLengthData.addedLength,(shapeSegment.e - addedLength)/currentLengthData.addedLength, lengths[j-1]);\r\n                    this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n                    // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                    shapePath.c = false;\r\n                }\r\n                addedLength += currentLengthData.addedLength;\r\n                segmentCount += 1;\r\n            }\r\n        }\r\n        if (shapePaths[i].c && lengths.length) {\r\n            currentLengthData = lengths[j - 1];\r\n            if (addedLength <= shapeSegment.e) {\r\n                var segmentLength = lengths[j - 1].addedLength;\r\n                if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\r\n                    this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                } else {\r\n                    segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\r\n                    this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n                    // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n                    newShape = false;\r\n                    shapePath.c = false;\r\n                }\r\n            } else {\r\n                shapePath.c = false;\r\n            }\r\n            addedLength += currentLengthData.addedLength;\r\n            segmentCount += 1;\r\n        }\r\n        if (shapePath._length) {\r\n            shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\r\n            shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1],'o', shapePath._length - 1);\r\n        }\r\n        if (addedLength > shapeSegment.e) {\r\n            break;\r\n        }\r\n        if (i < len - 1) {\r\n            shapePath = shape_pool.newElement();\r\n            newShape = true;\r\n            shapes.push(shapePath);\r\n            segmentCount = 0;\r\n        }\r\n    }\r\n    return shapes;\r\n};\r\n\r\n\r\nShapeModifiers.registerModifier('tm', TrimModifier);\r\nfunction RoundCornersModifier(){}\r\nextendPrototype([ShapeModifier],RoundCornersModifier);\r\nRoundCornersModifier.prototype.initModifierProperties = function(elem,data){\r\n    this.getValue = this.processKeys;\r\n    this.rd = PropertyFactory.getProp(elem,data.r,0,null,this);\r\n    this._isAnimated = !!this.rd.effectsSequence.length;\r\n};\r\n\r\nRoundCornersModifier.prototype.processPath = function(path, round){\r\n    var cloned_path = shape_pool.newElement();\r\n    cloned_path.c = path.c;\r\n    var i, len = path._length;\r\n    var currentV,currentI,currentO,closerV, newV,newO,newI,distance,newPosPerc,index = 0;\r\n    var vX,vY,oX,oY,iX,iY;\r\n    for(i=0;i<len;i+=1){\r\n        currentV = path.v[i];\r\n        currentO = path.o[i];\r\n        currentI = path.i[i];\r\n        if(currentV[0]===currentO[0] && currentV[1]===currentO[1] && currentV[0]===currentI[0] && currentV[1]===currentI[1]){\r\n            if((i===0 || i === len - 1) && !path.c){\r\n                cloned_path.setTripleAt(currentV[0],currentV[1],currentO[0],currentO[1],currentI[0],currentI[1],index);\r\n                /*cloned_path.v[index] = currentV;\r\n                cloned_path.o[index] = currentO;\r\n                cloned_path.i[index] = currentI;*/\r\n                index += 1;\r\n            } else {\r\n                if(i===0){\r\n                    closerV = path.v[len-1];\r\n                } else {\r\n                    closerV = path.v[i-1];\r\n                }\r\n                distance = Math.sqrt(Math.pow(currentV[0]-closerV[0],2)+Math.pow(currentV[1]-closerV[1],2));\r\n                newPosPerc = distance ? Math.min(distance/2,round)/distance : 0;\r\n                vX = iX = currentV[0]+(closerV[0]-currentV[0])*newPosPerc;\r\n                vY = iY = currentV[1]-(currentV[1]-closerV[1])*newPosPerc;\r\n                oX = vX-(vX-currentV[0])*roundCorner;\r\n                oY = vY-(vY-currentV[1])*roundCorner;\r\n                cloned_path.setTripleAt(vX,vY,oX,oY,iX,iY,index);\r\n                index += 1;\r\n\r\n                if(i === len - 1){\r\n                    closerV = path.v[0];\r\n                } else {\r\n                    closerV = path.v[i+1];\r\n                }\r\n                distance = Math.sqrt(Math.pow(currentV[0]-closerV[0],2)+Math.pow(currentV[1]-closerV[1],2));\r\n                newPosPerc = distance ? Math.min(distance/2,round)/distance : 0;\r\n                vX = oX = currentV[0]+(closerV[0]-currentV[0])*newPosPerc;\r\n                vY = oY = currentV[1]+(closerV[1]-currentV[1])*newPosPerc;\r\n                iX = vX-(vX-currentV[0])*roundCorner;\r\n                iY = vY-(vY-currentV[1])*roundCorner;\r\n                cloned_path.setTripleAt(vX,vY,oX,oY,iX,iY,index);\r\n                index += 1;\r\n            }\r\n        } else {\r\n            cloned_path.setTripleAt(path.v[i][0],path.v[i][1],path.o[i][0],path.o[i][1],path.i[i][0],path.i[i][1],index);\r\n            index += 1;\r\n        }\r\n    }\r\n    return cloned_path;\r\n};\r\n\r\nRoundCornersModifier.prototype.processShapes = function(_isFirstFrame){\r\n    var shapePaths;\r\n    var i, len = this.shapes.length;\r\n    var j, jLen;\r\n    var rd = this.rd.v;\r\n\r\n    if(rd !== 0){\r\n        var shapeData, newPaths, localShapeCollection;\r\n        for(i=0;i<len;i+=1){\r\n            shapeData = this.shapes[i];\r\n            newPaths = shapeData.shape.paths;\r\n            localShapeCollection = shapeData.localShapeCollection;\r\n            if(!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)){\r\n                localShapeCollection.releaseShapes();\r\n                shapeData.shape._mdf = true;\r\n                shapePaths = shapeData.shape.paths.shapes;\r\n                jLen = shapeData.shape.paths._length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    localShapeCollection.addShape(this.processPath(shapePaths[j],rd));\r\n                }\r\n            }\r\n            shapeData.shape.paths = shapeData.localShapeCollection;\r\n        }\r\n\r\n    }\r\n    if(!this.dynamicProperties.length){\r\n        this._mdf = false;\r\n    }\r\n};\r\n\r\nShapeModifiers.registerModifier('rd',RoundCornersModifier);\r\nfunction RepeaterModifier(){}\r\nextendPrototype([ShapeModifier], RepeaterModifier);\r\n\r\nRepeaterModifier.prototype.initModifierProperties = function(elem,data){\r\n    this.getValue = this.processKeys;\r\n    this.c = PropertyFactory.getProp(elem,data.c,0,null,this);\r\n    this.o = PropertyFactory.getProp(elem,data.o,0,null,this);\r\n    this.tr = TransformPropertyFactory.getTransformProperty(elem,data.tr,this);\r\n    this.so = PropertyFactory.getProp(elem,data.tr.so,0,0.01,this);\r\n    this.eo = PropertyFactory.getProp(elem,data.tr.eo,0,0.01,this);\r\n    this.data = data;\r\n    if(!this.dynamicProperties.length){\r\n        this.getValue(true);\r\n    }\r\n    this._isAnimated = !!this.dynamicProperties.length;\r\n    this.pMatrix = new Matrix();\r\n    this.rMatrix = new Matrix();\r\n    this.sMatrix = new Matrix();\r\n    this.tMatrix = new Matrix();\r\n    this.matrix = new Matrix();\r\n};\r\n\r\nRepeaterModifier.prototype.applyTransforms = function(pMatrix, rMatrix, sMatrix, transform, perc, inv){\r\n    var dir = inv ? -1 : 1;\r\n    var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\r\n    var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\r\n    pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\r\n    rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n    rMatrix.rotate(-transform.r.v * dir * perc);\r\n    rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n    sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n    sMatrix.scale(inv ? 1/scaleX : scaleX, inv ? 1/scaleY : scaleY);\r\n    sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n};\r\n\r\nRepeaterModifier.prototype.init = function(elem, arr, pos, elemsData) {\r\n    this.elem = elem;\r\n    this.arr = arr;\r\n    this.pos = pos;\r\n    this.elemsData = elemsData;\r\n    this._currentCopies = 0;\r\n    this._elements = [];\r\n    this._groups = [];\r\n    this.frameId = -1;\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.initModifierProperties(elem,arr[pos]);\r\n    var cont = 0;\r\n    while(pos>0){\r\n        pos -= 1;\r\n        //this._elements.unshift(arr.splice(pos,1)[0]);\r\n        this._elements.unshift(arr[pos]);\r\n        cont += 1;\r\n    }\r\n    if(this.dynamicProperties.length){\r\n        this.k = true;\r\n    }else{\r\n        this.getValue(true);\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.resetElements = function(elements){\r\n    var i, len = elements.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        elements[i]._processed = false;\r\n        if(elements[i].ty === 'gr'){\r\n            this.resetElements(elements[i].it);\r\n        }\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.cloneElements = function(elements){\r\n    var i, len = elements.length;\r\n    var newElements = JSON.parse(JSON.stringify(elements));\r\n    this.resetElements(newElements);\r\n    return newElements;\r\n};\r\n\r\nRepeaterModifier.prototype.changeGroupRender = function(elements, renderFlag) {\r\n    var i, len = elements.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        elements[i]._render = renderFlag;\r\n        if(elements[i].ty === 'gr') {\r\n            this.changeGroupRender(elements[i].it, renderFlag);\r\n        }\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.processShapes = function(_isFirstFrame) {\r\n    var items, itemsTransform, i, dir, cont;\r\n    if(this._mdf || _isFirstFrame){\r\n        var copies = Math.ceil(this.c.v);\r\n        if(this._groups.length < copies){\r\n            while(this._groups.length < copies){\r\n                var group = {\r\n                    it:this.cloneElements(this._elements),\r\n                    ty:'gr'\r\n                };\r\n                group.it.push({\"a\":{\"a\":0,\"ix\":1,\"k\":[0,0]},\"nm\":\"Transform\",\"o\":{\"a\":0,\"ix\":7,\"k\":100},\"p\":{\"a\":0,\"ix\":2,\"k\":[0,0]},\"r\":{\"a\":1,\"ix\":6,\"k\":[{s:0,e:0,t:0},{s:0,e:0,t:1}]},\"s\":{\"a\":0,\"ix\":3,\"k\":[100,100]},\"sa\":{\"a\":0,\"ix\":5,\"k\":0},\"sk\":{\"a\":0,\"ix\":4,\"k\":0},\"ty\":\"tr\"});\r\n                \r\n                this.arr.splice(0,0,group);\r\n                this._groups.splice(0,0,group);\r\n                this._currentCopies += 1;\r\n            }\r\n            this.elem.reloadShapes();\r\n        }\r\n        cont = 0;\r\n        var renderFlag;\r\n        for(i = 0; i  <= this._groups.length - 1; i += 1){\r\n            renderFlag = cont < copies;\r\n            this._groups[i]._render = renderFlag;\r\n            this.changeGroupRender(this._groups[i].it, renderFlag);\r\n            cont += 1;\r\n        }\r\n        \r\n        this._currentCopies = copies;\r\n        ////\r\n\r\n        var offset = this.o.v;\r\n        var offsetModulo = offset%1;\r\n        var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\r\n        var k;\r\n        var tMat = this.tr.v.props;\r\n        var pProps = this.pMatrix.props;\r\n        var rProps = this.rMatrix.props;\r\n        var sProps = this.sMatrix.props;\r\n        this.pMatrix.reset();\r\n        this.rMatrix.reset();\r\n        this.sMatrix.reset();\r\n        this.tMatrix.reset();\r\n        this.matrix.reset();\r\n        var iteration = 0;\r\n\r\n        if(offset > 0) {\r\n            while(iteration<roundOffset){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n                iteration += 1;\r\n            }\r\n            if(offsetModulo){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\r\n                iteration += offsetModulo;\r\n            }\r\n        } else if(offset < 0) {\r\n            while(iteration>roundOffset){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\r\n                iteration -= 1;\r\n            }\r\n            if(offsetModulo){\r\n                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, - offsetModulo, true);\r\n                iteration -= offsetModulo;\r\n            }\r\n        }\r\n        i = this.data.m === 1 ? 0 : this._currentCopies - 1;\r\n        dir = this.data.m === 1 ? 1 : -1;\r\n        cont = this._currentCopies;\r\n        var j, jLen;\r\n        while(cont){\r\n            items = this.elemsData[i].it;\r\n            itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n            jLen = itemsTransform.length;\r\n            items[items.length - 1].transform.mProps._mdf = true;\r\n            items[items.length - 1].transform.op._mdf = true;\r\n            items[items.length - 1].transform.op.v = this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\r\n            if(iteration !== 0){\r\n                if((i !== 0 && dir === 1) || (i !== this._currentCopies - 1 && dir === -1)){\r\n                    this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n                }\r\n                this.matrix.transform(rProps[0],rProps[1],rProps[2],rProps[3],rProps[4],rProps[5],rProps[6],rProps[7],rProps[8],rProps[9],rProps[10],rProps[11],rProps[12],rProps[13],rProps[14],rProps[15]);\r\n                this.matrix.transform(sProps[0],sProps[1],sProps[2],sProps[3],sProps[4],sProps[5],sProps[6],sProps[7],sProps[8],sProps[9],sProps[10],sProps[11],sProps[12],sProps[13],sProps[14],sProps[15]);\r\n                this.matrix.transform(pProps[0],pProps[1],pProps[2],pProps[3],pProps[4],pProps[5],pProps[6],pProps[7],pProps[8],pProps[9],pProps[10],pProps[11],pProps[12],pProps[13],pProps[14],pProps[15]);\r\n                \r\n                for(j=0;j<jLen;j+=1) {\r\n                    itemsTransform[j] = this.matrix.props[j];\r\n                }\r\n                this.matrix.reset();\r\n            } else {\r\n                this.matrix.reset();\r\n                for(j=0;j<jLen;j+=1) {\r\n                    itemsTransform[j] = this.matrix.props[j];\r\n                }\r\n            }\r\n            iteration += 1;\r\n            cont -= 1;\r\n            i += dir;\r\n        }\r\n    } else {\r\n        cont = this._currentCopies;\r\n        i = 0;\r\n        dir = 1;\r\n        while(cont){\r\n            items = this.elemsData[i].it;\r\n            itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n            items[items.length - 1].transform.mProps._mdf = false;\r\n            items[items.length - 1].transform.op._mdf = false;\r\n            cont -= 1;\r\n            i += dir;\r\n        }\r\n    }\r\n};\r\n\r\nRepeaterModifier.prototype.addShape = function(){};\r\n\r\nShapeModifiers.registerModifier('rp',RepeaterModifier);\r\nfunction ShapeCollection(){\r\n\tthis._length = 0;\r\n\tthis._maxLength = 4;\r\n\tthis.shapes = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapeCollection.prototype.addShape = function(shapeData){\r\n\tif(this._length === this._maxLength){\r\n\t\tthis.shapes = this.shapes.concat(createSizedArray(this._maxLength));\r\n\t\tthis._maxLength *= 2;\r\n\t}\r\n\tthis.shapes[this._length] = shapeData;\r\n\tthis._length += 1;\r\n};\r\n\r\nShapeCollection.prototype.releaseShapes = function(){\r\n\tvar i;\r\n\tfor(i = 0; i < this._length; i += 1) {\r\n\t\tshape_pool.release(this.shapes[i]);\r\n\t}\r\n\tthis._length = 0;\r\n};\r\nfunction DashProperty(elem, data, renderer, container) {\r\n    this.elem = elem;\r\n    this.frameId = -1;\r\n    this.dataProps = createSizedArray(data.length);\r\n    this.renderer = renderer;\r\n    this.k = false;\r\n    this.dashStr = '';\r\n    this.dashArray = createTypedArray('float32',  data.length ? data.length - 1 : 0);\r\n    this.dashoffset = createTypedArray('float32',  1);\r\n    this.initDynamicPropertyContainer(container);\r\n    var i, len = data.length || 0, prop;\r\n    for(i = 0; i < len; i += 1) {\r\n        prop = PropertyFactory.getProp(elem,data[i].v,0, 0, this);\r\n        this.k = prop.k || this.k;\r\n        this.dataProps[i] = {n:data[i].n,p:prop};\r\n    }\r\n    if(!this.k){\r\n        this.getValue(true);\r\n    }\r\n    this._isAnimated = this.k;\r\n}\r\n\r\nDashProperty.prototype.getValue = function(forceRender) {\r\n    if(this.elem.globalData.frameId === this.frameId && !forceRender){\r\n        return;\r\n    }\r\n    this.frameId = this.elem.globalData.frameId;\r\n    this.iterateDynamicProperties();\r\n    this._mdf = this._mdf || forceRender;\r\n    if (this._mdf) {\r\n        var i = 0, len = this.dataProps.length;\r\n        if(this.renderer === 'svg') {\r\n            this.dashStr = '';\r\n        }\r\n        for(i=0;i<len;i+=1){\r\n            if(this.dataProps[i].n != 'o'){\r\n                if(this.renderer === 'svg') {\r\n                    this.dashStr += ' ' + this.dataProps[i].p.v;\r\n                }else{\r\n                    this.dashArray[i] = this.dataProps[i].p.v;\r\n                }\r\n            }else{\r\n                this.dashoffset[0] = this.dataProps[i].p.v;\r\n            }\r\n        }\r\n    }\r\n};\r\nextendPrototype([DynamicPropertyContainer], DashProperty);\r\nfunction GradientProperty(elem,data,container){\r\n    this.data = data;\r\n    this.c = createTypedArray('uint8c', data.p*4);\r\n    var cLength = data.k.k[0].s ? (data.k.k[0].s.length - data.p*4) : data.k.k.length - data.p*4;\r\n    this.o = createTypedArray('float32', cLength);\r\n    this._cmdf = false;\r\n    this._omdf = false;\r\n    this._collapsable = this.checkCollapsable();\r\n    this._hasOpacity = cLength;\r\n    this.initDynamicPropertyContainer(container);\r\n    this.prop = PropertyFactory.getProp(elem,data.k,1,null,this);\r\n    this.k = this.prop.k;\r\n    this.getValue(true);\r\n}\r\n\r\nGradientProperty.prototype.comparePoints = function(values, points) {\r\n    var i = 0, len = this.o.length/2, diff;\r\n    while(i < len) {\r\n        diff = Math.abs(values[i*4] - values[points*4 + i*2]);\r\n        if(diff > 0.01){\r\n            return false;\r\n        }\r\n        i += 1;\r\n    }\r\n    return true;\r\n};\r\n\r\nGradientProperty.prototype.checkCollapsable = function() {\r\n    if (this.o.length/2 !== this.c.length/4) {\r\n        return false;\r\n    }\r\n    if (this.data.k.k[0].s) {\r\n        var i = 0, len = this.data.k.k.length;\r\n        while (i < len) {\r\n            if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\r\n                return false;\r\n            }\r\n            i += 1;\r\n        }\r\n    } else if(!this.comparePoints(this.data.k.k, this.data.p)) {\r\n        return false;\r\n    }\r\n    return true;\r\n};\r\n\r\nGradientProperty.prototype.getValue = function(forceRender){\r\n    this.prop.getValue();\r\n    this._mdf = false;\r\n    this._cmdf = false;\r\n    this._omdf = false;\r\n    if(this.prop._mdf || forceRender){\r\n        var i, len = this.data.p*4;\r\n        var mult, val;\r\n        for(i=0;i<len;i+=1){\r\n            mult = i%4 === 0 ? 100 : 255;\r\n            val = Math.round(this.prop.v[i]*mult);\r\n            if(this.c[i] !== val){\r\n                this.c[i] = val;\r\n                this._cmdf = !forceRender;\r\n            }\r\n        }\r\n        if(this.o.length){\r\n            len = this.prop.v.length;\r\n            for(i=this.data.p*4;i<len;i+=1){\r\n                mult = i%2 === 0 ? 100 : 1;\r\n                val = i%2 === 0 ?  Math.round(this.prop.v[i]*100):this.prop.v[i];\r\n                if(this.o[i-this.data.p*4] !== val){\r\n                    this.o[i-this.data.p*4] = val;\r\n                    this._omdf = !forceRender;\r\n                }\r\n            }\r\n        }\r\n        this._mdf = !forceRender;\r\n    }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], GradientProperty);\r\nvar buildShapeString = function(pathNodes, length, closed, mat) {\r\n\tif(length === 0) {\r\n            return '';\r\n        }\r\n        var _o = pathNodes.o;\r\n        var _i = pathNodes.i;\r\n        var _v = pathNodes.v;\r\n        var i, shapeString = \" M\" + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n        for(i = 1; i < length; i += 1) {\r\n            shapeString += \" C\" + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + \" \" + mat.applyToPointStringified(_i[i][0], _i[i][1]) + \" \" + mat.applyToPointStringified(_v[i][0], _v[i][1]);\r\n        }\r\n        if (closed && length) {\r\n            shapeString += \" C\" + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + \" \" + mat.applyToPointStringified(_i[0][0], _i[0][1]) + \" \" + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n            shapeString += 'z';\r\n        }\r\n        return shapeString;\r\n}\r\nvar ImagePreloader = (function(){\r\n\r\n    var proxyImage = (function(){\r\n        var canvas = createTag('canvas');\r\n        canvas.width = 1;\r\n        canvas.height = 1;\r\n        var ctx = canvas.getContext('2d');\r\n        ctx.fillStyle = 'rgba(0,0,0,0)';\r\n        ctx.fillRect(0, 0, 1, 1);\r\n        return canvas;\r\n    }())\r\n\r\n    function imageLoaded(){\r\n        this.loadedAssets += 1;\r\n        if(this.loadedAssets === this.totalImages){\r\n            if(this.imagesLoadedCb) {\r\n                this.imagesLoadedCb(null);\r\n            }\r\n        }\r\n    }\r\n\r\n    function getAssetsPath(assetData, assetsPath, original_path) {\r\n        var path = '';\r\n        if (assetData.e) {\r\n            path = assetData.p;\r\n        } else if(assetsPath) {\r\n            var imagePath = assetData.p;\r\n            if (imagePath.indexOf('images/') !== -1) {\r\n                imagePath = imagePath.split('/')[1];\r\n            }\r\n            path = assetsPath + imagePath;\r\n        } else {\r\n            path = original_path;\r\n            path += assetData.u ? assetData.u : '';\r\n            path += assetData.p;\r\n        }\r\n        return path;\r\n    }\r\n\r\n    function createImageData(assetData) {\r\n        var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n        var img = createNS('image');\r\n        img.addEventListener('load', this._imageLoaded, false);\r\n        img.addEventListener('error', function() {\r\n            ob.img = proxyImage;\r\n            this._imageLoaded();\r\n        }.bind(this), false);\r\n        img.setAttributeNS('http://www.w3.org/1999/xlink','href', path);\r\n        var ob = {\r\n            img: img,\r\n            assetData: assetData\r\n        }\r\n        return ob;\r\n    }\r\n\r\n    function createImgData(assetData) {\r\n        var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n        var img = createTag('img');\r\n        img.crossOrigin = 'anonymous';\r\n        img.addEventListener('load', this._imageLoaded, false);\r\n        img.addEventListener('error', function() {\r\n            ob.img = proxyImage;\r\n            this._imageLoaded();\r\n        }.bind(this), false);\r\n        img.src = path;\r\n        var ob = {\r\n            img: img,\r\n            assetData: assetData\r\n        }\r\n        return ob;\r\n    }\r\n\r\n    function loadAssets(assets, cb){\r\n        this.imagesLoadedCb = cb;\r\n        var i, len = assets.length;\r\n        for (i = 0; i < len; i += 1) {\r\n            if(!assets[i].layers){\r\n                this.totalImages += 1;\r\n                this.images.push(this._createImageData(assets[i]));\r\n            }\r\n        }\r\n    }\r\n\r\n    function setPath(path){\r\n        this.path = path || '';\r\n    }\r\n\r\n    function setAssetsPath(path){\r\n        this.assetsPath = path || '';\r\n    }\r\n\r\n    function getImage(assetData) {\r\n        var i = 0, len = this.images.length;\r\n        while (i < len) {\r\n            if (this.images[i].assetData === assetData) {\r\n                return this.images[i].img;\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n\r\n    function destroy() {\r\n        this.imagesLoadedCb = null;\r\n        this.images.length = 0;\r\n    }\r\n\r\n    function loaded() {\r\n        return this.totalImages === this.loadedAssets;\r\n    }\r\n\r\n    function setCacheType(type) {\r\n        if (type === 'svg') {\r\n            this._createImageData = this.createImageData.bind(this);\r\n        } else {\r\n            this._createImageData = this.createImgData.bind(this);\r\n        }\r\n    }\r\n\r\n    function ImagePreloader(type){\r\n        this._imageLoaded = imageLoaded.bind(this);\r\n        this.assetsPath = '';\r\n        this.path = '';\r\n        this.totalImages = 0;\r\n        this.loadedAssets = 0;\r\n        this.imagesLoadedCb = null;\r\n        this.images = [];\r\n    };\r\n\r\n    ImagePreloader.prototype = {\r\n        loadAssets: loadAssets,\r\n        setAssetsPath: setAssetsPath,\r\n        setPath: setPath,\r\n        loaded: loaded,\r\n        destroy: destroy,\r\n        getImage: getImage,\r\n        createImgData: createImgData,\r\n        createImageData: createImageData,\r\n        imageLoaded: imageLoaded,\r\n        setCacheType: setCacheType,\r\n    }\r\n\r\n    return ImagePreloader;\r\n}());\r\nvar featureSupport = (function(){\r\n\tvar ob = {\r\n\t\tmaskType: true\r\n\t};\r\n\tif (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\r\n\t   ob.maskType = false;\r\n\t}\r\n\treturn ob;\r\n}());\r\nvar filtersFactory = (function(){\r\n\tvar ob = {};\r\n\tob.createFilter = createFilter;\r\n\tob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\r\n\r\n\tfunction createFilter(filId){\r\n        \tvar fil = createNS('filter');\r\n        \tfil.setAttribute('id',filId);\r\n                fil.setAttribute('filterUnits','objectBoundingBox');\r\n                fil.setAttribute('x','0%');\r\n                fil.setAttribute('y','0%');\r\n                fil.setAttribute('width','100%');\r\n                fil.setAttribute('height','100%');\r\n                return fil;\r\n\t}\r\n\r\n\tfunction createAlphaToLuminanceFilter(){\r\n                var feColorMatrix = createNS('feColorMatrix');\r\n                feColorMatrix.setAttribute('type','matrix');\r\n                feColorMatrix.setAttribute('color-interpolation-filters','sRGB');\r\n                feColorMatrix.setAttribute('values','0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\r\n                return feColorMatrix;\r\n\t}\r\n\r\n\treturn ob;\r\n}());\r\nvar assetLoader = (function(){\r\n\r\n\tfunction formatResponse(xhr) {\r\n\t\tif(xhr.response && typeof xhr.response === 'object') {\r\n\t\t\treturn xhr.response;\r\n\t\t} else if(xhr.response && typeof xhr.response === 'string') {\r\n\t\t\treturn JSON.parse(xhr.response);\r\n\t\t} else if(xhr.responseText) {\r\n\t\t\treturn JSON.parse(xhr.responseText);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction loadAsset(path, callback, errorCallback) {\r\n\t\tvar response;\r\n\t\tvar xhr = new XMLHttpRequest();\r\n\t\txhr.open('GET', path, true);\r\n\t\t// set responseType after calling open or IE will break.\r\n\t\ttry {\r\n\t\t    // This crashes on Android WebView prior to KitKat\r\n\t\t    xhr.responseType = \"json\";\r\n\t\t} catch (err) {}\r\n\t    xhr.send();\r\n\t    xhr.onreadystatechange = function () {\r\n\t        if (xhr.readyState == 4) {\r\n\t            if(xhr.status == 200){\r\n\t            \tresponse = formatResponse(xhr);\r\n\t            \tcallback(response);\r\n\t            }else{\r\n\t                try{\r\n\t            \t\tresponse = formatResponse(xhr);\r\n\t            \t\tcallback(response);\r\n\t                }catch(err){\r\n\t                \tif(errorCallback) {\r\n\t                \t\terrorCallback(err);\r\n\t                \t}\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t}\r\n\treturn {\r\n\t\tload: loadAsset\r\n\t}\r\n}())\r\n\r\nfunction TextAnimatorProperty(textData, renderType, elem){\r\n    this._isFirstFrame = true;\r\n\tthis._hasMaskedPath = false;\r\n\tthis._frameId = -1;\r\n\tthis._textData = textData;\r\n\tthis._renderType = renderType;\r\n    this._elem = elem;\r\n\tthis._animatorsData = createSizedArray(this._textData.a.length);\r\n\tthis._pathData = {};\r\n\tthis._moreOptions = {\r\n\t\talignment: {}\r\n\t};\r\n\tthis.renderedLetters = [];\r\n    this.lettersChangedFlag = false;\r\n    this.initDynamicPropertyContainer(elem);\r\n\r\n}\r\n\r\nTextAnimatorProperty.prototype.searchProperties = function(){\r\n    var i, len = this._textData.a.length, animatorProps;\r\n    var getProp = PropertyFactory.getProp;\r\n    for(i=0;i<len;i+=1){\r\n        animatorProps = this._textData.a[i];\r\n        this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\r\n    }\r\n    if(this._textData.p && 'm' in this._textData.p){\r\n        this._pathData = {\r\n            f: getProp(this._elem,this._textData.p.f,0,0,this),\r\n            l: getProp(this._elem,this._textData.p.l,0,0,this),\r\n            r: this._textData.p.r,\r\n            m: this._elem.maskManager.getMaskProperty(this._textData.p.m)\r\n        };\r\n        this._hasMaskedPath = true;\r\n    } else {\r\n        this._hasMaskedPath = false;\r\n    }\r\n    this._moreOptions.alignment = getProp(this._elem,this._textData.m.a,1,0,this);\r\n};\r\n\r\nTextAnimatorProperty.prototype.getMeasures = function(documentData, lettersChangedFlag){\r\n    this.lettersChangedFlag = lettersChangedFlag;\r\n    if(!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\r\n        return;\r\n    }\r\n    this._isFirstFrame = false;\r\n    var alignment = this._moreOptions.alignment.v;\r\n    var animators = this._animatorsData;\r\n    var textData = this._textData;\r\n    var matrixHelper = this.mHelper;\r\n    var renderType = this._renderType;\r\n    var renderedLettersCount = this.renderedLetters.length;\r\n    var data = this.data;\r\n    var xPos,yPos;\r\n    var i, len;\r\n    var letters = documentData.l, pathInfo, currentLength, currentPoint, segmentLength, flag, pointInd, segmentInd, prevPoint, points, segments, partialLength, totalLength, perc, tanAngle, mask;\r\n    if(this._hasMaskedPath) {\r\n        mask = this._pathData.m;\r\n        if(!this._pathData.n || this._pathData._mdf){\r\n            var paths = mask.v;\r\n            if(this._pathData.r){\r\n                paths = paths.reverse();\r\n            }\r\n            // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\r\n            pathInfo = {\r\n                tLength: 0,\r\n                segments: []\r\n            };\r\n            len = paths._length - 1;\r\n            var bezierData;\r\n            totalLength = 0;\r\n            for (i = 0; i < len; i += 1) {\r\n                bezierData = bez.buildBezierData(paths.v[i]\r\n                    , paths.v[i + 1]\r\n                    , [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]]\r\n                    , [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\r\n                pathInfo.tLength += bezierData.segmentLength;\r\n                pathInfo.segments.push(bezierData);\r\n                totalLength += bezierData.segmentLength;\r\n            }\r\n            i = len;\r\n            if (mask.v.c) {\r\n                bezierData = bez.buildBezierData(paths.v[i]\r\n                    , paths.v[0]\r\n                    , [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]]\r\n                    , [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\r\n                pathInfo.tLength += bezierData.segmentLength;\r\n                pathInfo.segments.push(bezierData);\r\n                totalLength += bezierData.segmentLength;\r\n            }\r\n            this._pathData.pi = pathInfo;\r\n        }\r\n        pathInfo = this._pathData.pi;\r\n\r\n        currentLength = this._pathData.f.v;\r\n        segmentInd = 0;\r\n        pointInd = 1;\r\n        segmentLength = 0;\r\n        flag = true;\r\n        segments = pathInfo.segments;\r\n        if (currentLength < 0 && mask.v.c) {\r\n            if (pathInfo.tLength < Math.abs(currentLength)) {\r\n                currentLength = -Math.abs(currentLength) % pathInfo.tLength;\r\n            }\r\n            segmentInd = segments.length - 1;\r\n            points = segments[segmentInd].points;\r\n            pointInd = points.length - 1;\r\n            while (currentLength < 0) {\r\n                currentLength += points[pointInd].partialLength;\r\n                pointInd -= 1;\r\n                if (pointInd < 0) {\r\n                    segmentInd -= 1;\r\n                    points = segments[segmentInd].points;\r\n                    pointInd = points.length - 1;\r\n                }\r\n            }\r\n\r\n        }\r\n        points = segments[segmentInd].points;\r\n        prevPoint = points[pointInd - 1];\r\n        currentPoint = points[pointInd];\r\n        partialLength = currentPoint.partialLength;\r\n    }\r\n\r\n\r\n    len = letters.length;\r\n    xPos = 0;\r\n    yPos = 0;\r\n    var yOff = documentData.finalSize * 1.2 * 0.714;\r\n    var firstLine = true;\r\n    var animatorProps, animatorSelector;\r\n    var j, jLen;\r\n    var letterValue;\r\n\r\n    jLen = animators.length;\r\n    var lastLetter;\r\n\r\n    var mult, ind = -1, offf, xPathPos, yPathPos;\r\n    var initPathPos = currentLength,initSegmentInd = segmentInd, initPointInd = pointInd, currentLine = -1;\r\n    var elemOpacity;\r\n    var sc,sw,fc,k;\r\n    var lineLength = 0;\r\n    var letterSw, letterSc, letterFc, letterM = '', letterP = this.defaultPropsArray, letterO;\r\n\r\n    //\r\n    if(documentData.j === 2 || documentData.j === 1) {\r\n        var animatorJustifyOffset = 0;\r\n        var animatorFirstCharOffset = 0;\r\n        var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\r\n        var lastIndex = 0;\r\n        var isNewLine = true;\r\n\r\n        for (i = 0; i < len; i += 1) {\r\n            if (letters[i].n) {\r\n                if(animatorJustifyOffset) {\r\n                    animatorJustifyOffset += animatorFirstCharOffset;\r\n                }\r\n                while (lastIndex < i) {\r\n                    letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n                    lastIndex += 1;\r\n                }\r\n                animatorJustifyOffset = 0;\r\n                isNewLine = true;\r\n            } else {\r\n                for (j = 0; j < jLen; j += 1) {\r\n                    animatorProps = animators[j].a;\r\n                    if (animatorProps.t.propType) {\r\n                        if (isNewLine && documentData.j === 2) {\r\n                            animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\r\n                        }\r\n                        animatorSelector = animators[j].s;\r\n                        mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n                        if (mult.length) {\r\n                            animatorJustifyOffset += animatorProps.t.v*mult[0] * justifyOffsetMult;\r\n                        } else {\r\n                            animatorJustifyOffset += animatorProps.t.v*mult * justifyOffsetMult;\r\n                        }\r\n                    }\r\n                }\r\n                isNewLine = false;\r\n            }\r\n        }\r\n        if(animatorJustifyOffset) {\r\n            animatorJustifyOffset += animatorFirstCharOffset;\r\n        }\r\n        while(lastIndex < i) {\r\n            letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n            lastIndex += 1;\r\n        }\r\n    }\r\n    //\r\n\r\n    for( i = 0; i < len; i += 1) {\r\n\r\n        matrixHelper.reset();\r\n        elemOpacity = 1;\r\n        if(letters[i].n) {\r\n            xPos = 0;\r\n            yPos += documentData.yOffset;\r\n            yPos += firstLine ? 1 : 0;\r\n            currentLength = initPathPos ;\r\n            firstLine = false;\r\n            lineLength = 0;\r\n            if(this._hasMaskedPath) {\r\n                segmentInd = initSegmentInd;\r\n                pointInd = initPointInd;\r\n                points = segments[segmentInd].points;\r\n                prevPoint = points[pointInd - 1];\r\n                currentPoint = points[pointInd];\r\n                partialLength = currentPoint.partialLength;\r\n                segmentLength = 0;\r\n            }\r\n            letterO = letterSw = letterFc = letterM = '';\r\n            letterP = this.defaultPropsArray;\r\n        }else{\r\n            if(this._hasMaskedPath) {\r\n                if(currentLine !== letters[i].line){\r\n                    switch(documentData.j){\r\n                        case 1:\r\n                            currentLength += totalLength - documentData.lineWidths[letters[i].line];\r\n                            break;\r\n                        case 2:\r\n                            currentLength += (totalLength - documentData.lineWidths[letters[i].line])/2;\r\n                            break;\r\n                    }\r\n                    currentLine = letters[i].line;\r\n                }\r\n                if (ind !== letters[i].ind) {\r\n                    if (letters[ind]) {\r\n                        currentLength += letters[ind].extra;\r\n                    }\r\n                    currentLength += letters[i].an / 2;\r\n                    ind = letters[i].ind;\r\n                }\r\n                currentLength += alignment[0] * letters[i].an / 200;\r\n                var animatorOffset = 0;\r\n                for (j = 0; j < jLen; j += 1) {\r\n                    animatorProps = animators[j].a;\r\n                    if (animatorProps.p.propType) {\r\n                        animatorSelector = animators[j].s;\r\n                        mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                        if(mult.length){\r\n                            animatorOffset += animatorProps.p.v[0] * mult[0];\r\n                        } else{\r\n                            animatorOffset += animatorProps.p.v[0] * mult;\r\n                        }\r\n\r\n                    }\r\n                    if (animatorProps.a.propType) {\r\n                        animatorSelector = animators[j].s;\r\n                        mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                        if(mult.length){\r\n                            animatorOffset += animatorProps.a.v[0] * mult[0];\r\n                        } else{\r\n                            animatorOffset += animatorProps.a.v[0] * mult;\r\n                        }\r\n\r\n                    }\r\n                }\r\n                flag = true;\r\n                while (flag) {\r\n                    if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\r\n                        perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\r\n                        xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\r\n                        yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\r\n                        matrixHelper.translate(-alignment[0]*letters[i].an/200, -(alignment[1] * yOff / 100));\r\n                        flag = false;\r\n                    } else if (points) {\r\n                        segmentLength += currentPoint.partialLength;\r\n                        pointInd += 1;\r\n                        if (pointInd >= points.length) {\r\n                            pointInd = 0;\r\n                            segmentInd += 1;\r\n                            if (!segments[segmentInd]) {\r\n                                if (mask.v.c) {\r\n                                    pointInd = 0;\r\n                                    segmentInd = 0;\r\n                                    points = segments[segmentInd].points;\r\n                                } else {\r\n                                    segmentLength -= currentPoint.partialLength;\r\n                                    points = null;\r\n                                }\r\n                            } else {\r\n                                points = segments[segmentInd].points;\r\n                            }\r\n                        }\r\n                        if (points) {\r\n                            prevPoint = currentPoint;\r\n                            currentPoint = points[pointInd];\r\n                            partialLength = currentPoint.partialLength;\r\n                        }\r\n                    }\r\n                }\r\n                offf = letters[i].an / 2 - letters[i].add;\r\n                matrixHelper.translate(-offf, 0, 0);\r\n            } else {\r\n                offf = letters[i].an/2 - letters[i].add;\r\n                matrixHelper.translate(-offf,0,0);\r\n\r\n                // Grouping alignment\r\n                matrixHelper.translate(-alignment[0]*letters[i].an/200, -alignment[1]*yOff/100, 0);\r\n            }\r\n\r\n            lineLength += letters[i].l/2;\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n                if (animatorProps.t.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                    //This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\r\n                    if(xPos !== 0 || documentData.j !== 0) {\r\n                        if(this._hasMaskedPath) {\r\n                            if(mult.length) {\r\n                                currentLength += animatorProps.t.v*mult[0];\r\n                            } else {\r\n                                currentLength += animatorProps.t.v*mult;\r\n                            }\r\n                        }else{\r\n                            if(mult.length) {\r\n                                xPos += animatorProps.t.v*mult[0];\r\n                            } else {\r\n                                xPos += animatorProps.t.v*mult;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            lineLength += letters[i].l/2;\r\n            if(documentData.strokeWidthAnim) {\r\n                sw = documentData.sw || 0;\r\n            }\r\n            if(documentData.strokeColorAnim) {\r\n                if(documentData.sc){\r\n                    sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\r\n                }else{\r\n                    sc = [0,0,0];\r\n                }\r\n            }\r\n            if(documentData.fillColorAnim && documentData.fc) {\r\n                fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\r\n            }\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n                if (animatorProps.a.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n\r\n                    if(mult.length){\r\n                        matrixHelper.translate(-animatorProps.a.v[0]*mult[0], -animatorProps.a.v[1]*mult[1], animatorProps.a.v[2]*mult[2]);\r\n                    } else {\r\n                        matrixHelper.translate(-animatorProps.a.v[0]*mult, -animatorProps.a.v[1]*mult, animatorProps.a.v[2]*mult);\r\n                    }\r\n                }\r\n            }\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n                if (animatorProps.s.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                    if(mult.length){\r\n                        matrixHelper.scale(1+((animatorProps.s.v[0]-1)*mult[0]),1+((animatorProps.s.v[1]-1)*mult[1]),1);\r\n                    } else {\r\n                        matrixHelper.scale(1+((animatorProps.s.v[0]-1)*mult),1+((animatorProps.s.v[1]-1)*mult),1);\r\n                    }\r\n                }\r\n            }\r\n            for(j=0;j<jLen;j+=1) {\r\n                animatorProps = animators[j].a;\r\n                animatorSelector = animators[j].s;\r\n                mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                if (animatorProps.sk.propType) {\r\n                    if(mult.length) {\r\n                        matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\r\n                    } else {\r\n                        matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\r\n                    }\r\n                }\r\n                if (animatorProps.r.propType) {\r\n                    if(mult.length) {\r\n                        matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\r\n                    } else {\r\n                        matrixHelper.rotateZ(-animatorProps.r.v * mult);\r\n                    }\r\n                }\r\n                if (animatorProps.ry.propType) {\r\n\r\n                    if(mult.length) {\r\n                        matrixHelper.rotateY(animatorProps.ry.v*mult[1]);\r\n                    }else{\r\n                        matrixHelper.rotateY(animatorProps.ry.v*mult);\r\n                    }\r\n                }\r\n                if (animatorProps.rx.propType) {\r\n                    if(mult.length) {\r\n                        matrixHelper.rotateX(animatorProps.rx.v*mult[0]);\r\n                    } else {\r\n                        matrixHelper.rotateX(animatorProps.rx.v*mult);\r\n                    }\r\n                }\r\n                if (animatorProps.o.propType) {\r\n                    if(mult.length) {\r\n                        elemOpacity += ((animatorProps.o.v)*mult[0] - elemOpacity)*mult[0];\r\n                    } else {\r\n                        elemOpacity += ((animatorProps.o.v)*mult - elemOpacity)*mult;\r\n                    }\r\n                }\r\n                if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\r\n                    if(mult.length) {\r\n                        sw += animatorProps.sw.v*mult[0];\r\n                    } else {\r\n                        sw += animatorProps.sw.v*mult;\r\n                    }\r\n                }\r\n                if (documentData.strokeColorAnim && animatorProps.sc.propType) {\r\n                    for(k=0;k<3;k+=1){\r\n                        if(mult.length) {\r\n                            sc[k] = sc[k] + (animatorProps.sc.v[k] - sc[k])*mult[0];\r\n                        } else {\r\n                            sc[k] = sc[k] + (animatorProps.sc.v[k] - sc[k])*mult;\r\n                        }\r\n                    }\r\n                }\r\n                if (documentData.fillColorAnim && documentData.fc) {\r\n                    if(animatorProps.fc.propType){\r\n                        for(k=0;k<3;k+=1){\r\n                            if(mult.length) {\r\n                                fc[k] = fc[k] + (animatorProps.fc.v[k] - fc[k])*mult[0];\r\n                            } else {\r\n                                fc[k] = fc[k] + (animatorProps.fc.v[k] - fc[k])*mult;\r\n                            }\r\n                        }\r\n                    }\r\n                    if(animatorProps.fh.propType){\r\n                        if(mult.length) {\r\n                            fc = addHueToRGB(fc,animatorProps.fh.v*mult[0]);\r\n                        } else {\r\n                            fc = addHueToRGB(fc,animatorProps.fh.v*mult);\r\n                        }\r\n                    }\r\n                    if(animatorProps.fs.propType){\r\n                        if(mult.length) {\r\n                            fc = addSaturationToRGB(fc,animatorProps.fs.v*mult[0]);\r\n                        } else {\r\n                            fc = addSaturationToRGB(fc,animatorProps.fs.v*mult);\r\n                        }\r\n                    }\r\n                    if(animatorProps.fb.propType){\r\n                        if(mult.length) {\r\n                            fc = addBrightnessToRGB(fc,animatorProps.fb.v*mult[0]);\r\n                        } else {\r\n                            fc = addBrightnessToRGB(fc,animatorProps.fb.v*mult);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            for(j=0;j<jLen;j+=1){\r\n                animatorProps = animators[j].a;\r\n\r\n                if (animatorProps.p.propType) {\r\n                    animatorSelector = animators[j].s;\r\n                    mult = animatorSelector.getMult(letters[i].anIndexes[j],textData.a[j].s.totalChars);\r\n                    if(this._hasMaskedPath) {\r\n                        if(mult.length) {\r\n                            matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\r\n                        } else {\r\n                            matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n                        }\r\n                    }else{\r\n                        if(mult.length) {\r\n                            matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\r\n                        } else {\r\n                            matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n                        \r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if(documentData.strokeWidthAnim){\r\n                letterSw = sw < 0 ? 0 : sw;\r\n            }\r\n            if(documentData.strokeColorAnim){\r\n                letterSc = 'rgb('+Math.round(sc[0]*255)+','+Math.round(sc[1]*255)+','+Math.round(sc[2]*255)+')';\r\n            }\r\n            if(documentData.fillColorAnim && documentData.fc){\r\n                letterFc = 'rgb('+Math.round(fc[0]*255)+','+Math.round(fc[1]*255)+','+Math.round(fc[2]*255)+')';\r\n            }\r\n\r\n            if(this._hasMaskedPath) {\r\n                matrixHelper.translate(0,-documentData.ls);\r\n\r\n                matrixHelper.translate(0, alignment[1]*yOff/100 + yPos,0);\r\n                if (textData.p.p) {\r\n                    tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\r\n                    var rot = Math.atan(tanAngle) * 180 / Math.PI;\r\n                    if (currentPoint.point[0] < prevPoint.point[0]) {\r\n                        rot += 180;\r\n                    }\r\n                    matrixHelper.rotate(-rot * Math.PI / 180);\r\n                }\r\n                matrixHelper.translate(xPathPos, yPathPos, 0);\r\n                currentLength -= alignment[0]*letters[i].an/200;\r\n                if(letters[i+1] && ind !== letters[i+1].ind){\r\n                    currentLength += letters[i].an / 2;\r\n                    currentLength += documentData.tr/1000*documentData.finalSize;\r\n                }\r\n            }else{\r\n\r\n                matrixHelper.translate(xPos,yPos,0);\r\n\r\n                if(documentData.ps){\r\n                    //matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\r\n                    matrixHelper.translate(documentData.ps[0],documentData.ps[1] + documentData.ascent,0);\r\n                }\r\n                switch(documentData.j){\r\n                    case 1:\r\n                        matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]),0,0);\r\n                        break;\r\n                    case 2:\r\n                        matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line])/2,0,0);\r\n                        break;\r\n                }\r\n                matrixHelper.translate(0,-documentData.ls);\r\n                matrixHelper.translate(offf,0,0);\r\n                matrixHelper.translate(alignment[0]*letters[i].an/200,alignment[1]*yOff/100,0);\r\n                xPos += letters[i].l + documentData.tr/1000*documentData.finalSize;\r\n            }\r\n            if(renderType === 'html'){\r\n                letterM = matrixHelper.toCSS();\r\n            }else if(renderType === 'svg'){\r\n                letterM = matrixHelper.to2dCSS();\r\n            }else{\r\n                letterP = [matrixHelper.props[0],matrixHelper.props[1],matrixHelper.props[2],matrixHelper.props[3],matrixHelper.props[4],matrixHelper.props[5],matrixHelper.props[6],matrixHelper.props[7],matrixHelper.props[8],matrixHelper.props[9],matrixHelper.props[10],matrixHelper.props[11],matrixHelper.props[12],matrixHelper.props[13],matrixHelper.props[14],matrixHelper.props[15]];\r\n            }\r\n            letterO = elemOpacity;\r\n        }\r\n\r\n        if(renderedLettersCount <= i) {\r\n            letterValue = new LetterProps(letterO,letterSw,letterSc,letterFc,letterM,letterP);\r\n            this.renderedLetters.push(letterValue);\r\n            renderedLettersCount += 1;\r\n            this.lettersChangedFlag = true;\r\n        } else {\r\n            letterValue = this.renderedLetters[i];\r\n            this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\r\n        }\r\n    }\r\n};\r\n\r\nTextAnimatorProperty.prototype.getValue = function(){\r\n\tif(this._elem.globalData.frameId === this._frameId){\r\n        return;\r\n    }\r\n    this._frameId = this._elem.globalData.frameId;\r\n    this.iterateDynamicProperties();\r\n};\r\n\r\nTextAnimatorProperty.prototype.mHelper = new Matrix();\r\nTextAnimatorProperty.prototype.defaultPropsArray = [];\r\nextendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\r\nfunction TextAnimatorDataProperty(elem, animatorProps, container) {\r\n\tvar defaultData = {propType:false};\r\n\tvar getProp = PropertyFactory.getProp;\r\n\tvar textAnimator_animatables = animatorProps.a;\r\n\tthis.a = {\r\n\t\tr: textAnimator_animatables.r ? getProp(elem, textAnimator_animatables.r, 0, degToRads, container) : defaultData,\r\n\t\trx: textAnimator_animatables.rx ? getProp(elem, textAnimator_animatables.rx, 0, degToRads, container) : defaultData,\r\n\t\try: textAnimator_animatables.ry ? getProp(elem, textAnimator_animatables.ry, 0, degToRads, container) : defaultData,\r\n\t\tsk: textAnimator_animatables.sk ? getProp(elem, textAnimator_animatables.sk, 0, degToRads, container) : defaultData,\r\n\t\tsa: textAnimator_animatables.sa ? getProp(elem, textAnimator_animatables.sa, 0, degToRads, container) : defaultData,\r\n\t\ts: textAnimator_animatables.s ? getProp(elem, textAnimator_animatables.s, 1, 0.01, container) : defaultData,\r\n\t\ta: textAnimator_animatables.a ? getProp(elem, textAnimator_animatables.a, 1, 0, container) : defaultData,\r\n\t\to: textAnimator_animatables.o ? getProp(elem, textAnimator_animatables.o, 0, 0.01, container) : defaultData,\r\n\t\tp: textAnimator_animatables.p ? getProp(elem,textAnimator_animatables.p, 1, 0, container) : defaultData,\r\n\t\tsw: textAnimator_animatables.sw ? getProp(elem, textAnimator_animatables.sw, 0, 0, container) : defaultData,\r\n\t\tsc: textAnimator_animatables.sc ? getProp(elem, textAnimator_animatables.sc, 1, 0, container) : defaultData,\r\n\t\tfc: textAnimator_animatables.fc ? getProp(elem, textAnimator_animatables.fc, 1, 0, container) : defaultData,\r\n\t\tfh: textAnimator_animatables.fh ? getProp(elem, textAnimator_animatables.fh, 0, 0, container) : defaultData,\r\n\t\tfs: textAnimator_animatables.fs ? getProp(elem, textAnimator_animatables.fs, 0, 0.01, container) : defaultData,\r\n\t\tfb: textAnimator_animatables.fb ? getProp(elem, textAnimator_animatables.fb, 0, 0.01, container) : defaultData,\r\n\t\tt: textAnimator_animatables.t ? getProp(elem, textAnimator_animatables.t, 0, 0, container) : defaultData\r\n\t};\r\n\r\n\tthis.s = TextSelectorProp.getTextSelectorProp(elem,animatorProps.s, container);\r\n    this.s.t = animatorProps.s.t;\r\n}\r\nfunction LetterProps(o, sw, sc, fc, m, p){\r\n    this.o = o;\r\n    this.sw = sw;\r\n    this.sc = sc;\r\n    this.fc = fc;\r\n    this.m = m;\r\n    this.p = p;\r\n    this._mdf = {\r\n    \to: true,\r\n    \tsw: !!sw,\r\n    \tsc: !!sc,\r\n    \tfc: !!fc,\r\n    \tm: true,\r\n    \tp: true\r\n    };\r\n}\r\n\r\nLetterProps.prototype.update = function(o, sw, sc, fc, m, p) {\r\n\tthis._mdf.o = false;\r\n\tthis._mdf.sw = false;\r\n\tthis._mdf.sc = false;\r\n\tthis._mdf.fc = false;\r\n\tthis._mdf.m = false;\r\n\tthis._mdf.p = false;\r\n\tvar updated = false;\r\n\r\n\tif(this.o !== o) {\r\n\t\tthis.o = o;\r\n\t\tthis._mdf.o = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.sw !== sw) {\r\n\t\tthis.sw = sw;\r\n\t\tthis._mdf.sw = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.sc !== sc) {\r\n\t\tthis.sc = sc;\r\n\t\tthis._mdf.sc = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.fc !== fc) {\r\n\t\tthis.fc = fc;\r\n\t\tthis._mdf.fc = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(this.m !== m) {\r\n\t\tthis.m = m;\r\n\t\tthis._mdf.m = true;\r\n\t\tupdated = true;\r\n\t}\r\n\tif(p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\r\n\t\tthis.p = p;\r\n\t\tthis._mdf.p = true;\r\n\t\tupdated = true;\r\n\t}\r\n\treturn updated;\r\n};\r\nfunction TextProperty(elem, data){\r\n\tthis._frameId = initialDefaultFrame;\r\n\tthis.pv = '';\r\n\tthis.v = '';\r\n\tthis.kf = false;\r\n\tthis._isFirstFrame = true;\r\n\tthis._mdf = false;\r\n    this.data = data;\r\n\tthis.elem = elem;\r\n    this.comp = this.elem.comp;\r\n\tthis.keysIndex = 0;\r\n    this.canResize = false;\r\n    this.minimumFontSize = 1;\r\n    this.effectsSequence = [];\r\n\tthis.currentData = {\r\n\t\tascent: 0,\r\n        boxWidth: this.defaultBoxWidth,\r\n        f: '',\r\n        fStyle: '',\r\n        fWeight: '',\r\n        fc: '',\r\n        j: '',\r\n        justifyOffset: '',\r\n        l: [],\r\n        lh: 0,\r\n        lineWidths: [],\r\n        ls: '',\r\n        of: '',\r\n        s: '',\r\n        sc: '',\r\n        sw: 0,\r\n        t: 0,\r\n        tr: 0,\r\n        sz:0,\r\n        ps:null,\r\n        fillColorAnim: false,\r\n        strokeColorAnim: false,\r\n        strokeWidthAnim: false,\r\n        yOffset: 0,\r\n        finalSize:0,\r\n        finalText:[],\r\n        finalLineHeight: 0,\r\n        __complete: false\r\n\r\n\t};\r\n    this.copyData(this.currentData, this.data.d.k[0].s);\r\n\r\n    if(!this.searchProperty()) {\r\n        this.completeTextData(this.currentData);\r\n    }\r\n}\r\n\r\nTextProperty.prototype.defaultBoxWidth = [0,0];\r\n\r\nTextProperty.prototype.copyData = function(obj, data) {\r\n    for(var s in data) {\r\n        if(data.hasOwnProperty(s)) {\r\n            obj[s] = data[s];\r\n        }\r\n    }\r\n    return obj;\r\n}\r\n\r\nTextProperty.prototype.setCurrentData = function(data){\r\n    if(!data.__complete) {\r\n        this.completeTextData(data);\r\n    }\r\n    this.currentData = data;\r\n    this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\r\n    this._mdf = true;\r\n};\r\n\r\nTextProperty.prototype.searchProperty = function() {\r\n    return this.searchKeyframes();\r\n};\r\n\r\nTextProperty.prototype.searchKeyframes = function() {\r\n    this.kf = this.data.d.k.length > 1;\r\n    if(this.kf) {\r\n        this.addEffect(this.getKeyframeValue.bind(this));\r\n    }\r\n    return this.kf;\r\n}\r\n\r\nTextProperty.prototype.addEffect = function(effectFunction) {\r\n\tthis.effectsSequence.push(effectFunction);\r\n    this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.getValue = function(_finalValue) {\r\n    if((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\r\n        return;\r\n    }\r\n    this.currentData.t = this.data.d.k[this.keysIndex].s.t;\r\n    var currentValue = this.currentData;\r\n    var currentIndex = this.keysIndex;\r\n    if(this.lock) {\r\n        this.setCurrentData(this.currentData);\r\n        return;\r\n    }\r\n    this.lock = true;\r\n    this._mdf = false;\r\n    var multipliedValue;\r\n    var i, len = this.effectsSequence.length;\r\n    var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\r\n    for(i = 0; i < len; i += 1) {\r\n        //Checking if index changed to prevent creating a new object every time the expression updates.\r\n        if(currentIndex !== this.keysIndex) {\r\n            finalValue = this.effectsSequence[i](finalValue, finalValue.t);\r\n        } else {\r\n            finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\r\n        }\r\n    }\r\n    if(currentValue !== finalValue) {\r\n        this.setCurrentData(finalValue);\r\n    }\r\n    this.pv = this.v = this.currentData;\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n}\r\n\r\nTextProperty.prototype.getKeyframeValue = function() {\r\n    var textKeys = this.data.d.k, textDocumentData;\r\n    var frameNum = this.elem.comp.renderedFrame;\r\n    var i = 0, len = textKeys.length;\r\n    while(i <= len - 1) {\r\n        textDocumentData = textKeys[i].s;\r\n        if(i === len - 1 || textKeys[i+1].t > frameNum){\r\n            break;\r\n        }\r\n        i += 1;\r\n    }\r\n    if(this.keysIndex !== i) {\r\n        this.keysIndex = i;\r\n    }\r\n    return this.data.d.k[this.keysIndex].s;\r\n};\r\n\r\nTextProperty.prototype.buildFinalText = function(text) {\r\n    var combinedCharacters = FontManager.getCombinedCharacterCodes();\r\n    var charactersArray = [];\r\n    var i = 0, len = text.length;\r\n    var charCode;\r\n    while (i < len) {\r\n        charCode = text.charCodeAt(i);\r\n        if (combinedCharacters.indexOf(charCode) !== -1) {\r\n            charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n        } else {\r\n            if (charCode >= 0xD800 && charCode <= 0xDBFF) {\r\n                charCode = text.charCodeAt(i + 1);\r\n                if (charCode >= 0xDC00 && charCode <= 0xDFFF) {\r\n                    charactersArray.push(text.substr(i, 2));\r\n                    ++i;\r\n                } else {\r\n                    charactersArray.push(text.charAt(i));\r\n                }\r\n            } else {\r\n                charactersArray.push(text.charAt(i));\r\n            }\r\n        }\r\n        i += 1;\r\n    }\r\n    return charactersArray;\r\n}\r\n\r\nTextProperty.prototype.completeTextData = function(documentData) {\r\n    documentData.__complete = true;\r\n    var fontManager = this.elem.globalData.fontManager;\r\n    var data = this.data;\r\n    var letters = [];\r\n    var i, len;\r\n    var newLineFlag, index = 0, val;\r\n    var anchorGrouping = data.m.g;\r\n    var currentSize = 0, currentPos = 0, currentLine = 0, lineWidths = [];\r\n    var lineWidth = 0;\r\n    var maxLineWidth = 0;\r\n    var j, jLen;\r\n    var fontData = fontManager.getFontByName(documentData.f);\r\n    var charData, cLength = 0;\r\n    var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\r\n\r\n    var fWeight = 'normal', fStyle = 'normal';\r\n    len = styles.length;\r\n    var styleName;\r\n    for(i=0;i<len;i+=1){\r\n        styleName = styles[i].toLowerCase();\r\n        switch(styleName) {\r\n            case 'italic':\r\n            fStyle = 'italic';\r\n            break;\r\n            case 'bold':\r\n            fWeight = '700';\r\n            break;\r\n            case 'black':\r\n            fWeight = '900';\r\n            break;\r\n            case 'medium':\r\n            fWeight = '500';\r\n            break;\r\n            case 'regular':\r\n            case 'normal':\r\n            fWeight = '400';\r\n            break;\r\n            case 'light':\r\n            case 'thin':\r\n            fWeight = '200';\r\n            break;\r\n        }\r\n    }\r\n    documentData.fWeight = fontData.fWeight || fWeight;\r\n    documentData.fStyle = fStyle;\r\n    documentData.finalSize = documentData.s;\r\n    documentData.finalText = this.buildFinalText(documentData.t);\r\n    len = documentData.finalText.length;\r\n    documentData.finalLineHeight = documentData.lh;\r\n    var trackingOffset = documentData.tr/1000*documentData.finalSize;\r\n    var charCode;\r\n    if(documentData.sz){\r\n        var flag = true;\r\n        var boxWidth = documentData.sz[0];\r\n        var boxHeight = documentData.sz[1];\r\n        var currentHeight, finalText;\r\n        while(flag) {\r\n            finalText = this.buildFinalText(documentData.t);\r\n            currentHeight = 0;\r\n            lineWidth = 0;\r\n            len = finalText.length;\r\n            trackingOffset = documentData.tr/1000*documentData.finalSize;\r\n            var lastSpaceIndex = -1;\r\n            for(i=0;i<len;i+=1){\r\n                charCode = finalText[i].charCodeAt(0);\r\n                newLineFlag = false;\r\n                if(finalText[i] === ' '){\r\n                    lastSpaceIndex = i;\r\n                }else if(charCode === 13 || charCode === 3){\r\n                    lineWidth = 0;\r\n                    newLineFlag = true;\r\n                    currentHeight += documentData.finalLineHeight || documentData.finalSize*1.2;\r\n                }\r\n                if(fontManager.chars){\r\n                    charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\r\n                    cLength = newLineFlag ? 0 : charData.w*documentData.finalSize/100;\r\n                }else{\r\n                    //tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\r\n                    cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\r\n                }\r\n                if(lineWidth + cLength > boxWidth && finalText[i] !== ' '){\r\n                    if(lastSpaceIndex === -1){\r\n                        len += 1;\r\n                    } else {\r\n                        i = lastSpaceIndex;\r\n                    }\r\n                    currentHeight += documentData.finalLineHeight || documentData.finalSize*1.2;\r\n                    finalText.splice(i, lastSpaceIndex === i ? 1 : 0,\"\\r\");\r\n                    //finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\r\n                    lastSpaceIndex = -1;\r\n                    lineWidth = 0;\r\n                }else {\r\n                    lineWidth += cLength;\r\n                    lineWidth += trackingOffset;\r\n                }\r\n            }\r\n            currentHeight += fontData.ascent*documentData.finalSize/100;\r\n            if(this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\r\n                documentData.finalSize -= 1;\r\n                documentData.finalLineHeight = documentData.finalSize * documentData.lh / documentData.s;\r\n            } else {\r\n                documentData.finalText = finalText;\r\n                len = documentData.finalText.length;\r\n                flag = false;\r\n            }\r\n        }\r\n\r\n    }\r\n    lineWidth = - trackingOffset;\r\n    cLength = 0;\r\n    var uncollapsedSpaces = 0;\r\n    var currentChar;\r\n    for (i = 0;i < len ;i += 1) {\r\n        newLineFlag = false;\r\n        currentChar = documentData.finalText[i];\r\n        charCode = currentChar.charCodeAt(0);\r\n        if (charCode === 13 || charCode === 3) {\r\n            uncollapsedSpaces = 0;\r\n            lineWidths.push(lineWidth);\r\n            maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n            lineWidth = - 2 * trackingOffset;\r\n            val = '';\r\n            newLineFlag = true;\r\n            currentLine += 1;\r\n        }else{\r\n            val = currentChar;\r\n        }\r\n        if(fontManager.chars){\r\n            charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\r\n            cLength = newLineFlag ? 0 : charData.w*documentData.finalSize/100;\r\n        }else{\r\n            //var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n            //tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\r\n            cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n        }\r\n\r\n        //\r\n        if(currentChar === ' '){\r\n            uncollapsedSpaces += cLength + trackingOffset;\r\n        } else {\r\n            lineWidth += cLength + trackingOffset + uncollapsedSpaces;\r\n            uncollapsedSpaces = 0;\r\n        }\r\n        letters.push({l:cLength,an:cLength,add:currentSize,n:newLineFlag, anIndexes:[], val: val, line: currentLine, animatorJustifyOffset: 0});\r\n        if(anchorGrouping == 2){\r\n            currentSize += cLength;\r\n            if(val === '' || val === ' ' || i === len - 1){\r\n                if(val === '' || val === ' '){\r\n                    currentSize -= cLength;\r\n                }\r\n                while(currentPos<=i){\r\n                    letters[currentPos].an = currentSize;\r\n                    letters[currentPos].ind = index;\r\n                    letters[currentPos].extra = cLength;\r\n                    currentPos += 1;\r\n                }\r\n                index += 1;\r\n                currentSize = 0;\r\n            }\r\n        }else if(anchorGrouping == 3){\r\n            currentSize += cLength;\r\n            if(val === '' || i === len - 1){\r\n                if(val === ''){\r\n                    currentSize -= cLength;\r\n                }\r\n                while(currentPos<=i){\r\n                    letters[currentPos].an = currentSize;\r\n                    letters[currentPos].ind = index;\r\n                    letters[currentPos].extra = cLength;\r\n                    currentPos += 1;\r\n                }\r\n                currentSize = 0;\r\n                index += 1;\r\n            }\r\n        }else{\r\n            letters[index].ind = index;\r\n            letters[index].extra = 0;\r\n            index += 1;\r\n        }\r\n    }\r\n    documentData.l = letters;\r\n    maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n    lineWidths.push(lineWidth);\r\n    if(documentData.sz){\r\n        documentData.boxWidth = documentData.sz[0];\r\n        documentData.justifyOffset = 0;\r\n    }else{\r\n        documentData.boxWidth = maxLineWidth;\r\n        switch(documentData.j){\r\n            case 1:\r\n                documentData.justifyOffset = - documentData.boxWidth;\r\n                break;\r\n            case 2:\r\n                documentData.justifyOffset = - documentData.boxWidth/2;\r\n                break;\r\n            default:\r\n                documentData.justifyOffset = 0;\r\n        }\r\n    }\r\n    documentData.lineWidths = lineWidths;\r\n\r\n    var animators = data.a, animatorData, letterData;\r\n    jLen = animators.length;\r\n    var based, ind, indexes = [];\r\n    for(j=0;j<jLen;j+=1){\r\n        animatorData = animators[j];\r\n        if(animatorData.a.sc){\r\n            documentData.strokeColorAnim = true;\r\n        }\r\n        if(animatorData.a.sw){\r\n            documentData.strokeWidthAnim = true;\r\n        }\r\n        if(animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb){\r\n            documentData.fillColorAnim = true;\r\n        }\r\n        ind = 0;\r\n        based = animatorData.s.b;\r\n        for(i=0;i<len;i+=1){\r\n            letterData = letters[i];\r\n            letterData.anIndexes[j] = ind;\r\n            if((based == 1 && letterData.val !== '') || (based == 2 && letterData.val !== '' && letterData.val !== ' ') || (based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1)) || (based == 4 && (letterData.n || i == len - 1))){\r\n                if(animatorData.s.rn === 1){\r\n                    indexes.push(ind);\r\n                }\r\n                ind += 1;\r\n            }\r\n        }\r\n        data.a[j].s.totalChars = ind;\r\n        var currentInd = -1, newInd;\r\n        if(animatorData.s.rn === 1){\r\n            for(i = 0; i < len; i += 1){\r\n                letterData = letters[i];\r\n                if(currentInd != letterData.anIndexes[j]){\r\n                    currentInd = letterData.anIndexes[j];\r\n                    newInd = indexes.splice(Math.floor(Math.random()*indexes.length),1)[0];\r\n                }\r\n                letterData.anIndexes[j] = newInd;\r\n            }\r\n        }\r\n    }\r\n    documentData.yOffset = documentData.finalLineHeight || documentData.finalSize*1.2;\r\n    documentData.ls = documentData.ls || 0;\r\n    documentData.ascent = fontData.ascent*documentData.finalSize/100;\r\n};\r\n\r\nTextProperty.prototype.updateDocumentData = function(newData, index) {\r\n\tindex = index === undefined ? this.keysIndex : index;\r\n    var dData = this.copyData({}, this.data.d.k[index].s);\r\n    dData = this.copyData(dData, newData);\r\n    this.data.d.k[index].s = dData;\r\n    this.recalculate(index);\r\n    this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.recalculate = function(index) {\r\n    var dData = this.data.d.k[index].s;\r\n    dData.__complete = false;\r\n    this.keysIndex = 0;\r\n    this._isFirstFrame = true;\r\n    this.getValue(dData);\r\n}\r\n\r\nTextProperty.prototype.canResizeFont = function(_canResize) {\r\n    this.canResize = _canResize;\r\n    this.recalculate(this.keysIndex);\r\n    this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.setMinimumFontSize = function(_fontValue) {\r\n    this.minimumFontSize = Math.floor(_fontValue) || 1;\r\n    this.recalculate(this.keysIndex);\r\n    this.elem.addDynamicProperty(this);\r\n};\r\n\r\nvar TextSelectorProp = (function(){\r\n    var max = Math.max;\r\n    var min = Math.min;\r\n    var floor = Math.floor;\r\n\r\n    function TextSelectorProp(elem,data){\r\n        this._currentTextLength = -1;\r\n        this.k = false;\r\n        this.data = data;\r\n        this.elem = elem;\r\n        this.comp = elem.comp;\r\n        this.finalS = 0;\r\n        this.finalE = 0;\r\n        this.initDynamicPropertyContainer(elem);\r\n        this.s = PropertyFactory.getProp(elem,data.s || {k:0},0,0,this);\r\n        if('e' in data){\r\n            this.e = PropertyFactory.getProp(elem,data.e,0,0,this);\r\n        }else{\r\n            this.e = {v:100};\r\n        }\r\n        this.o = PropertyFactory.getProp(elem,data.o || {k:0},0,0,this);\r\n        this.xe = PropertyFactory.getProp(elem,data.xe || {k:0},0,0,this);\r\n        this.ne = PropertyFactory.getProp(elem,data.ne || {k:0},0,0,this);\r\n        this.a = PropertyFactory.getProp(elem,data.a,0,0.01,this);\r\n        if(!this.dynamicProperties.length){\r\n            this.getValue();\r\n        }\r\n    }\r\n\r\n    TextSelectorProp.prototype = {\r\n        getMult: function(ind) {\r\n            if(this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\r\n                this.getValue();\r\n            }\r\n            //var easer = bez.getEasingCurve(this.ne.v/100,0,1-this.xe.v/100,1);\r\n            var x1 = 0;\r\n            var y1 = 0;\r\n            var x2 = 1;\r\n            var y2 = 1;\r\n            if(this.ne.v > 0) {\r\n                x1 = this.ne.v / 100.0;\r\n            }\r\n            else {\r\n                y1 = -this.ne.v / 100.0;\r\n            }\r\n            if(this.xe.v > 0) {\r\n                x2 = 1.0 - this.xe.v / 100.0;\r\n            }\r\n            else {\r\n                y2 = 1.0 + this.xe.v / 100.0;\r\n            }\r\n            var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\r\n\r\n            var mult = 0;\r\n            var s = this.finalS;\r\n            var e = this.finalE;\r\n            var type = this.data.sh;\r\n            if (type === 2){\r\n                if (e === s) {\r\n                    mult = ind >= e ? 1 : 0;\r\n                } else {\r\n                    mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n                }\r\n                mult = easer(mult);\r\n            } else if(type === 3) {\r\n                if (e === s) {\r\n                    mult = ind >= e ? 0 : 1;\r\n                }else{\r\n                    mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s),1));\r\n                }\r\n\r\n                mult = easer(mult);\r\n            } else if (type === 4) {\r\n                if (e === s) {\r\n                    mult = 0;\r\n                } else {\r\n                    mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n                    if (mult < 0.5) {\r\n                        mult *= 2;\r\n                    } else {\r\n                        mult = 1 - 2 * (mult - 0.5);\r\n                    }\r\n                }\r\n                mult = easer(mult);\r\n            } else if (type === 5) {\r\n                if (e === s){\r\n                    mult = 0;\r\n                } else {\r\n                    var tot = e - s;\r\n                    /*ind += 0.5;\r\n                    mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind;*/\r\n                    ind = min(max(0, ind + 0.5 - s), e - s);\r\n                    var x = -tot/2+ind;\r\n                    var a = tot/2;\r\n                    mult = Math.sqrt(1 - (x * x) / (a * a));\r\n                }\r\n                mult = easer(mult);\r\n            } else if (type === 6) {\r\n                if (e === s){\r\n                    mult = 0;\r\n                } else {\r\n                    ind = min(max(0, ind + 0.5 - s), e - s);\r\n                    mult = (1 + (Math.cos((Math.PI + Math.PI * 2 * (ind) / (e - s))))) / 2;\r\n                }\r\n                mult = easer(mult);\r\n            } else {\r\n                if (ind >= floor(s)) {\r\n                    if (ind - s < 0) {\r\n                        mult = max(0, min(min(e, 1) - (s - ind), 1));\r\n                    } else {\r\n                        mult = max(0, min(e - ind, 1));\r\n                    }\r\n                }\r\n                mult = easer(mult);\r\n            }\r\n            return mult*this.a.v;\r\n        },\r\n        getValue: function(newCharsFlag) {\r\n            this.iterateDynamicProperties();\r\n            this._mdf = newCharsFlag || this._mdf;\r\n            this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\r\n            if(newCharsFlag && this.data.r === 2) {\r\n                this.e.v = this._currentTextLength;\r\n            }\r\n            var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\r\n            var o = this.o.v/divisor;\r\n            var s = this.s.v/divisor + o;\r\n            var e = (this.e.v/divisor) + o;\r\n            if(s>e){\r\n                var _s = s;\r\n                s = e;\r\n                e = _s;\r\n            }\r\n            this.finalS = s;\r\n            this.finalE = e;\r\n        }\r\n    }\r\n    extendPrototype([DynamicPropertyContainer], TextSelectorProp);\r\n\r\n    function getTextSelectorProp(elem, data,arr) {\r\n        return new TextSelectorProp(elem, data, arr);\r\n    }\r\n\r\n    return {\r\n        getTextSelectorProp: getTextSelectorProp\r\n    };\r\n}());\r\n\r\n    \r\nvar pool_factory = (function() {\r\n\treturn function(initialLength, _create, _release, _clone) {\r\n\r\n\t\tvar _length = 0;\r\n\t\tvar _maxLength = initialLength;\r\n\t\tvar pool = createSizedArray(_maxLength);\r\n\r\n\t\tvar ob = {\r\n\t\t\tnewElement: newElement,\r\n\t\t\trelease: release\r\n\t\t};\r\n\r\n\t\tfunction newElement(){\r\n\t\t\tvar element;\r\n\t\t\tif(_length){\r\n\t\t\t\t_length -= 1;\r\n\t\t\t\telement = pool[_length];\r\n\t\t\t} else {\r\n\t\t\t\telement = _create();\r\n\t\t\t}\r\n\t\t\treturn element;\r\n\t\t}\r\n\r\n\t\tfunction release(element) {\r\n\t\t\tif(_length === _maxLength) {\r\n\t\t\t\tpool = pooling.double(pool);\r\n\t\t\t\t_maxLength = _maxLength*2;\r\n\t\t\t}\r\n\t\t\tif (_release) {\r\n\t\t\t\t_release(element);\r\n\t\t\t}\r\n\t\t\tpool[_length] = element;\r\n\t\t\t_length += 1;\r\n\t\t}\r\n\r\n\t\tfunction clone() {\r\n\t\t\tvar clonedElement = newElement();\r\n\t\t\treturn _clone(clonedElement);\r\n\t\t}\r\n\r\n\t\treturn ob;\r\n\t};\r\n}());\r\n\r\nvar pooling = (function(){\r\n\r\n\tfunction double(arr){\r\n\t\treturn arr.concat(createSizedArray(arr.length));\r\n\t}\r\n\r\n\treturn {\r\n\t\tdouble: double\r\n\t};\r\n}());\r\nvar point_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn createTypedArray('float32', 2);\r\n\t}\r\n\treturn pool_factory(8, create);\r\n}());\r\nvar shape_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn new ShapePath();\r\n\t}\r\n\r\n\tfunction release(shapePath) {\r\n\t\tvar len = shapePath._length, i;\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tpoint_pool.release(shapePath.v[i]);\r\n\t\t\tpoint_pool.release(shapePath.i[i]);\r\n\t\t\tpoint_pool.release(shapePath.o[i]);\r\n\t\t\tshapePath.v[i] = null;\r\n\t\t\tshapePath.i[i] = null;\r\n\t\t\tshapePath.o[i] = null;\r\n\t\t}\r\n\t\tshapePath._length = 0;\r\n\t\tshapePath.c = false;\r\n\t}\r\n\r\n\tfunction clone(shape) {\r\n\t\tvar cloned = factory.newElement();\r\n\t\tvar i, len = shape._length === undefined ? shape.v.length : shape._length;\r\n\t\tcloned.setLength(len);\r\n\t\tcloned.c = shape.c;\r\n\t\tvar pt;\r\n\t\t\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tcloned.setTripleAt(shape.v[i][0],shape.v[i][1],shape.o[i][0],shape.o[i][1],shape.i[i][0],shape.i[i][1], i);\r\n\t\t}\r\n\t\treturn cloned;\r\n\t}\r\n\r\n\tvar factory = pool_factory(4, create, release);\r\n\tfactory.clone = clone;\r\n\r\n\treturn factory;\r\n}());\r\nvar shapeCollection_pool = (function(){\r\n\tvar ob = {\r\n\t\tnewShapeCollection: newShapeCollection,\r\n\t\trelease: release\r\n\t};\r\n\r\n\tvar _length = 0;\r\n\tvar _maxLength = 4;\r\n\tvar pool = createSizedArray(_maxLength);\r\n\r\n\tfunction newShapeCollection(){\r\n\t\tvar shapeCollection;\r\n\t\tif(_length){\r\n\t\t\t_length -= 1;\r\n\t\t\tshapeCollection = pool[_length];\r\n\t\t} else {\r\n\t\t\tshapeCollection = new ShapeCollection();\r\n\t\t}\r\n\t\treturn shapeCollection;\r\n\t}\r\n\r\n\tfunction release(shapeCollection) {\r\n\t\tvar i, len = shapeCollection._length;\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tshape_pool.release(shapeCollection.shapes[i]);\r\n\t\t}\r\n\t\tshapeCollection._length = 0;\r\n\r\n\t\tif(_length === _maxLength) {\r\n\t\t\tpool = pooling.double(pool);\r\n\t\t\t_maxLength = _maxLength*2;\r\n\t\t}\r\n\t\tpool[_length] = shapeCollection;\r\n\t\t_length += 1;\r\n\t}\r\n\r\n\treturn ob;\r\n}());\r\nvar segments_length_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn {\r\n\t\t\tlengths: [],\r\n\t\t\ttotalLength: 0\r\n\t\t};\r\n\t}\r\n\r\n\tfunction release(element) {\r\n\t\tvar i, len = element.lengths.length;\r\n\t\tfor(i=0;i<len;i+=1) {\r\n\t\t\tbezier_length_pool.release(element.lengths[i]);\r\n\t\t}\r\n\t\telement.lengths.length = 0;\r\n\t}\r\n\r\n\treturn pool_factory(8, create, release);\r\n}());\r\nvar bezier_length_pool = (function(){\r\n\r\n\tfunction create() {\r\n\t\treturn {\r\n            addedLength: 0,\r\n            percents: createTypedArray('float32', defaultCurveSegments),\r\n            lengths: createTypedArray('float32', defaultCurveSegments),\r\n        };\r\n\t}\r\n\treturn pool_factory(8, create);\r\n}());\r\nfunction BaseRenderer(){}\r\nBaseRenderer.prototype.checkLayers = function(num){\r\n    var i, len = this.layers.length, data;\r\n    this.completeLayers = true;\r\n    for (i = len - 1; i >= 0; i--) {\r\n        if (!this.elements[i]) {\r\n            data = this.layers[i];\r\n            if(data.ip - data.st <= (num - this.layers[i].st) && data.op - data.st > (num - this.layers[i].st))\r\n            {\r\n                this.buildItem(i);\r\n            }\r\n        }\r\n        this.completeLayers = this.elements[i] ? this.completeLayers:false;\r\n    }\r\n    this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.createItem = function(layer){\r\n    switch(layer.ty){\r\n        case 2:\r\n            return this.createImage(layer);\r\n        case 0:\r\n            return this.createComp(layer);\r\n        case 1:\r\n            return this.createSolid(layer);\r\n        case 3:\r\n            return this.createNull(layer);\r\n        case 4:\r\n            return this.createShape(layer);\r\n        case 5:\r\n            return this.createText(layer);\r\n        case 13:\r\n            return this.createCamera(layer);\r\n    }\r\n    return this.createNull(layer);\r\n};\r\n\r\nBaseRenderer.prototype.createCamera = function(){\r\n    throw new Error('You\\'re using a 3d camera. Try the html renderer.');\r\n};\r\n\r\nBaseRenderer.prototype.buildAllItems = function(){\r\n    var i, len = this.layers.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.buildItem(i);\r\n    }\r\n    this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.includeLayers = function(newLayers){\r\n    this.completeLayers = false;\r\n    var i, len = newLayers.length;\r\n    var j, jLen = this.layers.length;\r\n    for(i=0;i<len;i+=1){\r\n        j = 0;\r\n        while(j<jLen){\r\n            if(this.layers[j].id == newLayers[i].id){\r\n                this.layers[j] = newLayers[i];\r\n                break;\r\n            }\r\n            j += 1;\r\n        }\r\n    }\r\n};\r\n\r\nBaseRenderer.prototype.setProjectInterface = function(pInterface){\r\n    this.globalData.projectInterface = pInterface;\r\n};\r\n\r\nBaseRenderer.prototype.initItems = function(){\r\n    if(!this.globalData.progressiveLoad){\r\n        this.buildAllItems();\r\n    }\r\n};\r\nBaseRenderer.prototype.buildElementParenting = function(element, parentName, hierarchy) {\r\n    var elements = this.elements;\r\n    var layers = this.layers;\r\n    var i=0, len = layers.length;\r\n    while (i < len) {\r\n        if (layers[i].ind == parentName) {\r\n            if (!elements[i] || elements[i] === true) {\r\n                this.buildItem(i);\r\n                this.addPendingElement(element);\r\n            } else {\r\n                hierarchy.push(elements[i]);\r\n                elements[i].setAsParent();\r\n                if(layers[i].parent !== undefined) {\r\n                    this.buildElementParenting(element, layers[i].parent, hierarchy);\r\n                } else {\r\n                    element.setHierarchy(hierarchy);\r\n                }\r\n            }\r\n        }\r\n        i += 1;\r\n    }\r\n};\r\n\r\nBaseRenderer.prototype.addPendingElement = function(element){\r\n    this.pendingElements.push(element);\r\n};\r\n\r\nBaseRenderer.prototype.searchExtraCompositions = function(assets){\r\n    var i, len = assets.length;\r\n    for(i=0;i<len;i+=1){\r\n        if(assets[i].xt){\r\n            var comp = this.createComp(assets[i]);\r\n            comp.initExpressions();\r\n            this.globalData.projectInterface.registerComposition(comp);\r\n        }\r\n    }\r\n};\r\n\r\nBaseRenderer.prototype.setupGlobalData = function(animData, fontsContainer) {\r\n    this.globalData.fontManager = new FontManager();\r\n    this.globalData.fontManager.addChars(animData.chars);\r\n    this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\r\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\r\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\r\n    this.globalData.imageLoader = this.animationItem.imagePreloader;\r\n    this.globalData.frameId = 0;\r\n    this.globalData.frameRate = animData.fr;\r\n    this.globalData.nm = animData.nm;\r\n    this.globalData.compSize = {\r\n        w: animData.w,\r\n        h: animData.h\r\n    }\r\n}\r\nfunction SVGRenderer(animationItem, config){\r\n    this.animationItem = animationItem;\r\n    this.layers = null;\r\n    this.renderedFrame = -1;\r\n    this.svgElement = createNS('svg');\r\n    var ariaLabel = '';\r\n    if (config && config.title) {\r\n        var titleElement = createNS('title');\r\n        var titleId = createElementID();\r\n        titleElement.setAttribute('id', titleId);\r\n        titleElement.textContent = config.title;\r\n        this.svgElement.appendChild(titleElement);\r\n        ariaLabel += titleId;\r\n    }\r\n    if (config && config.description) {\r\n        var descElement = createNS('desc');\r\n        var descId = createElementID();\r\n        descElement.setAttribute('id', descId);\r\n        descElement.textContent = config.description;\r\n        this.svgElement.appendChild(descElement);\r\n        ariaLabel += ' ' + descId;\r\n    }\r\n    if (ariaLabel) {\r\n        this.svgElement.setAttribute('aria-labelledby', ariaLabel)\r\n    }\r\n    var defs = createNS( 'defs');\r\n    this.svgElement.appendChild(defs);\r\n    var maskElement = createNS('g');\r\n    this.svgElement.appendChild(maskElement);\r\n    this.layerElement = maskElement;\r\n    this.renderConfig = {\r\n        preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n        imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n        progressiveLoad: (config && config.progressiveLoad) || false,\r\n        hideOnTransparent: (config && config.hideOnTransparent === false) ? false : true,\r\n        viewBoxOnly: (config && config.viewBoxOnly) || false,\r\n        viewBoxSize: (config && config.viewBoxSize) || false,\r\n        className: (config && config.className) || '',\r\n        id: (config && config.id) || '',\r\n        focusable: config && config.focusable,\r\n        filterSize: {\r\n            width: config && config.filterSize && config.filterSize.width || '100%',\r\n            height: config && config.filterSize && config.filterSize.height || '100%',\r\n            x: config && config.filterSize && config.filterSize.x || '0%',\r\n            y: config && config.filterSize && config.filterSize.y || '0%',\r\n        }\r\n    };\r\n\r\n    this.globalData = {\r\n        _mdf: false,\r\n        frameNum: -1,\r\n        defs: defs,\r\n        renderConfig: this.renderConfig\r\n    };\r\n    this.elements = [];\r\n    this.pendingElements = [];\r\n    this.destroyed = false;\r\n    this.rendererType = 'svg';\r\n\r\n}\r\n\r\nextendPrototype([BaseRenderer],SVGRenderer);\r\n\r\nSVGRenderer.prototype.createNull = function (data) {\r\n    return new NullElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.createShape = function (data) {\r\n    return new SVGShapeElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.createText = function (data) {\r\n    return new SVGTextElement(data,this.globalData,this);\r\n\r\n};\r\n\r\nSVGRenderer.prototype.createImage = function (data) {\r\n    return new IImageElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.createComp = function (data) {\r\n    return new SVGCompElement(data,this.globalData,this);\r\n\r\n};\r\n\r\nSVGRenderer.prototype.createSolid = function (data) {\r\n    return new ISolidElement(data,this.globalData,this);\r\n};\r\n\r\nSVGRenderer.prototype.configAnimation = function(animData){\r\n    this.svgElement.setAttribute('xmlns','http://www.w3.org/2000/svg');\r\n    if(this.renderConfig.viewBoxSize) {\r\n        this.svgElement.setAttribute('viewBox',this.renderConfig.viewBoxSize);\r\n    } else {\r\n        this.svgElement.setAttribute('viewBox','0 0 '+animData.w+' '+animData.h);\r\n    }\r\n\r\n    if(!this.renderConfig.viewBoxOnly) {\r\n        this.svgElement.setAttribute('width',animData.w);\r\n        this.svgElement.setAttribute('height',animData.h);\r\n        this.svgElement.style.width = '100%';\r\n        this.svgElement.style.height = '100%';\r\n        this.svgElement.style.transform = 'translate3d(0,0,0)';\r\n    }\r\n    if (this.renderConfig.className) {\r\n        this.svgElement.setAttribute('class', this.renderConfig.className);\r\n    }\r\n    if (this.renderConfig.id) {\r\n        this.svgElement.setAttribute('id', this.renderConfig.id);\r\n    }\r\n    if (this.renderConfig.focusable !== undefined) {\r\n        this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\r\n    }\r\n    this.svgElement.setAttribute('preserveAspectRatio',this.renderConfig.preserveAspectRatio);\r\n    //this.layerElement.style.transform = 'translate3d(0,0,0)';\r\n    //this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\r\n    this.animationItem.wrapper.appendChild(this.svgElement);\r\n    //Mask animation\r\n    var defs = this.globalData.defs;\r\n\r\n    this.setupGlobalData(animData, defs);\r\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n    this.data = animData;\r\n\r\n    var maskElement = createNS( 'clipPath');\r\n    var rect = createNS('rect');\r\n    rect.setAttribute('width',animData.w);\r\n    rect.setAttribute('height',animData.h);\r\n    rect.setAttribute('x',0);\r\n    rect.setAttribute('y',0);\r\n    var maskId = createElementID();\r\n    maskElement.setAttribute('id', maskId);\r\n    maskElement.appendChild(rect);\r\n    this.layerElement.setAttribute(\"clip-path\", \"url(\" + locationHref + \"#\"+maskId+\")\");\r\n\r\n    defs.appendChild(maskElement);\r\n    this.layers = animData.layers;\r\n    this.elements = createSizedArray(animData.layers.length);\r\n};\r\n\r\n\r\nSVGRenderer.prototype.destroy = function () {\r\n    this.animationItem.wrapper.innerHTML = '';\r\n    this.layerElement = null;\r\n    this.globalData.defs = null;\r\n    var i, len = this.layers ? this.layers.length : 0;\r\n    for (i = 0; i < len; i++) {\r\n        if(this.elements[i]){\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n    this.elements.length = 0;\r\n    this.destroyed = true;\r\n    this.animationItem = null;\r\n};\r\n\r\nSVGRenderer.prototype.updateContainerSize = function () {\r\n};\r\n\r\nSVGRenderer.prototype.buildItem  = function(pos){\r\n    var elements = this.elements;\r\n    if(elements[pos] || this.layers[pos].ty == 99){\r\n        return;\r\n    }\r\n    elements[pos] = true;\r\n    var element = this.createItem(this.layers[pos]);\r\n\r\n    elements[pos] = element;\r\n    if(expressionsPlugin){\r\n        if(this.layers[pos].ty === 0){\r\n            this.globalData.projectInterface.registerComposition(element);\r\n        }\r\n        element.initExpressions();\r\n    }\r\n    this.appendElementInPos(element,pos);\r\n    if(this.layers[pos].tt){\r\n        if(!this.elements[pos - 1] || this.elements[pos - 1] === true){\r\n            this.buildItem(pos - 1);\r\n            this.addPendingElement(element);\r\n        } else {\r\n            element.setMatte(elements[pos - 1].layerId);\r\n        }\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.checkPendingElements  = function(){\r\n    while(this.pendingElements.length){\r\n        var element = this.pendingElements.pop();\r\n        element.checkParenting();\r\n        if(element.data.tt){\r\n            var i = 0, len = this.elements.length;\r\n            while(i<len){\r\n                if(this.elements[i] === element){\r\n                    element.setMatte(this.elements[i - 1].layerId);\r\n                    break;\r\n                }\r\n                i += 1;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.renderFrame = function(num){\r\n    if(this.renderedFrame === num || this.destroyed){\r\n        return;\r\n    }\r\n    if(num === null){\r\n        num = this.renderedFrame;\r\n    }else{\r\n        this.renderedFrame = num;\r\n    }\r\n    // console.log('-------');\r\n    // console.log('FRAME ',num);\r\n    this.globalData.frameNum = num;\r\n    this.globalData.frameId += 1;\r\n    this.globalData.projectInterface.currentFrame = num;\r\n    this.globalData._mdf = false;\r\n    var i, len = this.layers.length;\r\n    if(!this.completeLayers){\r\n        this.checkLayers(num);\r\n    }\r\n    for (i = len - 1; i >= 0; i--) {\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].prepareFrame(num - this.layers[i].st);\r\n        }\r\n    }\r\n    if(this.globalData._mdf) {\r\n        for (i = 0; i < len; i += 1) {\r\n            if(this.completeLayers || this.elements[i]){\r\n                this.elements[i].renderFrame();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.appendElementInPos = function(element, pos){\r\n    var newElement = element.getBaseElement();\r\n    if(!newElement){\r\n        return;\r\n    }\r\n    var i = 0;\r\n    var nextElement;\r\n    while(i<pos){\r\n        if(this.elements[i] && this.elements[i]!== true && this.elements[i].getBaseElement()){\r\n            nextElement = this.elements[i].getBaseElement();\r\n        }\r\n        i += 1;\r\n    }\r\n    if(nextElement){\r\n        this.layerElement.insertBefore(newElement, nextElement);\r\n    } else {\r\n        this.layerElement.appendChild(newElement);\r\n    }\r\n};\r\n\r\nSVGRenderer.prototype.hide = function(){\r\n    this.layerElement.style.display = 'none';\r\n};\r\n\r\nSVGRenderer.prototype.show = function(){\r\n    this.layerElement.style.display = 'block';\r\n};\r\n\r\nfunction CanvasRenderer(animationItem, config){\r\n    this.animationItem = animationItem;\r\n    this.renderConfig = {\r\n        clearCanvas: (config && config.clearCanvas !== undefined) ? config.clearCanvas : true,\r\n        context: (config && config.context) || null,\r\n        progressiveLoad: (config && config.progressiveLoad) || false,\r\n        preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n        imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n        className: (config && config.className) || '',\r\n        id: (config && config.id) || '',\r\n    };\r\n    this.renderConfig.dpr = (config && config.dpr) || 1;\r\n    if (this.animationItem.wrapper) {\r\n        this.renderConfig.dpr = (config && config.dpr) || window.devicePixelRatio || 1;\r\n    }\r\n    this.renderedFrame = -1;\r\n    this.globalData = {\r\n        frameNum: -1,\r\n        _mdf: false,\r\n        renderConfig: this.renderConfig,\r\n        currentGlobalAlpha: -1\r\n    };\r\n    this.contextData = new CVContextData();\r\n    this.elements = [];\r\n    this.pendingElements = [];\r\n    this.transformMat = new Matrix();\r\n    this.completeLayers = false;\r\n    this.rendererType = 'canvas';\r\n}\r\nextendPrototype([BaseRenderer],CanvasRenderer);\r\n\r\nCanvasRenderer.prototype.createShape = function (data) {\r\n    return new CVShapeElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createText = function (data) {\r\n    return new CVTextElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createImage = function (data) {\r\n    return new CVImageElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createComp = function (data) {\r\n    return new CVCompElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createSolid = function (data) {\r\n    return new CVSolidElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\nCanvasRenderer.prototype.ctxTransform = function(props){\r\n    if(props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0){\r\n        return;\r\n    }\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.transform(props[0],props[1],props[4],props[5],props[12],props[13]);\r\n        return;\r\n    }\r\n    this.transformMat.cloneFromProps(props);\r\n    var cProps = this.contextData.cTr.props;\r\n    this.transformMat.transform(cProps[0],cProps[1],cProps[2],cProps[3],cProps[4],cProps[5],cProps[6],cProps[7],cProps[8],cProps[9],cProps[10],cProps[11],cProps[12],cProps[13],cProps[14],cProps[15]);\r\n    //this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n    this.contextData.cTr.cloneFromProps(this.transformMat.props);\r\n    var trProps = this.contextData.cTr.props;\r\n    this.canvasContext.setTransform(trProps[0],trProps[1],trProps[4],trProps[5],trProps[12],trProps[13]);\r\n};\r\n\r\nCanvasRenderer.prototype.ctxOpacity = function(op){\r\n    /*if(op === 1){\r\n        return;\r\n    }*/\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\r\n        this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n        return;\r\n    }\r\n    this.contextData.cO *= op < 0 ? 0 : op;\r\n    if(this.globalData.currentGlobalAlpha !== this.contextData.cO) {\r\n        this.canvasContext.globalAlpha = this.contextData.cO;\r\n        this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.reset = function(){\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.restore();\r\n        return;\r\n    }\r\n    this.contextData.reset();\r\n};\r\n\r\nCanvasRenderer.prototype.save = function(actionFlag){\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.save();\r\n        return;\r\n    }\r\n    if(actionFlag){\r\n        this.canvasContext.save();\r\n    }\r\n    var props = this.contextData.cTr.props;\r\n    if(this.contextData._length <= this.contextData.cArrPos) {\r\n        this.contextData.duplicate();\r\n    }\r\n    var i, arr = this.contextData.saved[this.contextData.cArrPos];\r\n    for (i = 0; i < 16; i += 1) {\r\n        arr[i] = props[i];\r\n    }\r\n    this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO;\r\n    this.contextData.cArrPos += 1;\r\n};\r\n\r\nCanvasRenderer.prototype.restore = function(actionFlag){\r\n    if(!this.renderConfig.clearCanvas){\r\n        this.canvasContext.restore();\r\n        return;\r\n    }\r\n    if(actionFlag){\r\n        this.canvasContext.restore();\r\n        this.globalData.blendMode = 'source-over';\r\n    }\r\n    this.contextData.cArrPos -= 1;\r\n    var popped = this.contextData.saved[this.contextData.cArrPos];\r\n    var i,arr = this.contextData.cTr.props;\r\n    for(i=0;i<16;i+=1){\r\n        arr[i] = popped[i];\r\n    }\r\n    this.canvasContext.setTransform(popped[0],popped[1],popped[4],popped[5],popped[12],popped[13]);\r\n    popped = this.contextData.savedOp[this.contextData.cArrPos];\r\n    this.contextData.cO = popped;\r\n    if(this.globalData.currentGlobalAlpha !== popped) {\r\n        this.canvasContext.globalAlpha = popped;\r\n        this.globalData.currentGlobalAlpha = popped;\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.configAnimation = function(animData){\r\n    if(this.animationItem.wrapper){\r\n        this.animationItem.container = createTag('canvas');\r\n        this.animationItem.container.style.width = '100%';\r\n        this.animationItem.container.style.height = '100%';\r\n        //this.animationItem.container.style.transform = 'translate3d(0,0,0)';\r\n        //this.animationItem.container.style.webkitTransform = 'translate3d(0,0,0)';\r\n        this.animationItem.container.style.transformOrigin = this.animationItem.container.style.mozTransformOrigin = this.animationItem.container.style.webkitTransformOrigin = this.animationItem.container.style['-webkit-transform'] = \"0px 0px 0px\";\r\n        this.animationItem.wrapper.appendChild(this.animationItem.container);\r\n        this.canvasContext = this.animationItem.container.getContext('2d');\r\n        if(this.renderConfig.className) {\r\n            this.animationItem.container.setAttribute('class', this.renderConfig.className);\r\n        }\r\n        if(this.renderConfig.id) {\r\n            this.animationItem.container.setAttribute('id', this.renderConfig.id);\r\n        }\r\n    }else{\r\n        this.canvasContext = this.renderConfig.context;\r\n    }\r\n    this.data = animData;\r\n    this.layers = animData.layers;\r\n    this.transformCanvas = {\r\n        w: animData.w,\r\n        h:animData.h,\r\n        sx:0,\r\n        sy:0,\r\n        tx:0,\r\n        ty:0\r\n    };\r\n    this.setupGlobalData(animData, document.body);\r\n    this.globalData.canvasContext = this.canvasContext;\r\n    this.globalData.renderer = this;\r\n    this.globalData.isDashed = false;\r\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n    this.globalData.transformCanvas = this.transformCanvas;\r\n    this.elements = createSizedArray(animData.layers.length);\r\n\r\n    this.updateContainerSize();\r\n};\r\n\r\nCanvasRenderer.prototype.updateContainerSize = function () {\r\n    this.reset();\r\n    var elementWidth,elementHeight;\r\n    if(this.animationItem.wrapper && this.animationItem.container){\r\n        elementWidth = this.animationItem.wrapper.offsetWidth;\r\n        elementHeight = this.animationItem.wrapper.offsetHeight;\r\n        this.animationItem.container.setAttribute('width',elementWidth * this.renderConfig.dpr );\r\n        this.animationItem.container.setAttribute('height',elementHeight * this.renderConfig.dpr);\r\n    }else{\r\n        elementWidth = this.canvasContext.canvas.width * this.renderConfig.dpr;\r\n        elementHeight = this.canvasContext.canvas.height * this.renderConfig.dpr;\r\n    }\r\n    var elementRel,animationRel;\r\n    if(this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1){\r\n        var par = this.renderConfig.preserveAspectRatio.split(' ');\r\n        var fillType = par[1] || 'meet';\r\n        var pos = par[0] || 'xMidYMid';\r\n        var xPos = pos.substr(0,4);\r\n        var yPos = pos.substr(4);\r\n        elementRel = elementWidth/elementHeight;\r\n        animationRel = this.transformCanvas.w/this.transformCanvas.h;\r\n        if(animationRel>elementRel && fillType === 'meet' || animationRel<elementRel && fillType === 'slice'){\r\n            this.transformCanvas.sx = elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);\r\n            this.transformCanvas.sy = elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);\r\n        }else{\r\n            this.transformCanvas.sx = elementHeight/(this.transformCanvas.h / this.renderConfig.dpr);\r\n            this.transformCanvas.sy = elementHeight/(this.transformCanvas.h / this.renderConfig.dpr);\r\n        }\r\n\r\n        if(xPos === 'xMid' && ((animationRel<elementRel && fillType==='meet') || (animationRel>elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.tx = (elementWidth-this.transformCanvas.w*(elementHeight/this.transformCanvas.h))/2*this.renderConfig.dpr;\r\n        } else if(xPos === 'xMax' && ((animationRel<elementRel && fillType==='meet') || (animationRel>elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.tx = (elementWidth-this.transformCanvas.w*(elementHeight/this.transformCanvas.h))*this.renderConfig.dpr;\r\n        } else {\r\n            this.transformCanvas.tx = 0;\r\n        }\r\n        if(yPos === 'YMid' && ((animationRel>elementRel && fillType==='meet') || (animationRel<elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.ty = ((elementHeight-this.transformCanvas.h*(elementWidth/this.transformCanvas.w))/2)*this.renderConfig.dpr;\r\n        } else if(yPos === 'YMax' && ((animationRel>elementRel && fillType==='meet') || (animationRel<elementRel && fillType === 'slice'))){\r\n            this.transformCanvas.ty = ((elementHeight-this.transformCanvas.h*(elementWidth/this.transformCanvas.w)))*this.renderConfig.dpr;\r\n        } else {\r\n            this.transformCanvas.ty = 0;\r\n        }\r\n\r\n    }else if(this.renderConfig.preserveAspectRatio == 'none'){\r\n        this.transformCanvas.sx = elementWidth/(this.transformCanvas.w/this.renderConfig.dpr);\r\n        this.transformCanvas.sy = elementHeight/(this.transformCanvas.h/this.renderConfig.dpr);\r\n        this.transformCanvas.tx = 0;\r\n        this.transformCanvas.ty = 0;\r\n    }else{\r\n        this.transformCanvas.sx = this.renderConfig.dpr;\r\n        this.transformCanvas.sy = this.renderConfig.dpr;\r\n        this.transformCanvas.tx = 0;\r\n        this.transformCanvas.ty = 0;\r\n    }\r\n    this.transformCanvas.props = [this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1];\r\n    /*var i, len = this.elements.length;\r\n    for(i=0;i<len;i+=1){\r\n        if(this.elements[i] && this.elements[i].data.ty === 0){\r\n            this.elements[i].resize(this.globalData.transformCanvas);\r\n        }\r\n    }*/\r\n    this.ctxTransform(this.transformCanvas.props);\r\n    this.canvasContext.beginPath();\r\n    this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h);\r\n    this.canvasContext.closePath();\r\n    this.canvasContext.clip();\r\n\r\n    this.renderFrame(this.renderedFrame, true);\r\n};\r\n\r\nCanvasRenderer.prototype.destroy = function () {\r\n    if(this.renderConfig.clearCanvas) {\r\n        this.animationItem.wrapper.innerHTML = '';\r\n    }\r\n    var i, len = this.layers ? this.layers.length : 0;\r\n    for (i = len - 1; i >= 0; i-=1) {\r\n        if(this.elements[i]) {\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n    this.elements.length = 0;\r\n    this.globalData.canvasContext = null;\r\n    this.animationItem.container = null;\r\n    this.destroyed = true;\r\n};\r\n\r\nCanvasRenderer.prototype.renderFrame = function(num, forceRender){\r\n    if((this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender) || this.destroyed || num === -1){\r\n        return;\r\n    }\r\n    this.renderedFrame = num;\r\n    this.globalData.frameNum = num - this.animationItem._isFirstFrame;\r\n    this.globalData.frameId += 1;\r\n    this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\r\n    this.globalData.projectInterface.currentFrame = num;\r\n\r\n     // console.log('--------');\r\n     // console.log('NEW: ',num);\r\n    var i, len = this.layers.length;\r\n    if(!this.completeLayers){\r\n        this.checkLayers(num);\r\n    }\r\n\r\n    for (i = 0; i < len; i++) {\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].prepareFrame(num - this.layers[i].st);\r\n        }\r\n    }\r\n    if(this.globalData._mdf) {\r\n        if(this.renderConfig.clearCanvas === true){\r\n            this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\r\n        }else{\r\n            this.save();\r\n        }\r\n        for (i = len - 1; i >= 0; i-=1) {\r\n            if(this.completeLayers || this.elements[i]){\r\n                this.elements[i].renderFrame();\r\n            }\r\n        }\r\n        if(this.renderConfig.clearCanvas !== true){\r\n            this.restore();\r\n        }\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.buildItem = function(pos){\r\n    var elements = this.elements;\r\n    if(elements[pos] || this.layers[pos].ty == 99){\r\n        return;\r\n    }\r\n    var element = this.createItem(this.layers[pos], this,this.globalData);\r\n    elements[pos] = element;\r\n    element.initExpressions();\r\n    /*if(this.layers[pos].ty === 0){\r\n        element.resize(this.globalData.transformCanvas);\r\n    }*/\r\n};\r\n\r\nCanvasRenderer.prototype.checkPendingElements  = function(){\r\n    while(this.pendingElements.length){\r\n        var element = this.pendingElements.pop();\r\n        element.checkParenting();\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.hide = function(){\r\n    this.animationItem.container.style.display = 'none';\r\n};\r\n\r\nCanvasRenderer.prototype.show = function(){\r\n    this.animationItem.container.style.display = 'block';\r\n};\r\n\r\nfunction HybridRenderer(animationItem, config){\r\n    this.animationItem = animationItem;\r\n    this.layers = null;\r\n    this.renderedFrame = -1;\r\n    this.renderConfig = {\r\n        className: (config && config.className) || '',\r\n        imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n        hideOnTransparent: (config && config.hideOnTransparent === false) ? false : true,\r\n        filterSize: {\r\n            width: config && config.filterSize && config.filterSize.width || '400%',\r\n            height: config && config.filterSize && config.filterSize.height || '400%',\r\n            x: config && config.filterSize && config.filterSize.x || '-100%',\r\n            y: config && config.filterSize && config.filterSize.y || '-100%',\r\n        }\r\n    };\r\n    this.globalData = {\r\n        _mdf: false,\r\n        frameNum: -1,\r\n        renderConfig: this.renderConfig\r\n    };\r\n    this.pendingElements = [];\r\n    this.elements = [];\r\n    this.threeDElements = [];\r\n    this.destroyed = false;\r\n    this.camera = null;\r\n    this.supports3d = true;\r\n    this.rendererType = 'html';\r\n\r\n}\r\n\r\nextendPrototype([BaseRenderer],HybridRenderer);\r\n\r\nHybridRenderer.prototype.buildItem = SVGRenderer.prototype.buildItem;\r\n\r\nHybridRenderer.prototype.checkPendingElements  = function(){\r\n    while(this.pendingElements.length){\r\n        var element = this.pendingElements.pop();\r\n        element.checkParenting();\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.appendElementInPos = function(element, pos){\r\n    var newDOMElement = element.getBaseElement();\r\n    if(!newDOMElement){\r\n        return;\r\n    }\r\n    var layer = this.layers[pos];\r\n    if(!layer.ddd || !this.supports3d){\r\n        if(this.threeDElements) {\r\n            this.addTo3dContainer(newDOMElement,pos);\r\n        } else {\r\n            var i = 0;\r\n            var nextDOMElement, nextLayer, tmpDOMElement;\r\n            while(i<pos){\r\n                if(this.elements[i] && this.elements[i]!== true && this.elements[i].getBaseElement){\r\n                    nextLayer = this.elements[i];\r\n                    tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\r\n                    nextDOMElement = tmpDOMElement || nextDOMElement;\r\n                }\r\n                i += 1;\r\n            }\r\n            if(nextDOMElement){\r\n                if(!layer.ddd || !this.supports3d){\r\n                    this.layerElement.insertBefore(newDOMElement, nextDOMElement);\r\n                }\r\n            } else {\r\n                if(!layer.ddd || !this.supports3d){\r\n                    this.layerElement.appendChild(newDOMElement);\r\n                }\r\n            }\r\n        }\r\n        \r\n    } else {\r\n        this.addTo3dContainer(newDOMElement,pos);\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.createShape = function (data) {\r\n    if(!this.supports3d){\r\n        return new SVGShapeElement(data, this.globalData, this);\r\n    }\r\n    return new HShapeElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createText = function (data) {\r\n    if(!this.supports3d){\r\n        return new SVGTextElement(data, this.globalData, this);\r\n    }\r\n    return new HTextElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createCamera = function (data) {\r\n    this.camera = new HCameraElement(data, this.globalData, this);\r\n    return this.camera;\r\n};\r\n\r\nHybridRenderer.prototype.createImage = function (data) {\r\n    if(!this.supports3d){\r\n        return new IImageElement(data, this.globalData, this);\r\n    }\r\n    return new HImageElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createComp = function (data) {\r\n    if(!this.supports3d){\r\n        return new SVGCompElement(data, this.globalData, this);\r\n    }\r\n    return new HCompElement(data, this.globalData, this);\r\n\r\n};\r\n\r\nHybridRenderer.prototype.createSolid = function (data) {\r\n    if(!this.supports3d){\r\n        return new ISolidElement(data, this.globalData, this);\r\n    }\r\n    return new HSolidElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\nHybridRenderer.prototype.getThreeDContainerByPos = function(pos){\r\n    var i = 0, len = this.threeDElements.length;\r\n    while(i<len) {\r\n        if(this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\r\n            return this.threeDElements[i].perspectiveElem;\r\n        }\r\n        i += 1;\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.createThreeDContainer = function(pos, type){\r\n    var perspectiveElem = createTag('div');\r\n    styleDiv(perspectiveElem);\r\n    var container = createTag('div');\r\n    styleDiv(container);\r\n    if(type === '3d') {\r\n        perspectiveElem.style.width = this.globalData.compSize.w+'px';\r\n        perspectiveElem.style.height = this.globalData.compSize.h+'px';\r\n        perspectiveElem.style.transformOrigin = perspectiveElem.style.mozTransformOrigin = perspectiveElem.style.webkitTransformOrigin = \"50% 50%\";\r\n        container.style.transform = container.style.webkitTransform = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n    }\r\n    \r\n    perspectiveElem.appendChild(container);\r\n    //this.resizerElem.appendChild(perspectiveElem);\r\n    var threeDContainerData = {\r\n        container:container,\r\n        perspectiveElem:perspectiveElem,\r\n        startPos: pos,\r\n        endPos: pos,\r\n        type: type\r\n    };\r\n    this.threeDElements.push(threeDContainerData);\r\n    return threeDContainerData;\r\n};\r\n\r\nHybridRenderer.prototype.build3dContainers = function(){\r\n    var i, len = this.layers.length;\r\n    var lastThreeDContainerData;\r\n    var currentContainer = '';\r\n    for(i=0;i<len;i+=1){\r\n        if(this.layers[i].ddd && this.layers[i].ty !== 3){\r\n            if(currentContainer !== '3d'){\r\n                currentContainer = '3d';\r\n                lastThreeDContainerData = this.createThreeDContainer(i,'3d');\r\n            }\r\n            lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos,i);\r\n        } else {\r\n            if(currentContainer !== '2d'){\r\n                currentContainer = '2d';\r\n                lastThreeDContainerData = this.createThreeDContainer(i,'2d');\r\n            }\r\n            lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos,i);\r\n        }\r\n    }\r\n    len = this.threeDElements.length;\r\n    for(i = len - 1; i >= 0; i --) {\r\n        this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.addTo3dContainer = function(elem,pos){\r\n    var i = 0, len = this.threeDElements.length;\r\n    while(i<len){\r\n        if(pos <= this.threeDElements[i].endPos){\r\n            var j = this.threeDElements[i].startPos;\r\n            var nextElement;\r\n            while(j<pos){\r\n                if(this.elements[j] && this.elements[j].getBaseElement){\r\n                    nextElement = this.elements[j].getBaseElement();\r\n                }\r\n                j += 1;\r\n            }\r\n            if(nextElement){\r\n                this.threeDElements[i].container.insertBefore(elem, nextElement);\r\n            } else {\r\n                this.threeDElements[i].container.appendChild(elem);\r\n            }\r\n            break;\r\n        }\r\n        i += 1;\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.configAnimation = function(animData){\r\n    var resizerElem = createTag('div');\r\n    var wrapper = this.animationItem.wrapper;\r\n    resizerElem.style.width = animData.w+'px';\r\n    resizerElem.style.height = animData.h+'px';\r\n    this.resizerElem = resizerElem;\r\n    styleDiv(resizerElem);\r\n    resizerElem.style.transformStyle = resizerElem.style.webkitTransformStyle = resizerElem.style.mozTransformStyle = \"flat\";\r\n    if(this.renderConfig.className) {\r\n      resizerElem.setAttribute('class', this.renderConfig.className);\r\n    }\r\n    wrapper.appendChild(resizerElem);\r\n\r\n    resizerElem.style.overflow = 'hidden';\r\n    var svg = createNS('svg');\r\n    svg.setAttribute('width','1');\r\n    svg.setAttribute('height','1');\r\n    styleDiv(svg);\r\n    this.resizerElem.appendChild(svg);\r\n    var defs = createNS('defs');\r\n    svg.appendChild(defs);\r\n    this.data = animData;\r\n    //Mask animation\r\n    this.setupGlobalData(animData, svg);\r\n    this.globalData.defs = defs;\r\n    this.layers = animData.layers;\r\n    this.layerElement = this.resizerElem;\r\n    this.build3dContainers();\r\n    this.updateContainerSize();\r\n};\r\n\r\nHybridRenderer.prototype.destroy = function () {\r\n    this.animationItem.wrapper.innerHTML = '';\r\n    this.animationItem.container = null;\r\n    this.globalData.defs = null;\r\n    var i, len = this.layers ? this.layers.length : 0;\r\n    for (i = 0; i < len; i++) {\r\n        this.elements[i].destroy();\r\n    }\r\n    this.elements.length = 0;\r\n    this.destroyed = true;\r\n    this.animationItem = null;\r\n};\r\n\r\nHybridRenderer.prototype.updateContainerSize = function () {\r\n    var elementWidth = this.animationItem.wrapper.offsetWidth;\r\n    var elementHeight = this.animationItem.wrapper.offsetHeight;\r\n    var elementRel = elementWidth/elementHeight;\r\n    var animationRel = this.globalData.compSize.w/this.globalData.compSize.h;\r\n    var sx,sy,tx,ty;\r\n    if(animationRel>elementRel){\r\n        sx = elementWidth/(this.globalData.compSize.w);\r\n        sy = elementWidth/(this.globalData.compSize.w);\r\n        tx = 0;\r\n        ty = ((elementHeight-this.globalData.compSize.h*(elementWidth/this.globalData.compSize.w))/2);\r\n    }else{\r\n        sx = elementHeight/(this.globalData.compSize.h);\r\n        sy = elementHeight/(this.globalData.compSize.h);\r\n        tx = (elementWidth-this.globalData.compSize.w*(elementHeight/this.globalData.compSize.h))/2;\r\n        ty = 0;\r\n    }\r\n    this.resizerElem.style.transform = this.resizerElem.style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,'+sy+',0,0,0,0,1,0,'+tx+','+ty+',0,1)';\r\n};\r\n\r\nHybridRenderer.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\r\n\r\nHybridRenderer.prototype.hide = function(){\r\n    this.resizerElem.style.display = 'none';\r\n};\r\n\r\nHybridRenderer.prototype.show = function(){\r\n    this.resizerElem.style.display = 'block';\r\n};\r\n\r\nHybridRenderer.prototype.initItems = function(){\r\n    this.buildAllItems();\r\n    if(this.camera){\r\n        this.camera.setup();\r\n    } else {\r\n        var cWidth = this.globalData.compSize.w;\r\n        var cHeight = this.globalData.compSize.h;\r\n        var i, len = this.threeDElements.length;\r\n        for(i=0;i<len;i+=1){\r\n            this.threeDElements[i].perspectiveElem.style.perspective = this.threeDElements[i].perspectiveElem.style.webkitPerspective = Math.sqrt(Math.pow(cWidth,2) + Math.pow(cHeight,2)) + 'px';\r\n        }\r\n    }\r\n};\r\n\r\nHybridRenderer.prototype.searchExtraCompositions = function(assets){\r\n    var i, len = assets.length;\r\n    var floatingContainer = createTag('div');\r\n    for(i=0;i<len;i+=1){\r\n        if(assets[i].xt){\r\n            var comp = this.createComp(assets[i],floatingContainer,this.globalData.comp,null);\r\n            comp.initExpressions();\r\n            this.globalData.projectInterface.registerComposition(comp);\r\n        }\r\n    }\r\n};\r\n\r\nfunction MaskElement(data,element,globalData) {\r\n    this.data = data;\r\n    this.element = element;\r\n    this.globalData = globalData;\r\n    this.storedData = [];\r\n    this.masksProperties = this.data.masksProperties || [];\r\n    this.maskElement = null;\r\n    var defs = this.globalData.defs;\r\n    var i, len = this.masksProperties ? this.masksProperties.length : 0;\r\n    this.viewData = createSizedArray(len);\r\n    this.solidPath = '';\r\n\r\n\r\n    var path, properties = this.masksProperties;\r\n    var count = 0;\r\n    var currentMasks = [];\r\n    var j, jLen;\r\n    var layerId = createElementID();\r\n    var rect, expansor, feMorph,x;\r\n    var maskType = 'clipPath', maskRef = 'clip-path';\r\n    for (i = 0; i < len; i++) {\r\n        if((properties[i].mode !== 'a' && properties[i].mode !== 'n')|| properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x){\r\n            maskType = 'mask';\r\n            maskRef = 'mask';\r\n        }\r\n\r\n        if((properties[i].mode == 's' || properties[i].mode == 'i') && count === 0){\r\n            rect = createNS( 'rect');\r\n            rect.setAttribute('fill', '#ffffff');\r\n            rect.setAttribute('width', this.element.comp.data.w || 0);\r\n            rect.setAttribute('height', this.element.comp.data.h || 0);\r\n            currentMasks.push(rect);\r\n        } else {\r\n            rect = null;\r\n        }\r\n\r\n        path = createNS( 'path');\r\n        if(properties[i].mode == 'n') {\r\n            // TODO move this to a factory or to a constructor\r\n            this.viewData[i] = {\r\n                op: PropertyFactory.getProp(this.element,properties[i].o,0,0.01,this.element),\r\n                prop: ShapePropertyFactory.getShapeProp(this.element,properties[i],3),\r\n                elem: path,\r\n                lastPath: ''\r\n            };\r\n            defs.appendChild(path);\r\n            continue;\r\n        }\r\n        count += 1;\r\n\r\n        path.setAttribute('fill', properties[i].mode === 's' ? '#000000':'#ffffff');\r\n        path.setAttribute('clip-rule','nonzero');\r\n        var filterID;\r\n\r\n        if (properties[i].x.k !== 0) {\r\n            maskType = 'mask';\r\n            maskRef = 'mask';\r\n            x = PropertyFactory.getProp(this.element,properties[i].x,0,null,this.element);\r\n            filterID = createElementID();\r\n            expansor = createNS('filter');\r\n            expansor.setAttribute('id',filterID);\r\n            feMorph = createNS('feMorphology');\r\n            feMorph.setAttribute('operator','erode');\r\n            feMorph.setAttribute('in','SourceGraphic');\r\n            feMorph.setAttribute('radius','0');\r\n            expansor.appendChild(feMorph);\r\n            defs.appendChild(expansor);\r\n            path.setAttribute('stroke', properties[i].mode === 's' ? '#000000':'#ffffff');\r\n        } else {\r\n            feMorph = null;\r\n            x = null;\r\n        }\r\n\r\n        // TODO move this to a factory or to a constructor\r\n        this.storedData[i] = {\r\n             elem: path,\r\n             x: x,\r\n             expan: feMorph,\r\n            lastPath: '',\r\n            lastOperator:'',\r\n            filterId:filterID,\r\n            lastRadius:0\r\n        };\r\n        if(properties[i].mode == 'i'){\r\n            jLen = currentMasks.length;\r\n            var g = createNS('g');\r\n            for(j=0;j<jLen;j+=1){\r\n                g.appendChild(currentMasks[j]);\r\n            }\r\n            var mask = createNS('mask');\r\n            mask.setAttribute('mask-type','alpha');\r\n            mask.setAttribute('id',layerId+'_'+count);\r\n            mask.appendChild(path);\r\n            defs.appendChild(mask);\r\n            g.setAttribute('mask','url(' + locationHref + '#'+layerId+'_'+count+')');\r\n\r\n            currentMasks.length = 0;\r\n            currentMasks.push(g);\r\n        }else{\r\n            currentMasks.push(path);\r\n        }\r\n        if(properties[i].inv && !this.solidPath){\r\n            this.solidPath = this.createLayerSolidPath();\r\n        }\r\n        // TODO move this to a factory or to a constructor\r\n        this.viewData[i] = {\r\n            elem: path,\r\n            lastPath: '',\r\n            op: PropertyFactory.getProp(this.element,properties[i].o,0,0.01,this.element),\r\n            prop:ShapePropertyFactory.getShapeProp(this.element,properties[i],3),\r\n            invRect: rect\r\n        };\r\n        if(!this.viewData[i].prop.k){\r\n            this.drawPath(properties[i],this.viewData[i].prop.v,this.viewData[i]);\r\n        }\r\n    }\r\n\r\n    this.maskElement = createNS( maskType);\r\n\r\n    len = currentMasks.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.maskElement.appendChild(currentMasks[i]);\r\n    }\r\n\r\n    if(count > 0){\r\n        this.maskElement.setAttribute('id', layerId);\r\n        this.element.maskedElement.setAttribute(maskRef, \"url(\" + locationHref + \"#\" + layerId + \")\");\r\n        defs.appendChild(this.maskElement);\r\n    }\r\n    if (this.viewData.length) {\r\n        this.element.addRenderableComponent(this);\r\n    }\r\n\r\n}\r\n\r\nMaskElement.prototype.getMaskProperty = function(pos){\r\n    return this.viewData[pos].prop;\r\n};\r\n\r\nMaskElement.prototype.renderFrame = function (isFirstFrame) {\r\n    var finalMat = this.element.finalTransform.mat;\r\n    var i, len = this.masksProperties.length;\r\n    for (i = 0; i < len; i++) {\r\n        if(this.viewData[i].prop._mdf || isFirstFrame){\r\n            this.drawPath(this.masksProperties[i],this.viewData[i].prop.v,this.viewData[i]);\r\n        }\r\n        if(this.viewData[i].op._mdf || isFirstFrame){\r\n            this.viewData[i].elem.setAttribute('fill-opacity',this.viewData[i].op.v);\r\n        }\r\n        if(this.masksProperties[i].mode !== 'n'){\r\n            if(this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)){\r\n                this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS())\r\n            }\r\n            if(this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)){\r\n                var feMorph = this.storedData[i].expan;\r\n                if(this.storedData[i].x.v < 0){\r\n                    if(this.storedData[i].lastOperator !== 'erode'){\r\n                        this.storedData[i].lastOperator = 'erode';\r\n                        this.storedData[i].elem.setAttribute('filter','url(' + locationHref + '#'+this.storedData[i].filterId+')');\r\n                    }\r\n                    feMorph.setAttribute('radius',-this.storedData[i].x.v);\r\n                }else{\r\n                    if(this.storedData[i].lastOperator !== 'dilate'){\r\n                        this.storedData[i].lastOperator = 'dilate';\r\n                        this.storedData[i].elem.setAttribute('filter',null);\r\n                    }\r\n                    this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v*2);\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nMaskElement.prototype.getMaskelement = function () {\r\n    return this.maskElement;\r\n};\r\n\r\nMaskElement.prototype.createLayerSolidPath = function(){\r\n    var path = 'M0,0 ';\r\n    path += ' h' + this.globalData.compSize.w ;\r\n    path += ' v' + this.globalData.compSize.h ;\r\n    path += ' h-' + this.globalData.compSize.w ;\r\n    path += ' v-' + this.globalData.compSize.h + ' ';\r\n    return path;\r\n};\r\n\r\nMaskElement.prototype.drawPath = function(pathData,pathNodes,viewData){\r\n    var pathString = \" M\"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n    var i, len;\r\n    len = pathNodes._length;\r\n    for(i=1;i<len;i+=1){\r\n        //pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\r\n        pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\r\n    }\r\n        //pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n    if(pathNodes.c && len > 1){\r\n        pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n    }\r\n    //pathNodes.__renderedString = pathString;\r\n\r\n    if(viewData.lastPath !== pathString){\r\n        var pathShapeValue = '';\r\n        if(viewData.elem){\r\n            if(pathNodes.c){\r\n                pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\r\n            }\r\n            viewData.elem.setAttribute('d',pathShapeValue);\r\n        }\r\n        viewData.lastPath = pathString;\r\n    }\r\n};\r\n\r\nMaskElement.prototype.destroy = function(){\r\n    this.element = null;\r\n    this.globalData = null;\r\n    this.maskElement = null;\r\n    this.data = null;\r\n    this.masksProperties = null;\r\n};\r\n\r\n/**\r\n * @file \r\n * Handles AE's layer parenting property.\r\n *\r\n */\r\n\r\nfunction HierarchyElement(){}\r\n\r\nHierarchyElement.prototype = {\r\n\t/**\r\n     * @function \r\n     * Initializes hierarchy properties\r\n     *\r\n     */\r\n\tinitHierarchy: function() {\r\n\t\t//element's parent list\r\n\t    this.hierarchy = [];\r\n\t    //if element is parent of another layer _isParent will be true\r\n\t    this._isParent = false;\r\n\t    this.checkParenting();\r\n\t},\r\n\t/**\r\n     * @function \r\n     * Sets layer's hierarchy.\r\n     * @param {array} hierarch\r\n     * layer's parent list\r\n     *\r\n     */ \r\n\tsetHierarchy: function(hierarchy){\r\n\t    this.hierarchy = hierarchy;\r\n\t},\r\n\t/**\r\n     * @function \r\n     * Sets layer as parent.\r\n     *\r\n     */ \r\n\tsetAsParent: function() {\r\n\t    this._isParent = true;\r\n\t},\r\n\t/**\r\n     * @function \r\n     * Searches layer's parenting chain\r\n     *\r\n     */ \r\n\tcheckParenting: function(){\r\n\t    if (this.data.parent !== undefined){\r\n\t        this.comp.buildElementParenting(this, this.data.parent, []);\r\n\t    }\r\n\t}\r\n};\r\n/**\r\n * @file \r\n * Handles element's layer frame update.\r\n * Checks layer in point and out point\r\n *\r\n */\r\n\r\nfunction FrameElement(){}\r\n\r\nFrameElement.prototype = {\r\n    /**\r\n     * @function \r\n     * Initializes frame related properties.\r\n     *\r\n     */\r\n    initFrame: function(){\r\n        //set to true when inpoint is rendered\r\n        this._isFirstFrame = false;\r\n        //list of animated properties\r\n        this.dynamicProperties = [];\r\n        // If layer has been modified in current tick this will be true\r\n        this._mdf = false;\r\n    },\r\n    /**\r\n     * @function \r\n     * Calculates all dynamic values\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     * @param {boolean} isVisible\r\n     * if layers is currently in range\r\n     * \r\n     */\r\n    prepareProperties: function(num, isVisible) {\r\n        var i, len = this.dynamicProperties.length;\r\n        for (i = 0;i < len; i += 1) {\r\n            if (isVisible || (this._isParent && this.dynamicProperties[i].propType === 'transform')) {\r\n                this.dynamicProperties[i].getValue();\r\n                if (this.dynamicProperties[i]._mdf) {\r\n                    this.globalData._mdf = true;\r\n                    this._mdf = true;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    addDynamicProperty: function(prop) {\r\n        if(this.dynamicProperties.indexOf(prop) === -1) {\r\n            this.dynamicProperties.push(prop);\r\n        }\r\n    }\r\n};\r\nfunction TransformElement(){}\r\n\r\nTransformElement.prototype = {\r\n    initTransform: function() {\r\n        this.finalTransform = {\r\n            mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {o:0},\r\n            _matMdf: false,\r\n            _opMdf: false,\r\n            mat: new Matrix()\r\n        };\r\n        if (this.data.ao) {\r\n            this.finalTransform.mProp.autoOriented = true;\r\n        }\r\n\r\n        //TODO: check TYPE 11: Guided elements\r\n        if (this.data.ty !== 11) {\r\n            //this.createElements();\r\n        }\r\n    },\r\n    renderTransform: function() {\r\n\r\n        this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\r\n        this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\r\n\r\n        if (this.hierarchy) {\r\n            var mat;\r\n            var finalMat = this.finalTransform.mat;\r\n            var i = 0, len = this.hierarchy.length;\r\n            //Checking if any of the transformation matrices in the hierarchy chain has changed.\r\n            if (!this.finalTransform._matMdf) {\r\n                while (i < len) {\r\n                    if (this.hierarchy[i].finalTransform.mProp._mdf) {\r\n                        this.finalTransform._matMdf = true;\r\n                        break;\r\n                    }\r\n                    i += 1;\r\n                }\r\n            }\r\n            \r\n            if (this.finalTransform._matMdf) {\r\n                mat = this.finalTransform.mProp.v.props;\r\n                finalMat.cloneFromProps(mat);\r\n                for (i = 0; i < len; i += 1) {\r\n                    mat = this.hierarchy[i].finalTransform.mProp.v.props;\r\n                    finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    globalToLocal: function(pt) {\r\n        var transforms = [];\r\n        transforms.push(this.finalTransform);\r\n        var flag = true;\r\n        var comp = this.comp;\r\n        while (flag) {\r\n            if (comp.finalTransform) {\r\n                if (comp.data.hasMask) {\r\n                    transforms.splice(0, 0, comp.finalTransform);\r\n                }\r\n                comp = comp.comp;\r\n            } else {\r\n                flag = false;\r\n            }\r\n        }\r\n        var i, len = transforms.length,ptNew;\r\n        for (i = 0; i < len; i += 1) {\r\n            ptNew = transforms[i].mat.applyToPointArray(0, 0, 0);\r\n            //ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\r\n            pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\r\n        }\r\n        return pt;\r\n    },\r\n    mHelper: new Matrix()\r\n};\r\nfunction RenderableElement(){\r\n\r\n}\r\n\r\nRenderableElement.prototype = {\r\n    initRenderable: function() {\r\n        //layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\r\n        this.isInRange = false;\r\n        //layer's display state\r\n        this.hidden = false;\r\n        // If layer's transparency equals 0, it can be hidden\r\n        this.isTransparent = false;\r\n        //list of animated components\r\n        this.renderableComponents = [];\r\n    },\r\n    addRenderableComponent: function(component) {\r\n        if(this.renderableComponents.indexOf(component) === -1) {\r\n            this.renderableComponents.push(component);\r\n        }\r\n    },\r\n    removeRenderableComponent: function(component) {\r\n        if(this.renderableComponents.indexOf(component) !== -1) {\r\n            this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\r\n        }\r\n    },\r\n    prepareRenderableFrame: function(num) {\r\n        this.checkLayerLimits(num);\r\n    },\r\n    checkTransparency: function(){\r\n        if(this.finalTransform.mProp.o.v <= 0) {\r\n            if(!this.isTransparent && this.globalData.renderConfig.hideOnTransparent){\r\n                this.isTransparent = true;\r\n                this.hide();\r\n            }\r\n        } else if(this.isTransparent) {\r\n            this.isTransparent = false;\r\n            this.show();\r\n        }\r\n    },\r\n    /**\r\n     * @function \r\n     * Initializes frame related properties.\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     * \r\n     */\r\n    checkLayerLimits: function(num) {\r\n        if(this.data.ip - this.data.st <= num && this.data.op - this.data.st > num)\r\n        {\r\n            if(this.isInRange !== true){\r\n                this.globalData._mdf = true;\r\n                this._mdf = true;\r\n                this.isInRange = true;\r\n                this.show();\r\n            }\r\n        } else {\r\n            if(this.isInRange !== false){\r\n                this.globalData._mdf = true;\r\n                this.isInRange = false;\r\n                this.hide();\r\n            }\r\n        }\r\n    },\r\n    renderRenderable: function() {\r\n        var i, len = this.renderableComponents.length;\r\n        for(i = 0; i < len; i += 1) {\r\n            this.renderableComponents[i].renderFrame(this._isFirstFrame);\r\n        }\r\n        /*this.maskManager.renderFrame(this.finalTransform.mat);\r\n        this.renderableEffectsManager.renderFrame(this._isFirstFrame);*/\r\n    },\r\n    sourceRectAtTime: function(){\r\n        return {\r\n            top:0,\r\n            left:0,\r\n            width:100,\r\n            height:100\r\n        };\r\n    },\r\n    getLayerSize: function(){\r\n        if(this.data.ty === 5){\r\n            return {w:this.data.textData.width,h:this.data.textData.height};\r\n        }else{\r\n            return {w:this.data.width,h:this.data.height};\r\n        }\r\n    }\r\n};\r\nfunction RenderableDOMElement() {}\r\n\r\n(function(){\r\n    var _prototype = {\r\n        initElement: function(data,globalData,comp) {\r\n            this.initFrame();\r\n            this.initBaseData(data, globalData, comp);\r\n            this.initTransform(data, globalData, comp);\r\n            this.initHierarchy();\r\n            this.initRenderable();\r\n            this.initRendererElement();\r\n            this.createContainerElements();\r\n            this.createRenderableComponents();\r\n            this.createContent();\r\n            this.hide();\r\n        },\r\n        hide: function(){\r\n            if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n                var elem = this.baseElement || this.layerElement;\r\n                elem.style.display = 'none';\r\n                this.hidden = true;\r\n            }\r\n        },\r\n        show: function(){\r\n            if (this.isInRange && !this.isTransparent){\r\n                if (!this.data.hd) {\r\n                    var elem = this.baseElement || this.layerElement;\r\n                    elem.style.display = 'block';\r\n                }\r\n                this.hidden = false;\r\n                this._isFirstFrame = true;\r\n            }\r\n        },\r\n        renderFrame: function() {\r\n            //If it is exported as hidden (data.hd === true) no need to render\r\n            //If it is not visible no need to render\r\n            if (this.data.hd || this.hidden) {\r\n                return;\r\n            }\r\n            this.renderTransform();\r\n            this.renderRenderable();\r\n            this.renderElement();\r\n            this.renderInnerContent();\r\n            if (this._isFirstFrame) {\r\n                this._isFirstFrame = false;\r\n            }\r\n        },\r\n        renderInnerContent: function() {},\r\n        prepareFrame: function(num) {\r\n            this._mdf = false;\r\n            this.prepareRenderableFrame(num);\r\n            this.prepareProperties(num, this.isInRange);\r\n            this.checkTransparency();\r\n        },\r\n        destroy: function(){\r\n            this.innerElem =  null;\r\n            this.destroyBaseElement();\r\n        }\r\n    };\r\n    extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\r\n}());\r\nfunction ProcessedElement(element, position) {\r\n\tthis.elem = element;\r\n\tthis.pos = position;\r\n}\r\nfunction SVGStyleData(data, level) {\r\n\tthis.data = data;\r\n\tthis.type = data.ty;\r\n\tthis.d = '';\r\n\tthis.lvl = level;\r\n\tthis._mdf = false;\r\n\tthis.closed = data.hd === true;\r\n\tthis.pElem = createNS('path');\r\n\tthis.msElem = null;\r\n}\r\n\r\nSVGStyleData.prototype.reset = function() {\r\n\tthis.d = '';\r\n\tthis._mdf = false;\r\n};\r\nfunction SVGShapeData(transformers, level, shape) {\r\n    this.caches = [];\r\n    this.styles = [];\r\n    this.transformers = transformers;\r\n    this.lStr = '';\r\n    this.sh = shape;\r\n    this.lvl = level;\r\n    //TODO find if there are some cases where _isAnimated can be false. \r\n    // For now, since shapes add up with other shapes. They have to be calculated every time.\r\n    // One way of finding out is checking if all styles associated to this shape depend only of this shape\r\n    this._isAnimated = !!shape.k;\r\n    // TODO: commenting this for now since all shapes are animated\r\n    var i = 0, len = transformers.length;\r\n    while(i < len) {\r\n    \tif(transformers[i].mProps.dynamicProperties.length) {\r\n    \t\tthis._isAnimated = true;\r\n    \t\tbreak;\r\n    \t}\r\n    \ti += 1;\r\n    }\r\n}\r\n\r\nSVGShapeData.prototype.setAsAnimated = function() {\r\n    this._isAnimated = true;\r\n}\r\nfunction SVGTransformData(mProps, op, container) {\r\n\tthis.transform = {\r\n\t\tmProps: mProps,\r\n\t\top: op,\r\n\t\tcontainer: container\r\n\t};\r\n\tthis.elements = [];\r\n    this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\r\n}\r\nfunction SVGStrokeStyleData(elem, data, styleOb){\r\n\tthis.initDynamicPropertyContainer(elem);\r\n\tthis.getValue = this.iterateDynamicProperties;\r\n\tthis.o = PropertyFactory.getProp(elem,data.o,0,0.01,this);\r\n\tthis.w = PropertyFactory.getProp(elem,data.w,0,null,this);\r\n\tthis.d = new DashProperty(elem,data.d||{},'svg',this);\r\n\tthis.c = PropertyFactory.getProp(elem,data.c,1,255,this);\r\n\tthis.style = styleOb;\r\n    this._isAnimated = !!this._isAnimated;\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\r\nfunction SVGFillStyleData(elem, data, styleOb){\r\n\tthis.initDynamicPropertyContainer(elem);\r\n\tthis.getValue = this.iterateDynamicProperties;\r\n\tthis.o = PropertyFactory.getProp(elem,data.o,0,0.01,this);\r\n\tthis.c = PropertyFactory.getProp(elem,data.c,1,255,this);\r\n\tthis.style = styleOb;\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGFillStyleData);\r\nfunction SVGGradientFillStyleData(elem, data, styleOb){\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.getValue = this.iterateDynamicProperties;\r\n    this.initGradientData(elem, data, styleOb);\r\n}\r\n\r\nSVGGradientFillStyleData.prototype.initGradientData = function(elem, data, styleOb){\r\n    this.o = PropertyFactory.getProp(elem,data.o,0,0.01,this);\r\n    this.s = PropertyFactory.getProp(elem,data.s,1,null,this);\r\n    this.e = PropertyFactory.getProp(elem,data.e,1,null,this);\r\n    this.h = PropertyFactory.getProp(elem,data.h||{k:0},0,0.01,this);\r\n    this.a = PropertyFactory.getProp(elem,data.a||{k:0},0,degToRads,this);\r\n    this.g = new GradientProperty(elem,data.g,this);\r\n    this.style = styleOb;\r\n    this.stops = [];\r\n    this.setGradientData(styleOb.pElem, data);\r\n    this.setGradientOpacity(data, styleOb);\r\n    this._isAnimated = !!this._isAnimated;\r\n\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientData = function(pathElement,data){\r\n\r\n    var gradientId = createElementID();\r\n    var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n    gfill.setAttribute('id',gradientId);\r\n    gfill.setAttribute('spreadMethod','pad');\r\n    gfill.setAttribute('gradientUnits','userSpaceOnUse');\r\n    var stops = [];\r\n    var stop, j, jLen;\r\n    jLen = data.g.p*4;\r\n    for(j=0;j<jLen;j+=4){\r\n        stop = createNS('stop');\r\n        gfill.appendChild(stop);\r\n        stops.push(stop);\r\n    }\r\n    pathElement.setAttribute( data.ty === 'gf' ? 'fill':'stroke','url(' + locationHref + '#'+gradientId+')');\r\n    \r\n    this.gf = gfill;\r\n    this.cst = stops;\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientOpacity = function(data, styleOb){\r\n    if(this.g._hasOpacity && !this.g._collapsable){\r\n        var stop, j, jLen;\r\n        var mask = createNS(\"mask\");\r\n        var maskElement = createNS( 'path');\r\n        mask.appendChild(maskElement);\r\n        var opacityId = createElementID();\r\n        var maskId = createElementID();\r\n        mask.setAttribute('id',maskId);\r\n        var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n        opFill.setAttribute('id',opacityId);\r\n        opFill.setAttribute('spreadMethod','pad');\r\n        opFill.setAttribute('gradientUnits','userSpaceOnUse');\r\n        jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\r\n        var stops = this.stops;\r\n        for(j=data.g.p*4;j<jLen;j+=2){\r\n            stop = createNS('stop');\r\n            stop.setAttribute('stop-color','rgb(255,255,255)');\r\n            opFill.appendChild(stop);\r\n            stops.push(stop);\r\n        }\r\n        maskElement.setAttribute( data.ty === 'gf' ? 'fill':'stroke','url(' + locationHref + '#'+opacityId+')');\r\n        this.of = opFill;\r\n        this.ms = mask;\r\n        this.ost = stops;\r\n        this.maskId = maskId;\r\n        styleOb.msElem = maskElement;\r\n    }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\r\nfunction SVGGradientStrokeStyleData(elem, data, styleOb){\r\n\tthis.initDynamicPropertyContainer(elem);\r\n\tthis.getValue = this.iterateDynamicProperties;\r\n\tthis.w = PropertyFactory.getProp(elem,data.w,0,null,this);\r\n\tthis.d = new DashProperty(elem,data.d||{},'svg',this);\r\n    this.initGradientData(elem, data, styleOb);\r\n    this._isAnimated = !!this._isAnimated;\r\n}\r\n\r\nextendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\r\nfunction ShapeGroupData() {\r\n\tthis.it = [];\r\n    this.prevViewData = [];\r\n    this.gr = createNS('g');\r\n}\r\nvar SVGElementsRenderer = (function() {\r\n\tvar _identityMatrix = new Matrix();\r\n\tvar _matrixHelper = new Matrix();\r\n\r\n\tvar ob = {\r\n\t\tcreateRenderFunction: createRenderFunction\r\n\t}\r\n\r\n\tfunction createRenderFunction(data) {\r\n\t    var ty = data.ty;\r\n\t    switch(data.ty) {\r\n\t        case 'fl':\r\n\t        return renderFill;\r\n\t        case 'gf':\r\n\t        return renderGradient;\r\n\t        case 'gs':\r\n\t        return renderGradientStroke;\r\n\t        case 'st':\r\n\t        return renderStroke;\r\n\t        case 'sh':\r\n\t        case 'el':\r\n\t        case 'rc':\r\n\t        case 'sr':\r\n\t        return renderPath;\r\n\t        case 'tr':\r\n\t        return renderContentTransform;\r\n\t    }\r\n\t}\r\n\r\n\tfunction renderContentTransform(styleData, itemData, isFirstFrame) {\r\n\t    if(isFirstFrame || itemData.transform.op._mdf){\r\n\t        itemData.transform.container.setAttribute('opacity',itemData.transform.op.v);\r\n\t    }\r\n\t    if(isFirstFrame || itemData.transform.mProps._mdf){\r\n\t        itemData.transform.container.setAttribute('transform',itemData.transform.mProps.v.to2dCSS());\r\n\t    }\r\n\t}\r\n\r\n\tfunction renderPath(styleData, itemData, isFirstFrame) {\r\n\t    var j, jLen,pathStringTransformed,redraw,pathNodes,l, lLen = itemData.styles.length;\r\n\t    var lvl = itemData.lvl;\r\n\t    var paths, mat, props, iterations, k;\r\n\t    for(l=0;l<lLen;l+=1){\r\n\t        redraw = itemData.sh._mdf || isFirstFrame;\r\n\t        if(itemData.styles[l].lvl < lvl){\r\n\t            mat = _matrixHelper.reset();\r\n\t            iterations = lvl - itemData.styles[l].lvl;\r\n\t            k = itemData.transformers.length-1;\r\n\t            while(!redraw && iterations > 0) {\r\n\t                redraw = itemData.transformers[k].mProps._mdf || redraw;\r\n\t                iterations --;\r\n\t                k --;\r\n\t            }\r\n\t            if(redraw) {\r\n\t                iterations = lvl - itemData.styles[l].lvl;\r\n\t                k = itemData.transformers.length-1;\r\n\t                while(iterations > 0) {\r\n\t                    props = itemData.transformers[k].mProps.v.props;\r\n\t                    mat.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n\t                    iterations --;\r\n\t                    k --;\r\n\t                }\r\n\t            }\r\n\t        } else {\r\n\t            mat = _identityMatrix;\r\n\t        }\r\n\t        paths = itemData.sh.paths;\r\n\t        jLen = paths._length;\r\n\t        if(redraw){\r\n\t            pathStringTransformed = '';\r\n\t            for(j=0;j<jLen;j+=1){\r\n\t                pathNodes = paths.shapes[j];\r\n\t                if(pathNodes && pathNodes._length){\r\n\t                    pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\r\n\t                }\r\n\t            }\r\n\t            itemData.caches[l] = pathStringTransformed;\r\n\t        } else {\r\n\t            pathStringTransformed = itemData.caches[l];\r\n\t        }\r\n\t        itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\r\n\t        itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\r\n\t    }\r\n\t}\r\n\r\n\tfunction renderFill (styleData,itemData, isFirstFrame){\r\n\t    var styleElem = itemData.style;\r\n\r\n\t    if(itemData.c._mdf || isFirstFrame){\r\n\t        styleElem.pElem.setAttribute('fill','rgb('+bm_floor(itemData.c.v[0])+','+bm_floor(itemData.c.v[1])+','+bm_floor(itemData.c.v[2])+')');\r\n\t    }\r\n\t    if(itemData.o._mdf || isFirstFrame){\r\n\t        styleElem.pElem.setAttribute('fill-opacity',itemData.o.v);\r\n\t    }\r\n\t};\r\n\r\n\tfunction renderGradientStroke (styleData, itemData, isFirstFrame) {\r\n\t    renderGradient(styleData, itemData, isFirstFrame);\r\n\t    renderStroke(styleData, itemData, isFirstFrame);\r\n\t}\r\n\r\n\tfunction renderGradient(styleData, itemData, isFirstFrame) {\r\n\t    var gfill = itemData.gf;\r\n\t    var hasOpacity = itemData.g._hasOpacity;\r\n\t    var pt1 = itemData.s.v, pt2 = itemData.e.v;\r\n\r\n\t    if (itemData.o._mdf || isFirstFrame) {\r\n\t        var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\r\n\t        itemData.style.pElem.setAttribute(attr, itemData.o.v);\r\n\t    }\r\n\t    if (itemData.s._mdf || isFirstFrame) {\r\n\t        var attr1 = styleData.t === 1 ? 'x1' : 'cx';\r\n\t        var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\r\n\t        gfill.setAttribute(attr1, pt1[0]);\r\n\t        gfill.setAttribute(attr2, pt1[1]);\r\n\t        if (hasOpacity && !itemData.g._collapsable) {\r\n\t            itemData.of.setAttribute(attr1, pt1[0]);\r\n\t            itemData.of.setAttribute(attr2, pt1[1]);\r\n\t        }\r\n\t    }\r\n\t    var stops, i, len, stop;\r\n\t    if (itemData.g._cmdf || isFirstFrame) {\r\n\t        stops = itemData.cst;\r\n\t        var cValues = itemData.g.c;\r\n\t        len = stops.length;\r\n\t        for (i = 0; i < len; i += 1){\r\n\t            stop = stops[i];\r\n\t            stop.setAttribute('offset', cValues[i * 4] + '%');\r\n\t            stop.setAttribute('stop-color','rgb('+ cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ','+cValues[i * 4 + 3] + ')');\r\n\t        }\r\n\t    }\r\n\t    if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\r\n\t        var oValues = itemData.g.o;\r\n\t        if(itemData.g._collapsable) {\r\n\t            stops = itemData.cst;\r\n\t        } else {\r\n\t            stops = itemData.ost;\r\n\t        }\r\n\t        len = stops.length;\r\n\t        for (i = 0; i < len; i += 1) {\r\n\t            stop = stops[i];\r\n\t            if(!itemData.g._collapsable) {\r\n\t                stop.setAttribute('offset', oValues[i * 2] + '%');\r\n\t            }\r\n\t            stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\r\n\t        }\r\n\t    }\r\n\t    if (styleData.t === 1) {\r\n\t        if (itemData.e._mdf  || isFirstFrame) {\r\n\t            gfill.setAttribute('x2', pt2[0]);\r\n\t            gfill.setAttribute('y2', pt2[1]);\r\n\t            if (hasOpacity && !itemData.g._collapsable) {\r\n\t                itemData.of.setAttribute('x2', pt2[0]);\r\n\t                itemData.of.setAttribute('y2', pt2[1]);\r\n\t            }\r\n\t        }\r\n\t    } else {\r\n\t        var rad;\r\n\t        if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\r\n\t            rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n\t            gfill.setAttribute('r', rad);\r\n\t            if(hasOpacity && !itemData.g._collapsable){\r\n\t                itemData.of.setAttribute('r', rad);\r\n\t            }\r\n\t        }\r\n\t        if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\r\n\t            if (!rad) {\r\n\t                rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n\t            }\r\n\t            var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n\t            var percent = itemData.h.v >= 1 ? 0.99 : itemData.h.v <= -1 ? -0.99: itemData.h.v;\r\n\t            var dist = rad * percent;\r\n\t            var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n\t            var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n\t            gfill.setAttribute('fx', x);\r\n\t            gfill.setAttribute('fy', y);\r\n\t            if (hasOpacity && !itemData.g._collapsable) {\r\n\t                itemData.of.setAttribute('fx', x);\r\n\t                itemData.of.setAttribute('fy', y);\r\n\t            }\r\n\t        }\r\n\t        //gfill.setAttribute('fy','200');\r\n\t    }\r\n\t};\r\n\r\n\tfunction renderStroke(styleData, itemData, isFirstFrame) {\r\n\t    var styleElem = itemData.style;\r\n\t    var d = itemData.d;\r\n\t    if (d && (d._mdf || isFirstFrame) && d.dashStr) {\r\n\t        styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\r\n\t        styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\r\n\t    }\r\n\t    if(itemData.c && (itemData.c._mdf || isFirstFrame)){\r\n\t        styleElem.pElem.setAttribute('stroke','rgb(' + bm_floor(itemData.c.v[0]) + ',' + bm_floor(itemData.c.v[1]) + ',' + bm_floor(itemData.c.v[2]) + ')');\r\n\t    }\r\n\t    if(itemData.o._mdf || isFirstFrame){\r\n\t        styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\r\n\t    }\r\n\t    if(itemData.w._mdf || isFirstFrame){\r\n\t        styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\r\n\t        if(styleElem.msElem){\r\n\t            styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\r\n\t        }\r\n\t    }\r\n\t};\r\n\r\n\treturn ob;\r\n}())\r\nfunction ShapeTransformManager() {\r\n\tthis.sequences = {};\r\n\tthis.sequenceList = [];\r\n    this.transform_key_count = 0;\r\n}\r\n\r\nShapeTransformManager.prototype = {\r\n\taddTransformSequence: function(transforms) {\r\n\t\tvar i, len = transforms.length;\r\n\t\tvar key = '_';\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tkey += transforms[i].transform.key + '_';\r\n\t\t}\r\n\t\tvar sequence = this.sequences[key];\r\n\t\tif(!sequence) {\r\n\t\t\tsequence = {\r\n\t\t\t\ttransforms: [].concat(transforms),\r\n\t\t\t\tfinalTransform: new Matrix(),\r\n\t\t\t\t_mdf: false\r\n\t\t\t};\r\n\t\t\tthis.sequences[key] = sequence;\r\n\t\t\tthis.sequenceList.push(sequence);\r\n\t\t}\r\n\t\treturn sequence;\r\n\t},\r\n\tprocessSequence: function(sequence, isFirstFrame) {\r\n\t\tvar i = 0, len = sequence.transforms.length, _mdf = isFirstFrame;\r\n\t\twhile (i < len && !isFirstFrame) {\r\n\t\t\tif (sequence.transforms[i].transform.mProps._mdf) {\r\n\t\t\t\t_mdf = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\ti += 1\r\n\t\t}\r\n\t\tif (_mdf) {\r\n\t\t\tvar props;\r\n\t\t\tsequence.finalTransform.reset();\r\n\t\t\tfor (i = len - 1; i >= 0; i -= 1) {\r\n\t\t        props = sequence.transforms[i].transform.mProps.v.props;\r\n\t\t        sequence.finalTransform.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tsequence._mdf = _mdf;\r\n\t\t\r\n\t},\r\n\tprocessSequences: function(isFirstFrame) {\r\n\t\tvar i, len = this.sequenceList.length;\r\n\t\tfor (i = 0; i < len; i += 1) {\r\n\t\t\tthis.processSequence(this.sequenceList[i], isFirstFrame);\r\n\t\t}\r\n\r\n\t},\r\n\tgetNewKey: function() {\r\n\t\treturn '_' + this.transform_key_count++;\r\n\t}\r\n}\r\nfunction CVShapeData(element, data, styles, transformsManager) {\r\n    this.styledShapes = [];\r\n    this.tr = [0,0,0,0,0,0];\r\n    var ty = 4;\r\n    if(data.ty == 'rc'){\r\n        ty = 5;\r\n    }else if(data.ty == 'el'){\r\n        ty = 6;\r\n    }else if(data.ty == 'sr'){\r\n        ty = 7;\r\n    }\r\n    this.sh = ShapePropertyFactory.getShapeProp(element,data,ty,element);\r\n    var i , len = styles.length,styledShape;\r\n    for (i = 0; i < len; i += 1) {\r\n        if (!styles[i].closed) {\r\n            styledShape = {\r\n                transforms: transformsManager.addTransformSequence(styles[i].transforms),\r\n                trNodes: []\r\n            }\r\n            this.styledShapes.push(styledShape);\r\n            styles[i].elements.push(styledShape);\r\n        }\r\n    }\r\n}\r\n\r\nCVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\r\nfunction BaseElement(){\r\n}\r\n\r\nBaseElement.prototype = {\r\n    checkMasks: function(){\r\n        if(!this.data.hasMask){\r\n            return false;\r\n        }\r\n        var i = 0, len = this.data.masksProperties.length;\r\n        while(i<len) {\r\n            if((this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false)) {\r\n                return true;\r\n            }\r\n            i += 1;\r\n        }\r\n        return false;\r\n    },\r\n    initExpressions: function(){\r\n        this.layerInterface = LayerExpressionInterface(this);\r\n        if(this.data.hasMask && this.maskManager) {\r\n            this.layerInterface.registerMaskInterface(this.maskManager);\r\n        }\r\n        var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);\r\n        this.layerInterface.registerEffectsInterface(effectsInterface);\r\n\r\n        if(this.data.ty === 0 || this.data.xt){\r\n            this.compInterface = CompExpressionInterface(this);\r\n        } else if(this.data.ty === 4){\r\n            this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface);\r\n            this.layerInterface.content = this.layerInterface.shapeInterface;\r\n        } else if(this.data.ty === 5){\r\n            this.layerInterface.textInterface = TextExpressionInterface(this);\r\n            this.layerInterface.text = this.layerInterface.textInterface;\r\n        }\r\n    },\r\n    setBlendMode: function(){\r\n        var blendModeValue = getBlendMode(this.data.bm);\r\n        var elem = this.baseElement || this.layerElement;\r\n\r\n        elem.style['mix-blend-mode'] = blendModeValue;\r\n    },\r\n    initBaseData: function(data, globalData, comp){\r\n        this.globalData = globalData;\r\n        this.comp = comp;\r\n        this.data = data;\r\n        this.layerId = createElementID();\r\n        \r\n        //Stretch factor for old animations missing this property.\r\n        if(!this.data.sr){\r\n            this.data.sr = 1;\r\n        }\r\n        // effects manager\r\n        this.effectsManager = new EffectsManager(this.data,this,this.dynamicProperties);\r\n        \r\n    },\r\n    getType: function(){\r\n        return this.type;\r\n    }\r\n    ,sourceRectAtTime: function(){}\r\n}\r\nfunction NullElement(data,globalData,comp){\r\n    this.initFrame();\r\n\tthis.initBaseData(data, globalData, comp);\r\n    this.initFrame();\r\n    this.initTransform(data, globalData, comp);\r\n    this.initHierarchy();\r\n}\r\n\r\nNullElement.prototype.prepareFrame = function(num) {\r\n    this.prepareProperties(num, true);\r\n};\r\n\r\nNullElement.prototype.renderFrame = function() {\r\n};\r\n\r\nNullElement.prototype.getBaseElement = function() {\r\n\treturn null;\r\n};\r\n\r\nNullElement.prototype.destroy = function() {\r\n};\r\n\r\nNullElement.prototype.sourceRectAtTime = function() {\r\n};\r\n\r\nNullElement.prototype.hide = function() {\r\n};\r\n\r\nextendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement], NullElement);\r\n\r\nfunction SVGBaseElement(){\r\n}\r\n\r\nSVGBaseElement.prototype = {\r\n    initRendererElement: function() {\r\n        this.layerElement = createNS('g');\r\n    },\r\n    createContainerElements: function(){\r\n        this.matteElement = createNS('g');\r\n        this.transformedElement = this.layerElement;\r\n        this.maskedElement = this.layerElement;\r\n        this._sizeChanged = false;\r\n        var layerElementParent = null;\r\n        //If this layer acts as a mask for the following layer\r\n        var filId, fil, gg;\r\n        if (this.data.td) {\r\n            if (this.data.td == 3 || this.data.td == 1) {\r\n                var masker = createNS('mask');\r\n                masker.setAttribute('id', this.layerId);\r\n                masker.setAttribute('mask-type', this.data.td == 3 ? 'luminance' : 'alpha');\r\n                masker.appendChild(this.layerElement);\r\n                layerElementParent = masker;\r\n                this.globalData.defs.appendChild(masker);\r\n                // This is only for IE and Edge when mask if of type alpha\r\n                if (!featureSupport.maskType && this.data.td == 1) {\r\n                    masker.setAttribute('mask-type', 'luminance');\r\n                    filId = createElementID();\r\n                    fil = filtersFactory.createFilter(filId);\r\n                    this.globalData.defs.appendChild(fil);\r\n                    fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n                    gg = createNS('g');\r\n                    gg.appendChild(this.layerElement);\r\n                    layerElementParent = gg;\r\n                    masker.appendChild(gg);\r\n                    gg.setAttribute('filter','url(' + locationHref + '#' + filId + ')');\r\n                }\r\n            } else if(this.data.td == 2) {\r\n                var maskGroup = createNS('mask');\r\n                maskGroup.setAttribute('id', this.layerId);\r\n                maskGroup.setAttribute('mask-type','alpha');\r\n                var maskGrouper = createNS('g');\r\n                maskGroup.appendChild(maskGrouper);\r\n                filId = createElementID();\r\n                fil = filtersFactory.createFilter(filId);\r\n                ////\r\n\r\n                // This solution doesn't work on Android when meta tag with viewport attribute is set\r\n                /*var feColorMatrix = createNS('feColorMatrix');\r\n                feColorMatrix.setAttribute('type', 'matrix');\r\n                feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n                feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\r\n                fil.appendChild(feColorMatrix);*/\r\n                ////\r\n                var feCTr = createNS('feComponentTransfer');\r\n                feCTr.setAttribute('in','SourceGraphic');\r\n                fil.appendChild(feCTr);\r\n                var feFunc = createNS('feFuncA');\r\n                feFunc.setAttribute('type','table');\r\n                feFunc.setAttribute('tableValues','1.0 0.0');\r\n                feCTr.appendChild(feFunc);\r\n                ////\r\n                this.globalData.defs.appendChild(fil);\r\n                var alphaRect = createNS('rect');\r\n                alphaRect.setAttribute('width',  this.comp.data.w);\r\n                alphaRect.setAttribute('height', this.comp.data.h);\r\n                alphaRect.setAttribute('x','0');\r\n                alphaRect.setAttribute('y','0');\r\n                alphaRect.setAttribute('fill','#ffffff');\r\n                alphaRect.setAttribute('opacity','0');\r\n                maskGrouper.setAttribute('filter', 'url(' + locationHref + '#'+filId+')');\r\n                maskGrouper.appendChild(alphaRect);\r\n                maskGrouper.appendChild(this.layerElement);\r\n                layerElementParent = maskGrouper;\r\n                if (!featureSupport.maskType) {\r\n                    maskGroup.setAttribute('mask-type', 'luminance');\r\n                    fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n                    gg = createNS('g');\r\n                    maskGrouper.appendChild(alphaRect);\r\n                    gg.appendChild(this.layerElement);\r\n                    layerElementParent = gg;\r\n                    maskGrouper.appendChild(gg);\r\n                }\r\n                this.globalData.defs.appendChild(maskGroup);\r\n            }\r\n        } else if (this.data.tt) {\r\n            this.matteElement.appendChild(this.layerElement);\r\n            layerElementParent = this.matteElement;\r\n            this.baseElement = this.matteElement;\r\n        } else {\r\n            this.baseElement = this.layerElement;\r\n        }\r\n        if (this.data.ln) {\r\n            this.layerElement.setAttribute('id', this.data.ln);\r\n        }\r\n        if (this.data.cl) {\r\n            this.layerElement.setAttribute('class', this.data.cl);\r\n        }\r\n        //Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\r\n        if (this.data.ty === 0 && !this.data.hd) {\r\n            var cp = createNS( 'clipPath');\r\n            var pt = createNS('path');\r\n            pt.setAttribute('d','M0,0 L' + this.data.w + ',0' + ' L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\r\n            var clipId = createElementID();\r\n            cp.setAttribute('id',clipId);\r\n            cp.appendChild(pt);\r\n            this.globalData.defs.appendChild(cp);\r\n\r\n            if (this.checkMasks()) {\r\n                var cpGroup = createNS('g');\r\n                cpGroup.setAttribute('clip-path','url(' + locationHref + '#'+clipId + ')');\r\n                cpGroup.appendChild(this.layerElement);\r\n                this.transformedElement = cpGroup;\r\n                if (layerElementParent) {\r\n                    layerElementParent.appendChild(this.transformedElement);\r\n                } else {\r\n                    this.baseElement = this.transformedElement;\r\n                }\r\n            } else {\r\n                this.layerElement.setAttribute('clip-path','url(' + locationHref + '#'+clipId+')');\r\n            }\r\n            \r\n        }\r\n        if (this.data.bm !== 0) {\r\n            this.setBlendMode();\r\n        }\r\n\r\n    },\r\n    renderElement: function() {\r\n        if (this.finalTransform._matMdf) {\r\n            this.transformedElement.setAttribute('transform', this.finalTransform.mat.to2dCSS());\r\n        }\r\n        if (this.finalTransform._opMdf) {\r\n            this.transformedElement.setAttribute('opacity', this.finalTransform.mProp.o.v);\r\n        }\r\n    },\r\n    destroyBaseElement: function() {\r\n        this.layerElement = null;\r\n        this.matteElement = null;\r\n        this.maskManager.destroy();\r\n    },\r\n    getBaseElement: function() {\r\n        if (this.data.hd) {\r\n            return null;\r\n        }\r\n        return this.baseElement;\r\n    },\r\n    createRenderableComponents: function() {\r\n        this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n        this.renderableEffectsManager = new SVGEffects(this);\r\n    },\r\n    setMatte: function(id) {\r\n        if (!this.matteElement) {\r\n            return;\r\n        }\r\n        this.matteElement.setAttribute(\"mask\", \"url(\" + locationHref + \"#\" + id + \")\");\r\n    }\r\n};\r\nfunction IShapeElement(){\r\n}\r\n\r\nIShapeElement.prototype = {\r\n    addShapeToModifiers: function(data) {\r\n        var i, len = this.shapeModifiers.length;\r\n        for(i=0;i<len;i+=1){\r\n            this.shapeModifiers[i].addShape(data);\r\n        }\r\n    },\r\n    isShapeInAnimatedModifiers: function(data) {\r\n        var i = 0, len = this.shapeModifiers.length;\r\n        while(i < len) {\r\n            if(this.shapeModifiers[i].isAnimatedWithShape(data)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    },\r\n    renderModifiers: function() {\r\n        if(!this.shapeModifiers.length){\r\n            return;\r\n        }\r\n        var i, len = this.shapes.length;\r\n        for(i=0;i<len;i+=1){\r\n            this.shapes[i].sh.reset();\r\n        }\r\n\r\n        len = this.shapeModifiers.length;\r\n        for(i=len-1;i>=0;i-=1){\r\n            this.shapeModifiers[i].processShapes(this._isFirstFrame);\r\n        }\r\n    },\r\n    lcEnum: {\r\n        '1': 'butt',\r\n        '2': 'round',\r\n        '3': 'square'\r\n    },\r\n    ljEnum: {\r\n        '1': 'miter',\r\n        '2': 'round',\r\n        '3': 'bevel'\r\n    },\r\n    searchProcessedElement: function(elem){\r\n        var elements = this.processedElements;\r\n        var i = 0, len = elements.length;\r\n        while (i < len) {\r\n            if (elements[i].elem === elem) {\r\n                return elements[i].pos;\r\n            }\r\n            i += 1;\r\n        }\r\n        return 0;\r\n    },\r\n    addProcessedElement: function(elem, pos){\r\n        var elements = this.processedElements;\r\n        var i = elements.length;\r\n        while(i) {\r\n            i -= 1;\r\n            if (elements[i].elem === elem) {\r\n                elements[i].pos = pos;\r\n                return;\r\n            }\r\n        }\r\n        elements.push(new ProcessedElement(elem, pos));\r\n    },\r\n    prepareFrame: function(num) {\r\n        this.prepareRenderableFrame(num);\r\n        this.prepareProperties(num, this.isInRange);\r\n    }\r\n};\r\nfunction ITextElement(){\r\n}\r\n\r\nITextElement.prototype.initElement = function(data,globalData,comp){\r\n    this.lettersChangedFlag = true;\r\n    this.initFrame();\r\n    this.initBaseData(data, globalData, comp);\r\n    this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\r\n    this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\r\n    this.initTransform(data, globalData, comp);\r\n    this.initHierarchy();\r\n    this.initRenderable();\r\n    this.initRendererElement();\r\n    this.createContainerElements();\r\n    this.createRenderableComponents();\r\n    this.createContent();\r\n    this.hide();\r\n    this.textAnimator.searchProperties(this.dynamicProperties);\r\n};\r\n\r\nITextElement.prototype.prepareFrame = function(num) {\r\n    this._mdf = false;\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n    if(this.textProperty._mdf || this.textProperty._isFirstFrame) {\r\n        this.buildNewText();\r\n        this.textProperty._isFirstFrame = false;\r\n        this.textProperty._mdf = false;\r\n    }\r\n};\r\n\r\nITextElement.prototype.createPathShape = function(matrixHelper, shapes) {\r\n    var j,jLen = shapes.length;\r\n    var k, kLen, pathNodes;\r\n    var shapeStr = '';\r\n    for(j=0;j<jLen;j+=1){\r\n        pathNodes = shapes[j].ks.k;\r\n        shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\r\n    }\r\n    return shapeStr;\r\n};\r\n\r\nITextElement.prototype.updateDocumentData = function(newData, index) {\r\n    this.textProperty.updateDocumentData(newData, index);\r\n};\r\n\r\nITextElement.prototype.canResizeFont = function(_canResize) {\r\n    this.textProperty.canResizeFont(_canResize);\r\n};\r\n\r\nITextElement.prototype.setMinimumFontSize = function(_fontSize) {\r\n    this.textProperty.setMinimumFontSize(_fontSize);\r\n};\r\n\r\nITextElement.prototype.applyTextPropertiesToMatrix = function(documentData, matrixHelper, lineNumber, xPos, yPos) {\r\n    if(documentData.ps){\r\n        matrixHelper.translate(documentData.ps[0],documentData.ps[1] + documentData.ascent,0);\r\n    }\r\n    matrixHelper.translate(0,-documentData.ls,0);\r\n    switch(documentData.j){\r\n        case 1:\r\n            matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]),0,0);\r\n            break;\r\n        case 2:\r\n            matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber] )/2,0,0);\r\n            break;\r\n    }\r\n    matrixHelper.translate(xPos, yPos, 0);\r\n};\r\n\r\n\r\nITextElement.prototype.buildColor = function(colorData) {\r\n    return 'rgb(' + Math.round(colorData[0]*255) + ',' + Math.round(colorData[1]*255) + ',' + Math.round(colorData[2]*255) + ')';\r\n};\r\n\r\nITextElement.prototype.emptyProp = new LetterProps();\r\n\r\nITextElement.prototype.destroy = function(){\r\n    \r\n};\r\nfunction ICompElement(){}\r\n\r\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\r\n\r\nICompElement.prototype.initElement = function(data,globalData,comp) {\r\n    this.initFrame();\r\n    this.initBaseData(data, globalData, comp);\r\n    this.initTransform(data, globalData, comp);\r\n    this.initRenderable();\r\n    this.initHierarchy();\r\n    this.initRendererElement();\r\n    this.createContainerElements();\r\n    this.createRenderableComponents();\r\n    if(this.data.xt || !globalData.progressiveLoad){\r\n        this.buildAllItems();\r\n    }\r\n    this.hide();\r\n};\r\n\r\n/*ICompElement.prototype.hide = function(){\r\n    if(!this.hidden){\r\n        this.hideElement();\r\n        var i,len = this.elements.length;\r\n        for( i = 0; i < len; i+=1 ){\r\n            if(this.elements[i]){\r\n                this.elements[i].hide();\r\n            }\r\n        }\r\n    }\r\n};*/\r\n\r\nICompElement.prototype.prepareFrame = function(num){\r\n    this._mdf = false;\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n    if(!this.isInRange && !this.data.xt){\r\n        return;\r\n    }\r\n\r\n    if (!this.tm._placeholder) {\r\n        var timeRemapped = this.tm.v;\r\n        if(timeRemapped === this.data.op){\r\n            timeRemapped = this.data.op - 1;\r\n        }\r\n        this.renderedFrame = timeRemapped;\r\n    } else {\r\n        this.renderedFrame = num/this.data.sr;\r\n    }\r\n    var i,len = this.elements.length;\r\n    if(!this.completeLayers){\r\n        this.checkLayers(this.renderedFrame);\r\n    }\r\n    //This iteration needs to be backwards because of how expressions connect between each other\r\n    for( i = len - 1; i >= 0; i -= 1 ){\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\r\n            if(this.elements[i]._mdf) {\r\n                this._mdf = true;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nICompElement.prototype.renderInnerContent = function() {\r\n    var i,len = this.layers.length;\r\n    for( i = 0; i < len; i += 1 ){\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].renderFrame();\r\n        }\r\n    }\r\n};\r\n\r\nICompElement.prototype.setElements = function(elems){\r\n    this.elements = elems;\r\n};\r\n\r\nICompElement.prototype.getElements = function(){\r\n    return this.elements;\r\n};\r\n\r\nICompElement.prototype.destroyElements = function(){\r\n    var i,len = this.layers.length;\r\n    for( i = 0; i < len; i+=1 ){\r\n        if(this.elements[i]){\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n};\r\n\r\nICompElement.prototype.destroy = function(){\r\n    this.destroyElements();\r\n    this.destroyBaseElement();\r\n};\r\n\r\nfunction IImageElement(data,globalData,comp){\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.initElement(data,globalData,comp);\r\n    this.sourceRect = {top:0,left:0,width:this.assetData.w,height:this.assetData.h};\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement], IImageElement);\r\n\r\nIImageElement.prototype.createContent = function(){\r\n\r\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n\r\n    this.innerElem = createNS('image');\r\n    this.innerElem.setAttribute('width',this.assetData.w+\"px\");\r\n    this.innerElem.setAttribute('height',this.assetData.h+\"px\");\r\n    this.innerElem.setAttribute('preserveAspectRatio',this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\r\n    this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink','href',assetPath);\r\n    \r\n    this.layerElement.appendChild(this.innerElem);\r\n};\r\n\r\nIImageElement.prototype.sourceRectAtTime = function() {\r\n\treturn this.sourceRect;\r\n}\r\nfunction ISolidElement(data,globalData,comp){\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([IImageElement], ISolidElement);\r\n\r\nISolidElement.prototype.createContent = function(){\r\n\r\n    var rect = createNS('rect');\r\n    ////rect.style.width = this.data.sw;\r\n    ////rect.style.height = this.data.sh;\r\n    ////rect.style.fill = this.data.sc;\r\n    rect.setAttribute('width',this.data.sw);\r\n    rect.setAttribute('height',this.data.sh);\r\n    rect.setAttribute('fill',this.data.sc);\r\n    this.layerElement.appendChild(rect);\r\n};\r\nfunction SVGCompElement(data,globalData,comp){\r\n    this.layers = data.layers;\r\n    this.supports3d = true;\r\n    this.completeLayers = false;\r\n    this.pendingElements = [];\r\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n    //this.layerElement = createNS('g');\r\n    this.initElement(data,globalData,comp);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this,data.tm,0,globalData.frameRate,this) : {_placeholder:true};\r\n}\r\n\r\nextendPrototype([SVGRenderer, ICompElement, SVGBaseElement], SVGCompElement);\r\nfunction SVGTextElement(data,globalData,comp){\r\n    this.textSpans = [];\r\n    this.renderType = 'svg';\r\n    this.initElement(data,globalData,comp);\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement], SVGTextElement);\r\n\r\nSVGTextElement.prototype.createContent = function(){\r\n\r\n    if (this.data.singleShape && !this.globalData.fontManager.chars) {\r\n        this.textContainer = createNS('text');\r\n    }\r\n};\r\n\r\nSVGTextElement.prototype.buildTextContents = function(textArray) {\r\n    var i = 0, len = textArray.length;\r\n    var textContents = [], currentTextContent = '';\r\n    while (i < len) {\r\n        if(textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\r\n            textContents.push(currentTextContent);\r\n            currentTextContent = '';\r\n        } else {\r\n            currentTextContent += textArray[i];\r\n        }\r\n        i += 1;\r\n    }\r\n    textContents.push(currentTextContent);\r\n    return textContents;\r\n}\r\n\r\nSVGTextElement.prototype.buildNewText = function(){\r\n    var i, len;\r\n\r\n    var documentData = this.textProperty.currentData;\r\n    this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\r\n    if(documentData.fc) {\r\n        this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\r\n    }else{\r\n        this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\r\n    }\r\n    if(documentData.sc){\r\n        this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\r\n        this.layerElement.setAttribute('stroke-width', documentData.sw);\r\n    }\r\n    this.layerElement.setAttribute('font-size', documentData.finalSize);\r\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n    if(fontData.fClass){\r\n        this.layerElement.setAttribute('class',fontData.fClass);\r\n    } else {\r\n        this.layerElement.setAttribute('font-family', fontData.fFamily);\r\n        var fWeight = documentData.fWeight, fStyle = documentData.fStyle;\r\n        this.layerElement.setAttribute('font-style', fStyle);\r\n        this.layerElement.setAttribute('font-weight', fWeight);\r\n    }\r\n    this.layerElement.setAttribute('aria-label', documentData.t);\r\n\r\n    var letters = documentData.l || [];\r\n    var usesGlyphs = !!this.globalData.fontManager.chars;\r\n    len = letters.length;\r\n\r\n    var tSpan;\r\n    var matrixHelper = this.mHelper;\r\n    var shapes, shapeStr = '', singleShape = this.data.singleShape;\r\n    var xPos = 0, yPos = 0, firstLine = true;\r\n    var trackingOffset = documentData.tr/1000*documentData.finalSize;\r\n    if(singleShape && !usesGlyphs && !documentData.sz) {\r\n        var tElement = this.textContainer;\r\n        var justify = 'start';\r\n        switch(documentData.j) {\r\n            case 1:\r\n                justify = 'end';\r\n                break;\r\n            case 2:\r\n                justify = 'middle';\r\n                break;\r\n        }\r\n        tElement.setAttribute('text-anchor',justify);\r\n        tElement.setAttribute('letter-spacing',trackingOffset);\r\n        var textContent = this.buildTextContents(documentData.finalText);\r\n        len = textContent.length;\r\n        yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\r\n        for ( i = 0; i < len; i += 1) {\r\n            tSpan = this.textSpans[i] || createNS('tspan');\r\n            tSpan.textContent = textContent[i];\r\n            tSpan.setAttribute('x', 0);\r\n            tSpan.setAttribute('y', yPos);\r\n            tSpan.style.display = 'inherit';\r\n            tElement.appendChild(tSpan);\r\n            this.textSpans[i] = tSpan;\r\n            yPos += documentData.finalLineHeight;\r\n        }\r\n        \r\n        this.layerElement.appendChild(tElement);\r\n    } else {\r\n        var cachedSpansLength = this.textSpans.length;\r\n        var shapeData, charData;\r\n        for (i = 0; i < len; i += 1) {\r\n            if(!usesGlyphs || !singleShape || i === 0){\r\n                tSpan = cachedSpansLength > i ? this.textSpans[i] : createNS(usesGlyphs?'path':'text');\r\n                if (cachedSpansLength <= i) {\r\n                    tSpan.setAttribute('stroke-linecap', 'butt');\r\n                    tSpan.setAttribute('stroke-linejoin','round');\r\n                    tSpan.setAttribute('stroke-miterlimit','4');\r\n                    this.textSpans[i] = tSpan;\r\n                    this.layerElement.appendChild(tSpan);\r\n                }\r\n                tSpan.style.display = 'inherit';\r\n            }\r\n            \r\n            matrixHelper.reset();\r\n            matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n            if (singleShape) {\r\n                if(letters[i].n) {\r\n                    xPos = -trackingOffset;\r\n                    yPos += documentData.yOffset;\r\n                    yPos += firstLine ? 1 : 0;\r\n                    firstLine = false;\r\n                }\r\n                this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n                xPos += letters[i].l || 0;\r\n                //xPos += letters[i].val === ' ' ? 0 : trackingOffset;\r\n                xPos += trackingOffset;\r\n            }\r\n            if(usesGlyphs) {\r\n                charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n                shapeData = charData && charData.data || {};\r\n                shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n                if(!singleShape){\r\n                    tSpan.setAttribute('d',this.createPathShape(matrixHelper,shapes));\r\n                } else {\r\n                    shapeStr += this.createPathShape(matrixHelper,shapes);\r\n                }\r\n            } else {\r\n                if(singleShape) {\r\n                    tSpan.setAttribute(\"transform\", \"translate(\" + matrixHelper.props[12] + \",\" + matrixHelper.props[13] + \")\");\r\n                }\r\n                tSpan.textContent = letters[i].val;\r\n                tSpan.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\", \"xml:space\",\"preserve\");\r\n            }\r\n            //\r\n        }\r\n        if (singleShape && tSpan) {\r\n            tSpan.setAttribute('d',shapeStr);\r\n        }\r\n    }\r\n    while (i < this.textSpans.length){\r\n        this.textSpans[i].style.display = 'none';\r\n        i += 1;\r\n    }\r\n    \r\n    this._sizeChanged = true;\r\n};\r\n\r\nSVGTextElement.prototype.sourceRectAtTime = function(time){\r\n    this.prepareFrame(this.comp.renderedFrame - this.data.st);\r\n    this.renderInnerContent();\r\n    if(this._sizeChanged){\r\n        this._sizeChanged = false;\r\n        var textBox = this.layerElement.getBBox();\r\n        this.bbox = {\r\n            top: textBox.y,\r\n            left: textBox.x,\r\n            width: textBox.width,\r\n            height: textBox.height\r\n        };\r\n    }\r\n    return this.bbox;\r\n};\r\n\r\nSVGTextElement.prototype.renderInnerContent = function(){\r\n\r\n    if(!this.data.singleShape){\r\n        this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n        if(this.lettersChangedFlag || this.textAnimator.lettersChangedFlag){\r\n            this._sizeChanged = true;\r\n            var  i,len;\r\n            var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n            var letters = this.textProperty.currentData.l;\r\n\r\n            len = letters.length;\r\n            var renderedLetter, textSpan;\r\n            for(i=0;i<len;i+=1){\r\n                if(letters[i].n){\r\n                    continue;\r\n                }\r\n                renderedLetter = renderedLetters[i];\r\n                textSpan = this.textSpans[i];\r\n                if(renderedLetter._mdf.m) {\r\n                    textSpan.setAttribute('transform',renderedLetter.m);\r\n                }\r\n                if(renderedLetter._mdf.o) {\r\n                    textSpan.setAttribute('opacity',renderedLetter.o);\r\n                }\r\n                if(renderedLetter._mdf.sw){\r\n                    textSpan.setAttribute('stroke-width',renderedLetter.sw);\r\n                }\r\n                if(renderedLetter._mdf.sc){\r\n                    textSpan.setAttribute('stroke',renderedLetter.sc);\r\n                }\r\n                if(renderedLetter._mdf.fc){\r\n                    textSpan.setAttribute('fill',renderedLetter.fc);\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nfunction SVGShapeElement(data,globalData,comp){\r\n    //List of drawable elements\r\n    this.shapes = [];\r\n    // Full shape data\r\n    this.shapesData = data.shapes;\r\n    //List of styles that will be applied to shapes\r\n    this.stylesList = [];\r\n    //List of modifiers that will be applied to shapes\r\n    this.shapeModifiers = [];\r\n    //List of items in shape tree\r\n    this.itemsData = [];\r\n    //List of items in previous shape tree\r\n    this.processedElements = [];\r\n    // List of animated components\r\n    this.animatedContents = [];\r\n    this.initElement(data,globalData,comp);\r\n    //Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n    // List of elements that have been created\r\n    this.prevViewData = [];\r\n    //Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement], SVGShapeElement);\r\n\r\nSVGShapeElement.prototype.initSecondaryElement = function() {\r\n};\r\n\r\nSVGShapeElement.prototype.identityMatrix = new Matrix();\r\n\r\nSVGShapeElement.prototype.buildExpressionInterface = function(){};\r\n\r\nSVGShapeElement.prototype.createContent = function(){\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement, 0, [], true);\r\n    this.filterUniqueShapes();\r\n};\r\n\r\n/*\r\nThis method searches for multiple shapes that affect a single element and one of them is animated\r\n*/\r\nSVGShapeElement.prototype.filterUniqueShapes = function(){\r\n    var i, len = this.shapes.length, shape;\r\n    var j, jLen = this.stylesList.length;\r\n    var style, count = 0;\r\n    var tempShapes = [];\r\n    var areAnimated = false;\r\n    for(j = 0; j < jLen; j += 1) {\r\n        style = this.stylesList[j];\r\n        areAnimated = false;\r\n        tempShapes.length = 0;\r\n        for(i = 0; i < len; i += 1) {\r\n            shape = this.shapes[i];\r\n            if(shape.styles.indexOf(style) !== -1) {\r\n                tempShapes.push(shape);\r\n                areAnimated = shape._isAnimated || areAnimated;\r\n            }\r\n        }\r\n        if(tempShapes.length > 1 && areAnimated) {\r\n            this.setShapesAsAnimated(tempShapes);\r\n        }\r\n    }\r\n}\r\n\r\nSVGShapeElement.prototype.setShapesAsAnimated = function(shapes){\r\n    var i, len = shapes.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        shapes[i].setAsAnimated();\r\n    }\r\n}\r\n\r\nSVGShapeElement.prototype.createStyleElement = function(data, level){\r\n    //TODO: prevent drawing of hidden styles\r\n    var elementData;\r\n    var styleOb = new SVGStyleData(data, level);\r\n\r\n    var pathElement = styleOb.pElem;\r\n    if(data.ty === 'st') {\r\n        elementData = new SVGStrokeStyleData(this, data, styleOb);\r\n    } else if(data.ty === 'fl') {\r\n        elementData = new SVGFillStyleData(this, data, styleOb);\r\n    } else if(data.ty === 'gf' || data.ty === 'gs') {\r\n        var gradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\r\n        elementData = new gradientConstructor(this, data, styleOb);\r\n        this.globalData.defs.appendChild(elementData.gf);\r\n        if (elementData.maskId) {\r\n            this.globalData.defs.appendChild(elementData.ms);\r\n            this.globalData.defs.appendChild(elementData.of);\r\n            pathElement.setAttribute('mask','url(' + locationHref + '#' + elementData.maskId + ')');\r\n        }\r\n    }\r\n    \r\n    if(data.ty === 'st' || data.ty === 'gs') {\r\n        pathElement.setAttribute('stroke-linecap', this.lcEnum[data.lc] || 'round');\r\n        pathElement.setAttribute('stroke-linejoin',this.ljEnum[data.lj] || 'round');\r\n        pathElement.setAttribute('fill-opacity','0');\r\n        if(data.lj === 1) {\r\n            pathElement.setAttribute('stroke-miterlimit',data.ml);\r\n        }\r\n    }\r\n\r\n    if(data.r === 2) {\r\n        pathElement.setAttribute('fill-rule', 'evenodd');\r\n    }\r\n\r\n    if(data.ln){\r\n        pathElement.setAttribute('id',data.ln);\r\n    }\r\n    if(data.cl){\r\n        pathElement.setAttribute('class',data.cl);\r\n    }\r\n    if(data.bm){\r\n        pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n    }\r\n    this.stylesList.push(styleOb);\r\n    this.addToAnimatedContents(data, elementData);\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createGroupElement = function(data) {\r\n    var elementData = new ShapeGroupData();\r\n    if(data.ln){\r\n        elementData.gr.setAttribute('id',data.ln);\r\n    }\r\n    if(data.cl){\r\n        elementData.gr.setAttribute('class',data.cl);\r\n    }\r\n    if(data.bm){\r\n        elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n    }\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createTransformElement = function(data, container) {\r\n    var transformProperty = TransformPropertyFactory.getTransformProperty(this,data,this);\r\n    var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\r\n    this.addToAnimatedContents(data, elementData);\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createShapeElement = function(data, ownTransformers, level) {\r\n    var ty = 4;\r\n    if(data.ty === 'rc'){\r\n        ty = 5;\r\n    }else if(data.ty === 'el'){\r\n        ty = 6;\r\n    }else if(data.ty === 'sr'){\r\n        ty = 7;\r\n    }\r\n    var shapeProperty = ShapePropertyFactory.getShapeProp(this,data,ty,this);\r\n    var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\r\n    this.shapes.push(elementData);\r\n    this.addShapeToModifiers(elementData);\r\n    this.addToAnimatedContents(data, elementData);\r\n    return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.addToAnimatedContents = function(data, element) {\r\n    var i = 0, len = this.animatedContents.length;\r\n    while(i < len) {\r\n        if(this.animatedContents[i].element === element) {\r\n            return;\r\n        }\r\n        i += 1;\r\n    }\r\n    this.animatedContents.push({\r\n        fn: SVGElementsRenderer.createRenderFunction(data),\r\n        element: element,\r\n        data: data\r\n    });\r\n};\r\n\r\nSVGShapeElement.prototype.setElementStyles = function(elementData){\r\n    var arr = elementData.styles;\r\n    var j, jLen = this.stylesList.length;\r\n    for (j = 0; j < jLen; j += 1) {\r\n        if (!this.stylesList[j].closed) {\r\n            arr.push(this.stylesList[j]);\r\n        }\r\n    }\r\n};\r\n\r\nSVGShapeElement.prototype.reloadShapes = function(){\r\n    this._isFirstFrame = true;\r\n    var i, len = this.itemsData.length;\r\n    for( i = 0; i < len; i += 1) {\r\n        this.prevViewData[i] = this.itemsData[i];\r\n    }\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement, 0, [], true);\r\n    this.filterUniqueShapes();\r\n    len = this.dynamicProperties.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        this.dynamicProperties[i].getValue();\r\n    }\r\n    this.renderModifiers();\r\n};\r\n\r\nSVGShapeElement.prototype.searchShapes = function(arr,itemsData,prevViewData,container, level, transformers, render){\r\n    var ownTransformers = [].concat(transformers);\r\n    var i, len = arr.length - 1;\r\n    var j, jLen;\r\n    var ownStyles = [], ownModifiers = [], styleOb, currentTransform, modifier, processedPos;\r\n    for(i=len;i>=0;i-=1){\r\n        processedPos = this.searchProcessedElement(arr[i]);\r\n        if(!processedPos){\r\n            arr[i]._render = render;\r\n        } else {\r\n            itemsData[i] = prevViewData[processedPos - 1];\r\n        }\r\n        if(arr[i].ty == 'fl' || arr[i].ty == 'st' || arr[i].ty == 'gf' || arr[i].ty == 'gs'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createStyleElement(arr[i], level);\r\n            } else {\r\n                itemsData[i].style.closed = false;\r\n            }\r\n            if(arr[i]._render){\r\n                container.appendChild(itemsData[i].style.pElem);\r\n            }\r\n            ownStyles.push(itemsData[i].style);\r\n        }else if(arr[i].ty == 'gr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createGroupElement(arr[i]);\r\n            } else {\r\n                jLen = itemsData[i].it.length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n                }\r\n            }\r\n            this.searchShapes(arr[i].it,itemsData[i].it,itemsData[i].prevViewData,itemsData[i].gr, level + 1, ownTransformers, render);\r\n            if(arr[i]._render){\r\n                container.appendChild(itemsData[i].gr);\r\n            }\r\n        }else if(arr[i].ty == 'tr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createTransformElement(arr[i], container);\r\n            }\r\n            currentTransform = itemsData[i].transform;\r\n            ownTransformers.push(currentTransform);\r\n        }else if(arr[i].ty == 'sh' || arr[i].ty == 'rc' || arr[i].ty == 'el' || arr[i].ty == 'sr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\r\n            }\r\n            this.setElementStyles(itemsData[i]);\r\n\r\n        }else if(arr[i].ty == 'tm' || arr[i].ty == 'rd' || arr[i].ty == 'ms'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                modifier.init(this,arr[i]);\r\n                itemsData[i] = modifier;\r\n                this.shapeModifiers.push(modifier);\r\n            } else {\r\n                modifier = itemsData[i];\r\n                modifier.closed = false;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        }else if(arr[i].ty == 'rp'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                itemsData[i] = modifier;\r\n                modifier.init(this,arr,i,itemsData);\r\n                this.shapeModifiers.push(modifier);\r\n                render = false;\r\n            }else{\r\n                modifier = itemsData[i];\r\n                modifier.closed = true;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        }\r\n        this.addProcessedElement(arr[i], i + 1);\r\n    }\r\n    len = ownStyles.length;\r\n    for(i=0;i<len;i+=1){\r\n        ownStyles[i].closed = true;\r\n    }\r\n    len = ownModifiers.length;\r\n    for(i=0;i<len;i+=1){\r\n        ownModifiers[i].closed = true;\r\n    }\r\n};\r\n\r\nSVGShapeElement.prototype.renderInnerContent = function() {\r\n    this.renderModifiers();\r\n    var i, len = this.stylesList.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.stylesList[i].reset();\r\n    }\r\n    this.renderShape();\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n        if (this.stylesList[i]._mdf || this._isFirstFrame) {\r\n            if(this.stylesList[i].msElem){\r\n                this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d);\r\n                //Adding M0 0 fixes same mask bug on all browsers\r\n                this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\r\n            }\r\n            this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\r\n        }\r\n    }\r\n};\r\n\r\nSVGShapeElement.prototype.renderShape = function() {\r\n    var i, len = this.animatedContents.length;\r\n    var animatedContent;\r\n    for(i = 0; i < len; i += 1) {\r\n        animatedContent = this.animatedContents[i];\r\n        if((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\r\n            animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\r\n        }\r\n    }\r\n}\r\n\r\nSVGShapeElement.prototype.destroy = function(){\r\n    this.destroyBaseElement();\r\n    this.shapesData = null;\r\n    this.itemsData = null;\r\n};\r\n\r\nfunction SVGTintFilter(filter, filterManager){\r\n    this.filterManager = filterManager;\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type','matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters','linearRGB');\r\n    feColorMatrix.setAttribute('values','0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n    feColorMatrix.setAttribute('result','f1');\r\n    filter.appendChild(feColorMatrix);\r\n    feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type','matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters','sRGB');\r\n    feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n    feColorMatrix.setAttribute('result','f2');\r\n    filter.appendChild(feColorMatrix);\r\n    this.matrixFilter = feColorMatrix;\r\n    if(filterManager.effectElements[2].p.v !== 100 || filterManager.effectElements[2].p.k){\r\n        var feMerge = createNS('feMerge');\r\n        filter.appendChild(feMerge);\r\n        var feMergeNode;\r\n        feMergeNode = createNS('feMergeNode');\r\n        feMergeNode.setAttribute('in','SourceGraphic');\r\n        feMerge.appendChild(feMergeNode);\r\n        feMergeNode = createNS('feMergeNode');\r\n        feMergeNode.setAttribute('in','f2');\r\n        feMerge.appendChild(feMergeNode);\r\n    }\r\n}\r\n\r\nSVGTintFilter.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        var colorBlack = this.filterManager.effectElements[0].p.v;\r\n        var colorWhite = this.filterManager.effectElements[1].p.v;\r\n        var opacity = this.filterManager.effectElements[2].p.v/100;\r\n        this.matrixFilter.setAttribute('values',(colorWhite[0]- colorBlack[0])+' 0 0 0 '+ colorBlack[0] +' '+ (colorWhite[1]- colorBlack[1]) +' 0 0 0 '+ colorBlack[1] +' '+ (colorWhite[2]- colorBlack[2]) +' 0 0 0 '+ colorBlack[2] +' 0 0 0 ' + opacity + ' 0');\r\n    }\r\n};\r\nfunction SVGFillFilter(filter, filterManager){\r\n    this.filterManager = filterManager;\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type','matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters','sRGB');\r\n    feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n    filter.appendChild(feColorMatrix);\r\n    this.matrixFilter = feColorMatrix;\r\n}\r\nSVGFillFilter.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        var color = this.filterManager.effectElements[2].p.v;\r\n        var opacity = this.filterManager.effectElements[6].p.v;\r\n        this.matrixFilter.setAttribute('values','0 0 0 0 '+color[0]+' 0 0 0 0 '+color[1]+' 0 0 0 0 '+color[2]+' 0 0 0 '+opacity+' 0');\r\n    }\r\n};\r\nfunction SVGGaussianBlurEffect(filter, filterManager){\r\n    // Outset the filter region by 100% on all sides to accommodate blur expansion.\r\n    filter.setAttribute('x','-100%');\r\n    filter.setAttribute('y','-100%');\r\n    filter.setAttribute('width','300%');\r\n    filter.setAttribute('height','300%');\r\n\r\n    this.filterManager = filterManager;\r\n    var feGaussianBlur = createNS('feGaussianBlur');\r\n    filter.appendChild(feGaussianBlur);\r\n    this.feGaussianBlur = feGaussianBlur;\r\n}\r\n\r\nSVGGaussianBlurEffect.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        // Empirical value, matching AE's blur appearance.\r\n        var kBlurrinessToSigma = 0.3;\r\n        var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma;\r\n\r\n        // Dimensions mapping:\r\n        //\r\n        //   1 -> horizontal & vertical\r\n        //   2 -> horizontal only\r\n        //   3 -> vertical only\r\n        //\r\n        var dimensions = this.filterManager.effectElements[1].p.v;\r\n        var sigmaX = (dimensions == 3) ? 0 : sigma;\r\n        var sigmaY = (dimensions == 2) ? 0 : sigma;\r\n\r\n        this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + \" \" + sigmaY);\r\n\r\n        // Repeat edges mapping:\r\n        //\r\n        //   0 -> off -> duplicate\r\n        //   1 -> on  -> wrap\r\n        var edgeMode = (this.filterManager.effectElements[2].p.v == 1) ? 'wrap' : 'duplicate';\r\n        this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\r\n    }\r\n}\r\nfunction SVGStrokeEffect(elem, filterManager){\r\n    this.initialized = false;\r\n    this.filterManager = filterManager;\r\n    this.elem = elem;\r\n    this.paths = [];\r\n}\r\n\r\nSVGStrokeEffect.prototype.initialize = function(){\r\n\r\n    var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n    var path,groupPath, i, len;\r\n    if(this.filterManager.effectElements[1].p.v === 1){\r\n        len = this.elem.maskManager.masksProperties.length;\r\n        i = 0;\r\n    } else {\r\n        i = this.filterManager.effectElements[0].p.v - 1;\r\n        len = i + 1;\r\n    }\r\n    groupPath = createNS('g'); \r\n    groupPath.setAttribute('fill','none');\r\n    groupPath.setAttribute('stroke-linecap','round');\r\n    groupPath.setAttribute('stroke-dashoffset',1);\r\n    for(i;i<len;i+=1){\r\n        path = createNS('path');\r\n        groupPath.appendChild(path);\r\n        this.paths.push({p:path,m:i});\r\n    }\r\n    if(this.filterManager.effectElements[10].p.v === 3){\r\n        var mask = createNS('mask');\r\n        var id = createElementID();\r\n        mask.setAttribute('id',id);\r\n        mask.setAttribute('mask-type','alpha');\r\n        mask.appendChild(groupPath);\r\n        this.elem.globalData.defs.appendChild(mask);\r\n        var g = createNS('g');\r\n        g.setAttribute('mask','url(' + locationHref + '#'+id+')');\r\n        while (elemChildren[0]) {\r\n            g.appendChild(elemChildren[0]);\r\n        }\r\n        this.elem.layerElement.appendChild(g);\r\n        this.masker = mask;\r\n        groupPath.setAttribute('stroke','#fff');\r\n    } else if(this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2){\r\n        if(this.filterManager.effectElements[10].p.v === 2){\r\n            elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n            while(elemChildren.length){\r\n                this.elem.layerElement.removeChild(elemChildren[0]);\r\n            }\r\n        }\r\n        this.elem.layerElement.appendChild(groupPath);\r\n        this.elem.layerElement.removeAttribute('mask');\r\n        groupPath.setAttribute('stroke','#fff');\r\n    }\r\n    this.initialized = true;\r\n    this.pathMasker = groupPath;\r\n};\r\n\r\nSVGStrokeEffect.prototype.renderFrame = function(forceRender){\r\n    if(!this.initialized){\r\n        this.initialize();\r\n    }\r\n    var i, len = this.paths.length;\r\n    var mask, path;\r\n    for(i=0;i<len;i+=1){\r\n        if(this.paths[i].m === -1) {\r\n            continue;\r\n        }\r\n        mask = this.elem.maskManager.viewData[this.paths[i].m];\r\n        path = this.paths[i].p;\r\n        if(forceRender || this.filterManager._mdf || mask.prop._mdf){\r\n            path.setAttribute('d',mask.lastPath);\r\n        }\r\n        if(forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf){\r\n            var dasharrayValue;\r\n            if(this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100){\r\n                var s = Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100;\r\n                var e = Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100;\r\n                var l = path.getTotalLength();\r\n                dasharrayValue = '0 0 0 ' + l*s + ' ';\r\n                var lineLength = l*(e-s);\r\n                var segment = 1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v/100;\r\n                var units = Math.floor(lineLength/segment);\r\n                var j;\r\n                for(j=0;j<units;j+=1){\r\n                    dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v/100 + ' ';\r\n                }\r\n                dasharrayValue += '0 ' + l*10 + ' 0 0';\r\n            } else {\r\n                dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v/100;\r\n            }\r\n            path.setAttribute('stroke-dasharray',dasharrayValue);\r\n        }\r\n    }\r\n    if(forceRender || this.filterManager.effectElements[4].p._mdf){\r\n        this.pathMasker.setAttribute('stroke-width',this.filterManager.effectElements[4].p.v*2);\r\n    }\r\n    \r\n    if(forceRender || this.filterManager.effectElements[6].p._mdf){\r\n        this.pathMasker.setAttribute('opacity',this.filterManager.effectElements[6].p.v);\r\n    }\r\n    if(this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2){\r\n        if(forceRender || this.filterManager.effectElements[3].p._mdf){\r\n            var color = this.filterManager.effectElements[3].p.v;\r\n            this.pathMasker.setAttribute('stroke','rgb('+bm_floor(color[0]*255)+','+bm_floor(color[1]*255)+','+bm_floor(color[2]*255)+')');\r\n        }\r\n    }\r\n};\r\nfunction SVGTritoneFilter(filter, filterManager){\r\n    this.filterManager = filterManager;\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type','matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters','linearRGB');\r\n    feColorMatrix.setAttribute('values','0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n    feColorMatrix.setAttribute('result','f1');\r\n    filter.appendChild(feColorMatrix);\r\n    var feComponentTransfer = createNS('feComponentTransfer');\r\n    feComponentTransfer.setAttribute('color-interpolation-filters','sRGB');\r\n    filter.appendChild(feComponentTransfer);\r\n    this.matrixFilter = feComponentTransfer;\r\n    var feFuncR = createNS('feFuncR');\r\n    feFuncR.setAttribute('type','table');\r\n    feComponentTransfer.appendChild(feFuncR);\r\n    this.feFuncR = feFuncR;\r\n    var feFuncG = createNS('feFuncG');\r\n    feFuncG.setAttribute('type','table');\r\n    feComponentTransfer.appendChild(feFuncG);\r\n    this.feFuncG = feFuncG;\r\n    var feFuncB = createNS('feFuncB');\r\n    feFuncB.setAttribute('type','table');\r\n    feComponentTransfer.appendChild(feFuncB);\r\n    this.feFuncB = feFuncB;\r\n}\r\n\r\nSVGTritoneFilter.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        var color1 = this.filterManager.effectElements[0].p.v;\r\n        var color2 = this.filterManager.effectElements[1].p.v;\r\n        var color3 = this.filterManager.effectElements[2].p.v;\r\n        var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\r\n        var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\r\n        var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\r\n        this.feFuncR.setAttribute('tableValues', tableR);\r\n        this.feFuncG.setAttribute('tableValues', tableG);\r\n        this.feFuncB.setAttribute('tableValues', tableB);\r\n        //var opacity = this.filterManager.effectElements[2].p.v/100;\r\n        //this.matrixFilter.setAttribute('values',(colorWhite[0]- colorBlack[0])+' 0 0 0 '+ colorBlack[0] +' '+ (colorWhite[1]- colorBlack[1]) +' 0 0 0 '+ colorBlack[1] +' '+ (colorWhite[2]- colorBlack[2]) +' 0 0 0 '+ colorBlack[2] +' 0 0 0 ' + opacity + ' 0');\r\n    }\r\n};\r\nfunction SVGProLevelsFilter(filter, filterManager){\r\n    this.filterManager = filterManager;\r\n    var effectElements = this.filterManager.effectElements;\r\n    var feComponentTransfer = createNS('feComponentTransfer');\r\n    var feFuncR, feFuncG, feFuncB;\r\n    \r\n    if(effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1){\r\n        this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\r\n    }\r\n    if(effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1){\r\n        this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\r\n    }\r\n    if(effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1){\r\n        this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\r\n    }\r\n    if(effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1){\r\n        this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\r\n    }\r\n    \r\n    if(this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA){\r\n        feComponentTransfer.setAttribute('color-interpolation-filters','sRGB');\r\n        filter.appendChild(feComponentTransfer);\r\n        feComponentTransfer = createNS('feComponentTransfer');\r\n    }\r\n\r\n    if(effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1){\r\n\r\n        feComponentTransfer.setAttribute('color-interpolation-filters','sRGB');\r\n        filter.appendChild(feComponentTransfer);\r\n        this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\r\n        this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\r\n        this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\r\n    }\r\n}\r\n\r\nSVGProLevelsFilter.prototype.createFeFunc = function(type, feComponentTransfer) {\r\n    var feFunc = createNS(type);\r\n    feFunc.setAttribute('type','table');\r\n    feComponentTransfer.appendChild(feFunc);\r\n    return feFunc;\r\n};\r\n\r\nSVGProLevelsFilter.prototype.getTableValue = function(inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\r\n    var cnt = 0;\r\n    var segments = 256;\r\n    var perc;\r\n    var min = Math.min(inputBlack, inputWhite);\r\n    var max = Math.max(inputBlack, inputWhite);\r\n    var table = Array.call(null,{length:segments});\r\n    var colorValue;\r\n    var pos = 0;\r\n    var outputDelta = outputWhite - outputBlack; \r\n    var inputDelta = inputWhite - inputBlack; \r\n    while(cnt <= 256) {\r\n        perc = cnt/256;\r\n        if(perc <= min){\r\n            colorValue = inputDelta < 0 ? outputWhite : outputBlack;\r\n        } else if(perc >= max){\r\n            colorValue = inputDelta < 0 ? outputBlack : outputWhite;\r\n        } else {\r\n            colorValue = (outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma));\r\n        }\r\n        table[pos++] = colorValue;\r\n        cnt += 256/(segments-1);\r\n    }\r\n    return table.join(' ');\r\n};\r\n\r\nSVGProLevelsFilter.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        var val, cnt, perc, bezier;\r\n        var effectElements = this.filterManager.effectElements;\r\n        if(this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)){\r\n            val = this.getTableValue(effectElements[3].p.v,effectElements[4].p.v,effectElements[5].p.v,effectElements[6].p.v,effectElements[7].p.v);\r\n            this.feFuncRComposed.setAttribute('tableValues',val);\r\n            this.feFuncGComposed.setAttribute('tableValues',val);\r\n            this.feFuncBComposed.setAttribute('tableValues',val);\r\n        }\r\n\r\n\r\n        if(this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)){\r\n            val = this.getTableValue(effectElements[10].p.v,effectElements[11].p.v,effectElements[12].p.v,effectElements[13].p.v,effectElements[14].p.v);\r\n            this.feFuncR.setAttribute('tableValues',val);\r\n        }\r\n\r\n        if(this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)){\r\n            val = this.getTableValue(effectElements[17].p.v,effectElements[18].p.v,effectElements[19].p.v,effectElements[20].p.v,effectElements[21].p.v);\r\n            this.feFuncG.setAttribute('tableValues',val);\r\n        }\r\n\r\n        if(this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)){\r\n            val = this.getTableValue(effectElements[24].p.v,effectElements[25].p.v,effectElements[26].p.v,effectElements[27].p.v,effectElements[28].p.v);\r\n            this.feFuncB.setAttribute('tableValues',val);\r\n        }\r\n\r\n        if(this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)){\r\n            val = this.getTableValue(effectElements[31].p.v,effectElements[32].p.v,effectElements[33].p.v,effectElements[34].p.v,effectElements[35].p.v);\r\n            this.feFuncA.setAttribute('tableValues',val);\r\n        }\r\n        \r\n    }\r\n};\r\nfunction SVGDropShadowEffect(filter, filterManager) {\r\n    var filterSize = filterManager.container.globalData.renderConfig.filterSize\r\n    filter.setAttribute('x', filterSize.x);\r\n    filter.setAttribute('y', filterSize.y);\r\n    filter.setAttribute('width', filterSize.width);\r\n    filter.setAttribute('height', filterSize.height);\r\n    this.filterManager = filterManager;\r\n\r\n    var feGaussianBlur = createNS('feGaussianBlur');\r\n    feGaussianBlur.setAttribute('in','SourceAlpha');\r\n    feGaussianBlur.setAttribute('result','drop_shadow_1');\r\n    feGaussianBlur.setAttribute('stdDeviation','0');\r\n    this.feGaussianBlur = feGaussianBlur;\r\n    filter.appendChild(feGaussianBlur);\r\n\r\n    var feOffset = createNS('feOffset');\r\n    feOffset.setAttribute('dx','25');\r\n    feOffset.setAttribute('dy','0');\r\n    feOffset.setAttribute('in','drop_shadow_1');\r\n    feOffset.setAttribute('result','drop_shadow_2');\r\n    this.feOffset = feOffset;\r\n    filter.appendChild(feOffset);\r\n    var feFlood = createNS('feFlood');\r\n    feFlood.setAttribute('flood-color','#00ff00');\r\n    feFlood.setAttribute('flood-opacity','1');\r\n    feFlood.setAttribute('result','drop_shadow_3');\r\n    this.feFlood = feFlood;\r\n    filter.appendChild(feFlood);\r\n\r\n    var feComposite = createNS('feComposite');\r\n    feComposite.setAttribute('in','drop_shadow_3');\r\n    feComposite.setAttribute('in2','drop_shadow_2');\r\n    feComposite.setAttribute('operator','in');\r\n    feComposite.setAttribute('result','drop_shadow_4');\r\n    filter.appendChild(feComposite);\r\n\r\n\r\n    var feMerge = createNS('feMerge');\r\n    filter.appendChild(feMerge);\r\n    var feMergeNode;\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMerge.appendChild(feMergeNode);\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMergeNode.setAttribute('in','SourceGraphic');\r\n    this.feMergeNode = feMergeNode;\r\n    this.feMerge = feMerge;\r\n    this.originalNodeAdded = false;\r\n    feMerge.appendChild(feMergeNode);\r\n}\r\n\r\nSVGDropShadowEffect.prototype.renderFrame = function(forceRender){\r\n    if(forceRender || this.filterManager._mdf){\r\n        if(forceRender || this.filterManager.effectElements[4].p._mdf){\r\n            this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\r\n        }\r\n        if(forceRender || this.filterManager.effectElements[0].p._mdf){\r\n            var col = this.filterManager.effectElements[0].p.v;\r\n            this.feFlood.setAttribute('flood-color',rgbToHex(Math.round(col[0]*255),Math.round(col[1]*255),Math.round(col[2]*255)));\r\n        }\r\n        if(forceRender || this.filterManager.effectElements[1].p._mdf){\r\n            this.feFlood.setAttribute('flood-opacity',this.filterManager.effectElements[1].p.v/255);\r\n        }\r\n        if(forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf){\r\n            var distance = this.filterManager.effectElements[3].p.v;\r\n            var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\r\n            var x = distance * Math.cos(angle);\r\n            var y = distance * Math.sin(angle);\r\n            this.feOffset.setAttribute('dx', x);\r\n            this.feOffset.setAttribute('dy', y);\r\n        }\r\n        /*if(forceRender || this.filterManager.effectElements[5].p._mdf){\r\n            if(this.filterManager.effectElements[5].p.v === 1 && this.originalNodeAdded) {\r\n                this.feMerge.removeChild(this.feMergeNode);\r\n                this.originalNodeAdded = false;\r\n            } else if(this.filterManager.effectElements[5].p.v === 0 && !this.originalNodeAdded) {\r\n                this.feMerge.appendChild(this.feMergeNode);\r\n                this.originalNodeAdded = true;\r\n            }\r\n        }*/\r\n    }\r\n};\r\nvar _svgMatteSymbols = [];\r\n\r\nfunction SVGMatte3Effect(filterElem, filterManager, elem){\r\n    this.initialized = false;\r\n    this.filterManager = filterManager;\r\n    this.filterElem = filterElem;\r\n    this.elem = elem;\r\n    elem.matteElement = createNS('g');\r\n    elem.matteElement.appendChild(elem.layerElement);\r\n    elem.matteElement.appendChild(elem.transformedElement);\r\n    elem.baseElement = elem.matteElement;\r\n}\r\n\r\nSVGMatte3Effect.prototype.findSymbol = function(mask) {\r\n    var i = 0, len = _svgMatteSymbols.length;\r\n    while(i < len) {\r\n        if(_svgMatteSymbols[i] === mask) {\r\n            return _svgMatteSymbols[i];\r\n        }\r\n        i += 1;\r\n    }\r\n    return null;\r\n};\r\n\r\nSVGMatte3Effect.prototype.replaceInParent = function(mask, symbolId) {\r\n    var parentNode = mask.layerElement.parentNode;\r\n    if(!parentNode) {\r\n        return;\r\n    }\r\n    var children = parentNode.children;\r\n    var i = 0, len = children.length;\r\n    while (i < len) {\r\n        if (children[i] === mask.layerElement) {\r\n            break;\r\n        }\r\n        i += 1;\r\n    }\r\n    var nextChild;\r\n    if (i <= len - 2) {\r\n        nextChild = children[i + 1];\r\n    }\r\n    var useElem = createNS('use');\r\n    useElem.setAttribute('href', '#' + symbolId);\r\n    if(nextChild) {\r\n        parentNode.insertBefore(useElem, nextChild);\r\n    } else {\r\n        parentNode.appendChild(useElem);\r\n    }\r\n};\r\n\r\nSVGMatte3Effect.prototype.setElementAsMask = function(elem, mask) {\r\n    if(!this.findSymbol(mask)) {\r\n        var symbolId = createElementID();\r\n        var masker = createNS('mask');\r\n        masker.setAttribute('id', mask.layerId);\r\n        masker.setAttribute('mask-type', 'alpha');\r\n        _svgMatteSymbols.push(mask);\r\n        var defs = elem.globalData.defs;\r\n        defs.appendChild(masker);\r\n        var symbol = createNS('symbol');\r\n        symbol.setAttribute('id', symbolId);\r\n        this.replaceInParent(mask, symbolId);\r\n        symbol.appendChild(mask.layerElement);\r\n        defs.appendChild(symbol);\r\n        var useElem = createNS('use');\r\n        useElem.setAttribute('href', '#' + symbolId);\r\n        masker.appendChild(useElem);\r\n        mask.data.hd = false;\r\n        mask.show();\r\n    }\r\n    elem.setMatte(mask.layerId);\r\n};\r\n\r\nSVGMatte3Effect.prototype.initialize = function() {\r\n    var ind = this.filterManager.effectElements[0].p.v;\r\n    var elements = this.elem.comp.elements;\r\n    var i = 0, len = elements.length;\r\n    while (i < len) {\r\n    \tif (elements[i] && elements[i].data.ind === ind) {\r\n    \t\tthis.setElementAsMask(this.elem, elements[i]);\r\n    \t}\r\n    \ti += 1;\r\n    }\r\n    this.initialized = true;\r\n};\r\n\r\nSVGMatte3Effect.prototype.renderFrame = function() {\r\n\tif(!this.initialized) {\r\n\t\tthis.initialize();\r\n\t}\r\n};\r\nfunction SVGEffects(elem){\r\n    var i, len = elem.data.ef ? elem.data.ef.length : 0;\r\n    var filId = createElementID();\r\n    var fil = filtersFactory.createFilter(filId);\r\n    var count = 0;\r\n    this.filters = [];\r\n    var filterManager;\r\n    for(i=0;i<len;i+=1){\r\n        filterManager = null;\r\n        if(elem.data.ef[i].ty === 20){\r\n            count += 1;\r\n            filterManager = new SVGTintFilter(fil, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 21){\r\n            count += 1;\r\n            filterManager = new SVGFillFilter(fil, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 22){\r\n            filterManager = new SVGStrokeEffect(elem, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 23){\r\n            count += 1;\r\n            filterManager = new SVGTritoneFilter(fil, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 24){\r\n            count += 1;\r\n            filterManager = new SVGProLevelsFilter(fil, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 25){\r\n            count += 1;\r\n            filterManager = new SVGDropShadowEffect(fil, elem.effectsManager.effectElements[i]);\r\n        }else if(elem.data.ef[i].ty === 28){\r\n            //count += 1;\r\n            filterManager = new SVGMatte3Effect(fil, elem.effectsManager.effectElements[i], elem);\r\n        }else if(elem.data.ef[i].ty === 29){\r\n            count += 1;\r\n            filterManager = new SVGGaussianBlurEffect(fil, elem.effectsManager.effectElements[i]);\r\n        }\r\n        if(filterManager) {\r\n            this.filters.push(filterManager);\r\n        }\r\n    }\r\n    if(count){\r\n        elem.globalData.defs.appendChild(fil);\r\n        elem.layerElement.setAttribute('filter','url(' + locationHref + '#'+filId+')');\r\n    }\r\n    if (this.filters.length) {\r\n        elem.addRenderableComponent(this);\r\n    }\r\n}\r\n\r\nSVGEffects.prototype.renderFrame = function(_isFirstFrame){\r\n    var i, len = this.filters.length;\r\n    for(i=0;i<len;i+=1){\r\n        this.filters[i].renderFrame(_isFirstFrame);\r\n    }\r\n};\r\nfunction CVContextData() {\r\n\tthis.saved = [];\r\n    this.cArrPos = 0;\r\n    this.cTr = new Matrix();\r\n    this.cO = 1;\r\n    var i, len = 15;\r\n    this.savedOp = createTypedArray('float32', len);\r\n    for(i=0;i<len;i+=1){\r\n        this.saved[i] = createTypedArray('float32', 16);\r\n    }\r\n    this._length = len;\r\n}\r\n\r\nCVContextData.prototype.duplicate = function() {\r\n\tvar newLength = this._length * 2;\r\n\tvar currentSavedOp = this.savedOp;\r\n    this.savedOp = createTypedArray('float32', newLength);\r\n    this.savedOp.set(currentSavedOp);\r\n    var i = 0;\r\n    for(i = this._length; i < newLength; i += 1) {\r\n        this.saved[i] = createTypedArray('float32', 16);\r\n    }\r\n    this._length = newLength;\r\n};\r\n\r\nCVContextData.prototype.reset = function() {\r\n\tthis.cArrPos = 0;\r\n\tthis.cTr.reset();\r\n    this.cO = 1;\r\n};\r\nfunction CVBaseElement(){\r\n}\r\n\r\nCVBaseElement.prototype = {\r\n    createElements: function(){},\r\n    initRendererElement: function(){},\r\n    createContainerElements: function(){\r\n        this.canvasContext = this.globalData.canvasContext;\r\n        this.renderableEffectsManager = new CVEffects(this);\r\n    },\r\n    createContent: function(){},\r\n    setBlendMode: function(){\r\n        var globalData = this.globalData;\r\n        if(globalData.blendMode !== this.data.bm) {\r\n            globalData.blendMode = this.data.bm;\r\n            var blendModeValue = getBlendMode(this.data.bm);\r\n            globalData.canvasContext.globalCompositeOperation = blendModeValue;\r\n        }\r\n    },\r\n    createRenderableComponents: function(){\r\n        this.maskManager = new CVMaskElement(this.data, this);\r\n    },\r\n    hideElement: function(){\r\n        if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n            this.hidden = true;\r\n        }\r\n    },\r\n    showElement: function(){\r\n        if (this.isInRange && !this.isTransparent){\r\n            this.hidden = false;\r\n            this._isFirstFrame = true;\r\n            this.maskManager._isFirstFrame = true;\r\n        }\r\n    },\r\n    renderFrame: function() {\r\n        if (this.hidden || this.data.hd) {\r\n            return;\r\n        }\r\n        this.renderTransform();\r\n        this.renderRenderable();\r\n        this.setBlendMode();\r\n        var forceRealStack = this.data.ty === 0;\r\n        this.globalData.renderer.save(forceRealStack);\r\n        this.globalData.renderer.ctxTransform(this.finalTransform.mat.props);\r\n        this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v);\r\n        this.renderInnerContent();\r\n        this.globalData.renderer.restore(forceRealStack);\r\n        if(this.maskManager.hasMasks) {\r\n            this.globalData.renderer.restore(true);\r\n        }\r\n        if (this._isFirstFrame) {\r\n            this._isFirstFrame = false;\r\n        }\r\n    },\r\n    destroy: function(){\r\n        this.canvasContext = null;\r\n        this.data = null;\r\n        this.globalData = null;\r\n        this.maskManager.destroy();\r\n    },\r\n    mHelper: new Matrix()\r\n};\r\nCVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\r\nCVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\r\n\r\nfunction CVImageElement(data, globalData, comp){\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.img = globalData.imageLoader.getImage(this.assetData);\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\r\n\r\nCVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVImageElement.prototype.createContent = function(){\r\n\r\n    if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\r\n        var canvas = createTag('canvas');\r\n        canvas.width = this.assetData.w;\r\n        canvas.height = this.assetData.h;\r\n        var ctx = canvas.getContext('2d');\r\n\r\n        var imgW = this.img.width;\r\n        var imgH = this.img.height;\r\n        var imgRel = imgW / imgH;\r\n        var canvasRel = this.assetData.w/this.assetData.h;\r\n        var widthCrop, heightCrop;\r\n        var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\r\n        if((imgRel > canvasRel && par === 'xMidYMid slice') || (imgRel < canvasRel && par !== 'xMidYMid slice')) {\r\n            heightCrop = imgH;\r\n            widthCrop = heightCrop*canvasRel;\r\n        } else {\r\n            widthCrop = imgW;\r\n            heightCrop = widthCrop/canvasRel;\r\n        }\r\n        ctx.drawImage(this.img,(imgW-widthCrop)/2,(imgH-heightCrop)/2,widthCrop,heightCrop,0,0,this.assetData.w,this.assetData.h);\r\n        this.img = canvas;\r\n    }\r\n\r\n};\r\n\r\nCVImageElement.prototype.renderInnerContent = function(parentMatrix){\r\n    this.canvasContext.drawImage(this.img, 0, 0);\r\n};\r\n\r\nCVImageElement.prototype.destroy = function(){\r\n    this.img = null;\r\n};\r\nfunction CVCompElement(data, globalData, comp) {\r\n    this.completeLayers = false;\r\n    this.layers = data.layers;\r\n    this.pendingElements = [];\r\n    this.elements = createSizedArray(this.layers.length);\r\n    this.initElement(data, globalData, comp);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this,data.tm,0,globalData.frameRate, this) : {_placeholder:true};\r\n}\r\n\r\nextendPrototype([CanvasRenderer, ICompElement, CVBaseElement], CVCompElement);\r\n\r\nCVCompElement.prototype.renderInnerContent = function() {\r\n    var ctx = this.canvasContext;\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(this.data.w, 0);\r\n    ctx.lineTo(this.data.w, this.data.h);\r\n    ctx.lineTo(0, this.data.h);\r\n    ctx.lineTo(0, 0);\r\n    ctx.clip();\r\n    var i,len = this.layers.length;\r\n    for( i = len - 1; i >= 0; i -= 1 ){\r\n        if(this.completeLayers || this.elements[i]){\r\n            this.elements[i].renderFrame();\r\n        }\r\n    }\r\n};\r\n\r\nCVCompElement.prototype.destroy = function(){\r\n    var i,len = this.layers.length;\r\n    for( i = len - 1; i >= 0; i -= 1 ){\r\n        if(this.elements[i]) {\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n    this.layers = null;\r\n    this.elements = null;\r\n};\r\n\r\nfunction CVMaskElement(data,element){\r\n    this.data = data;\r\n    this.element = element;\r\n    this.masksProperties = this.data.masksProperties || [];\r\n    this.viewData = createSizedArray(this.masksProperties.length);\r\n    var i, len = this.masksProperties.length, hasMasks = false;\r\n    for (i = 0; i < len; i++) {\r\n        if(this.masksProperties[i].mode !== 'n'){\r\n            hasMasks = true;\r\n        }\r\n        this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3);\r\n    }\r\n    this.hasMasks = hasMasks;\r\n    if(hasMasks) {\r\n        this.element.addRenderableComponent(this);\r\n    }\r\n}\r\n\r\nCVMaskElement.prototype.renderFrame = function () {\r\n    if(!this.hasMasks){\r\n        return;\r\n    }\r\n    var transform = this.element.finalTransform.mat;\r\n    var ctx = this.element.canvasContext;\r\n    var i, len = this.masksProperties.length;\r\n    var pt,pts,data;\r\n    ctx.beginPath();\r\n    for (i = 0; i < len; i++) {\r\n        if(this.masksProperties[i].mode !== 'n'){\r\n            if (this.masksProperties[i].inv) {\r\n                ctx.moveTo(0, 0);\r\n                ctx.lineTo(this.element.globalData.compSize.w, 0);\r\n                ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\r\n                ctx.lineTo(0, this.element.globalData.compSize.h);\r\n                ctx.lineTo(0, 0);\r\n            }\r\n            data = this.viewData[i].v;\r\n            pt = transform.applyToPointArray(data.v[0][0],data.v[0][1],0);\r\n            ctx.moveTo(pt[0], pt[1]);\r\n            var j, jLen = data._length;\r\n            for (j = 1; j < jLen; j++) {\r\n                pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\r\n                ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n            }\r\n            pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\r\n            ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n        }\r\n    }\r\n    this.element.globalData.renderer.save(true);\r\n    ctx.clip();\r\n};\r\n\r\nCVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\r\n\r\nCVMaskElement.prototype.destroy = function(){\r\n    this.element = null;\r\n};\r\nfunction CVShapeElement(data, globalData, comp) {\r\n    this.shapes = [];\r\n    this.shapesData = data.shapes;\r\n    this.stylesList = [];\r\n    this.itemsData = [];\r\n    this.prevViewData = [];\r\n    this.shapeModifiers = [];\r\n    this.processedElements = [];\r\n    this.transformsManager = new ShapeTransformManager();\r\n    this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement], CVShapeElement);\r\n\r\nCVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\r\n\r\nCVShapeElement.prototype.transformHelper = {opacity:1,_opMdf:false};\r\n\r\nCVShapeElement.prototype.dashResetter = [];\r\n\r\nCVShapeElement.prototype.createContent = function(){\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData, true, []);\r\n};\r\n\r\nCVShapeElement.prototype.createStyleElement = function(data, transforms) {\r\n    var styleElem = {\r\n        data: data,\r\n        type: data.ty,\r\n        preTransforms: this.transformsManager.addTransformSequence(transforms),\r\n        transforms: [],\r\n        elements: [],\r\n        closed: data.hd === true\r\n    };\r\n    var elementData = {};\r\n    if(data.ty == 'fl' || data.ty == 'st'){\r\n        elementData.c = PropertyFactory.getProp(this,data.c,1,255,this);\r\n        if(!elementData.c.k){\r\n            styleElem.co = 'rgb('+bm_floor(elementData.c.v[0])+','+bm_floor(elementData.c.v[1])+','+bm_floor(elementData.c.v[2])+')';\r\n        }\r\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n        elementData.s = PropertyFactory.getProp(this,data.s,1,null,this);\r\n        elementData.e = PropertyFactory.getProp(this,data.e,1,null,this);\r\n        elementData.h = PropertyFactory.getProp(this,data.h||{k:0},0,0.01,this);\r\n        elementData.a = PropertyFactory.getProp(this,data.a||{k:0},0,degToRads,this);\r\n        elementData.g = new GradientProperty(this,data.g,this);\r\n    }\r\n    elementData.o = PropertyFactory.getProp(this,data.o,0,0.01,this);\r\n    if(data.ty == 'st' || data.ty == 'gs') {\r\n        styleElem.lc = this.lcEnum[data.lc] || 'round';\r\n        styleElem.lj = this.ljEnum[data.lj] || 'round';\r\n        if(data.lj == 1) {\r\n            styleElem.ml = data.ml;\r\n        }\r\n        elementData.w = PropertyFactory.getProp(this,data.w,0,null,this);\r\n        if(!elementData.w.k){\r\n            styleElem.wi = elementData.w.v;\r\n        }\r\n        if(data.d){\r\n            var d = new DashProperty(this,data.d,'canvas', this);\r\n            elementData.d = d;\r\n            if(!elementData.d.k){\r\n                styleElem.da = elementData.d.dashArray;\r\n                styleElem.do = elementData.d.dashoffset[0];\r\n            }\r\n        }\r\n    } else {\r\n        styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\r\n    }\r\n    this.stylesList.push(styleElem);\r\n    elementData.style = styleElem;\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createGroupElement = function(data) {\r\n    var elementData = {\r\n        it: [],\r\n        prevViewData: []\r\n    };\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createTransformElement = function(data) {\r\n    var elementData = {\r\n        transform : {\r\n            opacity: 1,\r\n            _opMdf:false,\r\n            key: this.transformsManager.getNewKey(),\r\n            op: PropertyFactory.getProp(this,data.o,0,0.01,this),\r\n            mProps: TransformPropertyFactory.getTransformProperty(this,data,this)\r\n        }\r\n    };\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createShapeElement = function(data) {\r\n    var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\r\n    \r\n    this.shapes.push(elementData);\r\n    this.addShapeToModifiers(elementData);\r\n    return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.reloadShapes = function() {\r\n    this._isFirstFrame = true;\r\n    var i, len = this.itemsData.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        this.prevViewData[i] = this.itemsData[i];\r\n    }\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData, true, []);\r\n    len = this.dynamicProperties.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        this.dynamicProperties[i].getValue();\r\n    }\r\n    this.renderModifiers();\r\n    this.transformsManager.processSequences(this._isFirstFrame);\r\n};\r\n\r\nCVShapeElement.prototype.addTransformToStyleList = function(transform) {\r\n    var i, len = this.stylesList.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        if(!this.stylesList[i].closed) {\r\n            this.stylesList[i].transforms.push(transform);\r\n        }\r\n    }\r\n}\r\n\r\nCVShapeElement.prototype.removeTransformFromStyleList = function() {\r\n    var i, len = this.stylesList.length;\r\n    for (i = 0; i < len; i += 1) {\r\n        if(!this.stylesList[i].closed) {\r\n            this.stylesList[i].transforms.pop();\r\n        }\r\n    }\r\n}\r\n\r\nCVShapeElement.prototype.closeStyles = function(styles) {\r\n    var i, len = styles.length, j, jLen;\r\n    for (i = 0; i < len; i += 1) {\r\n        styles[i].closed = true;\r\n    }\r\n}\r\n\r\nCVShapeElement.prototype.searchShapes = function(arr,itemsData, prevViewData, shouldRender, transforms){\r\n    var i, len = arr.length - 1;\r\n    var j, jLen;\r\n    var ownStyles = [], ownModifiers = [], processedPos, modifier, currentTransform;\r\n    var ownTransforms = [].concat(transforms);\r\n    for(i=len;i>=0;i-=1){\r\n        processedPos = this.searchProcessedElement(arr[i]);\r\n        if(!processedPos){\r\n            arr[i]._shouldRender = shouldRender;\r\n        } else {\r\n            itemsData[i] = prevViewData[processedPos - 1];\r\n        }\r\n        if(arr[i].ty == 'fl' || arr[i].ty == 'st'|| arr[i].ty == 'gf'|| arr[i].ty == 'gs'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\r\n            } else {\r\n                itemsData[i].style.closed = false;\r\n            }\r\n            \r\n            ownStyles.push(itemsData[i].style);\r\n        }else if(arr[i].ty == 'gr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createGroupElement(arr[i]);\r\n            } else {\r\n                jLen = itemsData[i].it.length;\r\n                for(j=0;j<jLen;j+=1){\r\n                    itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n                }\r\n            }\r\n            this.searchShapes(arr[i].it,itemsData[i].it,itemsData[i].prevViewData, shouldRender, ownTransforms);\r\n        }else if(arr[i].ty == 'tr'){\r\n            if(!processedPos){\r\n                currentTransform = this.createTransformElement(arr[i]);\r\n                itemsData[i] = currentTransform;\r\n            }\r\n            ownTransforms.push(itemsData[i]);\r\n            this.addTransformToStyleList(itemsData[i]);\r\n        }else if(arr[i].ty == 'sh' || arr[i].ty == 'rc' || arr[i].ty == 'el' || arr[i].ty == 'sr'){\r\n            if(!processedPos){\r\n                itemsData[i] = this.createShapeElement(arr[i]);\r\n            }\r\n            \r\n        }else if(arr[i].ty == 'tm' || arr[i].ty == 'rd'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                modifier.init(this,arr[i]);\r\n                itemsData[i] = modifier;\r\n                this.shapeModifiers.push(modifier);\r\n            } else {\r\n                modifier = itemsData[i];\r\n                modifier.closed = false;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        } else if(arr[i].ty == 'rp'){\r\n            if(!processedPos){\r\n                modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n                itemsData[i] = modifier;\r\n                modifier.init(this,arr,i,itemsData);\r\n                this.shapeModifiers.push(modifier);\r\n                shouldRender = false;\r\n            }else{\r\n                modifier = itemsData[i];\r\n                modifier.closed = true;\r\n            }\r\n            ownModifiers.push(modifier);\r\n        }\r\n        this.addProcessedElement(arr[i], i + 1);\r\n    }\r\n    this.removeTransformFromStyleList();\r\n    this.closeStyles(ownStyles);\r\n    len = ownModifiers.length;\r\n    for(i=0;i<len;i+=1){\r\n        ownModifiers[i].closed = true;\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderInnerContent = function() {\r\n    this.transformHelper.opacity = 1;\r\n    this.transformHelper._opMdf = false;\r\n    this.renderModifiers();\r\n    this.transformsManager.processSequences(this._isFirstFrame);\r\n    this.renderShape(this.transformHelper,this.shapesData,this.itemsData,true);\r\n};\r\n\r\nCVShapeElement.prototype.renderShapeTransform = function(parentTransform, groupTransform) {\r\n    var props, groupMatrix;\r\n    if(parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\r\n        groupTransform.opacity = parentTransform.opacity;\r\n        groupTransform.opacity *= groupTransform.op.v;\r\n        groupTransform._opMdf = true;\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.drawLayer = function() {\r\n    var i, len = this.stylesList.length;\r\n    var j, jLen, k, kLen,elems,nodes, renderer = this.globalData.renderer, ctx = this.globalData.canvasContext, type, currentStyle;\r\n    for(i=0;i<len;i+=1){\r\n        currentStyle = this.stylesList[i];\r\n        type = currentStyle.type;\r\n\r\n        //Skipping style when\r\n        //Stroke width equals 0\r\n        //style should not be rendered (extra unused repeaters)\r\n        //current opacity equals 0\r\n        //global opacity equals 0\r\n        if(((type === 'st' || type === 'gs') && currentStyle.wi === 0) || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0){\r\n            continue;\r\n        }\r\n        renderer.save();\r\n        elems = currentStyle.elements;\r\n        if(type === 'st' || type === 'gs'){\r\n            ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\r\n            ctx.lineWidth = currentStyle.wi;\r\n            ctx.lineCap = currentStyle.lc;\r\n            ctx.lineJoin = currentStyle.lj;\r\n            ctx.miterLimit = currentStyle.ml || 0;\r\n        } else {\r\n            ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\r\n        }\r\n        renderer.ctxOpacity(currentStyle.coOp);\r\n        if(type !== 'st' && type !== 'gs'){\r\n            ctx.beginPath();\r\n        }\r\n        renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\r\n        jLen = elems.length;\r\n        for(j=0;j<jLen;j+=1){\r\n            if(type === 'st' || type === 'gs'){\r\n                ctx.beginPath();\r\n                if(currentStyle.da){\r\n                    ctx.setLineDash(currentStyle.da);\r\n                    ctx.lineDashOffset = currentStyle.do;\r\n                }\r\n            }\r\n            nodes = elems[j].trNodes;\r\n            kLen = nodes.length;\r\n\r\n            for(k=0;k<kLen;k+=1){\r\n                if(nodes[k].t == 'm'){\r\n                    ctx.moveTo(nodes[k].p[0],nodes[k].p[1]);\r\n                }else if(nodes[k].t == 'c'){\r\n                    ctx.bezierCurveTo(nodes[k].pts[0],nodes[k].pts[1],nodes[k].pts[2],nodes[k].pts[3],nodes[k].pts[4],nodes[k].pts[5]);\r\n                }else{\r\n                    ctx.closePath();\r\n                }\r\n            }\r\n            if(type === 'st' || type === 'gs'){\r\n                ctx.stroke();\r\n                if(currentStyle.da){\r\n                    ctx.setLineDash(this.dashResetter);\r\n                }\r\n            }\r\n        }\r\n        if(type !== 'st' && type !== 'gs'){\r\n            ctx.fill(currentStyle.r);\r\n        }\r\n        renderer.restore();\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderShape = function(parentTransform,items,data,isMain){\r\n    var i, len = items.length - 1;\r\n    var groupTransform;\r\n    groupTransform = parentTransform;\r\n    for(i=len;i>=0;i-=1){\r\n        if(items[i].ty == 'tr'){\r\n            groupTransform = data[i].transform;\r\n            this.renderShapeTransform(parentTransform, groupTransform);\r\n        }else if(items[i].ty == 'sh' || items[i].ty == 'el' || items[i].ty == 'rc' || items[i].ty == 'sr'){\r\n            this.renderPath(items[i],data[i]);\r\n        }else if(items[i].ty == 'fl'){\r\n            this.renderFill(items[i],data[i],groupTransform);\r\n        }else if(items[i].ty == 'st'){\r\n            this.renderStroke(items[i],data[i],groupTransform);\r\n        }else if(items[i].ty == 'gf' || items[i].ty == 'gs'){\r\n            this.renderGradientFill(items[i],data[i],groupTransform);\r\n        }else if(items[i].ty == 'gr'){\r\n            this.renderShape(groupTransform,items[i].it,data[i].it);\r\n        }else if(items[i].ty == 'tm'){\r\n            //\r\n        }\r\n    }\r\n    if(isMain){\r\n        this.drawLayer();\r\n    }\r\n    \r\n};\r\n\r\nCVShapeElement.prototype.renderStyledShape = function(styledShape, shape){\r\n    if(this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\r\n        var shapeNodes = styledShape.trNodes;\r\n        var paths = shape.paths;\r\n        var i, len, j, jLen = paths._length;\r\n        shapeNodes.length = 0;\r\n        var groupTransformMat = styledShape.transforms.finalTransform;\r\n        for (j = 0; j < jLen; j += 1) {\r\n            var pathNodes = paths.shapes[j];\r\n            if(pathNodes && pathNodes.v){\r\n                len = pathNodes._length;\r\n                for (i = 1; i < len; i += 1) {\r\n                    if (i === 1) {\r\n                        shapeNodes.push({\r\n                            t: 'm',\r\n                            p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\r\n                        });\r\n                    }\r\n                    shapeNodes.push({\r\n                        t: 'c',\r\n                        pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i])\r\n                    });\r\n                }\r\n                if (len === 1) {\r\n                    shapeNodes.push({\r\n                        t: 'm',\r\n                        p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\r\n                    });\r\n                }\r\n                if (pathNodes.c && len) {\r\n                    shapeNodes.push({\r\n                        t: 'c',\r\n                        pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0])\r\n                    });\r\n                    shapeNodes.push({\r\n                        t: 'z'\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        styledShape.trNodes = shapeNodes;\r\n    }\r\n}\r\n\r\nCVShapeElement.prototype.renderPath = function(pathData,itemData){\r\n    if(pathData.hd !== true && pathData._shouldRender) {\r\n        var i, len = itemData.styledShapes.length;\r\n        for (i = 0; i < len; i += 1) {\r\n            this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\r\n        }\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderFill = function(styleData,itemData, groupTransform){\r\n    var styleElem = itemData.style;\r\n\r\n    if (itemData.c._mdf || this._isFirstFrame) {\r\n        styleElem.co = 'rgb(' \r\n        + bm_floor(itemData.c.v[0]) + ',' \r\n        + bm_floor(itemData.c.v[1]) + ',' \r\n        + bm_floor(itemData.c.v[2]) + ')';\r\n    }\r\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\r\n        styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n    }\r\n};\r\n\r\nCVShapeElement.prototype.renderGradientFill = function(styleData,itemData, groupTransform){\r\n    var styleElem = itemData.style;\r\n    if(!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || (styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf))) {\r\n        var ctx = this.globalData.canvasContext;\r\n        var grd;\r\n        var pt1 = itemData.s.v, pt2 = itemData.e.v;\r\n        if (styleData.t === 1) {\r\n            grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\r\n        } else {\r\n            var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n            var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n            var percent = itemData.h.v >= 1 ? 0.99 : itemData.h.v <= -1 ? -0.99: itemData.h.v;\r\n            var dist = rad * percent;\r\n            var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n            var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n            var grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\r\n        }\r\n\r\n        var i, len = styleData.g.p;\r\n        var cValues = itemData.g.c;\r\n        var opacity = 1;\r\n\r\n        for (i = 0; i < len; i += 1){\r\n            if(itemData.g._hasOpacity && itemData.g._collapsable) {\r\n                opacity = itemData.g.o[i*2 + 1];\r\n            }\r\n            grd.addColorStop(cValues[i * 4] / 100,'rgba('+ cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ','+cValues[i * 4 + 3] + ',' + opacity + ')');\r\n        }\r\n        styleElem.grd = grd;\r\n    }\r\n    styleElem.coOp = itemData.o.v*groupTransform.opacity;\r\n    \r\n};\r\n\r\nCVShapeElement.prototype.renderStroke = function(styleData,itemData, groupTransform){\r\n    var styleElem = itemData.style;\r\n    var d = itemData.d;\r\n    if(d && (d._mdf  || this._isFirstFrame)){\r\n        styleElem.da = d.dashArray;\r\n        styleElem.do = d.dashoffset[0];\r\n    }\r\n    if(itemData.c._mdf || this._isFirstFrame){\r\n        styleElem.co = 'rgb('+bm_floor(itemData.c.v[0])+','+bm_floor(itemData.c.v[1])+','+bm_floor(itemData.c.v[2])+')';\r\n    }\r\n    if(itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame){\r\n        styleElem.coOp = itemData.o.v*groupTransform.opacity;\r\n    }\r\n    if(itemData.w._mdf || this._isFirstFrame){\r\n        styleElem.wi = itemData.w.v;\r\n    }\r\n};\r\n\r\n\r\nCVShapeElement.prototype.destroy = function(){\r\n    this.shapesData = null;\r\n    this.globalData = null;\r\n    this.canvasContext = null;\r\n    this.stylesList.length = 0;\r\n    this.itemsData.length = 0;\r\n};\r\n\r\n\r\nfunction CVSolidElement(data, globalData, comp) {\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\r\n\r\nCVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVSolidElement.prototype.renderInnerContent = function() {\r\n    var ctx = this.canvasContext;\r\n    ctx.fillStyle = this.data.sc;\r\n    ctx.fillRect(0, 0, this.data.sw, this.data.sh);\r\n    //\r\n};\r\nfunction CVTextElement(data, globalData, comp){\r\n    this.textSpans = [];\r\n    this.yOffset = 0;\r\n    this.fillColorAnim = false;\r\n    this.strokeColorAnim = false;\r\n    this.strokeWidthAnim = false;\r\n    this.stroke = false;\r\n    this.fill = false;\r\n    this.justifyOffset = 0;\r\n    this.currentRender = null;\r\n    this.renderType = 'canvas';\r\n    this.values = {\r\n        fill: 'rgba(0,0,0,0)',\r\n        stroke: 'rgba(0,0,0,0)',\r\n        sWidth: 0,\r\n        fValue: ''\r\n    };\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement], CVTextElement);\r\n\r\nCVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\r\n\r\nCVTextElement.prototype.buildNewText = function(){\r\n    var documentData = this.textProperty.currentData;\r\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n\r\n    var hasFill = false;\r\n    if(documentData.fc) {\r\n        hasFill = true;\r\n        this.values.fill = this.buildColor(documentData.fc);\r\n    }else{\r\n        this.values.fill = 'rgba(0,0,0,0)';\r\n    }\r\n    this.fill = hasFill;\r\n    var hasStroke = false;\r\n    if(documentData.sc){\r\n        hasStroke = true;\r\n        this.values.stroke = this.buildColor(documentData.sc);\r\n        this.values.sWidth = documentData.sw;\r\n    }\r\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n    var i, len;\r\n    var letters = documentData.l;\r\n    var matrixHelper = this.mHelper;\r\n    this.stroke = hasStroke;\r\n    this.values.fValue = documentData.finalSize + 'px '+ this.globalData.fontManager.getFontByName(documentData.f).fFamily;\r\n    len = documentData.finalText.length;\r\n    //this.tHelper.font = this.values.fValue;\r\n    var charData, shapeData, k, kLen, shapes, j, jLen, pathNodes, commands, pathArr, singleShape = this.data.singleShape;\r\n    var trackingOffset = documentData.tr/1000*documentData.finalSize;\r\n    var xPos = 0, yPos = 0, firstLine = true;\r\n    var cnt = 0;\r\n    for (i = 0; i < len; i += 1) {\r\n        charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n        shapeData = charData && charData.data || {};\r\n        matrixHelper.reset();\r\n        if(singleShape && letters[i].n) {\r\n            xPos = -trackingOffset;\r\n            yPos += documentData.yOffset;\r\n            yPos += firstLine ? 1 : 0;\r\n            firstLine = false;\r\n        }\r\n\r\n        shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n        jLen = shapes.length;\r\n        matrixHelper.scale(documentData.finalSize/100,documentData.finalSize/100);\r\n        if(singleShape){\r\n            this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n        }\r\n        commands = createSizedArray(jLen);\r\n        for(j=0;j<jLen;j+=1){\r\n            kLen = shapes[j].ks.k.i.length;\r\n            pathNodes = shapes[j].ks.k;\r\n            pathArr = [];\r\n            for(k=1;k<kLen;k+=1){\r\n                if(k==1){\r\n                    pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0],pathNodes.v[0][1],0),matrixHelper.applyToY(pathNodes.v[0][0],pathNodes.v[0][1],0));\r\n                }\r\n                pathArr.push(matrixHelper.applyToX(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToY(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToX(pathNodes.i[k][0],pathNodes.i[k][1],0),matrixHelper.applyToY(pathNodes.i[k][0],pathNodes.i[k][1],0),matrixHelper.applyToX(pathNodes.v[k][0],pathNodes.v[k][1],0),matrixHelper.applyToY(pathNodes.v[k][0],pathNodes.v[k][1],0));\r\n            }\r\n            pathArr.push(matrixHelper.applyToX(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToY(pathNodes.o[k-1][0],pathNodes.o[k-1][1],0),matrixHelper.applyToX(pathNodes.i[0][0],pathNodes.i[0][1],0),matrixHelper.applyToY(pathNodes.i[0][0],pathNodes.i[0][1],0),matrixHelper.applyToX(pathNodes.v[0][0],pathNodes.v[0][1],0),matrixHelper.applyToY(pathNodes.v[0][0],pathNodes.v[0][1],0));\r\n            commands[j] = pathArr;\r\n        }\r\n        if(singleShape){\r\n            xPos += letters[i].l;\r\n            xPos += trackingOffset;\r\n        }\r\n        if(this.textSpans[cnt]){\r\n            this.textSpans[cnt].elem = commands;\r\n        } else {\r\n            this.textSpans[cnt] = {elem: commands};\r\n        }\r\n        cnt +=1;\r\n    }\r\n};\r\n\r\nCVTextElement.prototype.renderInnerContent = function(){\r\n    var ctx = this.canvasContext;\r\n    var finalMat = this.finalTransform.mat.props;\r\n    ctx.font = this.values.fValue;\r\n    ctx.lineCap = 'butt';\r\n    ctx.lineJoin = 'miter';\r\n    ctx.miterLimit = 4;\r\n\r\n    if(!this.data.singleShape){\r\n        this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n    }\r\n\r\n    var  i,len, j, jLen, k, kLen;\r\n    var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n    var letters = this.textProperty.currentData.l;\r\n\r\n    len = letters.length;\r\n    var renderedLetter;\r\n    var lastFill = null, lastStroke = null, lastStrokeW = null, commands, pathArr;\r\n    for(i=0;i<len;i+=1){\r\n        if(letters[i].n){\r\n            continue;\r\n        }\r\n        renderedLetter = renderedLetters[i];\r\n        if(renderedLetter){\r\n            this.globalData.renderer.save();\r\n            this.globalData.renderer.ctxTransform(renderedLetter.p);\r\n            this.globalData.renderer.ctxOpacity(renderedLetter.o);\r\n        }\r\n        if(this.fill){\r\n            if(renderedLetter && renderedLetter.fc){\r\n                if(lastFill !== renderedLetter.fc){\r\n                    lastFill = renderedLetter.fc;\r\n                    ctx.fillStyle = renderedLetter.fc;\r\n                }\r\n            }else if(lastFill !== this.values.fill){\r\n                lastFill = this.values.fill;\r\n                ctx.fillStyle = this.values.fill;\r\n            }\r\n            commands = this.textSpans[i].elem;\r\n            jLen = commands.length;\r\n            this.globalData.canvasContext.beginPath();\r\n            for(j=0;j<jLen;j+=1) {\r\n                pathArr = commands[j];\r\n                kLen = pathArr.length;\r\n                this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n                for (k = 2; k < kLen; k += 6) {\r\n                    this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n                }\r\n            }\r\n            this.globalData.canvasContext.closePath();\r\n            this.globalData.canvasContext.fill();\r\n            ///ctx.fillText(this.textSpans[i].val,0,0);\r\n        }\r\n        if(this.stroke){\r\n            if(renderedLetter && renderedLetter.sw){\r\n                if(lastStrokeW !== renderedLetter.sw){\r\n                    lastStrokeW = renderedLetter.sw;\r\n                    ctx.lineWidth = renderedLetter.sw;\r\n                }\r\n            }else if(lastStrokeW !== this.values.sWidth){\r\n                lastStrokeW = this.values.sWidth;\r\n                ctx.lineWidth = this.values.sWidth;\r\n            }\r\n            if(renderedLetter && renderedLetter.sc){\r\n                if(lastStroke !== renderedLetter.sc){\r\n                    lastStroke = renderedLetter.sc;\r\n                    ctx.strokeStyle = renderedLetter.sc;\r\n                }\r\n            }else if(lastStroke !== this.values.stroke){\r\n                lastStroke = this.values.stroke;\r\n                ctx.strokeStyle = this.values.stroke;\r\n            }\r\n            commands = this.textSpans[i].elem;\r\n            jLen = commands.length;\r\n            this.globalData.canvasContext.beginPath();\r\n            for(j=0;j<jLen;j+=1) {\r\n                pathArr = commands[j];\r\n                kLen = pathArr.length;\r\n                this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n                for (k = 2; k < kLen; k += 6) {\r\n                    this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n                }\r\n            }\r\n            this.globalData.canvasContext.closePath();\r\n            this.globalData.canvasContext.stroke();\r\n            ///ctx.strokeText(letters[i].val,0,0);\r\n        }\r\n        if(renderedLetter) {\r\n            this.globalData.renderer.restore();\r\n        }\r\n    }\r\n};\r\nfunction CVEffects() {\r\n\r\n}\r\nCVEffects.prototype.renderFrame = function(){};\r\nfunction HBaseElement(data,globalData,comp){}\r\nHBaseElement.prototype = {\r\n    checkBlendMode: function(){},\r\n    initRendererElement: function(){\r\n        this.baseElement = createTag(this.data.tg || 'div');\r\n        if(this.data.hasMask) {\r\n            this.svgElement = createNS('svg');\r\n            this.layerElement = createNS('g');\r\n            this.maskedElement = this.layerElement;\r\n            this.svgElement.appendChild(this.layerElement);\r\n            this.baseElement.appendChild(this.svgElement);\r\n        } else {\r\n            this.layerElement = this.baseElement;\r\n        }\r\n        styleDiv(this.baseElement);\r\n    },\r\n    createContainerElements: function(){\r\n        this.renderableEffectsManager = new CVEffects(this);\r\n        this.transformedElement = this.baseElement;\r\n        this.maskedElement = this.layerElement;\r\n        if (this.data.ln) {\r\n            this.layerElement.setAttribute('id',this.data.ln);\r\n        }\r\n        if (this.data.cl) {\r\n            this.layerElement.setAttribute('class', this.data.cl);\r\n        }\r\n        if (this.data.bm !== 0) {\r\n            this.setBlendMode();\r\n        }\r\n    },\r\n    renderElement: function() {\r\n        if(this.finalTransform._matMdf){\r\n            this.transformedElement.style.transform = this.transformedElement.style.webkitTransform = this.finalTransform.mat.toCSS();\r\n        }\r\n        if(this.finalTransform._opMdf){\r\n            this.transformedElement.style.opacity = this.finalTransform.mProp.o.v;\r\n        }\r\n    },\r\n    renderFrame: function() {\r\n        //If it is exported as hidden (data.hd === true) no need to render\r\n        //If it is not visible no need to render\r\n        if (this.data.hd || this.hidden) {\r\n            return;\r\n        }\r\n        this.renderTransform();\r\n        this.renderRenderable();\r\n        this.renderElement();\r\n        this.renderInnerContent();\r\n        if (this._isFirstFrame) {\r\n            this._isFirstFrame = false;\r\n        }\r\n    },\r\n    destroy: function(){\r\n        this.layerElement = null;\r\n        this.transformedElement = null;\r\n        if(this.matteElement) {\r\n            this.matteElement = null;\r\n        }\r\n        if(this.maskManager) {\r\n            this.maskManager.destroy();\r\n            this.maskManager = null;\r\n        }\r\n    },\r\n    createRenderableComponents: function(){\r\n        this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n    },\r\n    addEffects: function(){\r\n    },\r\n    setMatte: function(){}\r\n};\r\nHBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\r\nHBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\r\nHBaseElement.prototype.buildElementParenting = HybridRenderer.prototype.buildElementParenting;\r\nfunction HSolidElement(data,globalData,comp){\r\n    this.initElement(data,globalData,comp);\r\n}\r\nextendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement], HSolidElement);\r\n\r\nHSolidElement.prototype.createContent = function(){\r\n    var rect;\r\n    if(this.data.hasMask){\r\n        rect = createNS('rect');\r\n        rect.setAttribute('width',this.data.sw);\r\n        rect.setAttribute('height',this.data.sh);\r\n        rect.setAttribute('fill',this.data.sc);\r\n        this.svgElement.setAttribute('width',this.data.sw);\r\n        this.svgElement.setAttribute('height',this.data.sh);\r\n    } else {\r\n        rect = createTag('div');\r\n        rect.style.width = this.data.sw + 'px';\r\n        rect.style.height = this.data.sh + 'px';\r\n        rect.style.backgroundColor = this.data.sc;\r\n    }\r\n    this.layerElement.appendChild(rect);\r\n};\r\n\r\nfunction HCompElement(data,globalData,comp){\r\n    this.layers = data.layers;\r\n    this.supports3d = !data.hasMask;\r\n    this.completeLayers = false;\r\n    this.pendingElements = [];\r\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n    this.initElement(data,globalData,comp);\r\n    this.tm = data.tm ? PropertyFactory.getProp(this,data.tm,0,globalData.frameRate,this) : {_placeholder:true};\r\n}\r\n\r\nextendPrototype([HybridRenderer, ICompElement, HBaseElement], HCompElement);\r\nHCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\r\n\r\nHCompElement.prototype.createContainerElements = function(){\r\n    this._createBaseContainerElements();\r\n    //divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\r\n    if(this.data.hasMask){\r\n        this.svgElement.setAttribute('width',this.data.w);\r\n        this.svgElement.setAttribute('height',this.data.h);\r\n        this.transformedElement = this.baseElement;\r\n    } else {\r\n        this.transformedElement = this.layerElement;\r\n    }\r\n};\r\n\r\nHCompElement.prototype.addTo3dContainer = function(elem,pos) {\r\n    var j = 0;\r\n    var nextElement;\r\n    while(j<pos){\r\n        if(this.elements[j] && this.elements[j].getBaseElement){\r\n            nextElement = this.elements[j].getBaseElement();\r\n        }\r\n        j += 1;\r\n    }\r\n    if(nextElement){\r\n        this.layerElement.insertBefore(elem, nextElement);\r\n    } else {\r\n        this.layerElement.appendChild(elem);\r\n    }\r\n}\r\n\r\nfunction HShapeElement(data,globalData,comp){\r\n    //List of drawable elements\r\n    this.shapes = [];\r\n    // Full shape data\r\n    this.shapesData = data.shapes;\r\n    //List of styles that will be applied to shapes\r\n    this.stylesList = [];\r\n    //List of modifiers that will be applied to shapes\r\n    this.shapeModifiers = [];\r\n    //List of items in shape tree\r\n    this.itemsData = [];\r\n    //List of items in previous shape tree\r\n    this.processedElements = [];\r\n    // List of animated components\r\n    this.animatedContents = [];\r\n    this.shapesContainer = createNS('g');\r\n    this.initElement(data,globalData,comp);\r\n    //Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n    // List of elements that have been created\r\n    this.prevViewData = [];\r\n    this.currentBBox = {\r\n        x:999999,\r\n        y: -999999,\r\n        h: 0,\r\n        w: 0\r\n    };\r\n}\r\nextendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement], HShapeElement);\r\nHShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\r\n\r\nHShapeElement.prototype.createContent = function(){\r\n    var cont;\r\n    this.baseElement.style.fontSize = 0;\r\n    if (this.data.hasMask) {\r\n        this.layerElement.appendChild(this.shapesContainer);\r\n        cont = this.svgElement;\r\n    } else {\r\n        cont = createNS('svg');\r\n        var size = this.comp.data ? this.comp.data : this.globalData.compSize;\r\n        cont.setAttribute('width',size.w);\r\n        cont.setAttribute('height',size.h);\r\n        cont.appendChild(this.shapesContainer);\r\n        this.layerElement.appendChild(cont);\r\n    }\r\n\r\n    this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0, [], true);\r\n    this.filterUniqueShapes();\r\n    this.shapeCont = cont;\r\n};\r\n\r\nHShapeElement.prototype.getTransformedPoint = function(transformers, point) {\r\n    var i, len = transformers.length;\r\n    for(i = 0; i < len; i += 1) {\r\n        point = transformers[i].mProps.v.applyToPointArray(point[0], point[1], 0);\r\n    }\r\n    return point;\r\n}\r\n\r\nHShapeElement.prototype.calculateShapeBoundingBox = function(item, boundingBox) {\r\n    var shape = item.sh.v;\r\n    var transformers = item.transformers;\r\n    var i, len = shape._length, vPoint, oPoint, nextIPoint, nextVPoint, bounds;\r\n    if (len <= 1) {\r\n        return;\r\n    }\r\n    for (i = 0; i < len - 1; i += 1) {\r\n        vPoint = this.getTransformedPoint(transformers, shape.v[i]);\r\n        oPoint = this.getTransformedPoint(transformers, shape.o[i]);\r\n        nextIPoint = this.getTransformedPoint(transformers, shape.i[i + 1]);\r\n        nextVPoint = this.getTransformedPoint(transformers, shape.v[i + 1]);\r\n        this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\r\n    }\r\n    if(shape.c) {\r\n        vPoint = this.getTransformedPoint(transformers, shape.v[i]);\r\n        oPoint = this.getTransformedPoint(transformers, shape.o[i]);\r\n        nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);\r\n        nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);\r\n        this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\r\n    }\r\n}\r\n\r\nHShapeElement.prototype.checkBounds = function(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {\r\n    this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);\r\n    var bounds = this.shapeBoundingBox;\r\n    boundingBox.x = bm_min(bounds.left, boundingBox.x);\r\n    boundingBox.xMax = bm_max(bounds.right, boundingBox.xMax);\r\n    boundingBox.y = bm_min(bounds.top, boundingBox.y);\r\n    boundingBox.yMax = bm_max(bounds.bottom, boundingBox.yMax);\r\n}\r\n\r\nHShapeElement.prototype.shapeBoundingBox = {\r\n    left:0,\r\n    right:0,\r\n    top:0,\r\n    bottom:0,\r\n}\r\n\r\nHShapeElement.prototype.tempBoundingBox = {\r\n    x:0,\r\n    xMax:0,\r\n    y:0,\r\n    yMax:0,\r\n    width:0,\r\n    height:0\r\n}\r\n\r\nHShapeElement.prototype.getBoundsOfCurve = function(p0, p1, p2, p3) {\r\n\r\n    var bounds = [[p0[0],p3[0]], [p0[1],p3[1]]];\r\n\r\n    for (var a, b, c, t, b2ac, t1, t2, i = 0; i < 2; ++i) {\r\n\r\n      b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\r\n      a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\r\n      c = 3 * p1[i] - 3 * p0[i];\r\n\r\n      b = b | 0;\r\n      a = a | 0;\r\n      c = c | 0;\r\n\r\n      if (a === 0) {\r\n\r\n        if (b === 0) {\r\n          continue;\r\n        }\r\n\r\n        t = -c / b;\r\n\r\n        if (0 < t && t < 1) {\r\n          bounds[i].push(this.calculateF(t,p0,p1,p2,p3,i));\r\n        }\r\n        continue;\r\n      }\r\n\r\n      b2ac = b * b - 4 * c * a;\r\n\r\n      if (b2ac < 0) {\r\n        continue;\r\n      }\r\n\r\n      t1 = (-b + bm_sqrt(b2ac))/(2 * a);\r\n      if (0 < t1 && t1 < 1) bounds[i].push(this.calculateF(t1,p0,p1,p2,p3,i));\r\n\r\n      t2 = (-b - bm_sqrt(b2ac))/(2 * a);\r\n      if (0 < t2 && t2 < 1) bounds[i].push(this.calculateF(t2,p0,p1,p2,p3,i));\r\n\r\n    }\r\n\r\n    this.shapeBoundingBox.left = bm_min.apply(null, bounds[0]);\r\n    this.shapeBoundingBox.top = bm_min.apply(null, bounds[1]);\r\n    this.shapeBoundingBox.right = bm_max.apply(null, bounds[0]);\r\n    this.shapeBoundingBox.bottom = bm_max.apply(null, bounds[1]);\r\n  };\r\n\r\n  HShapeElement.prototype.calculateF = function(t, p0, p1, p2, p3, i) {\r\n    return bm_pow(1-t, 3) * p0[i]\r\n        + 3 * bm_pow(1-t, 2) * t * p1[i]\r\n        + 3 * (1-t) * bm_pow(t, 2) * p2[i]\r\n        + bm_pow(t, 3) * p3[i];\r\n  }\r\n\r\nHShapeElement.prototype.calculateBoundingBox = function(itemsData, boundingBox) {\r\n    var i, len = itemsData.length, path;\r\n    for(i = 0; i < len; i += 1) {\r\n        if(itemsData[i] && itemsData[i].sh) {\r\n            this.calculateShapeBoundingBox(itemsData[i], boundingBox)\r\n        } else if(itemsData[i] && itemsData[i].it) {\r\n            this.calculateBoundingBox(itemsData[i].it, boundingBox)\r\n        }\r\n    }\r\n}\r\n\r\nHShapeElement.prototype.currentBoxContains = function(box) {\r\n    return this.currentBBox.x <= box.x \r\n    && this.currentBBox.y <= box.y \r\n    && this.currentBBox.width + this.currentBBox.x >= box.x + box.width\r\n    && this.currentBBox.height + this.currentBBox.y >= box.y + box.height\r\n}\r\n\r\nHShapeElement.prototype.renderInnerContent = function() {\r\n    this._renderShapeFrame();\r\n\r\n    if(!this.hidden && (this._isFirstFrame || this._mdf)) {\r\n        var tempBoundingBox = this.tempBoundingBox;\r\n        var max = 999999;\r\n        tempBoundingBox.x = max;\r\n        tempBoundingBox.xMax = -max;\r\n        tempBoundingBox.y = max;\r\n        tempBoundingBox.yMax = -max;\r\n        this.calculateBoundingBox(this.itemsData, tempBoundingBox);\r\n        tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;\r\n        tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y;\r\n        //var tempBoundingBox = this.shapeCont.getBBox();\r\n        if(this.currentBoxContains(tempBoundingBox)) {\r\n            return;\r\n        }\r\n        var changed = false;\r\n        if(this.currentBBox.w !== tempBoundingBox.width){\r\n            this.currentBBox.w = tempBoundingBox.width;\r\n            this.shapeCont.setAttribute('width',tempBoundingBox.width);\r\n            changed = true;\r\n        }\r\n        if(this.currentBBox.h !== tempBoundingBox.height){\r\n            this.currentBBox.h = tempBoundingBox.height;\r\n            this.shapeCont.setAttribute('height',tempBoundingBox.height);\r\n            changed = true;\r\n        }\r\n        if(changed  || this.currentBBox.x !== tempBoundingBox.x  || this.currentBBox.y !== tempBoundingBox.y){\r\n            this.currentBBox.w = tempBoundingBox.width;\r\n            this.currentBBox.h = tempBoundingBox.height;\r\n            this.currentBBox.x = tempBoundingBox.x;\r\n            this.currentBBox.y = tempBoundingBox.y;\r\n\r\n            this.shapeCont.setAttribute('viewBox',this.currentBBox.x+' '+this.currentBBox.y+' '+this.currentBBox.w+' '+this.currentBBox.h);\r\n            this.shapeCont.style.transform = this.shapeCont.style.webkitTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n        }\r\n    }\r\n\r\n};\r\nfunction HTextElement(data,globalData,comp){\r\n    this.textSpans = [];\r\n    this.textPaths = [];\r\n    this.currentBBox = {\r\n        x:999999,\r\n        y: -999999,\r\n        h: 0,\r\n        w: 0\r\n    };\r\n    this.renderType = 'svg';\r\n    this.isMasked = false;\r\n    this.initElement(data,globalData,comp);\r\n\r\n}\r\nextendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement], HTextElement);\r\n\r\nHTextElement.prototype.createContent = function(){\r\n    this.isMasked = this.checkMasks();\r\n    if(this.isMasked){\r\n        this.renderType = 'svg';\r\n        this.compW = this.comp.data.w;\r\n        this.compH = this.comp.data.h;\r\n        this.svgElement.setAttribute('width',this.compW);\r\n        this.svgElement.setAttribute('height',this.compH);\r\n        var g = createNS('g');\r\n        this.maskedElement.appendChild(g);\r\n        this.innerElem = g;\r\n    } else {\r\n        this.renderType = 'html';\r\n        this.innerElem = this.layerElement;\r\n    }\r\n\r\n    this.checkParenting();\r\n\r\n};\r\n\r\nHTextElement.prototype.buildNewText = function(){\r\n    var documentData = this.textProperty.currentData;\r\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n    var innerElemStyle = this.innerElem.style;\r\n    innerElemStyle.color = innerElemStyle.fill = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\r\n    if(documentData.sc){\r\n        innerElemStyle.stroke = this.buildColor(documentData.sc);\r\n        innerElemStyle.strokeWidth = documentData.sw+'px';\r\n    }\r\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n    if(!this.globalData.fontManager.chars){\r\n        innerElemStyle.fontSize = documentData.finalSize+'px';\r\n        innerElemStyle.lineHeight = documentData.finalSize+'px';\r\n        if(fontData.fClass){\r\n            this.innerElem.className = fontData.fClass;\r\n        } else {\r\n            innerElemStyle.fontFamily = fontData.fFamily;\r\n            var fWeight = documentData.fWeight, fStyle = documentData.fStyle;\r\n            innerElemStyle.fontStyle = fStyle;\r\n            innerElemStyle.fontWeight = fWeight;\r\n        }\r\n    }\r\n    var i, len;\r\n\r\n    var letters = documentData.l;\r\n    len = letters.length;\r\n    var tSpan,tParent,tCont;\r\n    var matrixHelper = this.mHelper;\r\n    var shapes, shapeStr = '';\r\n    var cnt = 0;\r\n    for (i = 0;i < len ;i += 1) {\r\n        if(this.globalData.fontManager.chars){\r\n            if(!this.textPaths[cnt]){\r\n                tSpan = createNS('path');\r\n                tSpan.setAttribute('stroke-linecap', 'butt');\r\n                tSpan.setAttribute('stroke-linejoin','round');\r\n                tSpan.setAttribute('stroke-miterlimit','4');\r\n            } else {\r\n                tSpan = this.textPaths[cnt];\r\n            }\r\n            if(!this.isMasked){\r\n                if(this.textSpans[cnt]){\r\n                    tParent = this.textSpans[cnt];\r\n                    tCont = tParent.children[0];\r\n                } else {\r\n\r\n                    tParent = createTag('div');\r\n                    tParent.style.lineHeight = 0;\r\n                    tCont = createNS('svg');\r\n                    tCont.appendChild(tSpan);\r\n                    styleDiv(tParent);\r\n                }\r\n            }\r\n        }else{\r\n            if(!this.isMasked){\r\n                if(this.textSpans[cnt]){\r\n                    tParent = this.textSpans[cnt];\r\n                    tSpan = this.textPaths[cnt];\r\n                } else {\r\n                    tParent = createTag('span');\r\n                    styleDiv(tParent);\r\n                    tSpan = createTag('span');\r\n                    styleDiv(tSpan);\r\n                    tParent.appendChild(tSpan);\r\n                }\r\n            } else {\r\n                tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\r\n            }\r\n        }\r\n        //tSpan.setAttribute('visibility', 'hidden');\r\n        if(this.globalData.fontManager.chars){\r\n            var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n            var shapeData;\r\n            if(charData){\r\n                shapeData = charData.data;\r\n            } else {\r\n                shapeData = null;\r\n            }\r\n            matrixHelper.reset();\r\n            if(shapeData && shapeData.shapes){\r\n                shapes = shapeData.shapes[0].it;\r\n                matrixHelper.scale(documentData.finalSize/100,documentData.finalSize/100);\r\n                shapeStr = this.createPathShape(matrixHelper,shapes);\r\n                tSpan.setAttribute('d',shapeStr);\r\n            }\r\n            if(!this.isMasked){\r\n                this.innerElem.appendChild(tParent);\r\n                if(shapeData && shapeData.shapes){\r\n\r\n                    //document.body.appendChild is needed to get exact measure of shape\r\n                    document.body.appendChild(tCont);\r\n                    var boundingBox = tCont.getBBox();\r\n                    tCont.setAttribute('width',boundingBox.width + 2);\r\n                    tCont.setAttribute('height',boundingBox.height + 2);\r\n                    tCont.setAttribute('viewBox',(boundingBox.x-1)+' '+ (boundingBox.y-1)+' '+ (boundingBox.width+2)+' '+ (boundingBox.height+2));\r\n                    tCont.style.transform = tCont.style.webkitTransform = 'translate(' + (boundingBox.x-1) + 'px,' + (boundingBox.y-1) + 'px)';\r\n\r\n                    letters[i].yOffset = boundingBox.y-1;\r\n\r\n                } else{\r\n                    tCont.setAttribute('width',1);\r\n                    tCont.setAttribute('height',1);\r\n                }\r\n                    tParent.appendChild(tCont);\r\n            }else{\r\n                this.innerElem.appendChild(tSpan);\r\n            }\r\n        }else{\r\n            tSpan.textContent = letters[i].val;\r\n            tSpan.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\", \"xml:space\",\"preserve\");\r\n            if(!this.isMasked){\r\n                this.innerElem.appendChild(tParent);\r\n                //\r\n                tSpan.style.transform = tSpan.style.webkitTransform = 'translate3d(0,'+ -documentData.finalSize/1.2+'px,0)';\r\n            } else {\r\n                this.innerElem.appendChild(tSpan);\r\n            }\r\n        }\r\n        //\r\n        if(!this.isMasked){\r\n            this.textSpans[cnt] = tParent;\r\n        }else{\r\n            this.textSpans[cnt] = tSpan;\r\n        }\r\n        this.textSpans[cnt].style.display = 'block';\r\n        this.textPaths[cnt] = tSpan;\r\n        cnt += 1;\r\n    }\r\n    while(cnt < this.textSpans.length){\r\n        this.textSpans[cnt].style.display = 'none';\r\n        cnt += 1;\r\n    }\r\n};\r\n\r\nHTextElement.prototype.renderInnerContent = function() {\r\n\r\n    if(this.data.singleShape){\r\n        if(!this._isFirstFrame && !this.lettersChangedFlag){\r\n            return;\r\n        } else {\r\n            // Todo Benchmark if using this is better than getBBox\r\n             if(this.isMasked && this.finalTransform._matMdf){\r\n                 this.svgElement.setAttribute('viewBox',-this.finalTransform.mProp.p.v[0]+' '+ -this.finalTransform.mProp.p.v[1]+' '+this.compW+' '+this.compH);\r\n                this.svgElement.style.transform = this.svgElement.style.webkitTransform = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\r\n             }\r\n        }\r\n    }\r\n\r\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n    if(!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag){\r\n        return;\r\n    }\r\n    var  i,len, count = 0;\r\n    var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n    var letters = this.textProperty.currentData.l;\r\n\r\n    len = letters.length;\r\n    var renderedLetter, textSpan, textPath;\r\n    for(i=0;i<len;i+=1){\r\n        if(letters[i].n){\r\n            count += 1;\r\n            continue;\r\n        }\r\n        textSpan = this.textSpans[i];\r\n        textPath = this.textPaths[i];\r\n        renderedLetter = renderedLetters[count];\r\n        count += 1;\r\n        if(renderedLetter._mdf.m) {\r\n            if(!this.isMasked){\r\n                textSpan.style.transform = textSpan.style.webkitTransform = renderedLetter.m;\r\n            }else{\r\n                textSpan.setAttribute('transform',renderedLetter.m);\r\n            }\r\n        }\r\n        ////textSpan.setAttribute('opacity',renderedLetter.o);\r\n        textSpan.style.opacity = renderedLetter.o;\r\n        if(renderedLetter.sw && renderedLetter._mdf.sw){\r\n            textPath.setAttribute('stroke-width',renderedLetter.sw);\r\n        }\r\n        if(renderedLetter.sc && renderedLetter._mdf.sc){\r\n            textPath.setAttribute('stroke',renderedLetter.sc);\r\n        }\r\n        if(renderedLetter.fc && renderedLetter._mdf.fc){\r\n            textPath.setAttribute('fill',renderedLetter.fc);\r\n            textPath.style.color = renderedLetter.fc;\r\n        }\r\n    }\r\n\r\n    if(this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)){\r\n        var boundingBox = this.innerElem.getBBox();\r\n\r\n        if(this.currentBBox.w !== boundingBox.width){\r\n            this.currentBBox.w = boundingBox.width;\r\n            this.svgElement.setAttribute('width',boundingBox.width);\r\n        }\r\n        if(this.currentBBox.h !== boundingBox.height){\r\n            this.currentBBox.h = boundingBox.height;\r\n            this.svgElement.setAttribute('height',boundingBox.height);\r\n        }\r\n\r\n        var margin = 1;\r\n        if(this.currentBBox.w !== (boundingBox.width + margin*2) || this.currentBBox.h !== (boundingBox.height + margin*2)  || this.currentBBox.x !== (boundingBox.x - margin)  || this.currentBBox.y !== (boundingBox.y - margin)){\r\n            this.currentBBox.w = boundingBox.width + margin*2;\r\n            this.currentBBox.h = boundingBox.height + margin*2;\r\n            this.currentBBox.x = boundingBox.x - margin;\r\n            this.currentBBox.y = boundingBox.y - margin;\r\n\r\n            this.svgElement.setAttribute('viewBox',this.currentBBox.x+' '+this.currentBBox.y+' '+this.currentBBox.w+' '+this.currentBBox.h);\r\n            this.svgElement.style.transform = this.svgElement.style.webkitTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n        }\r\n    }\r\n};\r\nfunction HImageElement(data,globalData,comp){\r\n    this.assetData = globalData.getAssetData(data.refId);\r\n    this.initElement(data,globalData,comp);\r\n}\r\n\r\nextendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement], HImageElement);\r\n\r\n\r\nHImageElement.prototype.createContent = function(){\r\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n    var img = new Image();\r\n\r\n    if(this.data.hasMask){\r\n        this.imageElem = createNS('image');\r\n        this.imageElem.setAttribute('width',this.assetData.w+\"px\");\r\n        this.imageElem.setAttribute('height',this.assetData.h+\"px\");\r\n        this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink','href',assetPath);\r\n        this.layerElement.appendChild(this.imageElem);\r\n        this.baseElement.setAttribute('width',this.assetData.w);\r\n        this.baseElement.setAttribute('height',this.assetData.h);\r\n    } else {\r\n        this.layerElement.appendChild(img);\r\n    }\r\n    img.src = assetPath;\r\n    if(this.data.ln){\r\n        this.baseElement.setAttribute('id',this.data.ln);\r\n    }\r\n};\r\nfunction HCameraElement(data,globalData,comp){\r\n    this.initFrame();\r\n    this.initBaseData(data,globalData,comp);\r\n    this.initHierarchy();\r\n    var getProp = PropertyFactory.getProp;\r\n    this.pe = getProp(this,data.pe,0,0,this);\r\n    if(data.ks.p.s){\r\n        this.px = getProp(this,data.ks.p.x,1,0,this);\r\n        this.py = getProp(this,data.ks.p.y,1,0,this);\r\n        this.pz = getProp(this,data.ks.p.z,1,0,this);\r\n    }else{\r\n        this.p = getProp(this,data.ks.p,1,0,this);\r\n    }\r\n    if(data.ks.a){\r\n        this.a = getProp(this,data.ks.a,1,0,this);\r\n    }\r\n    if(data.ks.or.k.length && data.ks.or.k[0].to){\r\n        var i,len = data.ks.or.k.length;\r\n        for(i=0;i<len;i+=1){\r\n            data.ks.or.k[i].to = null;\r\n            data.ks.or.k[i].ti = null;\r\n        }\r\n    }\r\n    this.or = getProp(this,data.ks.or,1,degToRads,this);\r\n    this.or.sh = true;\r\n    this.rx = getProp(this,data.ks.rx,0,degToRads,this);\r\n    this.ry = getProp(this,data.ks.ry,0,degToRads,this);\r\n    this.rz = getProp(this,data.ks.rz,0,degToRads,this);\r\n    this.mat = new Matrix();\r\n    this._prevMat = new Matrix();\r\n    this._isFirstFrame = true;\r\n    \r\n    // TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\r\n    this.finalTransform = {\r\n        mProp: this\r\n    };\r\n}\r\nextendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);\r\n\r\nHCameraElement.prototype.setup = function() {\r\n    var i, len = this.comp.threeDElements.length, comp;\r\n    for(i=0;i<len;i+=1){\r\n        //[perspectiveElem,container]\r\n        comp = this.comp.threeDElements[i];\r\n        if(comp.type === '3d') {\r\n            comp.perspectiveElem.style.perspective = comp.perspectiveElem.style.webkitPerspective = this.pe.v+'px';\r\n            comp.container.style.transformOrigin = comp.container.style.mozTransformOrigin = comp.container.style.webkitTransformOrigin = \"0px 0px 0px\";\r\n            comp.perspectiveElem.style.transform = comp.perspectiveElem.style.webkitTransform = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n        }\r\n    }\r\n};\r\n\r\nHCameraElement.prototype.createElements = function(){\r\n};\r\n\r\nHCameraElement.prototype.hide = function(){\r\n};\r\n\r\nHCameraElement.prototype.renderFrame = function(){\r\n    var _mdf = this._isFirstFrame;\r\n    var i, len;\r\n    if(this.hierarchy){\r\n        len = this.hierarchy.length;\r\n        for(i=0;i<len;i+=1){\r\n            _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\r\n        }\r\n    }\r\n    if(_mdf || this.pe._mdf || (this.p && this.p._mdf) || (this.px && (this.px._mdf || this.py._mdf || this.pz._mdf)) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || (this.a && this.a._mdf)) {\r\n        this.mat.reset();\r\n\r\n        if(this.hierarchy){\r\n            var mat;\r\n            len = this.hierarchy.length - 1;\r\n            for (i = len; i >= 0; i -= 1) {\r\n                var mTransf = this.hierarchy[i].finalTransform.mProp;\r\n                this.mat.translate(-mTransf.p.v[0],-mTransf.p.v[1],mTransf.p.v[2]);\r\n                this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);\r\n                this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);\r\n                this.mat.scale(1/mTransf.s.v[0],1/mTransf.s.v[1],1/mTransf.s.v[2]);\r\n                this.mat.translate(mTransf.a.v[0],mTransf.a.v[1],mTransf.a.v[2]);\r\n            }\r\n        }\r\n        if (this.p) {\r\n            this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]);\r\n        } else {\r\n            this.mat.translate(-this.px.v,-this.py.v,this.pz.v);\r\n        }\r\n        if (this.a) {\r\n            var diffVector\r\n            if (this.p) {\r\n                diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];\r\n            } else {\r\n                diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];\r\n            }\r\n            var mag = Math.sqrt(Math.pow(diffVector[0],2)+Math.pow(diffVector[1],2)+Math.pow(diffVector[2],2));\r\n            //var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\r\n            var lookDir = [diffVector[0]/mag,diffVector[1]/mag,diffVector[2]/mag];\r\n            var lookLengthOnXZ = Math.sqrt( lookDir[2]*lookDir[2] + lookDir[0]*lookDir[0] );\r\n            var m_rotationX = (Math.atan2( lookDir[1], lookLengthOnXZ ));\r\n            var m_rotationY = (Math.atan2( lookDir[0], -lookDir[2]));\r\n            this.mat.rotateY(m_rotationY).rotateX(-m_rotationX);\r\n\r\n        }\r\n        this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\r\n        this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\r\n        this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0);\r\n        this.mat.translate(0,0,this.pe.v);\r\n\r\n\r\n        \r\n\r\n        var hasMatrixChanged = !this._prevMat.equals(this.mat);\r\n        if((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {\r\n            len = this.comp.threeDElements.length;\r\n            var comp;\r\n            for(i=0;i<len;i+=1){\r\n                comp = this.comp.threeDElements[i];\r\n                if(comp.type === '3d') {\r\n                    if(hasMatrixChanged) {\r\n                        comp.container.style.transform = comp.container.style.webkitTransform = this.mat.toCSS();\r\n                    }\r\n                    if(this.pe._mdf) {\r\n                        comp.perspectiveElem.style.perspective = comp.perspectiveElem.style.webkitPerspective = this.pe.v+'px';\r\n                    }\r\n                }\r\n            }\r\n            this.mat.clone(this._prevMat);\r\n        }\r\n    }\r\n    this._isFirstFrame = false;\r\n};\r\n\r\nHCameraElement.prototype.prepareFrame = function(num) {\r\n    this.prepareProperties(num, true);\r\n};\r\n\r\nHCameraElement.prototype.destroy = function(){\r\n};\r\nHCameraElement.prototype.getBaseElement = function(){return null;};\r\nfunction HEffects() {\r\n}\r\nHEffects.prototype.renderFrame = function(){};\r\nvar animationManager = (function(){\r\n    var moduleOb = {};\r\n    var registeredAnimations = [];\r\n    var initTime = 0;\r\n    var len = 0;\r\n    var playingAnimationsNum = 0;\r\n    var _stopped = true;\r\n    var _isFrozen = false;\r\n\r\n    function removeElement(ev){\r\n        var i = 0;\r\n        var animItem = ev.target;\r\n        while(i<len) {\r\n            if (registeredAnimations[i].animation === animItem) {\r\n                registeredAnimations.splice(i, 1);\r\n                i -= 1;\r\n                len -= 1;\r\n                if(!animItem.isPaused){\r\n                    subtractPlayingCount();\r\n                }\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n\r\n    function registerAnimation(element, animationData){\r\n        if(!element){\r\n            return null;\r\n        }\r\n        var i=0;\r\n        while(i<len){\r\n            if(registeredAnimations[i].elem == element && registeredAnimations[i].elem !== null ){\r\n                return registeredAnimations[i].animation;\r\n            }\r\n            i+=1;\r\n        }\r\n        var animItem = new AnimationItem();\r\n        setupAnimation(animItem, element);\r\n        animItem.setData(element, animationData);\r\n        return animItem;\r\n    }\r\n\r\n    function getRegisteredAnimations() {\r\n        var i, len = registeredAnimations.length;\r\n        var animations = [];\r\n        for(i = 0; i < len; i += 1) {\r\n            animations.push(registeredAnimations[i].animation);\r\n        }\r\n        return animations;\r\n    }\r\n\r\n    function addPlayingCount(){\r\n        playingAnimationsNum += 1;\r\n        activate();\r\n    }\r\n\r\n    function subtractPlayingCount(){\r\n        playingAnimationsNum -= 1;\r\n    }\r\n\r\n    function setupAnimation(animItem, element){\r\n        animItem.addEventListener('destroy',removeElement);\r\n        animItem.addEventListener('_active',addPlayingCount);\r\n        animItem.addEventListener('_idle',subtractPlayingCount);\r\n        registeredAnimations.push({elem: element,animation:animItem});\r\n        len += 1;\r\n    }\r\n\r\n    function loadAnimation(params){\r\n        var animItem = new AnimationItem();\r\n        setupAnimation(animItem, null);\r\n        animItem.setParams(params);\r\n        return animItem;\r\n    }\r\n\r\n\r\n    function setSpeed(val,animation){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.setSpeed(val, animation);\r\n        }\r\n    }\r\n\r\n    function setDirection(val, animation){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.setDirection(val, animation);\r\n        }\r\n    }\r\n\r\n    function play(animation){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.play(animation);\r\n        }\r\n    }\r\n    function resume(nowTime) {\r\n        var elapsedTime = nowTime - initTime;\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.advanceTime(elapsedTime);\r\n        }\r\n        initTime = nowTime;\r\n        if(playingAnimationsNum && !_isFrozen) {\r\n            window.requestAnimationFrame(resume);\r\n        } else {\r\n            _stopped = true;\r\n        }\r\n    }\r\n\r\n    function first(nowTime){\r\n        initTime = nowTime;\r\n        window.requestAnimationFrame(resume);\r\n    }\r\n\r\n    function pause(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.pause(animation);\r\n        }\r\n    }\r\n\r\n    function goToAndStop(value,isFrame,animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.goToAndStop(value,isFrame,animation);\r\n        }\r\n    }\r\n\r\n    function stop(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.stop(animation);\r\n        }\r\n    }\r\n\r\n    function togglePause(animation) {\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.togglePause(animation);\r\n        }\r\n    }\r\n\r\n    function destroy(animation) {\r\n        var i;\r\n        for(i=(len-1);i>=0;i-=1){\r\n            registeredAnimations[i].animation.destroy(animation);\r\n        }\r\n    }\r\n\r\n    function searchAnimations(animationData, standalone, renderer){\r\n        var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')),\r\n                  [].slice.call(document.getElementsByClassName('bodymovin')));\r\n        var i, len = animElements.length;\r\n        for(i=0;i<len;i+=1){\r\n            if(renderer){\r\n                animElements[i].setAttribute('data-bm-type',renderer);\r\n            }\r\n            registerAnimation(animElements[i], animationData);\r\n        }\r\n        if(standalone && len === 0){\r\n            if(!renderer){\r\n                renderer = 'svg';\r\n            }\r\n            var body = document.getElementsByTagName('body')[0];\r\n            body.innerHTML = '';\r\n            var div = createTag('div');\r\n            div.style.width = '100%';\r\n            div.style.height = '100%';\r\n            div.setAttribute('data-bm-type',renderer);\r\n            body.appendChild(div);\r\n            registerAnimation(div, animationData);\r\n        }\r\n    }\r\n\r\n    function resize(){\r\n        var i;\r\n        for(i=0;i<len;i+=1){\r\n            registeredAnimations[i].animation.resize();\r\n        }\r\n    }\r\n\r\n    function activate(){\r\n        if(!_isFrozen && playingAnimationsNum){\r\n            if(_stopped) {\r\n                window.requestAnimationFrame(first);\r\n                _stopped = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    function freeze() {\r\n        _isFrozen = true;\r\n    }\r\n\r\n    function unfreeze() {\r\n        _isFrozen = false;\r\n        activate();\r\n    }\r\n\r\n    moduleOb.registerAnimation = registerAnimation;\r\n    moduleOb.loadAnimation = loadAnimation;\r\n    moduleOb.setSpeed = setSpeed;\r\n    moduleOb.setDirection = setDirection;\r\n    moduleOb.play = play;\r\n    moduleOb.pause = pause;\r\n    moduleOb.stop = stop;\r\n    moduleOb.togglePause = togglePause;\r\n    moduleOb.searchAnimations = searchAnimations;\r\n    moduleOb.resize = resize;\r\n    //moduleOb.start = start;\r\n    moduleOb.goToAndStop = goToAndStop;\r\n    moduleOb.destroy = destroy;\r\n    moduleOb.freeze = freeze;\r\n    moduleOb.unfreeze = unfreeze;\r\n    moduleOb.getRegisteredAnimations = getRegisteredAnimations;\r\n    return moduleOb;\r\n}());\r\n\r\nvar AnimationItem = function () {\r\n    this._cbs = [];\r\n    this.name = '';\r\n    this.path = '';\r\n    this.isLoaded = false;\r\n    this.currentFrame = 0;\r\n    this.currentRawFrame = 0;\r\n    this.firstFrame = 0;\r\n    this.totalFrames = 0;\r\n    this.frameRate = 0;\r\n    this.frameMult = 0;\r\n    this.playSpeed = 1;\r\n    this.playDirection = 1;\r\n    this.playCount = 0;\r\n    this.animationData = {};\r\n    this.assets = [];\r\n    this.isPaused = true;\r\n    this.autoplay = false;\r\n    this.loop = true;\r\n    this.renderer = null;\r\n    this.animationID = createElementID();\r\n    this.assetsPath = '';\r\n    this.timeCompleted = 0;\r\n    this.segmentPos = 0;\r\n    this.isSubframeEnabled = subframeEnabled;\r\n    this.segments = [];\r\n    this._idle = true;\r\n    this._completedLoop = false;\r\n    this.projectInterface = ProjectInterface();\r\n    this.imagePreloader = new ImagePreloader();\r\n};\r\n\r\nextendPrototype([BaseEvent], AnimationItem);\r\n\r\nAnimationItem.prototype.setParams = function(params) {\r\n    if(params.context){\r\n        this.context = params.context;\r\n    }\r\n    if(params.wrapper || params.container){\r\n        this.wrapper = params.wrapper || params.container;\r\n    }\r\n    var animType = params.animType ? params.animType : params.renderer ? params.renderer : 'svg';\r\n    switch(animType){\r\n        case 'canvas':\r\n            this.renderer = new CanvasRenderer(this, params.rendererSettings);\r\n            break;\r\n        case 'svg':\r\n            this.renderer = new SVGRenderer(this, params.rendererSettings);\r\n            break;\r\n        default:\r\n            this.renderer = new HybridRenderer(this, params.rendererSettings);\r\n            break;\r\n    }\r\n    this.imagePreloader.setCacheType(animType);\r\n    this.renderer.setProjectInterface(this.projectInterface);\r\n    this.animType = animType;\r\n    if (params.loop === ''\r\n        || params.loop === null\r\n        || params.loop === undefined\r\n        || params.loop === true)\r\n    {\r\n        this.loop = true;\r\n    } else if (params.loop === false) {\r\n        this.loop = false;\r\n    } else {\r\n        this.loop = parseInt(params.loop);\r\n    }\r\n    this.autoplay = 'autoplay' in params ? params.autoplay : true;\r\n    this.name = params.name ? params.name :  '';\r\n    this.autoloadSegments = params.hasOwnProperty('autoloadSegments') ? params.autoloadSegments :  true;\r\n    this.assetsPath = params.assetsPath;\r\n    this.initialSegment = params.initialSegment;\r\n    if (params.animationData) {\r\n        this.configAnimation(params.animationData);\r\n    } else if(params.path){\r\n\r\n        if( params.path.lastIndexOf('\\\\') !== -1){\r\n            this.path = params.path.substr(0,params.path.lastIndexOf('\\\\')+1);\r\n        } else {\r\n            this.path = params.path.substr(0,params.path.lastIndexOf('/')+1);\r\n        }\r\n        this.fileName = params.path.substr(params.path.lastIndexOf('/')+1);\r\n        this.fileName = this.fileName.substr(0,this.fileName.lastIndexOf('.json'));\r\n\r\n        assetLoader.load(params.path, this.configAnimation.bind(this), function() {\r\n            this.trigger('data_failed');\r\n        }.bind(this));\r\n    }\r\n\r\n};\r\n\r\nAnimationItem.prototype.setData = function (wrapper, animationData) {\r\n    var params = {\r\n        wrapper: wrapper,\r\n        animationData: animationData ? (typeof animationData  === \"object\") ? animationData : JSON.parse(animationData) : null\r\n    };\r\n    var wrapperAttributes = wrapper.attributes;\r\n\r\n    params.path = wrapperAttributes.getNamedItem('data-animation-path') ? wrapperAttributes.getNamedItem('data-animation-path').value : wrapperAttributes.getNamedItem('data-bm-path') ? wrapperAttributes.getNamedItem('data-bm-path').value :  wrapperAttributes.getNamedItem('bm-path') ? wrapperAttributes.getNamedItem('bm-path').value : '';\r\n    params.animType = wrapperAttributes.getNamedItem('data-anim-type') ? wrapperAttributes.getNamedItem('data-anim-type').value : wrapperAttributes.getNamedItem('data-bm-type') ? wrapperAttributes.getNamedItem('data-bm-type').value : wrapperAttributes.getNamedItem('bm-type') ? wrapperAttributes.getNamedItem('bm-type').value :  wrapperAttributes.getNamedItem('data-bm-renderer') ? wrapperAttributes.getNamedItem('data-bm-renderer').value : wrapperAttributes.getNamedItem('bm-renderer') ? wrapperAttributes.getNamedItem('bm-renderer').value : 'canvas';\r\n\r\n    var loop = wrapperAttributes.getNamedItem('data-anim-loop') ? wrapperAttributes.getNamedItem('data-anim-loop').value :  wrapperAttributes.getNamedItem('data-bm-loop') ? wrapperAttributes.getNamedItem('data-bm-loop').value :  wrapperAttributes.getNamedItem('bm-loop') ? wrapperAttributes.getNamedItem('bm-loop').value : '';\r\n    if(loop === ''){\r\n    }else if(loop === 'false'){\r\n        params.loop = false;\r\n    }else if(loop === 'true'){\r\n        params.loop = true;\r\n    }else{\r\n        params.loop = parseInt(loop);\r\n    }\r\n    var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') ? wrapperAttributes.getNamedItem('data-anim-autoplay').value :  wrapperAttributes.getNamedItem('data-bm-autoplay') ? wrapperAttributes.getNamedItem('data-bm-autoplay').value :  wrapperAttributes.getNamedItem('bm-autoplay') ? wrapperAttributes.getNamedItem('bm-autoplay').value : true;\r\n    params.autoplay = autoplay !== \"false\";\r\n\r\n    params.name = wrapperAttributes.getNamedItem('data-name') ? wrapperAttributes.getNamedItem('data-name').value :  wrapperAttributes.getNamedItem('data-bm-name') ? wrapperAttributes.getNamedItem('data-bm-name').value : wrapperAttributes.getNamedItem('bm-name') ? wrapperAttributes.getNamedItem('bm-name').value :  '';\r\n    var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') ? wrapperAttributes.getNamedItem('data-anim-prerender').value :  wrapperAttributes.getNamedItem('data-bm-prerender') ? wrapperAttributes.getNamedItem('data-bm-prerender').value :  wrapperAttributes.getNamedItem('bm-prerender') ? wrapperAttributes.getNamedItem('bm-prerender').value : '';\r\n\r\n    if(prerender === 'false'){\r\n        params.prerender = false;\r\n    }\r\n    this.setParams(params);\r\n};\r\n\r\nAnimationItem.prototype.includeLayers = function(data) {\r\n    if(data.op > this.animationData.op){\r\n        this.animationData.op = data.op;\r\n        this.totalFrames = Math.floor(data.op - this.animationData.ip);\r\n    }\r\n    var layers = this.animationData.layers;\r\n    var i, len = layers.length;\r\n    var newLayers = data.layers;\r\n    var j, jLen = newLayers.length;\r\n    for(j=0;j<jLen;j+=1){\r\n        i = 0;\r\n        while(i<len){\r\n            if(layers[i].id == newLayers[j].id){\r\n                layers[i] = newLayers[j];\r\n                break;\r\n            }\r\n            i += 1;\r\n        }\r\n    }\r\n    if(data.chars || data.fonts){\r\n        this.renderer.globalData.fontManager.addChars(data.chars);\r\n        this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\r\n    }\r\n    if(data.assets){\r\n        len = data.assets.length;\r\n        for(i = 0; i < len; i += 1){\r\n            this.animationData.assets.push(data.assets[i]);\r\n        }\r\n    }\r\n    this.animationData.__complete = false;\r\n    dataManager.completeData(this.animationData,this.renderer.globalData.fontManager);\r\n    this.renderer.includeLayers(data.layers);\r\n    if(expressionsPlugin){\r\n        expressionsPlugin.initExpressions(this);\r\n    }\r\n    this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.loadNextSegment = function() {\r\n    var segments = this.animationData.segments;\r\n    if(!segments || segments.length === 0 || !this.autoloadSegments){\r\n        this.trigger('data_ready');\r\n        this.timeCompleted = this.totalFrames;\r\n        return;\r\n    }\r\n    var segment = segments.shift();\r\n    this.timeCompleted = segment.time * this.frameRate;\r\n    var segmentPath = this.path+this.fileName+'_' + this.segmentPos + '.json';\r\n    this.segmentPos += 1;\r\n    assetLoader.load(segmentPath, this.includeLayers.bind(this), function() {\r\n        this.trigger('data_failed');\r\n    }.bind(this));\r\n};\r\n\r\nAnimationItem.prototype.loadSegments = function() {\r\n    var segments = this.animationData.segments;\r\n    if(!segments) {\r\n        this.timeCompleted = this.totalFrames;\r\n    }\r\n    this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.imagesLoaded = function() {\r\n    this.trigger('loaded_images');\r\n    this.checkLoaded()\r\n}\r\n\r\nAnimationItem.prototype.preloadImages = function() {\r\n    this.imagePreloader.setAssetsPath(this.assetsPath);\r\n    this.imagePreloader.setPath(this.path);\r\n    this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\r\n}\r\n\r\nAnimationItem.prototype.configAnimation = function (animData) {\r\n    if(!this.renderer){\r\n        return;\r\n    }\r\n    try {\r\n        this.animationData = animData;\r\n\r\n        if (this.initialSegment) {\r\n            this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\r\n            this.firstFrame = Math.round(this.initialSegment[0]);\r\n        } else {\r\n            this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\r\n            this.firstFrame = Math.round(this.animationData.ip);\r\n        }\r\n        this.renderer.configAnimation(animData);\r\n        if(!animData.assets){\r\n            animData.assets = [];\r\n        }\r\n\r\n        this.assets = this.animationData.assets;\r\n        this.frameRate = this.animationData.fr;\r\n        this.frameMult = this.animationData.fr / 1000;\r\n        this.renderer.searchExtraCompositions(animData.assets);\r\n        this.trigger('config_ready');\r\n        this.preloadImages();\r\n        this.loadSegments();\r\n        this.updaFrameModifier();\r\n        this.waitForFontsLoaded();\r\n    } catch(error) {\r\n        this.triggerConfigError(error);\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.waitForFontsLoaded = function(){\r\n    if(!this.renderer) {\r\n        return;\r\n    }\r\n    if(this.renderer.globalData.fontManager.isLoaded){\r\n        this.checkLoaded();\r\n    }else{\r\n        setTimeout(this.waitForFontsLoaded.bind(this),20);\r\n    }\r\n}\r\n\r\nAnimationItem.prototype.checkLoaded = function () {\r\n    if (!this.isLoaded \r\n        && this.renderer.globalData.fontManager.isLoaded\r\n        && (this.imagePreloader.loaded() || this.renderer.rendererType !== 'canvas')\r\n    ) {\r\n        this.isLoaded = true;\r\n        dataManager.completeData(this.animationData, this.renderer.globalData.fontManager);\r\n        if(expressionsPlugin){\r\n            expressionsPlugin.initExpressions(this);\r\n        }\r\n        this.renderer.initItems();\r\n        setTimeout(function() {\r\n            this.trigger('DOMLoaded');\r\n        }.bind(this), 0);\r\n        this.gotoFrame();\r\n        if(this.autoplay){\r\n            this.play();\r\n        }\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.resize = function () {\r\n    this.renderer.updateContainerSize();\r\n};\r\n\r\nAnimationItem.prototype.setSubframe = function(flag){\r\n    this.isSubframeEnabled = !!flag;\r\n};\r\n\r\nAnimationItem.prototype.gotoFrame = function () {\r\n    this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame;\r\n\r\n    if(this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted){\r\n        this.currentFrame = this.timeCompleted;\r\n    }\r\n    this.trigger('enterFrame');\r\n    this.renderFrame();\r\n};\r\n\r\nAnimationItem.prototype.renderFrame = function () {\r\n    if(this.isLoaded === false){\r\n        return;\r\n    }\r\n    try {\r\n        this.renderer.renderFrame(this.currentFrame + this.firstFrame);\r\n    } catch(error) {\r\n        this.triggerRenderFrameError(error);\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.play = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if(this.isPaused === true){\r\n        this.isPaused = false;\r\n        if(this._idle){\r\n            this._idle = false;\r\n            this.trigger('_active');\r\n        }\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.pause = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if(this.isPaused === false){\r\n        this.isPaused = true;\r\n        this._idle = true;\r\n        this.trigger('_idle');\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.togglePause = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if(this.isPaused === true){\r\n        this.play();\r\n    }else{\r\n        this.pause();\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.stop = function (name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    this.pause();\r\n    this.playCount = 0;\r\n    this._completedLoop = false;\r\n    this.setCurrentRawFrameValue(0);\r\n};\r\n\r\nAnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\r\n    if(name && this.name != name){\r\n        return;\r\n    }\r\n    if(isFrame){\r\n        this.setCurrentRawFrameValue(value);\r\n    }else{\r\n        this.setCurrentRawFrameValue(value * this.frameModifier);\r\n    }\r\n    this.pause();\r\n};\r\n\r\nAnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\r\n    this.goToAndStop(value, isFrame, name);\r\n    this.play();\r\n};\r\n\r\nAnimationItem.prototype.advanceTime = function (value) {\r\n    if (this.isPaused === true || this.isLoaded === false) {\r\n        return;\r\n    }\r\n    var nextValue = this.currentRawFrame + value * this.frameModifier;\r\n    var _isComplete = false;\r\n    // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\r\n    // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\r\n    if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\r\n        if (!this.loop || this.playCount === this.loop) {\r\n            if (!this.checkSegments(nextValue >  this.totalFrames ? nextValue % this.totalFrames : 0)) {\r\n                _isComplete = true;\r\n                nextValue = this.totalFrames - 1;\r\n            }\r\n        } else if (nextValue >= this.totalFrames) {\r\n            this.playCount += 1;\r\n            if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n                this.setCurrentRawFrameValue(nextValue % this.totalFrames);\r\n                this._completedLoop = true;\r\n                this.trigger('loopComplete');\r\n            }\r\n        } else {\r\n            this.setCurrentRawFrameValue(nextValue);\r\n        }\r\n    } else if(nextValue < 0) {\r\n        if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n            if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) {\r\n                this.setCurrentRawFrameValue(this.totalFrames + (nextValue % this.totalFrames));\r\n                if(!this._completedLoop) {\r\n                    this._completedLoop = true;\r\n                } else {\r\n                    this.trigger('loopComplete');\r\n                }\r\n            } else {\r\n                _isComplete = true;\r\n                nextValue = 0;\r\n            }\r\n        }\r\n    } else {\r\n        this.setCurrentRawFrameValue(nextValue);\r\n    }\r\n    if (_isComplete) {\r\n        this.setCurrentRawFrameValue(nextValue);\r\n        this.pause();\r\n        this.trigger('complete');\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.adjustSegment = function(arr, offset){\r\n    this.playCount = 0;\r\n    if(arr[1] < arr[0]){\r\n        if(this.frameModifier > 0){\r\n            if(this.playSpeed < 0){\r\n                this.setSpeed(-this.playSpeed);\r\n            } else {\r\n                this.setDirection(-1);\r\n            }\r\n        }\r\n        this.timeCompleted = this.totalFrames = arr[0] - arr[1];\r\n        this.firstFrame = arr[1];\r\n        this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\r\n    } else if(arr[1] > arr[0]){\r\n        if(this.frameModifier < 0){\r\n            if(this.playSpeed < 0){\r\n                this.setSpeed(-this.playSpeed);\r\n            } else {\r\n                this.setDirection(1);\r\n            }\r\n        }\r\n        this.timeCompleted = this.totalFrames = arr[1] - arr[0];\r\n        this.firstFrame = arr[0];\r\n        this.setCurrentRawFrameValue(0.001 + offset);\r\n    }\r\n    this.trigger('segmentStart');\r\n};\r\nAnimationItem.prototype.setSegment = function (init,end) {\r\n    var pendingFrame = -1;\r\n    if(this.isPaused) {\r\n        if (this.currentRawFrame + this.firstFrame < init) {\r\n            pendingFrame = init;\r\n        } else if (this.currentRawFrame + this.firstFrame > end) {\r\n            pendingFrame = end - init;\r\n        }\r\n    }\r\n\r\n    this.firstFrame = init;\r\n    this.timeCompleted = this.totalFrames = end - init;\r\n    if(pendingFrame !== -1) {\r\n        this.goToAndStop(pendingFrame,true);\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.playSegments = function (arr, forceFlag) {\r\n    if (forceFlag) {\r\n        this.segments.length = 0;\r\n    }\r\n    if (typeof arr[0] === 'object') {\r\n        var i, len = arr.length;\r\n        for (i = 0; i < len; i += 1) {\r\n            this.segments.push(arr[i]);\r\n        }\r\n    } else {\r\n        this.segments.push(arr);\r\n    }\r\n    if (this.segments.length && forceFlag) {\r\n        this.adjustSegment(this.segments.shift(), 0);\r\n    }\r\n    if (this.isPaused) {\r\n        this.play();\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.resetSegments = function (forceFlag) {\r\n    this.segments.length = 0;\r\n    this.segments.push([this.animationData.ip,this.animationData.op]);\r\n    //this.segments.push([this.animationData.ip*this.frameRate,Math.floor(this.animationData.op - this.animationData.ip+this.animationData.ip*this.frameRate)]);\r\n    if (forceFlag) {\r\n        this.checkSegments(0);\r\n    }\r\n};\r\nAnimationItem.prototype.checkSegments = function(offset) {\r\n    if (this.segments.length) {\r\n        this.adjustSegment(this.segments.shift(), offset);\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\nAnimationItem.prototype.destroy = function (name) {\r\n    if ((name && this.name != name) || !this.renderer) {\r\n        return;\r\n    }\r\n    this.renderer.destroy();\r\n    this.imagePreloader.destroy();\r\n    this.trigger('destroy');\r\n    this._cbs = null;\r\n    this.onEnterFrame = this.onLoopComplete = this.onComplete = this.onSegmentStart = this.onDestroy = null;\r\n    this.renderer = null;\r\n};\r\n\r\nAnimationItem.prototype.setCurrentRawFrameValue = function(value){\r\n    this.currentRawFrame = value;\r\n    this.gotoFrame();\r\n};\r\n\r\nAnimationItem.prototype.setSpeed = function (val) {\r\n    this.playSpeed = val;\r\n    this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setDirection = function (val) {\r\n    this.playDirection = val < 0 ? -1 : 1;\r\n    this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.updaFrameModifier = function () {\r\n    this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\r\n};\r\n\r\nAnimationItem.prototype.getPath = function () {\r\n    return this.path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetsPath = function (assetData) {\r\n    var path = '';\r\n    if(assetData.e) {\r\n        path = assetData.p;\r\n    } else if(this.assetsPath){\r\n        var imagePath = assetData.p;\r\n        if(imagePath.indexOf('images/') !== -1){\r\n            imagePath = imagePath.split('/')[1];\r\n        }\r\n        path = this.assetsPath + imagePath;\r\n    } else {\r\n        path = this.path;\r\n        path += assetData.u ? assetData.u : '';\r\n        path += assetData.p;\r\n    }\r\n    return path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetData = function (id) {\r\n    var i = 0, len = this.assets.length;\r\n    while (i < len) {\r\n        if(id == this.assets[i].id){\r\n            return this.assets[i];\r\n        }\r\n        i += 1;\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.hide = function () {\r\n    this.renderer.hide();\r\n};\r\n\r\nAnimationItem.prototype.show = function () {\r\n    this.renderer.show();\r\n};\r\n\r\nAnimationItem.prototype.getDuration = function (isFrame) {\r\n    return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\r\n};\r\n\r\nAnimationItem.prototype.trigger = function(name){\r\n    if(this._cbs && this._cbs[name]){\r\n        switch(name){\r\n            case 'enterFrame':\r\n                this.triggerEvent(name,new BMEnterFrameEvent(name,this.currentFrame,this.totalFrames,this.frameModifier));\r\n                break;\r\n            case 'loopComplete':\r\n                this.triggerEvent(name,new BMCompleteLoopEvent(name,this.loop,this.playCount,this.frameMult));\r\n                break;\r\n            case 'complete':\r\n                this.triggerEvent(name,new BMCompleteEvent(name,this.frameMult));\r\n                break;\r\n            case 'segmentStart':\r\n                this.triggerEvent(name,new BMSegmentStartEvent(name,this.firstFrame,this.totalFrames));\r\n                break;\r\n            case 'destroy':\r\n                this.triggerEvent(name,new BMDestroyEvent(name,this));\r\n                break;\r\n            default:\r\n                this.triggerEvent(name);\r\n        }\r\n    }\r\n    if(name === 'enterFrame' && this.onEnterFrame){\r\n        this.onEnterFrame.call(this,new BMEnterFrameEvent(name,this.currentFrame,this.totalFrames,this.frameMult));\r\n    }\r\n    if(name === 'loopComplete' && this.onLoopComplete){\r\n        this.onLoopComplete.call(this,new BMCompleteLoopEvent(name,this.loop,this.playCount,this.frameMult));\r\n    }\r\n    if(name === 'complete' && this.onComplete){\r\n        this.onComplete.call(this,new BMCompleteEvent(name,this.frameMult));\r\n    }\r\n    if(name === 'segmentStart' && this.onSegmentStart){\r\n        this.onSegmentStart.call(this,new BMSegmentStartEvent(name,this.firstFrame,this.totalFrames));\r\n    }\r\n    if(name === 'destroy' && this.onDestroy){\r\n        this.onDestroy.call(this,new BMDestroyEvent(name,this));\r\n    }\r\n};\r\n\r\nAnimationItem.prototype.triggerRenderFrameError = function(nativeError) {\r\n\r\n    var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\r\n    this.triggerEvent('error', error);\r\n\r\n    if (this.onError) {\r\n        this.onError.call(this, error);\r\n    }\r\n}\r\n\r\nAnimationItem.prototype.triggerConfigError = function(nativeError) {\r\n\r\n    var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\r\n    this.triggerEvent('error', error);\r\n\r\n    if (this.onError) {\r\n        this.onError.call(this, error);\r\n    }\r\n}\r\nvar Expressions = (function(){\r\n    var ob = {};\r\n    ob.initExpressions = initExpressions;\r\n\r\n\r\n    function initExpressions(animation){\r\n\r\n    \tvar stackCount = 0;\r\n    \tvar registers = [];\r\n\r\n    \tfunction pushExpression() {\r\n\t\t\tstackCount += 1;\r\n    \t}\r\n\r\n    \tfunction popExpression() {\r\n\t\t\tstackCount -= 1;\r\n\t\t\tif (stackCount === 0) {\r\n\t\t\t\treleaseInstances();\r\n\t\t\t}\r\n    \t}\r\n\r\n    \tfunction registerExpressionProperty(expression) {\r\n    \t\tif (registers.indexOf(expression) === -1) {\r\n\t\t\t\tregisters.push(expression)\r\n    \t\t}\r\n    \t}\r\n\r\n    \tfunction releaseInstances() {\r\n    \t\tvar i, len = registers.length;\r\n    \t\tfor (i = 0; i < len; i += 1) {\r\n\t\t\t\tregisters[i].release();\r\n    \t\t}\r\n    \t\tregisters.length = 0;\r\n    \t}\r\n\r\n        animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\r\n        animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\r\n        animation.renderer.globalData.pushExpression = pushExpression;\r\n        animation.renderer.globalData.popExpression = popExpression;\r\n        animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\r\n    }\r\n   return ob;\r\n}());\r\n\r\nexpressionsPlugin = Expressions;\r\n\r\nvar ExpressionManager = (function(){\r\n    'use strict';\r\n    var ob = {};\r\n    var Math = BMMath;\r\n    var window = null;\r\n    var document = null;\r\n\r\n    function $bm_isInstanceOfArray(arr) {\r\n        return arr.constructor === Array || arr.constructor === Float32Array;\r\n    }\r\n\r\n    function isNumerable(tOfV, v) {\r\n        return tOfV === 'number' || tOfV === 'boolean' || tOfV === 'string' || v instanceof Number;\r\n    }\r\n\r\n    function $bm_neg(a){\r\n        var tOfA = typeof a;\r\n        if(tOfA === 'number' || tOfA === 'boolean'  || a instanceof Number ){\r\n            return -a;\r\n        }\r\n        if($bm_isInstanceOfArray(a)){\r\n            var i, lenA = a.length;\r\n            var retArr = [];\r\n            for(i=0;i<lenA;i+=1){\r\n                retArr[i] = -a[i];\r\n            }\r\n            return retArr;\r\n        }\r\n        if (a.propType) {\r\n            return a.v;\r\n        }\r\n    }\r\n\r\n    var easeInBez = BezierFactory.getBezierEasing(0.333,0,.833,.833, 'easeIn').get;\r\n    var easeOutBez = BezierFactory.getBezierEasing(0.167,0.167,.667,1, 'easeOut').get;\r\n    var easeInOutBez = BezierFactory.getBezierEasing(.33,0,.667,1, 'easeInOut').get;\r\n\r\n    function sum(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        if(tOfA === 'string' || tOfB === 'string'){\r\n            return a + b;\r\n        }\r\n        if(isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n            return a + b;\r\n        }\r\n        if($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)){\r\n            a = a.slice(0);\r\n            a[0] = a[0] + b;\r\n            return a;\r\n        }\r\n        if(isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)){\r\n            b = b.slice(0);\r\n            b[0] = a + b[0];\r\n            return b;\r\n        }\r\n        if($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)){\r\n            \r\n            var i = 0, lenA = a.length, lenB = b.length;\r\n            var retArr = [];\r\n            while(i<lenA || i < lenB){\r\n                if((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)){\r\n                    retArr[i] = a[i] + b[i];\r\n                }else{\r\n                    retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n                }\r\n                i += 1;\r\n            }\r\n            return retArr;\r\n        }\r\n        return 0;\r\n    }\r\n    var add = sum;\r\n\r\n    function sub(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        if(isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n            if(tOfA === 'string') {\r\n                a = parseInt(a);\r\n            }\r\n            if(tOfB === 'string') {\r\n                b = parseInt(b);\r\n            }\r\n            return a - b;\r\n        }\r\n        if( $bm_isInstanceOfArray(a) && isNumerable(tOfB, b)){\r\n            a = a.slice(0);\r\n            a[0] = a[0] - b;\r\n            return a;\r\n        }\r\n        if(isNumerable(tOfA, a) &&  $bm_isInstanceOfArray(b)){\r\n            b = b.slice(0);\r\n            b[0] = a - b[0];\r\n            return b;\r\n        }\r\n        if($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)){\r\n            var i = 0, lenA = a.length, lenB = b.length;\r\n            var retArr = [];\r\n            while(i<lenA || i < lenB){\r\n                if((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)){\r\n                    retArr[i] = a[i] - b[i];\r\n                }else{\r\n                    retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n                }\r\n                i += 1;\r\n            }\r\n            return retArr;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    function mul(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        var arr;\r\n        if(isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n            return a * b;\r\n        }\r\n\r\n        var i, len;\r\n        if($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)){\r\n            len = a.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a[i] * b;\r\n            }\r\n            return arr;\r\n        }\r\n        if(isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)){\r\n            len = b.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a * b[i];\r\n            }\r\n            return arr;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    function div(a,b) {\r\n        var tOfA = typeof a;\r\n        var tOfB = typeof b;\r\n        var arr;\r\n        if(isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n            return a / b;\r\n        }\r\n        var i, len;\r\n        if($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)){\r\n            len = a.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a[i] / b;\r\n            }\r\n            return arr;\r\n        }\r\n        if(isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)){\r\n            len = b.length;\r\n            arr = createTypedArray('float32', len);\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = a / b[i];\r\n            }\r\n            return arr;\r\n        }\r\n        return 0;\r\n    }\r\n    function mod(a,b) {\r\n        if(typeof a === 'string') {\r\n            a = parseInt(a);\r\n        }\r\n        if(typeof b === 'string') {\r\n            b = parseInt(b);\r\n        }\r\n        return a % b;\r\n    }\r\n    var $bm_sum = sum;\r\n    var $bm_sub = sub;\r\n    var $bm_mul = mul;\r\n    var $bm_div = div;\r\n    var $bm_mod = mod;\r\n\r\n    function clamp(num, min, max) {\r\n        if(min > max){\r\n            var mm = max;\r\n            max = min;\r\n            min = mm;\r\n        }\r\n        return Math.min(Math.max(num, min), max);\r\n    }\r\n\r\n    function radiansToDegrees(val) {\r\n        return val/degToRads;\r\n    }\r\n    var radians_to_degrees = radiansToDegrees;\r\n\r\n    function degreesToRadians(val) {\r\n        return val*degToRads;\r\n    }\r\n    var degrees_to_radians = radiansToDegrees;\r\n\r\n    var helperLengthArray = [0,0,0,0,0,0];\r\n\r\n    function length(arr1, arr2) {\r\n        if (typeof arr1 === 'number' || arr1 instanceof Number) {\r\n            arr2 = arr2 || 0;\r\n            return Math.abs(arr1 - arr2);\r\n        }\r\n        if(!arr2) {\r\n            arr2 = helperLengthArray;\r\n        }\r\n        var i, len = Math.min(arr1.length, arr2.length);\r\n        var addedLength = 0;\r\n        for (i = 0; i < len; i += 1) {\r\n            addedLength += Math.pow(arr2[i] - arr1[i], 2);\r\n        }\r\n        return Math.sqrt(addedLength);\r\n    }\r\n\r\n    function normalize(vec) {\r\n        return div(vec, length(vec));\r\n    }\r\n\r\n    function rgbToHsl(val) {\r\n        var r = val[0]; var g = val[1]; var b = val[2];\r\n        var max = Math.max(r, g, b), min = Math.min(r, g, b);\r\n        var h, s, l = (max + min) / 2;\r\n\r\n        if(max == min){\r\n            h = s = 0; // achromatic\r\n        }else{\r\n            var d = max - min;\r\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n            switch(max){\r\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n                case g: h = (b - r) / d + 2; break;\r\n                case b: h = (r - g) / d + 4; break;\r\n            }\r\n            h /= 6;\r\n        }\r\n\r\n        return [h, s, l,val[3]];\r\n    }\r\n\r\n    function hue2rgb(p, q, t){\r\n        if(t < 0) t += 1;\r\n        if(t > 1) t -= 1;\r\n        if(t < 1/6) return p + (q - p) * 6 * t;\r\n        if(t < 1/2) return q;\r\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\r\n        return p;\r\n    }\r\n\r\n    function hslToRgb(val){\r\n        var h = val[0];\r\n        var s = val[1];\r\n        var l = val[2];\r\n\r\n        var r, g, b;\r\n\r\n        if(s === 0){\r\n            r = g = b = l; // achromatic\r\n        }else{\r\n\r\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n            var p = 2 * l - q;\r\n            r = hue2rgb(p, q, h + 1/3);\r\n            g = hue2rgb(p, q, h);\r\n            b = hue2rgb(p, q, h - 1/3);\r\n        }\r\n\r\n        return [r, g , b, val[3]];\r\n    }\r\n\r\n    function linear(t, tMin, tMax, value1, value2){\r\n        if(value1 === undefined || value2 === undefined){\r\n            value1 = tMin;\r\n            value2 = tMax;\r\n            tMin = 0;\r\n            tMax = 1;\r\n        }\r\n        if(tMax < tMin) {\r\n            var _tMin = tMax;\r\n            tMax = tMin;\r\n            tMin = _tMin;\r\n        }\r\n        if(t <= tMin) {\r\n            return value1;\r\n        }else if(t >= tMax){\r\n            return value2;\r\n        }\r\n        var perc = tMax === tMin ? 0 : (t-tMin)/(tMax-tMin);\r\n        if(!value1.length){\r\n            return value1 + (value2-value1)*perc;\r\n        }\r\n        var i, len = value1.length;\r\n        var arr = createTypedArray('float32', len);\r\n        for(i=0;i<len;i+=1){\r\n            arr[i] = value1[i] + (value2[i]-value1[i])*perc;\r\n        }\r\n        return arr;\r\n    }\r\n    function random(min,max){\r\n        if(max === undefined){\r\n            if(min === undefined){\r\n                min = 0;\r\n                max = 1;\r\n            } else {\r\n                max = min;\r\n                min = undefined;\r\n            }\r\n        }\r\n        if(max.length){\r\n            var i, len = max.length;\r\n            if(!min){\r\n                min = createTypedArray('float32', len);\r\n            }\r\n            var arr = createTypedArray('float32', len);\r\n            var rnd = BMMath.random();\r\n            for(i=0;i<len;i+=1){\r\n                arr[i] = min[i] + rnd*(max[i]-min[i]);\r\n            }\r\n            return arr;\r\n        }\r\n        if(min === undefined){\r\n            min = 0;\r\n        }\r\n        var rndm = BMMath.random();\r\n        return min + rndm*(max-min);\r\n    }\r\n\r\n    function createPath(points, inTangents, outTangents, closed) {\r\n        var i, len = points.length;\r\n        var path = shape_pool.newElement();\r\n        path.setPathData(!!closed, len);\r\n        var arrPlaceholder = [0,0], inVertexPoint, outVertexPoint;\r\n        for(i = 0; i < len; i += 1) {\r\n            inVertexPoint = (inTangents && inTangents[i]) ? inTangents[i] : arrPlaceholder;\r\n            outVertexPoint = (outTangents && outTangents[i]) ? outTangents[i] : arrPlaceholder;\r\n            path.setTripleAt(points[i][0],points[i][1],outVertexPoint[0] + points[i][0],outVertexPoint[1] + points[i][1],inVertexPoint[0] + points[i][0],inVertexPoint[1] + points[i][1],i,true);\r\n        }\r\n        return path;\r\n    }\r\n\r\n    function initiateExpression(elem,data,property){\r\n        var val = data.x;\r\n        var needsVelocity = /velocity(?![\\w\\d])/.test(val);\r\n        var _needsRandom = val.indexOf('random') !== -1;\r\n        var elemType = elem.data.ty;\r\n        var transform,$bm_transform,content,effect;\r\n        var thisProperty = property;\r\n        thisProperty.valueAtTime = thisProperty.getValueAtTime;\r\n        Object.defineProperty(thisProperty, 'value', {\r\n            get: function() {\r\n                return thisProperty.v\r\n            }\r\n        })\r\n        elem.comp.frameDuration = 1/elem.comp.globalData.frameRate;\r\n        elem.comp.displayStartTime = 0;\r\n        var inPoint = elem.data.ip/elem.comp.globalData.frameRate;\r\n        var outPoint = elem.data.op/elem.comp.globalData.frameRate;\r\n        var width = elem.data.sw ? elem.data.sw : 0;\r\n        var height = elem.data.sh ? elem.data.sh : 0;\r\n        var name = elem.data.nm;\r\n        var loopIn, loop_in, loopOut, loop_out, smooth;\r\n        var toWorld,fromWorld,fromComp,toComp,fromCompToSurface, position, rotation, anchorPoint, scale, thisLayer, thisComp,mask,valueAtTime,velocityAtTime;\r\n        var __expression_functions = [];\r\n        if(data.xf) {\r\n            var i, len = data.xf.length;\r\n            for(i = 0; i < len; i += 1) {\r\n                __expression_functions[i] = eval('(function(){ return ' + data.xf[i] + '}())');\r\n            }\r\n        }\r\n\r\n        var scoped_bm_rt;\r\n        var expression_function = eval('[function _expression_function(){' + val+';scoped_bm_rt=$bm_rt}' + ']')[0];\r\n        var numKeys = property.kf ? data.k.length : 0;\r\n\r\n        var active = !this.data || this.data.hd !== true;\r\n\r\n        var wiggle = function wiggle(freq,amp){\r\n            var i,j, len = this.pv.length ? this.pv.length : 1;\r\n            var addedAmps = createTypedArray('float32', len);\r\n            freq = 5;\r\n            var iterations = Math.floor(time*freq);\r\n            i = 0;\r\n            j = 0;\r\n            while(i<iterations){\r\n                //var rnd = BMMath.random();\r\n                for(j=0;j<len;j+=1){\r\n                    addedAmps[j] += -amp + amp*2*BMMath.random();\r\n                    //addedAmps[j] += -amp + amp*2*rnd;\r\n                }\r\n                i += 1;\r\n            }\r\n            //var rnd2 = BMMath.random();\r\n            var periods = time*freq;\r\n            var perc = periods - Math.floor(periods);\r\n            var arr = createTypedArray('float32', len);\r\n            if(len>1){\r\n                for(j=0;j<len;j+=1){\r\n                    arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*BMMath.random())*perc;\r\n                    //arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\r\n                    //arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\r\n                }\r\n                return arr;\r\n            } else {\r\n                return this.pv + addedAmps[0] + (-amp + amp*2*BMMath.random())*perc;\r\n            }\r\n        }.bind(this);\r\n\r\n        if(thisProperty.loopIn) {\r\n            loopIn = thisProperty.loopIn.bind(thisProperty);\r\n            loop_in = loopIn;\r\n        }\r\n\r\n        if(thisProperty.loopOut) {\r\n            loopOut = thisProperty.loopOut.bind(thisProperty);\r\n            loop_out = loopOut;\r\n        }\r\n\r\n        if(thisProperty.smooth) {\r\n            smooth = thisProperty.smooth.bind(thisProperty);\r\n        }\r\n\r\n        function loopInDuration(type,duration){\r\n            return loopIn(type,duration,true);\r\n        }\r\n\r\n        function loopOutDuration(type,duration){\r\n            return loopOut(type,duration,true);\r\n        }\r\n\r\n        if(this.getValueAtTime) {\r\n            valueAtTime = this.getValueAtTime.bind(this);\r\n        }\r\n\r\n        if(this.getVelocityAtTime) {\r\n            velocityAtTime = this.getVelocityAtTime.bind(this);\r\n        }\r\n\r\n        var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\r\n\r\n        function lookAt(elem1,elem2){\r\n            var fVec = [elem2[0]-elem1[0],elem2[1]-elem1[1],elem2[2]-elem1[2]];\r\n            var pitch = Math.atan2(fVec[0],Math.sqrt(fVec[1]*fVec[1]+fVec[2]*fVec[2]))/degToRads;\r\n            var yaw = -Math.atan2(fVec[1],fVec[2])/degToRads;\r\n            return [yaw,pitch,0];\r\n        }\r\n\r\n        function easeOut(t, tMin, tMax, val1, val2){\r\n            return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\r\n        }\r\n\r\n        function easeIn(t, tMin, tMax, val1, val2){\r\n            return applyEase(easeInBez, t, tMin, tMax, val1, val2);\r\n        }\r\n\r\n        function ease(t, tMin, tMax, val1, val2){\r\n            return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\r\n        }\r\n\r\n        function applyEase(fn, t, tMin, tMax, val1, val2) {\r\n            if(val1 === undefined){\r\n                val1 = tMin;\r\n                val2 = tMax;\r\n            } else {\r\n                t = (t - tMin) / (tMax - tMin);\r\n            }\r\n            t = t > 1 ? 1 : t < 0 ? 0 : t;\r\n            var mult = fn(t);\r\n            if($bm_isInstanceOfArray(val1)) {\r\n                var i, len = val1.length;\r\n                var arr = createTypedArray('float32', len);\r\n                for (i = 0; i < len; i += 1) {\r\n                    arr[i] = (val2[i] - val1[i]) * mult + val1[i];\r\n                }\r\n                return arr;\r\n            } else {\r\n                return (val2 - val1) * mult + val1;\r\n            }\r\n        }\r\n\r\n        function nearestKey(time){\r\n            var i, len = data.k.length,index,keyTime;\r\n            if(!data.k.length || typeof(data.k[0]) === 'number'){\r\n                index = 0;\r\n                keyTime = 0;\r\n            } else {\r\n                index = -1;\r\n                time *= elem.comp.globalData.frameRate;\r\n                if (time < data.k[0].t) {\r\n                    index = 1;\r\n                    keyTime = data.k[0].t;\r\n                } else {\r\n                    for(i=0;i<len-1;i+=1){\r\n                        if(time === data.k[i].t){\r\n                            index = i + 1;\r\n                            keyTime = data.k[i].t;\r\n                            break;\r\n                        }else if(time>data.k[i].t && time<data.k[i+1].t){\r\n                            if(time-data.k[i].t > data.k[i+1].t - time){\r\n                                index = i + 2;\r\n                                keyTime = data.k[i+1].t;\r\n                            } else {\r\n                                index = i + 1;\r\n                                keyTime = data.k[i].t;\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                    if(index === -1){\r\n                        index = i + 1;\r\n                        keyTime = data.k[i].t;\r\n                    }\r\n                }\r\n                \r\n            }\r\n            var ob = {};\r\n            ob.index = index;\r\n            ob.time = keyTime/elem.comp.globalData.frameRate;\r\n            return ob;\r\n        }\r\n\r\n        function key(ind){\r\n            var ob, i, len;\r\n            if(!data.k.length || typeof(data.k[0]) === 'number'){\r\n                throw new Error('The property has no keyframe at index ' + ind);\r\n            }\r\n            ind -= 1;\r\n            ob = {\r\n                time: data.k[ind].t/elem.comp.globalData.frameRate,\r\n                value: []\r\n            };\r\n            var arr = data.k[ind].hasOwnProperty('s') ? data.k[ind].s : data.k[ind - 1].e;\r\n\r\n            len = arr.length;\r\n            for(i=0;i<len;i+=1){\r\n                ob[i] = arr[i];\r\n                ob.value[i] = arr[i]\r\n            }\r\n            return ob;\r\n        }\r\n\r\n        function framesToTime(frames, fps) { \r\n            if (!fps) {\r\n                fps = elem.comp.globalData.frameRate;\r\n            }\r\n            return frames / fps;\r\n        }\r\n\r\n        function timeToFrames(t, fps) {\r\n            if (!t && t !== 0) {\r\n                t = time;\r\n            }\r\n            if (!fps) {\r\n                fps = elem.comp.globalData.frameRate;\r\n            }\r\n            return t * fps;\r\n        }\r\n\r\n        function seedRandom(seed){\r\n            BMMath.seedrandom(randSeed + seed);\r\n        }\r\n\r\n        function sourceRectAtTime() {\r\n            return elem.sourceRectAtTime();\r\n        }\r\n\r\n        function substring(init, end) {\r\n            if(typeof value === 'string') {\r\n                if(end === undefined) {\r\n                return value.substring(init)\r\n                }\r\n                return value.substring(init, end)\r\n            }\r\n            return '';\r\n        }\r\n\r\n        function substr(init, end) {\r\n            if(typeof value === 'string') {\r\n                if(end === undefined) {\r\n                return value.substr(init)\r\n                }\r\n                return value.substr(init, end)\r\n            }\r\n            return '';\r\n        }\r\n\r\n        function posterizeTime(framesPerSecond) {\r\n            time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond\r\n            value = valueAtTime(time)\r\n        }\r\n\r\n        var time, velocity, value, text, textIndex, textTotal, selectorValue;\r\n        var index = elem.data.ind;\r\n        var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n        var parent;\r\n        var randSeed = Math.floor(Math.random()*1000000);\r\n        var globalData = elem.globalData;\r\n        function executeExpression(_value) {\r\n            // globalData.pushExpression();\r\n            value = _value;\r\n            if (_needsRandom) {\r\n                seedRandom(randSeed);\r\n            }\r\n            if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\r\n                return value;\r\n            }\r\n            if(this.propType === 'textSelector'){\r\n                textIndex = this.textIndex;\r\n                textTotal = this.textTotal;\r\n                selectorValue = this.selectorValue;\r\n            }\r\n            if (!thisLayer) {\r\n                text = elem.layerInterface.text;\r\n                thisLayer = elem.layerInterface;\r\n                thisComp = elem.comp.compInterface;\r\n                toWorld = thisLayer.toWorld.bind(thisLayer);\r\n                fromWorld = thisLayer.fromWorld.bind(thisLayer);\r\n                fromComp = thisLayer.fromComp.bind(thisLayer);\r\n                toComp = thisLayer.toComp.bind(thisLayer);\r\n                mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\r\n                fromCompToSurface = fromComp;\r\n            }\r\n            if (!transform) {\r\n                transform = elem.layerInterface(\"ADBE Transform Group\");\r\n                $bm_transform = transform;\r\n                if(transform) {\r\n                    anchorPoint = transform.anchorPoint;\r\n                    /*position = transform.position;\r\n                    rotation = transform.rotation;\r\n                    scale = transform.scale;*/\r\n                }\r\n            }\r\n            \r\n            if (elemType === 4 && !content) {\r\n                content = thisLayer(\"ADBE Root Vectors Group\");\r\n            }\r\n            if (!effect) {\r\n                effect = thisLayer(4);\r\n            }\r\n            hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n            if (hasParent && !parent) {\r\n                parent = elem.hierarchy[0].layerInterface;\r\n            }\r\n            time = this.comp.renderedFrame/this.comp.globalData.frameRate;\r\n            if (needsVelocity) {\r\n                velocity = velocityAtTime(time);\r\n            }\r\n            expression_function();\r\n            this.frameExpressionId = elem.globalData.frameId;\r\n\r\n\r\n            //TODO: Check if it's possible to return on ShapeInterface the .v value\r\n            if (scoped_bm_rt.propType === \"shape\") {\r\n                scoped_bm_rt = scoped_bm_rt.v;\r\n            }\r\n            // globalData.popExpression();\r\n            return scoped_bm_rt;\r\n        }\r\n        return executeExpression;\r\n    }\r\n\r\n    ob.initiateExpression = initiateExpression;\r\n    return ob;\r\n}());\r\nvar expressionHelpers = (function(){\r\n\r\n    function searchExpressions(elem,data,prop){\r\n        if(data.x){\r\n            prop.k = true;\r\n            prop.x = true;\r\n            prop.initiateExpression = ExpressionManager.initiateExpression;\r\n            prop.effectsSequence.push(prop.initiateExpression(elem,data,prop).bind(prop));\r\n        }\r\n    }\r\n\r\n    function getValueAtTime(frameNum) {\r\n        frameNum *= this.elem.globalData.frameRate;\r\n        frameNum -= this.offsetTime;\r\n        if(frameNum !== this._cachingAtTime.lastFrame) {\r\n            this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\r\n            this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\r\n            this._cachingAtTime.lastFrame = frameNum;\r\n        }\r\n        return this._cachingAtTime.value;\r\n\r\n    }\r\n\r\n    function getSpeedAtTime(frameNum) {\r\n        var delta = -0.01;\r\n        var v1 = this.getValueAtTime(frameNum);\r\n        var v2 = this.getValueAtTime(frameNum + delta);\r\n        var speed = 0;\r\n        if(v1.length){\r\n            var i;\r\n            for(i=0;i<v1.length;i+=1){\r\n                speed += Math.pow(v2[i] - v1[i], 2);\r\n            }\r\n            speed = Math.sqrt(speed) * 100;\r\n        } else {\r\n            speed = 0;\r\n        }\r\n        return speed;\r\n    }\r\n\r\n    function getVelocityAtTime(frameNum) {\r\n        if(this.vel !== undefined){\r\n            return this.vel;\r\n        }\r\n        var delta = -0.001;\r\n        //frameNum += this.elem.data.st;\r\n        var v1 = this.getValueAtTime(frameNum);\r\n        var v2 = this.getValueAtTime(frameNum + delta);\r\n        var velocity;\r\n        if(v1.length){\r\n            velocity = createTypedArray('float32', v1.length);\r\n            var i;\r\n            for(i=0;i<v1.length;i+=1){\r\n                //removing frameRate\r\n                //if needed, don't add it here\r\n                //velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\r\n                velocity[i] = (v2[i] - v1[i])/delta;\r\n            }\r\n        } else {\r\n            velocity = (v2 - v1)/delta;\r\n        }\r\n        return velocity;\r\n    }\r\n\r\n    function getStaticValueAtTime() {\r\n        return this.pv;\r\n    }\r\n\r\n    function setGroupProperty(propertyGroup){\r\n        this.propertyGroup = propertyGroup;\r\n    }\r\n\r\n\treturn {\r\n\t\tsearchExpressions: searchExpressions,\r\n\t\tgetSpeedAtTime: getSpeedAtTime,\r\n\t\tgetVelocityAtTime: getVelocityAtTime,\r\n\t\tgetValueAtTime: getValueAtTime,\r\n\t\tgetStaticValueAtTime: getStaticValueAtTime,\r\n\t\tsetGroupProperty: setGroupProperty,\r\n\t}\r\n}());\r\n(function addPropertyDecorator() {\r\n\r\n    function loopOut(type,duration,durationFlag){\r\n        if(!this.k || !this.keyframes){\r\n            return this.pv;\r\n        }\r\n        type = type ? type.toLowerCase() : '';\r\n        var currentFrame = this.comp.renderedFrame;\r\n        var keyframes = this.keyframes;\r\n        var lastKeyFrame = keyframes[keyframes.length - 1].t;\r\n        if(currentFrame<=lastKeyFrame){\r\n            return this.pv;\r\n        }else{\r\n            var cycleDuration, firstKeyFrame;\r\n            if(!durationFlag){\r\n                if(!duration || duration > keyframes.length - 1){\r\n                    duration = keyframes.length - 1;\r\n                }\r\n                firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\r\n                cycleDuration = lastKeyFrame - firstKeyFrame;\r\n            } else {\r\n                if(!duration){\r\n                    cycleDuration = Math.max(0,lastKeyFrame - this.elem.data.ip);\r\n                } else {\r\n                    cycleDuration = Math.abs(lastKeyFrame - elem.comp.globalData.frameRate*duration);\r\n                }\r\n                firstKeyFrame = lastKeyFrame - cycleDuration;\r\n            }\r\n            var i, len, ret;\r\n            if(type === 'pingpong') {\r\n                var iterations = Math.floor((currentFrame - firstKeyFrame)/cycleDuration);\r\n                if(iterations % 2 !== 0){\r\n                    return this.getValueAtTime(((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n                }\r\n            } else if(type === 'offset'){\r\n                var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration +  firstKeyFrame) / this.comp.globalData.frameRate, 0);\r\n                var repeats = Math.floor((currentFrame - firstKeyFrame)/cycleDuration);\r\n                if(this.pv.length){\r\n                    ret = new Array(initV.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = (endV[i]-initV[i])*repeats + current[i];\r\n                    }\r\n                    return ret;\r\n                }\r\n                return (endV-initV)*repeats + current;\r\n            } else if(type === 'continue'){\r\n                var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\r\n                if(this.pv.length){\r\n                    ret = new Array(lastValue.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = lastValue[i] + (lastValue[i]-nextLastValue[i])*((currentFrame - lastKeyFrame)/ this.comp.globalData.frameRate)/0.0005;\r\n                    }\r\n                    return ret;\r\n                }\r\n                return lastValue + (lastValue-nextLastValue)*(((currentFrame - lastKeyFrame))/0.001);\r\n            }\r\n            return this.getValueAtTime((((currentFrame - firstKeyFrame) % cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n        }\r\n    }\r\n\r\n    function loopIn(type,duration, durationFlag) {\r\n        if(!this.k){\r\n            return this.pv;\r\n        }\r\n        type = type ? type.toLowerCase() : '';\r\n        var currentFrame = this.comp.renderedFrame;\r\n        var keyframes = this.keyframes;\r\n        var firstKeyFrame = keyframes[0].t;\r\n        if(currentFrame>=firstKeyFrame){\r\n            return this.pv;\r\n        }else{\r\n            var cycleDuration, lastKeyFrame;\r\n            if(!durationFlag){\r\n                if(!duration || duration > keyframes.length - 1){\r\n                    duration = keyframes.length - 1;\r\n                }\r\n                lastKeyFrame = keyframes[duration].t;\r\n                cycleDuration = lastKeyFrame - firstKeyFrame;\r\n            } else {\r\n                if(!duration){\r\n                    cycleDuration = Math.max(0,this.elem.data.op - firstKeyFrame);\r\n                } else {\r\n                    cycleDuration = Math.abs(elem.comp.globalData.frameRate*duration);\r\n                }\r\n                lastKeyFrame = firstKeyFrame + cycleDuration;\r\n            }\r\n            var i, len, ret;\r\n            if(type === 'pingpong') {\r\n                var iterations = Math.floor((firstKeyFrame - currentFrame)/cycleDuration);\r\n                if(iterations % 2 === 0){\r\n                    return this.getValueAtTime((((firstKeyFrame - currentFrame)%cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n                }\r\n            } else if(type === 'offset'){\r\n                var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var current = this.getValueAtTime((cycleDuration - (firstKeyFrame - currentFrame)%cycleDuration +  firstKeyFrame) / this.comp.globalData.frameRate, 0);\r\n                var repeats = Math.floor((firstKeyFrame - currentFrame)/cycleDuration)+1;\r\n                if(this.pv.length){\r\n                    ret = new Array(initV.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = current[i]-(endV[i]-initV[i])*repeats;\r\n                    }\r\n                    return ret;\r\n                }\r\n                return current-(endV-initV)*repeats;\r\n            } else if(type === 'continue'){\r\n                var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n                var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\r\n                if(this.pv.length){\r\n                    ret = new Array(firstValue.length);\r\n                    len = ret.length;\r\n                    for(i=0;i<len;i+=1){\r\n                        ret[i] = firstValue[i] + (firstValue[i]-nextFirstValue[i])*(firstKeyFrame - currentFrame)/0.001;\r\n                    }\r\n                    return ret;\r\n                }\r\n                return firstValue + (firstValue-nextFirstValue)*(firstKeyFrame - currentFrame)/0.001;\r\n            }\r\n            return this.getValueAtTime(((cycleDuration - (firstKeyFrame - currentFrame) % cycleDuration +  firstKeyFrame)) / this.comp.globalData.frameRate, 0);\r\n        }\r\n    }\r\n\r\n    function smooth(width, samples) {\r\n        if (!this.k){\r\n            return this.pv;\r\n        }\r\n        width = (width || 0.4) * 0.5;\r\n        samples = Math.floor(samples || 5);\r\n        if (samples <= 1) {\r\n            return this.pv;\r\n        }\r\n        var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\r\n        var initFrame = currentTime - width;\r\n        var endFrame = currentTime + width;\r\n        var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\r\n        var i = 0, j = 0;\r\n        var value;\r\n        if (this.pv.length) {\r\n            value = createTypedArray('float32', this.pv.length);\r\n        } else {\r\n            value = 0;\r\n        }\r\n        var sampleValue;\r\n        while (i < samples) {\r\n            sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\r\n            if(this.pv.length) {\r\n                for (j = 0; j < this.pv.length; j += 1) {\r\n                    value[j] += sampleValue[j];\r\n                }\r\n            } else {\r\n                value += sampleValue;\r\n            }\r\n            i += 1;\r\n        }\r\n        if(this.pv.length) {\r\n            for (j = 0; j < this.pv.length; j += 1) {\r\n                value[j] /= samples;\r\n            }\r\n        } else {\r\n            value /= samples;\r\n        }\r\n        return value;\r\n    }\r\n\r\n    function getValueAtTime(frameNum) {\r\n        frameNum *= this.elem.globalData.frameRate;\r\n        frameNum -= this.offsetTime;\r\n        if(frameNum !== this._cachingAtTime.lastFrame) {\r\n            this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\r\n            this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\r\n            this._cachingAtTime.lastFrame = frameNum;\r\n        }\r\n        return this._cachingAtTime.value;\r\n\r\n    }\r\n\r\n    function getTransformValueAtTime(time) {\r\n        console.warn('Transform at time not supported');\r\n    }\r\n\r\n    function getTransformStaticValueAtTime(time) {\r\n\r\n    }\r\n\r\n    var getTransformProperty = TransformPropertyFactory.getTransformProperty;\r\n    TransformPropertyFactory.getTransformProperty = function(elem, data, container) {\r\n        var prop = getTransformProperty(elem, data, container);\r\n        if(prop.dynamicProperties.length) {\r\n            prop.getValueAtTime = getTransformValueAtTime.bind(prop);\r\n        } else {\r\n            prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\r\n        }\r\n        prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n        return prop;\r\n    };\r\n\r\n    var propertyGetProp = PropertyFactory.getProp;\r\n    PropertyFactory.getProp = function(elem,data,type, mult, container){\r\n        var prop = propertyGetProp(elem,data,type, mult, container);\r\n        //prop.getVelocityAtTime = getVelocityAtTime;\r\n        //prop.loopOut = loopOut;\r\n        //prop.loopIn = loopIn;\r\n        if(prop.kf){\r\n            prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\r\n        } else {\r\n            prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\r\n        }\r\n        prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n        prop.loopOut = loopOut;\r\n        prop.loopIn = loopIn;\r\n        prop.smooth = smooth;\r\n        prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\r\n        prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\r\n        prop.numKeys = data.a === 1 ? data.k.length : 0;\r\n        prop.propertyIndex = data.ix;\r\n        var value = 0;\r\n        if(type !== 0) {\r\n            value = createTypedArray('float32', data.a === 1 ?  data.k[0].s.length : data.k.length);\r\n        }\r\n        prop._cachingAtTime = {\r\n            lastFrame: initialDefaultFrame,\r\n            lastIndex: 0,\r\n            value: value\r\n        };\r\n        expressionHelpers.searchExpressions(elem,data,prop);\r\n        if(prop.k){\r\n            container.addDynamicProperty(prop);\r\n        }\r\n\r\n        return prop;\r\n    };\r\n\r\n    function getShapeValueAtTime(frameNum) {\r\n        //For now this caching object is created only when needed instead of creating it when the shape is initialized.\r\n        if (!this._cachingAtTime) {\r\n            this._cachingAtTime = {\r\n                shapeValue: shape_pool.clone(this.pv),\r\n                lastIndex: 0,\r\n                lastTime: initialDefaultFrame\r\n            };\r\n        }\r\n        \r\n        frameNum *= this.elem.globalData.frameRate;\r\n        frameNum -= this.offsetTime;\r\n        if(frameNum !== this._cachingAtTime.lastTime) {\r\n            this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\r\n            this._cachingAtTime.lastTime = frameNum;\r\n            this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\r\n        }\r\n        return this._cachingAtTime.shapeValue;\r\n    }\r\n\r\n    var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\r\n    var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\r\n\r\n    function ShapeExpressions(){}\r\n    ShapeExpressions.prototype = {\r\n        vertices: function(prop, time){\r\n            if (this.k) {\r\n                this.getValue();\r\n            }\r\n            var shapePath = this.v;\r\n            if(time !== undefined) {\r\n                shapePath = this.getValueAtTime(time, 0);\r\n            }\r\n            var i, len = shapePath._length;\r\n            var vertices = shapePath[prop];\r\n            var points = shapePath.v;\r\n            var arr = createSizedArray(len);\r\n            for(i = 0; i < len; i += 1) {\r\n                if(prop === 'i' || prop === 'o') {\r\n                    arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\r\n                } else {\r\n                    arr[i] = [vertices[i][0], vertices[i][1]];\r\n                }\r\n                \r\n            }\r\n            return arr;\r\n        },\r\n        points: function(time){\r\n            return this.vertices('v', time);\r\n        },\r\n        inTangents: function(time){\r\n            return this.vertices('i', time);\r\n        },\r\n        outTangents: function(time){\r\n            return this.vertices('o', time);\r\n        },\r\n        isClosed: function(){\r\n            return this.v.c;\r\n        },\r\n        pointOnPath: function(perc, time){\r\n            var shapePath = this.v;\r\n            if(time !== undefined) {\r\n                shapePath = this.getValueAtTime(time, 0);\r\n            }\r\n            if(!this._segmentsLength) {\r\n                this._segmentsLength = bez.getSegmentsLength(shapePath);\r\n            }\r\n\r\n            var segmentsLength = this._segmentsLength;\r\n            var lengths = segmentsLength.lengths;\r\n            var lengthPos = segmentsLength.totalLength * perc;\r\n            var i = 0, len = lengths.length;\r\n            var j = 0, jLen;\r\n            var accumulatedLength = 0, pt;\r\n            while(i < len) {\r\n                if(accumulatedLength + lengths[i].addedLength > lengthPos) {\r\n                    var initIndex = i;\r\n                    var endIndex = (shapePath.c && i === len - 1) ? 0 : i + 1;\r\n                    var segmentPerc = (lengthPos - accumulatedLength)/lengths[i].addedLength;\r\n                    pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\r\n                    break;\r\n                } else {\r\n                    accumulatedLength += lengths[i].addedLength;\r\n                }\r\n                i += 1;\r\n            }\r\n            if(!pt){\r\n                pt = shapePath.c ? [shapePath.v[0][0],shapePath.v[0][1]]:[shapePath.v[shapePath._length-1][0],shapePath.v[shapePath._length-1][1]];\r\n            }\r\n            return pt;\r\n        },\r\n        vectorOnPath: function(perc, time, vectorType){\r\n            //perc doesn't use triple equality because it can be a Number object as well as a primitive.\r\n            perc = perc == 1 ? this.v.c ? 0 : 0.999 : perc;\r\n            var pt1 = this.pointOnPath(perc, time);\r\n            var pt2 = this.pointOnPath(perc + 0.001, time);\r\n            var xLength = pt2[0] - pt1[0];\r\n            var yLength = pt2[1] - pt1[1];\r\n            var magnitude = Math.sqrt(Math.pow(xLength,2) + Math.pow(yLength,2));\r\n            if (magnitude === 0) {\r\n                return [0,0];\r\n            }\r\n            var unitVector = vectorType === 'tangent' ? [xLength/magnitude, yLength/magnitude] : [-yLength/magnitude, xLength/magnitude];\r\n            return unitVector;\r\n        },\r\n        tangentOnPath: function(perc, time){\r\n            return this.vectorOnPath(perc, time, 'tangent');\r\n        },\r\n        normalOnPath: function(perc, time){\r\n            return this.vectorOnPath(perc, time, 'normal');\r\n        },\r\n        setGroupProperty: expressionHelpers.setGroupProperty,\r\n        getValueAtTime: expressionHelpers.getStaticValueAtTime\r\n    };\r\n    extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\r\n    extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\r\n    KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\r\n    KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\r\n\r\n    var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\r\n    ShapePropertyFactory.getShapeProp = function(elem,data,type, arr, trims){\r\n        var prop = propertyGetShapeProp(elem,data,type, arr, trims);\r\n        prop.propertyIndex = data.ix;\r\n        prop.lock = false;\r\n        if(type === 3){\r\n            expressionHelpers.searchExpressions(elem,data.pt,prop);\r\n        } else if(type === 4){\r\n            expressionHelpers.searchExpressions(elem,data.ks,prop);\r\n        }\r\n        if(prop.k){\r\n            elem.addDynamicProperty(prop);\r\n        }\r\n        return prop;\r\n    };\r\n}());\r\n(function addDecorator() {\r\n\r\n    function searchExpressions(){\r\n        if(this.data.d.x){\r\n            this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this);\r\n            this.addEffect(this.getExpressionValue.bind(this));\r\n            return true;\r\n        }\r\n    }\r\n\r\n    TextProperty.prototype.getExpressionValue = function(currentValue, text) {\r\n        var newValue = this.calculateExpression(text);\r\n        if(currentValue.t !== newValue) {\r\n            var newData = {};\r\n            this.copyData(newData, currentValue);\r\n            newData.t = newValue.toString();\r\n            newData.__complete = false;\r\n            return newData;\r\n        }\r\n        return currentValue;\r\n    }\r\n\r\n    TextProperty.prototype.searchProperty = function(){\r\n\r\n        var isKeyframed = this.searchKeyframes();\r\n        var hasExpressions = this.searchExpressions();\r\n        this.kf = isKeyframed || hasExpressions;\r\n        return this.kf;\r\n    };\r\n\r\n    TextProperty.prototype.searchExpressions = searchExpressions;\r\n    \r\n}());\r\nvar ShapeExpressionInterface = (function(){\r\n\r\n    function iterateElements(shapes,view, propertyGroup){\r\n        var arr = [];\r\n        var i, len = shapes ? shapes.length : 0;\r\n        for(i=0;i<len;i+=1){\r\n            if(shapes[i].ty == 'gr'){\r\n                arr.push(groupInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'fl'){\r\n                arr.push(fillInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'st'){\r\n                arr.push(strokeInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'tm'){\r\n                arr.push(trimInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'tr'){\r\n                //arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'el'){\r\n                arr.push(ellipseInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }else if(shapes[i].ty == 'sr'){\r\n                arr.push(starInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'sh'){\r\n                arr.push(pathInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'rc'){\r\n                arr.push(rectInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'rd'){\r\n                arr.push(roundedInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            } else if(shapes[i].ty == 'rp'){\r\n                arr.push(repeaterInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n            }\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function contentsInterfaceFactory(shape,view, propertyGroup){\r\n       var interfaces;\r\n       var interfaceFunction = function _interfaceFunction(value){\r\n           var i = 0, len = interfaces.length;\r\n            while(i<len){\r\n                if(interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value){\r\n                   return interfaces[i];\r\n                }\r\n                i+=1;\r\n            }\r\n            if(typeof value === 'number'){\r\n               return interfaces[value-1];\r\n            }\r\n       };\r\n       interfaceFunction.propertyGroup = function(val){\r\n           if(val === 1){\r\n               return interfaceFunction;\r\n           } else{\r\n               return propertyGroup(val-1);\r\n           }\r\n       };\r\n       interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\r\n       interfaceFunction.numProperties = interfaces.length;\r\n       interfaceFunction.propertyIndex = shape.cix;\r\n       interfaceFunction._name = shape.nm;\r\n\r\n       return interfaceFunction;\r\n   }\r\n\r\n    function groupInterfaceFactory(shape,view, propertyGroup){\r\n        var interfaceFunction = function _interfaceFunction(value){\r\n            switch(value){\r\n                case 'ADBE Vectors Group':\r\n                case 'Contents':\r\n                case 2:\r\n                    return interfaceFunction.content;\r\n                //Not necessary for now. Keeping them here in case a new case appears\r\n                //case 'ADBE Vector Transform Group':\r\n                //case 3:\r\n                default:\r\n                    return interfaceFunction.transform;\r\n            }\r\n        };\r\n        interfaceFunction.propertyGroup = function(val){\r\n            if(val === 1){\r\n                return interfaceFunction;\r\n            } else{\r\n                return propertyGroup(val-1);\r\n            }\r\n        };\r\n        var content = contentsInterfaceFactory(shape,view,interfaceFunction.propertyGroup);\r\n        var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1],view.it[view.it.length - 1],interfaceFunction.propertyGroup);\r\n        interfaceFunction.content = content;\r\n        interfaceFunction.transform = transformInterface;\r\n        Object.defineProperty(interfaceFunction, '_name', {\r\n            get: function(){\r\n                return shape.nm;\r\n            }\r\n        });\r\n        //interfaceFunction.content = interfaceFunction;\r\n        interfaceFunction.numProperties = shape.np;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        interfaceFunction.nm = shape.nm;\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function fillInterfaceFactory(shape,view,propertyGroup){\r\n        function interfaceFunction(val){\r\n            if(val === 'Color' || val === 'color'){\r\n                return interfaceFunction.color;\r\n            } else if(val === 'Opacity' || val === 'opacity'){\r\n                return interfaceFunction.opacity;\r\n            }\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'color': {\r\n                get: ExpressionPropertyInterface(view.c)\r\n            },\r\n            'opacity': {\r\n                get: ExpressionPropertyInterface(view.o)\r\n            },\r\n            '_name': { value: shape.nm },\r\n            'mn': { value: shape.mn }\r\n        });\r\n\r\n        view.c.setGroupProperty(propertyGroup);\r\n        view.o.setGroupProperty(propertyGroup);\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function strokeInterfaceFactory(shape,view,propertyGroup){\r\n        function _propertyGroup(val){\r\n            if(val === 1){\r\n                return ob;\r\n            } else{\r\n                return propertyGroup(val-1);\r\n            }\r\n        }\r\n        function _dashPropertyGroup(val){\r\n            if(val === 1){\r\n                return dashOb;\r\n            } else{\r\n                return _propertyGroup(val-1);\r\n            }\r\n        }\r\n        function addPropertyToDashOb(i) {\r\n            Object.defineProperty(dashOb, shape.d[i].nm, {\r\n                get: ExpressionPropertyInterface(view.d.dataProps[i].p)\r\n            });\r\n        }\r\n        var i, len = shape.d ? shape.d.length : 0;\r\n        var dashOb = {};\r\n        for (i = 0; i < len; i += 1) {\r\n            addPropertyToDashOb(i);\r\n            view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\r\n        }\r\n\r\n        function interfaceFunction(val){\r\n            if(val === 'Color' || val === 'color'){\r\n                return interfaceFunction.color;\r\n            } else if(val === 'Opacity' || val === 'opacity'){\r\n                return interfaceFunction.opacity;\r\n            } else if(val === 'Stroke Width' || val === 'stroke width'){\r\n                return interfaceFunction.strokeWidth;\r\n            }\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'color': {\r\n                get: ExpressionPropertyInterface(view.c)\r\n            },\r\n            'opacity': {\r\n                get: ExpressionPropertyInterface(view.o)\r\n            },\r\n            'strokeWidth': {\r\n                get: ExpressionPropertyInterface(view.w)\r\n            },\r\n            'dash': {\r\n                get: function() {\r\n                    return dashOb;\r\n                }\r\n            },\r\n            '_name': { value: shape.nm },\r\n            'mn': { value: shape.mn }\r\n        });\r\n\r\n        view.c.setGroupProperty(_propertyGroup);\r\n        view.o.setGroupProperty(_propertyGroup);\r\n        view.w.setGroupProperty(_propertyGroup);\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function trimInterfaceFactory(shape,view,propertyGroup){\r\n        function _propertyGroup(val){\r\n            if(val == 1){\r\n                return interfaceFunction;\r\n            } else {\r\n                return propertyGroup(--val);\r\n            }\r\n        }\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n\r\n        view.s.setGroupProperty(_propertyGroup);\r\n        view.e.setGroupProperty(_propertyGroup);\r\n        view.o.setGroupProperty(_propertyGroup);\r\n\r\n        function interfaceFunction(val){\r\n            if(val === shape.e.ix || val === 'End' || val === 'end'){\r\n                return interfaceFunction.end;\r\n            }\r\n            if(val === shape.s.ix){\r\n                return interfaceFunction.start;\r\n            }\r\n            if(val === shape.o.ix){\r\n                return interfaceFunction.offset;\r\n            }\r\n        }\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        interfaceFunction.propertyGroup = propertyGroup;\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'start': {\r\n                get: ExpressionPropertyInterface(view.s)\r\n            },\r\n            'end': {\r\n                get: ExpressionPropertyInterface(view.e)\r\n            },\r\n            'offset': {\r\n                get: ExpressionPropertyInterface(view.o)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function transformInterfaceFactory(shape,view,propertyGroup){\r\n        function _propertyGroup(val){\r\n            if(val == 1){\r\n                return interfaceFunction;\r\n            } else {\r\n                return propertyGroup(--val);\r\n            }\r\n        }\r\n        view.transform.mProps.o.setGroupProperty(_propertyGroup);\r\n        view.transform.mProps.p.setGroupProperty(_propertyGroup);\r\n        view.transform.mProps.a.setGroupProperty(_propertyGroup);\r\n        view.transform.mProps.s.setGroupProperty(_propertyGroup);\r\n        view.transform.mProps.r.setGroupProperty(_propertyGroup);\r\n        if(view.transform.mProps.sk){\r\n            view.transform.mProps.sk.setGroupProperty(_propertyGroup);\r\n            view.transform.mProps.sa.setGroupProperty(_propertyGroup);\r\n        }\r\n        view.transform.op.setGroupProperty(_propertyGroup);\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.a.ix === value || value === 'Anchor Point'){\r\n                return interfaceFunction.anchorPoint;\r\n            }\r\n            if(shape.o.ix === value || value === 'Opacity'){\r\n                return interfaceFunction.opacity;\r\n            }\r\n            if(shape.p.ix === value || value === 'Position'){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation'){\r\n                return interfaceFunction.rotation;\r\n            }\r\n            if(shape.s.ix === value || value === 'Scale'){\r\n                return interfaceFunction.scale;\r\n            }\r\n            if(shape.sk && shape.sk.ix === value || value === 'Skew'){\r\n                return interfaceFunction.skew;\r\n            }\r\n            if(shape.sa && shape.sa.ix === value || value === 'Skew Axis'){\r\n                return interfaceFunction.skewAxis;\r\n            }\r\n\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'opacity': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.o)\r\n            },\r\n            'position': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.p)\r\n            },\r\n            'anchorPoint': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.a)\r\n            },\r\n            'scale': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.s)\r\n            },\r\n            'rotation': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.r)\r\n            },\r\n            'skew': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.sk)\r\n            },\r\n            'skewAxis': {\r\n                get: ExpressionPropertyInterface(view.transform.mProps.sa)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.ty = 'tr';\r\n        interfaceFunction.mn = shape.mn;\r\n        interfaceFunction.propertyGroup = propertyGroup;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function ellipseInterfaceFactory(shape,view,propertyGroup){\r\n        function _propertyGroup(val){\r\n            if(val == 1){\r\n                return interfaceFunction;\r\n            } else {\r\n                return propertyGroup(--val);\r\n            }\r\n        }\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n        prop.s.setGroupProperty(_propertyGroup);\r\n        prop.p.setGroupProperty(_propertyGroup);\r\n        function interfaceFunction(value){\r\n            if(shape.p.ix === value){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.s.ix === value){\r\n                return interfaceFunction.size;\r\n            }\r\n        }\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'size': {\r\n                get: ExpressionPropertyInterface(prop.s)\r\n            },\r\n            'position': {\r\n                get: ExpressionPropertyInterface(prop.p)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function starInterfaceFactory(shape,view,propertyGroup){\r\n        function _propertyGroup(val){\r\n            if(val == 1){\r\n                return interfaceFunction;\r\n            } else {\r\n                return propertyGroup(--val);\r\n            }\r\n        }\r\n        var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.or.setGroupProperty(_propertyGroup);\r\n        prop.os.setGroupProperty(_propertyGroup);\r\n        prop.pt.setGroupProperty(_propertyGroup);\r\n        prop.p.setGroupProperty(_propertyGroup);\r\n        prop.r.setGroupProperty(_propertyGroup);\r\n        if(shape.ir){\r\n            prop.ir.setGroupProperty(_propertyGroup);\r\n            prop.is.setGroupProperty(_propertyGroup);\r\n        }\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.p.ix === value){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.r.ix === value){\r\n                return interfaceFunction.rotation;\r\n            }\r\n            if(shape.pt.ix === value){\r\n                return interfaceFunction.points;\r\n            }\r\n            if(shape.or.ix === value || 'ADBE Vector Star Outer Radius' === value){\r\n                return interfaceFunction.outerRadius;\r\n            }\r\n            if(shape.os.ix === value){\r\n                return interfaceFunction.outerRoundness;\r\n            }\r\n            if(shape.ir && (shape.ir.ix === value || 'ADBE Vector Star Inner Radius' === value)){\r\n                return interfaceFunction.innerRadius;\r\n            }\r\n            if(shape.is && shape.is.ix === value){\r\n                return interfaceFunction.innerRoundness;\r\n            }\r\n\r\n        }\r\n\r\n        Object.defineProperties(interfaceFunction, {\r\n            'position': {\r\n                get: ExpressionPropertyInterface(prop.p)\r\n            },\r\n            'rotation': {\r\n                get: ExpressionPropertyInterface(prop.r)\r\n            },\r\n            'points': {\r\n                get: ExpressionPropertyInterface(prop.pt)\r\n            },\r\n            'outerRadius': {\r\n                get: ExpressionPropertyInterface(prop.or)\r\n            },\r\n            'outerRoundness': {\r\n                get: ExpressionPropertyInterface(prop.os)\r\n            },\r\n            'innerRadius': {\r\n                get: ExpressionPropertyInterface(prop.ir)\r\n            },\r\n            'innerRoundness': {\r\n                get: ExpressionPropertyInterface(prop.is)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function rectInterfaceFactory(shape,view,propertyGroup){\r\n        function _propertyGroup(val){\r\n            if(val == 1){\r\n                return interfaceFunction;\r\n            } else {\r\n                return propertyGroup(--val);\r\n            }\r\n        }\r\n        var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.p.setGroupProperty(_propertyGroup);\r\n        prop.s.setGroupProperty(_propertyGroup);\r\n        prop.r.setGroupProperty(_propertyGroup);\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.p.ix === value){\r\n                return interfaceFunction.position;\r\n            }\r\n            if(shape.r.ix === value){\r\n                return interfaceFunction.roundness;\r\n            }\r\n            if(shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size'){\r\n                return interfaceFunction.size;\r\n            }\r\n\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'position': {\r\n                get: ExpressionPropertyInterface(prop.p)\r\n            },\r\n            'roundness': {\r\n                get: ExpressionPropertyInterface(prop.r)\r\n            },\r\n            'size': {\r\n                get: ExpressionPropertyInterface(prop.s)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function roundedInterfaceFactory(shape,view,propertyGroup){\r\n        function _propertyGroup(val){\r\n            if(val == 1){\r\n                return interfaceFunction;\r\n            } else {\r\n                return propertyGroup(--val);\r\n            }\r\n        }\r\n        var prop = view;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.rd.setGroupProperty(_propertyGroup);\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.r.ix === value || 'Round Corners 1' === value){\r\n                return interfaceFunction.radius;\r\n            }\r\n\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'radius': {\r\n                get: ExpressionPropertyInterface(prop.rd)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function repeaterInterfaceFactory(shape,view,propertyGroup){\r\n        function _propertyGroup(val){\r\n            if(val == 1){\r\n                return interfaceFunction;\r\n            } else {\r\n                return propertyGroup(--val);\r\n            }\r\n        }\r\n        var prop = view;\r\n        interfaceFunction.propertyIndex = shape.ix;\r\n        prop.c.setGroupProperty(_propertyGroup);\r\n        prop.o.setGroupProperty(_propertyGroup);\r\n\r\n        function interfaceFunction(value){\r\n            if(shape.c.ix === value || 'Copies' === value){\r\n                return interfaceFunction.copies;\r\n            } else if(shape.o.ix === value || 'Offset' === value){\r\n                return interfaceFunction.offset;\r\n            }\r\n\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'copies': {\r\n                get: ExpressionPropertyInterface(prop.c)\r\n            },\r\n            'offset': {\r\n                get: ExpressionPropertyInterface(prop.o)\r\n            },\r\n            '_name': { value: shape.nm }\r\n        });\r\n        interfaceFunction.mn = shape.mn;\r\n        return interfaceFunction;\r\n    }\r\n\r\n    function pathInterfaceFactory(shape,view,propertyGroup){\r\n        var prop = view.sh;\r\n        function _propertyGroup(val){\r\n            if(val == 1){\r\n                return interfaceFunction;\r\n            } else {\r\n                return propertyGroup(--val);\r\n            }\r\n        }\r\n        prop.setGroupProperty(_propertyGroup);\r\n\r\n        function interfaceFunction(val){\r\n            if(val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2){\r\n                return interfaceFunction.path;\r\n            }\r\n        }\r\n        Object.defineProperties(interfaceFunction, {\r\n            'path': {\r\n                get: function(){\r\n                    if(prop.k){\r\n                        prop.getValue();\r\n                    }\r\n                    return prop;\r\n                }\r\n            },\r\n            'shape': {\r\n                get: function(){\r\n                    if(prop.k){\r\n                        prop.getValue();\r\n                    }\r\n                    return prop;\r\n                }\r\n            },\r\n            '_name': { value: shape.nm },\r\n            'ix': { value: shape.ix },\r\n            'propertyIndex': { value: shape.ix },\r\n            'mn': { value: shape.mn }\r\n        });\r\n        return interfaceFunction;\r\n    }\r\n\r\n    return function(shapes,view,propertyGroup) {\r\n        var interfaces;\r\n        function _interfaceFunction(value){\r\n            if(typeof value === 'number'){\r\n                return interfaces[value-1];\r\n            } else {\r\n                var i = 0, len = interfaces.length;\r\n                while(i<len){\r\n                    if(interfaces[i]._name === value){\r\n                        return interfaces[i];\r\n                    }\r\n                    i+=1;\r\n                }\r\n            }\r\n        }\r\n        _interfaceFunction.propertyGroup = propertyGroup;\r\n        interfaces = iterateElements(shapes, view, _interfaceFunction);\r\n        _interfaceFunction.numProperties = interfaces.length;\r\n        return _interfaceFunction;\r\n    };\r\n}());\r\n\r\nvar TextExpressionInterface = (function(){\r\n\treturn function(elem){\r\n        var _prevValue, _sourceText;\r\n        function _thisLayerFunction(){\r\n        }\r\n        Object.defineProperty(_thisLayerFunction, \"sourceText\", {\r\n            get: function(){\r\n                elem.textProperty.getValue()\r\n                var stringValue = elem.textProperty.currentData.t;\r\n                if(stringValue !== _prevValue) {\r\n                    elem.textProperty.currentData.t = _prevValue;\r\n                    _sourceText = new String(stringValue);\r\n                    //If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\r\n                    _sourceText.value = stringValue ? stringValue : new String(stringValue);\r\n                }\r\n                return _sourceText;\r\n            }\r\n        });\r\n        return _thisLayerFunction;\r\n    };\r\n}());\r\nvar LayerExpressionInterface = (function (){\r\n    function toWorld(arr, time){\r\n        var toWorldMat = new Matrix();\r\n        toWorldMat.reset();\r\n        var transformMat;\r\n        if(time) {\r\n            //Todo implement value at time on transform properties\r\n            //transformMat = this._elem.finalTransform.mProp.getValueAtTime(time);\r\n            transformMat = this._elem.finalTransform.mProp;\r\n        } else {\r\n            transformMat = this._elem.finalTransform.mProp;\r\n        }\r\n        transformMat.applyToMatrix(toWorldMat);\r\n        if(this._elem.hierarchy && this._elem.hierarchy.length){\r\n            var i, len = this._elem.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n            }\r\n            return toWorldMat.applyToPointArray(arr[0],arr[1],arr[2]||0);\r\n        }\r\n        return toWorldMat.applyToPointArray(arr[0],arr[1],arr[2]||0);\r\n    }\r\n    function fromWorld(arr, time){\r\n        var toWorldMat = new Matrix();\r\n        toWorldMat.reset();\r\n        var transformMat;\r\n        if(time) {\r\n            //Todo implement value at time on transform properties\r\n            //transformMat = this._elem.finalTransform.mProp.getValueAtTime(time);\r\n            transformMat = this._elem.finalTransform.mProp;\r\n        } else {\r\n            transformMat = this._elem.finalTransform.mProp;\r\n        }\r\n        transformMat.applyToMatrix(toWorldMat);\r\n        if(this._elem.hierarchy && this._elem.hierarchy.length){\r\n            var i, len = this._elem.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n            }\r\n            return toWorldMat.inversePoint(arr);\r\n        }\r\n        return toWorldMat.inversePoint(arr);\r\n    }\r\n    function fromComp(arr){\r\n        var toWorldMat = new Matrix();\r\n        toWorldMat.reset();\r\n        this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\r\n        if(this._elem.hierarchy && this._elem.hierarchy.length){\r\n            var i, len = this._elem.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n            }\r\n            return toWorldMat.inversePoint(arr);\r\n        }\r\n        return toWorldMat.inversePoint(arr);\r\n    }\r\n\r\n    function sampleImage() {\r\n        return [1,1,1,1];\r\n    }\r\n\r\n\r\n    return function(elem){\r\n\r\n        var transformInterface;\r\n\r\n        function _registerMaskInterface(maskManager){\r\n            _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\r\n        }\r\n        function _registerEffectsInterface(effects){\r\n            _thisLayerFunction.effect = effects;\r\n        }\r\n\r\n        function _thisLayerFunction(name){\r\n            switch(name){\r\n                case \"ADBE Root Vectors Group\":\r\n                case \"Contents\":\r\n                case 2:\r\n                    return _thisLayerFunction.shapeInterface;\r\n                case 1:\r\n                case 6:\r\n                case \"Transform\":\r\n                case \"transform\":\r\n                case \"ADBE Transform Group\":\r\n                    return transformInterface;\r\n                case 4:\r\n                case \"ADBE Effect Parade\":\r\n                case \"effects\":\r\n                case \"Effects\":\r\n                    return _thisLayerFunction.effect;\r\n            }\r\n        }\r\n        _thisLayerFunction.toWorld = toWorld;\r\n        _thisLayerFunction.fromWorld = fromWorld;\r\n        _thisLayerFunction.toComp = toWorld;\r\n        _thisLayerFunction.fromComp = fromComp;\r\n        _thisLayerFunction.sampleImage = sampleImage;\r\n        _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\r\n        _thisLayerFunction._elem = elem;\r\n        transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\r\n        var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\r\n        Object.defineProperties(_thisLayerFunction,{\r\n            hasParent: {\r\n                get: function(){\r\n                    return elem.hierarchy.length;\r\n                }\r\n            },\r\n            parent: {\r\n                get: function(){\r\n                    return elem.hierarchy[0].layerInterface;\r\n                }\r\n            },\r\n            rotation: getDescriptor(transformInterface, 'rotation'),\r\n            scale: getDescriptor(transformInterface, 'scale'),\r\n            position: getDescriptor(transformInterface, 'position'),\r\n            opacity: getDescriptor(transformInterface, 'opacity'),\r\n            anchorPoint: anchorPointDescriptor,\r\n            anchor_point: anchorPointDescriptor,\r\n            transform: {\r\n                get: function () {\r\n                    return transformInterface;\r\n                }\r\n            },\r\n            active: {\r\n                get: function(){\r\n                    return elem.isInRange;\r\n                }\r\n            }\r\n        });\r\n\r\n        _thisLayerFunction.startTime = elem.data.st;\r\n        _thisLayerFunction.index = elem.data.ind;\r\n        _thisLayerFunction.source = elem.data.refId;\r\n        _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\r\n        _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\r\n        _thisLayerFunction.inPoint = elem.data.ip/elem.comp.globalData.frameRate;\r\n        _thisLayerFunction.outPoint = elem.data.op/elem.comp.globalData.frameRate;\r\n        _thisLayerFunction._name = elem.data.nm;\r\n\r\n        _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\r\n        _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\r\n        return _thisLayerFunction;\r\n    };\r\n}());\r\n\r\nvar CompExpressionInterface = (function () {\r\n    return function(comp) {\r\n        function _thisLayerFunction(name) {\r\n            var i = 0, len = comp.layers.length;\r\n            while ( i < len) {\r\n                if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\r\n                    return comp.elements[i].layerInterface;\r\n                }\r\n                i += 1;\r\n            }\r\n            return null;\r\n            //return {active:false};\r\n        }\r\n        Object.defineProperty(_thisLayerFunction, \"_name\", { value: comp.data.nm });\r\n        _thisLayerFunction.layer = _thisLayerFunction;\r\n        _thisLayerFunction.pixelAspect = 1;\r\n        _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\r\n        _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\r\n        _thisLayerFunction.pixelAspect = 1;\r\n        _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\r\n        _thisLayerFunction.displayStartTime = 0;\r\n        _thisLayerFunction.numLayers = comp.layers.length;\r\n        return _thisLayerFunction;\r\n    };\r\n}());\r\nvar TransformExpressionInterface = (function (){\r\n    return function(transform){\r\n        function _thisFunction(name){\r\n            switch(name){\r\n                case \"scale\":\r\n                case \"Scale\":\r\n                case \"ADBE Scale\":\r\n                case 6:\r\n                    return _thisFunction.scale;\r\n                case \"rotation\":\r\n                case \"Rotation\":\r\n                case \"ADBE Rotation\":\r\n                case \"ADBE Rotate Z\":\r\n                case 10:\r\n                    return _thisFunction.rotation;\r\n                case \"ADBE Rotate X\":\r\n                    return _thisFunction.xRotation;\r\n                case \"ADBE Rotate Y\":\r\n                    return _thisFunction.yRotation;\r\n                case \"position\":\r\n                case \"Position\":\r\n                case \"ADBE Position\":\r\n                case 2:\r\n                    return _thisFunction.position;\r\n                case 'ADBE Position_0':\r\n                    return _thisFunction.xPosition;\r\n                case 'ADBE Position_1':\r\n                    return _thisFunction.yPosition;\r\n                case 'ADBE Position_2':\r\n                    return _thisFunction.zPosition;\r\n                case \"anchorPoint\":\r\n                case \"AnchorPoint\":\r\n                case \"Anchor Point\":\r\n                case \"ADBE AnchorPoint\":\r\n                case 1:\r\n                    return _thisFunction.anchorPoint;\r\n                case \"opacity\":\r\n                case \"Opacity\":\r\n                case 11:\r\n                    return _thisFunction.opacity;\r\n            }\r\n        }\r\n\r\n        Object.defineProperty(_thisFunction, \"rotation\", {\r\n            get: ExpressionPropertyInterface(transform.r || transform.rz)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"zRotation\", {\r\n            get: ExpressionPropertyInterface(transform.rz || transform.r)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"xRotation\", {\r\n            get: ExpressionPropertyInterface(transform.rx)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"yRotation\", {\r\n            get: ExpressionPropertyInterface(transform.ry)\r\n        });\r\n        Object.defineProperty(_thisFunction, \"scale\", {\r\n            get: ExpressionPropertyInterface(transform.s)\r\n        });\r\n\r\n        if(transform.p) {\r\n            var _transformFactory = ExpressionPropertyInterface(transform.p);\r\n        }\r\n        Object.defineProperty(_thisFunction, \"position\", {\r\n            get: function () {\r\n                if(transform.p) {\r\n                    return _transformFactory();\r\n                } else {\r\n                    return [transform.px.v, transform.py.v, transform.pz ? transform.pz.v : 0];\r\n                }\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"xPosition\", {\r\n            get: ExpressionPropertyInterface(transform.px)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"yPosition\", {\r\n            get: ExpressionPropertyInterface(transform.py)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"zPosition\", {\r\n            get: ExpressionPropertyInterface(transform.pz)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"anchorPoint\", {\r\n            get: ExpressionPropertyInterface(transform.a)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"opacity\", {\r\n            get: ExpressionPropertyInterface(transform.o)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"skew\", {\r\n            get: ExpressionPropertyInterface(transform.sk)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"skewAxis\", {\r\n            get: ExpressionPropertyInterface(transform.sa)\r\n        });\r\n\r\n        Object.defineProperty(_thisFunction, \"orientation\", {\r\n            get: ExpressionPropertyInterface(transform.or)\r\n        });\r\n\r\n        return _thisFunction;\r\n    };\r\n}());\r\nvar ProjectInterface = (function (){\r\n\r\n    function registerComposition(comp){\r\n        this.compositions.push(comp);\r\n    }\r\n\r\n    return function(){\r\n        function _thisProjectFunction(name){\r\n            var i = 0, len = this.compositions.length;\r\n            while(i<len){\r\n                if(this.compositions[i].data && this.compositions[i].data.nm === name){\r\n                    if(this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\r\n                        this.compositions[i].prepareFrame(this.currentFrame);\r\n                    }\r\n                    return this.compositions[i].compInterface;\r\n                }\r\n                i+=1;\r\n            }\r\n        }\r\n\r\n        _thisProjectFunction.compositions = [];\r\n        _thisProjectFunction.currentFrame = 0;\r\n\r\n        _thisProjectFunction.registerComposition = registerComposition;\r\n\r\n\r\n\r\n        return _thisProjectFunction;\r\n    };\r\n}());\r\nvar EffectsExpressionInterface = (function (){\r\n    var ob = {\r\n        createEffectsInterface: createEffectsInterface\r\n    };\r\n\r\n    function createEffectsInterface(elem, propertyGroup){\r\n        if(elem.effectsManager){\r\n\r\n            var effectElements = [];\r\n            var effectsData = elem.data.ef;\r\n            var i, len = elem.effectsManager.effectElements.length;\r\n            for(i=0;i<len;i+=1){\r\n                effectElements.push(createGroupInterface(effectsData[i],elem.effectsManager.effectElements[i],propertyGroup,elem));\r\n            }\r\n\r\n            return function(name){\r\n                var effects = elem.data.ef || [], i = 0, len = effects.length;\r\n                while(i<len) {\r\n                    if(name === effects[i].nm || name === effects[i].mn || name === effects[i].ix){\r\n                        return effectElements[i];\r\n                    }\r\n                    i += 1;\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n    function createGroupInterface(data,elements, propertyGroup, elem){\r\n        var effectElements = [];\r\n        var i, len = data.ef.length;\r\n        for(i=0;i<len;i+=1){\r\n            if(data.ef[i].ty === 5){\r\n                effectElements.push(createGroupInterface(data.ef[i],elements.effectElements[i],elements.effectElements[i].propertyGroup, elem));\r\n            } else {\r\n                effectElements.push(createValueInterface(elements.effectElements[i],data.ef[i].ty, elem, _propertyGroup));\r\n            }\r\n        }\r\n\r\n        function _propertyGroup(val) {\r\n            if(val === 1){\r\n               return groupInterface;\r\n            } else{\r\n               return propertyGroup(val-1);\r\n            }\r\n        }\r\n\r\n        var groupInterface = function(name){\r\n            var effects = data.ef, i = 0, len = effects.length;\r\n            while(i<len) {\r\n                if(name === effects[i].nm || name === effects[i].mn || name === effects[i].ix){\r\n                    if(effects[i].ty === 5){\r\n                        return effectElements[i];\r\n                    } else {\r\n                        return effectElements[i]();\r\n                    }\r\n                }\r\n                i += 1;\r\n            }\r\n            return effectElements[0]();\r\n        };\r\n\r\n        groupInterface.propertyGroup = _propertyGroup;\r\n\r\n        if(data.mn === 'ADBE Color Control'){\r\n            Object.defineProperty(groupInterface, 'color', {\r\n                get: function(){\r\n                    return effectElements[0]();\r\n                }\r\n            });\r\n        }\r\n        Object.defineProperty(groupInterface, 'numProperties', {\r\n            get: function(){\r\n                return data.np;\r\n            }\r\n        });\r\n        groupInterface.active = groupInterface.enabled = data.en !== 0;\r\n        return groupInterface;\r\n    }\r\n\r\n    function createValueInterface(element, type, elem, propertyGroup){\r\n        var expressionProperty = ExpressionPropertyInterface(element.p);\r\n        function interfaceFunction(){\r\n            if(type === 10){\r\n                return elem.comp.compInterface(element.p.v);\r\n            }\r\n            return expressionProperty();\r\n        }\r\n\r\n        if(element.p.setGroupProperty) {\r\n            element.p.setGroupProperty(propertyGroup);\r\n        }\r\n\r\n        return interfaceFunction;\r\n    }\r\n\r\n    return ob;\r\n\r\n}());\r\nvar MaskManagerInterface = (function(){\r\n\r\n\tfunction MaskInterface(mask, data){\r\n\t\tthis._mask = mask;\r\n\t\tthis._data = data;\r\n\t}\r\n\tObject.defineProperty(MaskInterface.prototype, 'maskPath', {\r\n        get: function(){\r\n            if(this._mask.prop.k){\r\n                this._mask.prop.getValue();\r\n            }\r\n            return this._mask.prop;\r\n        }\r\n    });\r\n\tObject.defineProperty(MaskInterface.prototype, 'maskOpacity', {\r\n        get: function(){\r\n            if(this._mask.op.k){\r\n                this._mask.op.getValue();\r\n            }\r\n            return this._mask.op.v * 100;\r\n        }\r\n    });\r\n\r\n\tvar MaskManager = function(maskManager, elem){\r\n\t\tvar _maskManager = maskManager;\r\n\t\tvar _elem = elem;\r\n\t\tvar _masksInterfaces = createSizedArray(maskManager.viewData.length);\r\n\t\tvar i, len = maskManager.viewData.length;\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\t_masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\r\n\t\t}\r\n\r\n\t\tvar maskFunction = function(name){\r\n\t\t\ti = 0;\r\n\t\t    while(i<len){\r\n\t\t        if(maskManager.masksProperties[i].nm === name){\r\n\t\t            return _masksInterfaces[i];\r\n\t\t        }\r\n\t\t        i += 1;\r\n\t\t    }\r\n\t\t};\r\n\t\treturn maskFunction;\r\n\t};\r\n\treturn MaskManager;\r\n}());\r\n\r\nvar ExpressionPropertyInterface = (function() {\r\n\r\n    var defaultUnidimensionalValue = {pv:0, v:0, mult: 1}\r\n    var defaultMultidimensionalValue = {pv:[0,0,0], v:[0,0,0], mult: 1}\r\n\r\n    function completeProperty(expressionValue, property, type) {\r\n        Object.defineProperty(expressionValue, 'velocity', {\r\n            get: function(){\r\n                return property.getVelocityAtTime(property.comp.currentFrame);\r\n            }\r\n        });\r\n        expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\r\n        expressionValue.key = function(pos) {\r\n            if (!expressionValue.numKeys) {\r\n                return 0;\r\n            } else {\r\n                var value = '';\r\n                if ('s' in property.keyframes[pos-1]) {\r\n                    value = property.keyframes[pos-1].s;\r\n                } else if ('e' in property.keyframes[pos-2]) {\r\n                    value = property.keyframes[pos-2].e;\r\n                } else {\r\n                    value = property.keyframes[pos-2].s;\r\n                }\r\n                var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value);\r\n                valueProp.time = property.keyframes[pos-1].t / property.elem.comp.globalData.frameRate;\r\n                return valueProp;\r\n            }\r\n        };\r\n        expressionValue.valueAtTime = property.getValueAtTime;\r\n        expressionValue.speedAtTime = property.getSpeedAtTime;\r\n        expressionValue.velocityAtTime = property.getVelocityAtTime;\r\n        expressionValue.propertyGroup = property.propertyGroup;\r\n    }\r\n\r\n    function UnidimensionalPropertyInterface(property) {\r\n        if(!property || !('pv' in property)) {\r\n            property = defaultUnidimensionalValue;\r\n        }\r\n        var mult = 1 / property.mult;\r\n        var val = property.pv * mult;\r\n        var expressionValue = new Number(val);\r\n        expressionValue.value = val;\r\n        completeProperty(expressionValue, property, 'unidimensional');\r\n\r\n        return function() {\r\n            if (property.k) {\r\n                property.getValue();\r\n            }\r\n            val = property.v * mult;\r\n            if(expressionValue.value !== val) {\r\n                expressionValue = new Number(val);\r\n                expressionValue.value = val;\r\n                completeProperty(expressionValue, property, 'unidimensional');\r\n            }\r\n            return expressionValue;\r\n        }\r\n    }\r\n\r\n    function MultidimensionalPropertyInterface(property) {\r\n        if(!property || !('pv' in property)) {\r\n            property = defaultMultidimensionalValue;\r\n        }\r\n        var mult = 1 / property.mult;\r\n        var len = property.pv.length;\r\n        var expressionValue = createTypedArray('float32', len);\r\n        var arrValue = createTypedArray('float32', len);\r\n        expressionValue.value = arrValue;\r\n        completeProperty(expressionValue, property, 'multidimensional');\r\n\r\n        return function() {\r\n            if (property.k) {\r\n                property.getValue();\r\n            }\r\n            for (var i = 0; i < len; i += 1) {\r\n                expressionValue[i] = arrValue[i] = property.v[i] * mult;\r\n            }\r\n            return expressionValue;\r\n        }\r\n    }\r\n\r\n    //TODO: try to avoid using this getter\r\n    function defaultGetter() {\r\n        return defaultUnidimensionalValue;\r\n    }\r\n    \r\n    return function(property) {\r\n        if(!property) {\r\n            return defaultGetter;\r\n        } else if (property.propType === 'unidimensional') {\r\n            return UnidimensionalPropertyInterface(property);\r\n        } else {\r\n            return MultidimensionalPropertyInterface(property);\r\n        }\r\n    }\r\n}());\r\n\r\n(function(){\r\n\r\n    var TextExpressionSelectorProp = (function(){\r\n\r\n        function getValueProxy(index,total){\r\n            this.textIndex = index+1;\r\n            this.textTotal = total;\r\n            this.v = this.getValue() * this.mult;\r\n            return this.v;\r\n        }\r\n\r\n        return function TextExpressionSelectorProp(elem,data){\r\n            this.pv = 1;\r\n            this.comp = elem.comp;\r\n            this.elem = elem;\r\n            this.mult = 0.01;\r\n            this.propType = 'textSelector';\r\n            this.textTotal = data.totalChars;\r\n            this.selectorValue = 100;\r\n            this.lastValue = [1,1,1];\r\n            this.k = true;\r\n            this.x = true;\r\n            this.getValue = ExpressionManager.initiateExpression.bind(this)(elem,data,this);\r\n            this.getMult = getValueProxy;\r\n            this.getVelocityAtTime = expressionHelpers.getVelocityAtTime;\r\n            if(this.kf){\r\n                this.getValueAtTime = expressionHelpers.getValueAtTime.bind(this);\r\n            } else {\r\n                this.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(this);\r\n            }\r\n            this.setGroupProperty = expressionHelpers.setGroupProperty;\r\n        };\r\n    }());\r\n\r\n\tvar propertyGetTextProp = TextSelectorProp.getTextSelectorProp;\r\n\tTextSelectorProp.getTextSelectorProp = function(elem, data,arr){\r\n\t    if(data.t === 1){\r\n\t        return new TextExpressionSelectorProp(elem, data,arr);\r\n\t    } else {\r\n\t        return propertyGetTextProp(elem,data,arr);\r\n\t    }\r\n\t};\r\n}());\r\nfunction SliderEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction AngleEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction ColorEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,1,0,container);\r\n}\r\nfunction PointEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,1,0,container);\r\n}\r\nfunction LayerIndexEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction MaskIndexEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction CheckboxEffect(data,elem, container){\r\n    this.p = PropertyFactory.getProp(elem,data.v,0,0,container);\r\n}\r\nfunction NoValueEffect(){\r\n    this.p = {};\r\n}\r\nfunction EffectsManager(){}\r\nfunction EffectsManager(data,element){\r\n    var effects = data.ef || [];\r\n    this.effectElements = [];\r\n    var i,len = effects.length;\r\n    var effectItem;\r\n    for(i=0;i<len;i++) {\r\n        effectItem = new GroupEffect(effects[i],element);\r\n        this.effectElements.push(effectItem);\r\n    }\r\n}\r\n\r\nfunction GroupEffect(data,element){\r\n    this.init(data,element);\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], GroupEffect);\r\n\r\nGroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\r\n\r\nGroupEffect.prototype.init = function(data,element){\r\n    this.data = data;\r\n    this.effectElements = [];\r\n    this.initDynamicPropertyContainer(element);\r\n    var i, len = this.data.ef.length;\r\n    var eff, effects = this.data.ef;\r\n    for(i=0;i<len;i+=1){\r\n        eff = null;\r\n        switch(effects[i].ty){\r\n            case 0:\r\n                eff = new SliderEffect(effects[i],element,this);\r\n                break;\r\n            case 1:\r\n                eff = new AngleEffect(effects[i],element,this);\r\n                break;\r\n            case 2:\r\n                eff = new ColorEffect(effects[i],element,this);\r\n                break;\r\n            case 3:\r\n                eff = new PointEffect(effects[i],element,this);\r\n                break;\r\n            case 4:\r\n            case 7:\r\n                eff = new CheckboxEffect(effects[i],element,this);\r\n                break;\r\n            case 10:\r\n                eff = new LayerIndexEffect(effects[i],element,this);\r\n                break;\r\n            case 11:\r\n                eff = new MaskIndexEffect(effects[i],element,this);\r\n                break;\r\n            case 5:\r\n                eff = new EffectsManager(effects[i],element,this);\r\n                break;\r\n            //case 6:\r\n            default:\r\n                eff = new NoValueEffect(effects[i],element,this);\r\n                break;\r\n        }\r\n        if(eff) {\r\n            this.effectElements.push(eff);\r\n        }\r\n    }\r\n};\r\n\r\nvar lottie = {};\r\n\r\nvar _isFrozen = false;\r\n\r\nfunction setLocationHref (href) {\r\n    locationHref = href;\r\n}\r\n\r\nfunction searchAnimations() {\r\n    if (standalone === true) {\r\n        animationManager.searchAnimations(animationData, standalone, renderer);\r\n    } else {\r\n        animationManager.searchAnimations();\r\n    }\r\n}\r\n\r\nfunction setSubframeRendering(flag) {\r\n    subframeEnabled = flag;\r\n}\r\n\r\nfunction loadAnimation(params) {\r\n    if (standalone === true) {\r\n        params.animationData = JSON.parse(animationData);\r\n    }\r\n    return animationManager.loadAnimation(params);\r\n}\r\n\r\nfunction setQuality(value) {\r\n    if (typeof value === 'string') {\r\n        switch (value) {\r\n            case 'high':\r\n                defaultCurveSegments = 200;\r\n                break;\r\n            case 'medium':\r\n                defaultCurveSegments = 50;\r\n                break;\r\n            case 'low':\r\n                defaultCurveSegments = 10;\r\n                break;\r\n        }\r\n    } else if (!isNaN(value) && value > 1) {\r\n        defaultCurveSegments = value;\r\n    }\r\n    if (defaultCurveSegments >= 50) {\r\n        roundValues(false);\r\n    } else {\r\n        roundValues(true);\r\n    }\r\n}\r\n\r\nfunction inBrowser() {\r\n    return typeof navigator !== 'undefined';\r\n}\r\n\r\nfunction installPlugin(type, plugin) {\r\n    if (type === 'expressions') {\r\n        expressionsPlugin = plugin;\r\n    }\r\n}\r\n\r\nfunction getFactory(name) {\r\n    switch (name) {\r\n        case \"propertyFactory\":\r\n            return PropertyFactory;\r\n        case \"shapePropertyFactory\":\r\n            return ShapePropertyFactory;\r\n        case \"matrix\":\r\n            return Matrix;\r\n    }\r\n}\r\n\r\nlottie.play = animationManager.play;\r\nlottie.pause = animationManager.pause;\r\nlottie.setLocationHref = setLocationHref;\r\nlottie.togglePause = animationManager.togglePause;\r\nlottie.setSpeed = animationManager.setSpeed;\r\nlottie.setDirection = animationManager.setDirection;\r\nlottie.stop = animationManager.stop;\r\nlottie.searchAnimations = searchAnimations;\r\nlottie.registerAnimation = animationManager.registerAnimation;\r\nlottie.loadAnimation = loadAnimation;\r\nlottie.setSubframeRendering = setSubframeRendering;\r\nlottie.resize = animationManager.resize;\r\n//lottie.start = start;\r\nlottie.goToAndStop = animationManager.goToAndStop;\r\nlottie.destroy = animationManager.destroy;\r\nlottie.setQuality = setQuality;\r\nlottie.inBrowser = inBrowser;\r\nlottie.installPlugin = installPlugin;\r\nlottie.freeze = animationManager.freeze;\r\nlottie.unfreeze = animationManager.unfreeze;\r\nlottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\r\nlottie.__getFactory = getFactory;\r\nlottie.version = '5.6.10';\r\n\r\nfunction checkReady() {\r\n    if (document.readyState === \"complete\") {\r\n        clearInterval(readyStateCheckInterval);\r\n        searchAnimations();\r\n    }\r\n}\r\n\r\nfunction getQueryVariable(variable) {\r\n    var vars = queryString.split('&');\r\n    for (var i = 0; i < vars.length; i++) {\r\n        var pair = vars[i].split('=');\r\n        if (decodeURIComponent(pair[0]) == variable) {\r\n            return decodeURIComponent(pair[1]);\r\n        }\r\n    }\r\n}\r\nvar standalone = '__[STANDALONE]__';\r\nvar animationData = '__[ANIMATIONDATA]__';\r\nvar renderer = '';\r\nif (standalone) {\r\n    var scripts = document.getElementsByTagName('script');\r\n    var index = scripts.length - 1;\r\n    var myScript = scripts[index] || {\r\n        src: ''\r\n    };\r\n    var queryString = myScript.src.replace(/^[^\\?]+\\??/, '');\r\n    renderer = getQueryVariable('renderer');\r\n}\r\nvar readyStateCheckInterval = setInterval(checkReady, 100);\r\n\nreturn lottie;\n}));","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _menuFactory = require('../menuFactory');\n\nvar _menuFactory2 = _interopRequireDefault(_menuFactory);\n\nvar styles = {};\n\nexports['default'] = (0, _menuFactory2['default'])(styles);\nmodule.exports = exports['default'];","(function() { module.exports = window[\"ReactDOM\"]; }());","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar styles = {\n  overlay: function overlay(isOpen) {\n    return {\n      position: 'fixed',\n      zIndex: 1000,\n      width: '100%',\n      height: '100%',\n      background: 'rgba(0, 0, 0, 0.3)',\n      opacity: isOpen ? 1 : 0,\n      MozTransform: isOpen ? '' : 'translate3d(100%, 0, 0)',\n      MsTransform: isOpen ? '' : 'translate3d(100%, 0, 0)',\n      OTransform: isOpen ? '' : 'translate3d(100%, 0, 0)',\n      WebkitTransform: isOpen ? '' : 'translate3d(100%, 0, 0)',\n      transform: isOpen ? '' : 'translate3d(100%, 0, 0)',\n      transition: isOpen ? 'opacity 0.3s' : 'opacity 0.3s, transform 0s 0.3s'\n    };\n  },\n\n  menuWrap: function menuWrap(isOpen, width, right) {\n    return {\n      position: 'fixed',\n      right: right ? 0 : 'inherit',\n      zIndex: 1100,\n      width: width,\n      height: '100%',\n      MozTransform: isOpen ? '' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      MsTransform: isOpen ? '' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      OTransform: isOpen ? '' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      WebkitTransform: isOpen ? '' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      transform: isOpen ? '' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      transition: 'all 0.5s'\n    };\n  },\n\n  menu: function menu() {\n    return {\n      height: '100%',\n      boxSizing: 'border-box',\n      overflow: 'auto'\n    };\n  },\n\n  itemList: function itemList() {\n    return {\n      height: '100%'\n    };\n  },\n\n  item: function item() {\n    return {\n      display: 'block'\n    };\n  }\n};\n\nexports['default'] = styles;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar BurgerIcon = (function (_Component) {\n  _inherits(BurgerIcon, _Component);\n\n  function BurgerIcon(props) {\n    _classCallCheck(this, BurgerIcon);\n\n    _get(Object.getPrototypeOf(BurgerIcon.prototype), 'constructor', this).call(this, props);\n    this.state = {\n      hover: false\n    };\n  }\n\n  _createClass(BurgerIcon, [{\n    key: 'getLineStyle',\n    value: function getLineStyle(index) {\n      return _extends({\n        position: 'absolute',\n        height: '20%',\n        left: 0,\n        right: 0,\n        top: 20 * (index * 2) + '%',\n        opacity: this.state.hover ? 0.6 : 1\n      }, this.state.hover && this.props.styles.bmBurgerBarsHover);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this = this;\n\n      var icon = undefined;\n      var buttonStyle = {\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        zIndex: 1,\n        width: '100%',\n        height: '100%',\n        margin: 0,\n        padding: 0,\n        border: 'none',\n        fontSize: 0,\n        background: 'transparent',\n        cursor: 'pointer'\n      };\n\n      if (this.props.customIcon) {\n        var extraProps = {\n          className: ('bm-icon ' + (this.props.customIcon.props.className || '')).trim(),\n          style: _extends({ width: '100%', height: '100%' }, this.props.styles.bmIcon)\n        };\n        icon = _react2['default'].cloneElement(this.props.customIcon, extraProps);\n      } else {\n        icon = _react2['default'].createElement(\n          'span',\n          null,\n          [0, 1, 2].map(function (bar) {\n            return _react2['default'].createElement('span', {\n              key: bar,\n              className: ('bm-burger-bars ' + _this.props.barClassName + ' ' + (_this.state.hover ? 'bm-burger-bars-hover' : '')).trim(),\n              style: _extends({}, _this.getLineStyle(bar), _this.props.styles.bmBurgerBars)\n            });\n          })\n        );\n      }\n\n      return _react2['default'].createElement(\n        'div',\n        {\n          className: ('bm-burger-button ' + this.props.className).trim(),\n          style: _extends({ zIndex: 1000 }, this.props.styles.bmBurgerButton)\n        },\n        _react2['default'].createElement(\n          'button',\n          {\n            id: 'react-burger-menu-btn',\n            onClick: this.props.onClick,\n            onMouseOver: function () {\n              _this.setState({ hover: true });\n              if (_this.props.onIconHoverChange) {\n                _this.props.onIconHoverChange({ isMouseIn: true });\n              }\n            },\n            onMouseOut: function () {\n              _this.setState({ hover: false });\n              if (_this.props.onIconHoverChange) {\n                _this.props.onIconHoverChange({ isMouseIn: false });\n              }\n            },\n            style: buttonStyle\n          },\n          'Open Menu'\n        ),\n        icon\n      );\n    }\n  }]);\n\n  return BurgerIcon;\n})(_react.Component);\n\nexports['default'] = BurgerIcon;\n\nBurgerIcon.propTypes = {\n  barClassName: _propTypes2['default'].string,\n  customIcon: _propTypes2['default'].element,\n  styles: _propTypes2['default'].object\n};\n\nBurgerIcon.defaultProps = {\n  barClassName: '',\n  className: '',\n  styles: {}\n};\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar CrossIcon = (function (_Component) {\n  _inherits(CrossIcon, _Component);\n\n  function CrossIcon() {\n    _classCallCheck(this, CrossIcon);\n\n    _get(Object.getPrototypeOf(CrossIcon.prototype), 'constructor', this).apply(this, arguments);\n  }\n\n  _createClass(CrossIcon, [{\n    key: 'getCrossStyle',\n    value: function getCrossStyle(type) {\n      return {\n        position: 'absolute',\n        width: 3,\n        height: 14,\n        transform: type === 'before' ? 'rotate(45deg)' : 'rotate(-45deg)'\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this = this;\n\n      var icon;\n      var buttonWrapperStyle = {\n        position: 'absolute',\n        width: 24,\n        height: 24,\n        right: 8,\n        top: 8\n      };\n      var buttonStyle = {\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        zIndex: 1,\n        width: '100%',\n        height: '100%',\n        margin: 0,\n        padding: 0,\n        border: 'none',\n        fontSize: 0,\n        background: 'transparent',\n        cursor: 'pointer'\n      };\n\n      if (this.props.customIcon) {\n        var extraProps = {\n          className: ('bm-cross ' + (this.props.customIcon.props.className || '')).trim(),\n          style: _extends({ width: '100%', height: '100%' }, this.props.styles.bmCross)\n        };\n        icon = _react2['default'].cloneElement(this.props.customIcon, extraProps);\n      } else {\n        icon = _react2['default'].createElement(\n          'span',\n          { style: { position: 'absolute', top: '6px', right: '14px' } },\n          ['before', 'after'].map(function (type, i) {\n            return _react2['default'].createElement('span', {\n              key: i,\n              className: ('bm-cross ' + _this.props.crossClassName).trim(),\n              style: _extends({}, _this.getCrossStyle(type), _this.props.styles.bmCross)\n            });\n          })\n        );\n      }\n\n      return _react2['default'].createElement(\n        'div',\n        {\n          className: ('bm-cross-button ' + this.props.className).trim(),\n          style: _extends({}, buttonWrapperStyle, this.props.styles.bmCrossButton)\n        },\n        _react2['default'].createElement(\n          'button',\n          {\n            id: 'react-burger-cross-btn',\n            onClick: this.props.onClick,\n            style: buttonStyle,\n            tabIndex: -1\n          },\n          'Close Menu'\n        ),\n        icon\n      );\n    }\n  }]);\n\n  return CrossIcon;\n})(_react.Component);\n\nexports['default'] = CrossIcon;\n\nCrossIcon.propTypes = {\n  crossClassName: _propTypes2['default'].string,\n  customIcon: _propTypes2['default'].element,\n  styles: _propTypes2['default'].object\n};\n\nCrossIcon.defaultProps = {\n  crossClassName: '',\n  className: '',\n  styles: {}\n};\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _menuFactory = require('../menuFactory');\n\nvar _menuFactory2 = _interopRequireDefault(_menuFactory);\n\nvar styles = {\n  menuWrap: function menuWrap(isOpen, width, right) {\n    return {\n      MozTransform: isOpen ? '' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      MsTransform: isOpen ? '' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      OTransform: isOpen ? '' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      WebkitTransform: isOpen ? '' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      transform: isOpen ? '' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      transition: isOpen ? 'transform 0.8s cubic-bezier(0.7, 0, 0.3, 1)' : 'transform 0.4s cubic-bezier(0.7, 0, 0.3, 1)'\n    };\n  },\n\n  item: function item(isOpen, width, right, nthChild) {\n    return {\n      MozTransform: isOpen ? '' : 'translate3d(0, ' + nthChild * 500 + 'px, 0)',\n      MsTransform: isOpen ? '' : 'translate3d(0, ' + nthChild * 500 + 'px, 0)',\n      OTransform: isOpen ? '' : 'translate3d(0, ' + nthChild * 500 + 'px, 0)',\n      WebkitTransform: isOpen ? '' : 'translate3d(0, ' + nthChild * 500 + 'px, 0)',\n      transform: isOpen ? '' : 'translate3d(0, ' + nthChild * 500 + 'px, 0)',\n      transition: isOpen ? 'transform 0.8s cubic-bezier(0.7, 0, 0.3, 1)' : 'transform 0s 0.2s cubic-bezier(0.7, 0, 0.3, 1)'\n    };\n  }\n};\n\nexports['default'] = (0, _menuFactory2['default'])(styles);\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _snapsvgImporter = require('../snapsvgImporter');\n\nvar _snapsvgImporter2 = _interopRequireDefault(_snapsvgImporter);\n\nvar _menuFactory = require('../menuFactory');\n\nvar _menuFactory2 = _interopRequireDefault(_menuFactory);\n\nvar _utils = require('../utils');\n\nvar MORPH_SHAPE_WIDTH = 120;\n\nvar styles = {\n  svg: {\n    lib: _snapsvgImporter2['default'],\n    pathInitial: 'M-1,0h101c0,0-97.833,153.603-97.833,396.167C2.167,627.579,100,800,100,800H-1V0z',\n    pathOpen: 'M-1,0h101c0,0,0-1,0,395c0,404,0,405,0,405H-1V0z',\n    animate: function animate(path) {\n      path.animate({ path: this.pathOpen }, 400, window.mina.easeinout);\n    }\n  },\n\n  morphShape: function morphShape(isOpen, width, right) {\n    return {\n      position: 'absolute',\n      width: MORPH_SHAPE_WIDTH,\n      height: '100%',\n      right: right ? 'inherit' : 0,\n      left: right ? 0 : 'inherit',\n      MozTransform: right ? 'rotateY(180deg)' : '',\n      MsTransform: right ? 'rotateY(180deg)' : '',\n      OTransform: right ? 'rotateY(180deg)' : '',\n      WebkitTransform: right ? 'rotateY(180deg)' : '',\n      transform: right ? 'rotateY(180deg)' : ''\n    };\n  },\n\n  menuWrap: function menuWrap(isOpen, width, right) {\n    return {\n      MozTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      MsTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      OTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      WebkitTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      transform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      transition: 'all 0.3s'\n    };\n  },\n\n  menu: function menu(isOpen, width, right) {\n    return {\n      position: 'fixed',\n      right: right ? 0 : 'inherit',\n      width: (0, _utils.pxToNum)(width) - MORPH_SHAPE_WIDTH,\n      whiteSpace: 'nowrap',\n      boxSizing: 'border-box',\n      overflow: 'visible'\n    };\n  },\n\n  itemList: function itemList(isOpen, width, right) {\n    if (right) {\n      return {\n        position: 'relative',\n        left: '-110px',\n        width: '170%',\n        overflow: 'auto'\n      };\n    }\n  },\n\n  pageWrap: function pageWrap(isOpen, width, right) {\n    return {\n      MozTransform: isOpen ? '' : right ? 'translate3d(-100px, 0, 0)' : 'translate3d(100px, 0, 0)',\n      MsTransform: isOpen ? '' : right ? 'translate3d(-100px, 0, 0)' : 'translate3d(100px, 0, 0)',\n      OTransform: isOpen ? '' : right ? 'translate3d(-100px, 0, 0)' : 'translate3d(100px, 0, 0)',\n      WebkitTransform: isOpen ? '' : right ? 'translate3d(-100px, 0, 0)' : 'translate3d(100px, 0, 0)',\n      transform: isOpen ? '' : right ? 'translate3d(-100px, 0, 0)' : 'translate3d(100px, 0, 0)',\n      transition: isOpen ? 'all 0.3s' : 'all 0.3s 0.1s'\n    };\n  },\n\n  outerContainer: function outerContainer(isOpen) {\n    return {\n      overflow: isOpen ? '' : 'hidden'\n    };\n  }\n};\n\nexports['default'] = (0, _menuFactory2['default'])(styles);\nmodule.exports = exports['default'];","window.eve = require('eve')\n\n// Copyright (c) 2017 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar mina = (function (eve) {\n    var animations = {},\n    requestAnimFrame = window.requestAnimationFrame       ||\n                       window.webkitRequestAnimationFrame ||\n                       window.mozRequestAnimationFrame    ||\n                       window.oRequestAnimationFrame      ||\n                       window.msRequestAnimationFrame     ||\n                       function (callback) {\n                           setTimeout(callback, 16, new Date().getTime());\n                           return true;\n                       },\n    requestID,\n    isArray = Array.isArray || function (a) {\n        return a instanceof Array ||\n            Object.prototype.toString.call(a) == \"[object Array]\";\n    },\n    idgen = 0,\n    idprefix = \"M\" + (+new Date).toString(36),\n    ID = function () {\n        return idprefix + (idgen++).toString(36);\n    },\n    diff = function (a, b, A, B) {\n        if (isArray(a)) {\n            res = [];\n            for (var i = 0, ii = a.length; i < ii; i++) {\n                res[i] = diff(a[i], b, A[i], B);\n            }\n            return res;\n        }\n        var dif = (A - a) / (B - b);\n        return function (bb) {\n            return a + dif * (bb - b);\n        };\n    },\n    timer = Date.now || function () {\n        return +new Date;\n    },\n    sta = function (val) {\n        var a = this;\n        if (val == null) {\n            return a.s;\n        }\n        var ds = a.s - val;\n        a.b += a.dur * ds;\n        a.B += a.dur * ds;\n        a.s = val;\n    },\n    speed = function (val) {\n        var a = this;\n        if (val == null) {\n            return a.spd;\n        }\n        a.spd = val;\n    },\n    duration = function (val) {\n        var a = this;\n        if (val == null) {\n            return a.dur;\n        }\n        a.s = a.s * val / a.dur;\n        a.dur = val;\n    },\n    stopit = function () {\n        var a = this;\n        delete animations[a.id];\n        a.update();\n        eve(\"mina.stop.\" + a.id, a);\n    },\n    pause = function () {\n        var a = this;\n        if (a.pdif) {\n            return;\n        }\n        delete animations[a.id];\n        a.update();\n        a.pdif = a.get() - a.b;\n    },\n    resume = function () {\n        var a = this;\n        if (!a.pdif) {\n            return;\n        }\n        a.b = a.get() - a.pdif;\n        delete a.pdif;\n        animations[a.id] = a;\n        frame();\n    },\n    update = function () {\n        var a = this,\n            res;\n        if (isArray(a.start)) {\n            res = [];\n            for (var j = 0, jj = a.start.length; j < jj; j++) {\n                res[j] = +a.start[j] +\n                    (a.end[j] - a.start[j]) * a.easing(a.s);\n            }\n        } else {\n            res = +a.start + (a.end - a.start) * a.easing(a.s);\n        }\n        a.set(res);\n    },\n    frame = function (timeStamp) {\n        // Manual invokation?\n        if (!timeStamp) {\n            // Frame loop stopped?\n            if (!requestID) {\n                // Start frame loop...\n                requestID = requestAnimFrame(frame);\n            }\n            return;\n        }\n        var len = 0;\n        for (var i in animations) if (animations.hasOwnProperty(i)) {\n            var a = animations[i],\n                b = a.get(),\n                res;\n            len++;\n            a.s = (b - a.b) / (a.dur / a.spd);\n            if (a.s >= 1) {\n                delete animations[i];\n                a.s = 1;\n                len--;\n                (function (a) {\n                    setTimeout(function () {\n                        eve(\"mina.finish.\" + a.id, a);\n                    });\n                }(a));\n            }\n            a.update();\n        }\n        requestID = len ? requestAnimFrame(frame) : false;\n    },\n    /*\\\n     * mina\n     [ method ]\n     **\n     * Generic animation of numbers\n     **\n     - a (number) start _slave_ number\n     - A (number) end _slave_ number\n     - b (number) start _master_ number (start time in general case)\n     - B (number) end _master_ number (end time in general case)\n     - get (function) getter of _master_ number (see @mina.time)\n     - set (function) setter of _slave_ number\n     - easing (function) #optional easing function, default is @mina.linear\n     = (object) animation descriptor\n     o {\n     o         id (string) animation id,\n     o         start (number) start _slave_ number,\n     o         end (number) end _slave_ number,\n     o         b (number) start _master_ number,\n     o         s (number) animation status (0..1),\n     o         dur (number) animation duration,\n     o         spd (number) animation speed,\n     o         get (function) getter of _master_ number (see @mina.time),\n     o         set (function) setter of _slave_ number,\n     o         easing (function) easing function, default is @mina.linear,\n     o         status (function) status getter/setter,\n     o         speed (function) speed getter/setter,\n     o         duration (function) duration getter/setter,\n     o         stop (function) animation stopper\n     o         pause (function) pauses the animation\n     o         resume (function) resumes the animation\n     o         update (function) calles setter with the right value of the animation\n     o }\n    \\*/\n    mina = function (a, A, b, B, get, set, easing) {\n        var anim = {\n            id: ID(),\n            start: a,\n            end: A,\n            b: b,\n            s: 0,\n            dur: B - b,\n            spd: 1,\n            get: get,\n            set: set,\n            easing: easing || mina.linear,\n            status: sta,\n            speed: speed,\n            duration: duration,\n            stop: stopit,\n            pause: pause,\n            resume: resume,\n            update: update\n        };\n        animations[anim.id] = anim;\n        var len = 0, i;\n        for (i in animations) if (animations.hasOwnProperty(i)) {\n            len++;\n            if (len == 2) {\n                break;\n            }\n        }\n        len == 1 && frame();\n        return anim;\n    };\n    /*\\\n     * mina.time\n     [ method ]\n     **\n     * Returns the current time. Equivalent to:\n     | function () {\n     |     return (new Date).getTime();\n     | }\n    \\*/\n    mina.time = timer;\n    /*\\\n     * mina.getById\n     [ method ]\n     **\n     * Returns an animation by its id\n     - id (string) animation's id\n     = (object) See @mina\n    \\*/\n    mina.getById = function (id) {\n        return animations[id] || null;\n    };\n\n    /*\\\n     * mina.linear\n     [ method ]\n     **\n     * Default linear easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.linear = function (n) {\n        return n;\n    };\n    /*\\\n     * mina.easeout\n     [ method ]\n     **\n     * Easeout easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.easeout = function (n) {\n        return Math.pow(n, 1.7);\n    };\n    /*\\\n     * mina.easein\n     [ method ]\n     **\n     * Easein easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.easein = function (n) {\n        return Math.pow(n, .48);\n    };\n    /*\\\n     * mina.easeinout\n     [ method ]\n     **\n     * Easeinout easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.easeinout = function (n) {\n        if (n == 1) {\n            return 1;\n        }\n        if (n == 0) {\n            return 0;\n        }\n        var q = .48 - n / 1.04,\n            Q = Math.sqrt(.1734 + q * q),\n            x = Q - q,\n            X = Math.pow(Math.abs(x), 1 / 3) * (x < 0 ? -1 : 1),\n            y = -Q - q,\n            Y = Math.pow(Math.abs(y), 1 / 3) * (y < 0 ? -1 : 1),\n            t = X + Y + .5;\n        return (1 - t) * 3 * t * t + t * t * t;\n    };\n    /*\\\n     * mina.backin\n     [ method ]\n     **\n     * Backin easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.backin = function (n) {\n        if (n == 1) {\n            return 1;\n        }\n        var s = 1.70158;\n        return n * n * ((s + 1) * n - s);\n    };\n    /*\\\n     * mina.backout\n     [ method ]\n     **\n     * Backout easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.backout = function (n) {\n        if (n == 0) {\n            return 0;\n        }\n        n = n - 1;\n        var s = 1.70158;\n        return n * n * ((s + 1) * n + s) + 1;\n    };\n    /*\\\n     * mina.elastic\n     [ method ]\n     **\n     * Elastic easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.elastic = function (n) {\n        if (n == !!n) {\n            return n;\n        }\n        return Math.pow(2, -10 * n) * Math.sin((n - .075) *\n            (2 * Math.PI) / .3) + 1;\n    };\n    /*\\\n     * mina.bounce\n     [ method ]\n     **\n     * Bounce easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.bounce = function (n) {\n        var s = 7.5625,\n            p = 2.75,\n            l;\n        if (n < 1 / p) {\n            l = s * n * n;\n        } else {\n            if (n < 2 / p) {\n                n -= 1.5 / p;\n                l = s * n * n + .75;\n            } else {\n                if (n < 2.5 / p) {\n                    n -= 2.25 / p;\n                    l = s * n * n + .9375;\n                } else {\n                    n -= 2.625 / p;\n                    l = s * n * n + .984375;\n                }\n            }\n        }\n        return l;\n    };\n    window.mina = mina;\n    return mina;\n})(typeof eve == \"undefined\" ? function () {} : eve);\n\n// Copyright (c) 2013 - 2017 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nvar Snap = (function(root) {\nSnap.version = \"0.5.1\";\n/*\\\n * Snap\n [ method ]\n **\n * Creates a drawing surface or wraps existing SVG element.\n **\n - width (number|string) width of surface\n - height (number|string) height of surface\n * or\n - DOM (SVGElement) element to be wrapped into Snap structure\n * or\n - array (array) array of elements (will return set of elements)\n * or\n - query (string) CSS query selector\n = (object) @Element\n\\*/\nfunction Snap(w, h) {\n    if (w) {\n        if (w.nodeType) {\n            return wrap(w);\n        }\n        if (is(w, \"array\") && Snap.set) {\n            return Snap.set.apply(Snap, w);\n        }\n        if (w instanceof Element) {\n            return w;\n        }\n        if (h == null) {\n            try {\n                w = glob.doc.querySelector(String(w));\n                return wrap(w);\n            } catch (e) {\n                return null;\n            }\n        }\n    }\n    w = w == null ? \"100%\" : w;\n    h = h == null ? \"100%\" : h;\n    return new Paper(w, h);\n}\nSnap.toString = function () {\n    return \"Snap v\" + this.version;\n};\nSnap._ = {};\nvar glob = {\n    win: root.window,\n    doc: root.window.document\n};\nSnap._.glob = glob;\nvar has = \"hasOwnProperty\",\n    Str = String,\n    toFloat = parseFloat,\n    toInt = parseInt,\n    math = Math,\n    mmax = math.max,\n    mmin = math.min,\n    abs = math.abs,\n    pow = math.pow,\n    PI = math.PI,\n    round = math.round,\n    E = \"\",\n    S = \" \",\n    objectToString = Object.prototype.toString,\n    ISURL = /^url\\(['\"]?([^\\)]+?)['\"]?\\)$/i,\n    colourRegExp = /^\\s*((#[a-f\\d]{6})|(#[a-f\\d]{3})|rgba?\\(\\s*([\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?(?:\\s*,\\s*[\\d\\.]+%?)?)\\s*\\)|hsba?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?%?)\\s*\\)|hsla?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?%?)\\s*\\))\\s*$/i,\n    bezierrg = /^(?:cubic-)?bezier\\(([^,]+),([^,]+),([^,]+),([^\\)]+)\\)/,\n    separator = Snap._.separator = /[,\\s]+/,\n    whitespace = /[\\s]/g,\n    commaSpaces = /[\\s]*,[\\s]*/,\n    hsrg = {hs: 1, rg: 1},\n    pathCommand = /([a-z])[\\s,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\\s]*,?[\\s]*)+)/ig,\n    tCommand = /([rstm])[\\s,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\\s]*,?[\\s]*)+)/ig,\n    pathValues = /(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[\\s]*,?[\\s]*/ig,\n    idgen = 0,\n    idprefix = \"S\" + (+new Date).toString(36),\n    ID = function (el) {\n        return (el && el.type ? el.type : E) + idprefix + (idgen++).toString(36);\n    },\n    xlink = \"http://www.w3.org/1999/xlink\",\n    xmlns = \"http://www.w3.org/2000/svg\",\n    hub = {},\n    /*\\\n     * Snap.url\n     [ method ]\n     **\n     * Wraps path into `\"url('<path>')\"`.\n     - value (string) path\n     = (string) wrapped path\n    \\*/\n    URL = Snap.url = function (url) {\n        return \"url('#\" + url + \"')\";\n    };\n\nfunction $(el, attr) {\n    if (attr) {\n        if (el == \"#text\") {\n            el = glob.doc.createTextNode(attr.text || attr[\"#text\"] || \"\");\n        }\n        if (el == \"#comment\") {\n            el = glob.doc.createComment(attr.text || attr[\"#text\"] || \"\");\n        }\n        if (typeof el == \"string\") {\n            el = $(el);\n        }\n        if (typeof attr == \"string\") {\n            if (el.nodeType == 1) {\n                if (attr.substring(0, 6) == \"xlink:\") {\n                    return el.getAttributeNS(xlink, attr.substring(6));\n                }\n                if (attr.substring(0, 4) == \"xml:\") {\n                    return el.getAttributeNS(xmlns, attr.substring(4));\n                }\n                return el.getAttribute(attr);\n            } else if (attr == \"text\") {\n                return el.nodeValue;\n            } else {\n                return null;\n            }\n        }\n        if (el.nodeType == 1) {\n            for (var key in attr) if (attr[has](key)) {\n                var val = Str(attr[key]);\n                if (val) {\n                    if (key.substring(0, 6) == \"xlink:\") {\n                        el.setAttributeNS(xlink, key.substring(6), val);\n                    } else if (key.substring(0, 4) == \"xml:\") {\n                        el.setAttributeNS(xmlns, key.substring(4), val);\n                    } else {\n                        el.setAttribute(key, val);\n                    }\n                } else {\n                    el.removeAttribute(key);\n                }\n            }\n        } else if (\"text\" in attr) {\n            el.nodeValue = attr.text;\n        }\n    } else {\n        el = glob.doc.createElementNS(xmlns, el);\n    }\n    return el;\n}\nSnap._.$ = $;\nSnap._.id = ID;\nfunction getAttrs(el) {\n    var attrs = el.attributes,\n        name,\n        out = {};\n    for (var i = 0; i < attrs.length; i++) {\n        if (attrs[i].namespaceURI == xlink) {\n            name = \"xlink:\";\n        } else {\n            name = \"\";\n        }\n        name += attrs[i].name;\n        out[name] = attrs[i].textContent;\n    }\n    return out;\n}\nfunction is(o, type) {\n    type = Str.prototype.toLowerCase.call(type);\n    if (type == \"finite\") {\n        return isFinite(o);\n    }\n    if (type == \"array\" &&\n        (o instanceof Array || Array.isArray && Array.isArray(o))) {\n        return true;\n    }\n    return  type == \"null\" && o === null ||\n            type == typeof o && o !== null ||\n            type == \"object\" && o === Object(o) ||\n            objectToString.call(o).slice(8, -1).toLowerCase() == type;\n}\n/*\\\n * Snap.format\n [ method ]\n **\n * Replaces construction of type `{<name>}` to the corresponding argument\n **\n - token (string) string to format\n - json (object) object which properties are used as a replacement\n = (string) formatted string\n > Usage\n | // this draws a rectangular shape equivalent to \"M10,20h40v50h-40z\"\n | paper.path(Snap.format(\"M{x},{y}h{dim.width}v{dim.height}h{dim['negative width']}z\", {\n |     x: 10,\n |     y: 20,\n |     dim: {\n |         width: 40,\n |         height: 50,\n |         \"negative width\": -40\n |     }\n | }));\n\\*/\nSnap.format = (function () {\n    var tokenRegex = /\\{([^\\}]+)\\}/g,\n        objNotationRegex = /(?:(?:^|\\.)(.+?)(?=\\[|\\.|$|\\()|\\[('|\")(.+?)\\2\\])(\\(\\))?/g, // matches .xxxxx or [\"xxxxx\"] to run over object properties\n        replacer = function (all, key, obj) {\n            var res = obj;\n            key.replace(objNotationRegex, function (all, name, quote, quotedName, isFunc) {\n                name = name || quotedName;\n                if (res) {\n                    if (name in res) {\n                        res = res[name];\n                    }\n                    typeof res == \"function\" && isFunc && (res = res());\n                }\n            });\n            res = (res == null || res == obj ? all : res) + \"\";\n            return res;\n        };\n    return function (str, obj) {\n        return Str(str).replace(tokenRegex, function (all, key) {\n            return replacer(all, key, obj);\n        });\n    };\n})();\nfunction clone(obj) {\n    if (typeof obj == \"function\" || Object(obj) !== obj) {\n        return obj;\n    }\n    var res = new obj.constructor;\n    for (var key in obj) if (obj[has](key)) {\n        res[key] = clone(obj[key]);\n    }\n    return res;\n}\nSnap._.clone = clone;\nfunction repush(array, item) {\n    for (var i = 0, ii = array.length; i < ii; i++) if (array[i] === item) {\n        return array.push(array.splice(i, 1)[0]);\n    }\n}\nfunction cacher(f, scope, postprocessor) {\n    function newf() {\n        var arg = Array.prototype.slice.call(arguments, 0),\n            args = arg.join(\"\\u2400\"),\n            cache = newf.cache = newf.cache || {},\n            count = newf.count = newf.count || [];\n        if (cache[has](args)) {\n            repush(count, args);\n            return postprocessor ? postprocessor(cache[args]) : cache[args];\n        }\n        count.length >= 1e3 && delete cache[count.shift()];\n        count.push(args);\n        cache[args] = f.apply(scope, arg);\n        return postprocessor ? postprocessor(cache[args]) : cache[args];\n    }\n    return newf;\n}\nSnap._.cacher = cacher;\nfunction angle(x1, y1, x2, y2, x3, y3) {\n    if (x3 == null) {\n        var x = x1 - x2,\n            y = y1 - y2;\n        if (!x && !y) {\n            return 0;\n        }\n        return (180 + math.atan2(-y, -x) * 180 / PI + 360) % 360;\n    } else {\n        return angle(x1, y1, x3, y3) - angle(x2, y2, x3, y3);\n    }\n}\nfunction rad(deg) {\n    return deg % 360 * PI / 180;\n}\nfunction deg(rad) {\n    return rad * 180 / PI % 360;\n}\nfunction x_y() {\n    return this.x + S + this.y;\n}\nfunction x_y_w_h() {\n    return this.x + S + this.y + S + this.width + \" \\xd7 \" + this.height;\n}\n\n/*\\\n * Snap.rad\n [ method ]\n **\n * Transform angle to radians\n - deg (number) angle in degrees\n = (number) angle in radians\n\\*/\nSnap.rad = rad;\n/*\\\n * Snap.deg\n [ method ]\n **\n * Transform angle to degrees\n - rad (number) angle in radians\n = (number) angle in degrees\n\\*/\nSnap.deg = deg;\n/*\\\n * Snap.sin\n [ method ]\n **\n * Equivalent to `Math.sin()` only works with degrees, not radians.\n - angle (number) angle in degrees\n = (number) sin\n\\*/\nSnap.sin = function (angle) {\n    return math.sin(Snap.rad(angle));\n};\n/*\\\n * Snap.tan\n [ method ]\n **\n * Equivalent to `Math.tan()` only works with degrees, not radians.\n - angle (number) angle in degrees\n = (number) tan\n\\*/\nSnap.tan = function (angle) {\n    return math.tan(Snap.rad(angle));\n};\n/*\\\n * Snap.cos\n [ method ]\n **\n * Equivalent to `Math.cos()` only works with degrees, not radians.\n - angle (number) angle in degrees\n = (number) cos\n\\*/\nSnap.cos = function (angle) {\n    return math.cos(Snap.rad(angle));\n};\n/*\\\n * Snap.asin\n [ method ]\n **\n * Equivalent to `Math.asin()` only works with degrees, not radians.\n - num (number) value\n = (number) asin in degrees\n\\*/\nSnap.asin = function (num) {\n    return Snap.deg(math.asin(num));\n};\n/*\\\n * Snap.acos\n [ method ]\n **\n * Equivalent to `Math.acos()` only works with degrees, not radians.\n - num (number) value\n = (number) acos in degrees\n\\*/\nSnap.acos = function (num) {\n    return Snap.deg(math.acos(num));\n};\n/*\\\n * Snap.atan\n [ method ]\n **\n * Equivalent to `Math.atan()` only works with degrees, not radians.\n - num (number) value\n = (number) atan in degrees\n\\*/\nSnap.atan = function (num) {\n    return Snap.deg(math.atan(num));\n};\n/*\\\n * Snap.atan2\n [ method ]\n **\n * Equivalent to `Math.atan2()` only works with degrees, not radians.\n - num (number) value\n = (number) atan2 in degrees\n\\*/\nSnap.atan2 = function (num) {\n    return Snap.deg(math.atan2(num));\n};\n/*\\\n * Snap.angle\n [ method ]\n **\n * Returns an angle between two or three points\n - x1 (number) x coord of first point\n - y1 (number) y coord of first point\n - x2 (number) x coord of second point\n - y2 (number) y coord of second point\n - x3 (number) #optional x coord of third point\n - y3 (number) #optional y coord of third point\n = (number) angle in degrees\n\\*/\nSnap.angle = angle;\n/*\\\n * Snap.len\n [ method ]\n **\n * Returns distance between two points\n - x1 (number) x coord of first point\n - y1 (number) y coord of first point\n - x2 (number) x coord of second point\n - y2 (number) y coord of second point\n = (number) distance\n\\*/\nSnap.len = function (x1, y1, x2, y2) {\n    return Math.sqrt(Snap.len2(x1, y1, x2, y2));\n};\n/*\\\n * Snap.len2\n [ method ]\n **\n * Returns squared distance between two points\n - x1 (number) x coord of first point\n - y1 (number) y coord of first point\n - x2 (number) x coord of second point\n - y2 (number) y coord of second point\n = (number) distance\n\\*/\nSnap.len2 = function (x1, y1, x2, y2) {\n    return (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\n};\n/*\\\n * Snap.closestPoint\n [ method ]\n **\n * Returns closest point to a given one on a given path.\n - path (Element) path element\n - x (number) x coord of a point\n - y (number) y coord of a point\n = (object) in format\n {\n    x (number) x coord of the point on the path\n    y (number) y coord of the point on the path\n    length (number) length of the path to the point\n    distance (number) distance from the given point to the path\n }\n\\*/\n// Copied from http://bl.ocks.org/mbostock/8027637\nSnap.closestPoint = function (path, x, y) {\n    function distance2(p) {\n        var dx = p.x - x,\n            dy = p.y - y;\n        return dx * dx + dy * dy;\n    }\n    var pathNode = path.node,\n        pathLength = pathNode.getTotalLength(),\n        precision = pathLength / pathNode.pathSegList.numberOfItems * .125,\n        best,\n        bestLength,\n        bestDistance = Infinity;\n\n    // linear scan for coarse approximation\n    for (var scan, scanLength = 0, scanDistance; scanLength <= pathLength; scanLength += precision) {\n        if ((scanDistance = distance2(scan = pathNode.getPointAtLength(scanLength))) < bestDistance) {\n            best = scan;\n            bestLength = scanLength;\n            bestDistance = scanDistance;\n        }\n    }\n\n    // binary search for precise estimate\n    precision *= .5;\n    while (precision > .5) {\n        var before,\n            after,\n            beforeLength,\n            afterLength,\n            beforeDistance,\n            afterDistance;\n        if ((beforeLength = bestLength - precision) >= 0 && (beforeDistance = distance2(before = pathNode.getPointAtLength(beforeLength))) < bestDistance) {\n            best = before;\n            bestLength = beforeLength;\n            bestDistance = beforeDistance;\n        } else if ((afterLength = bestLength + precision) <= pathLength && (afterDistance = distance2(after = pathNode.getPointAtLength(afterLength))) < bestDistance) {\n            best = after;\n            bestLength = afterLength;\n            bestDistance = afterDistance;\n        } else {\n            precision *= .5;\n        }\n    }\n\n    best = {\n        x: best.x,\n        y: best.y,\n        length: bestLength,\n        distance: Math.sqrt(bestDistance)\n    };\n    return best;\n}\n/*\\\n * Snap.is\n [ method ]\n **\n * Handy replacement for the `typeof` operator\n - o () any object or primitive\n - type (string) name of the type, e.g., `string`, `function`, `number`, etc.\n = (boolean) `true` if given value is of given type\n\\*/\nSnap.is = is;\n/*\\\n * Snap.snapTo\n [ method ]\n **\n * Snaps given value to given grid\n - values (array|number) given array of values or step of the grid\n - value (number) value to adjust\n - tolerance (number) #optional maximum distance to the target value that would trigger the snap. Default is `10`.\n = (number) adjusted value\n\\*/\nSnap.snapTo = function (values, value, tolerance) {\n    tolerance = is(tolerance, \"finite\") ? tolerance : 10;\n    if (is(values, \"array\")) {\n        var i = values.length;\n        while (i--) if (abs(values[i] - value) <= tolerance) {\n            return values[i];\n        }\n    } else {\n        values = +values;\n        var rem = value % values;\n        if (rem < tolerance) {\n            return value - rem;\n        }\n        if (rem > values - tolerance) {\n            return value - rem + values;\n        }\n    }\n    return value;\n};\n// Colour\n/*\\\n * Snap.getRGB\n [ method ]\n **\n * Parses color string as RGB object\n - color (string) color string in one of the following formats:\n # <ul>\n #     <li>Color name (<code>red</code>, <code>green</code>, <code>cornflowerblue</code>, etc)</li>\n #     <li>#  shortened HTML color: (<code>#000</code>, <code>#fc0</code>, etc.)</li>\n #     <li>#  full length HTML color: (<code>#000000</code>, <code>#bd2300</code>)</li>\n #     <li>rgb(, , )  red, green and blue channels values: (<code>rgb(200,&nbsp;100,&nbsp;0)</code>)</li>\n #     <li>rgba(, , , )  also with opacity</li>\n #     <li>rgb(%, %, %)  same as above, but in %: (<code>rgb(100%,&nbsp;175%,&nbsp;0%)</code>)</li>\n #     <li>rgba(%, %, %, %)  also with opacity</li>\n #     <li>hsb(, , )  hue, saturation and brightness values: (<code>hsb(0.5,&nbsp;0.25,&nbsp;1)</code>)</li>\n #     <li>hsba(, , , )  also with opacity</li>\n #     <li>hsb(%, %, %)  same as above, but in %</li>\n #     <li>hsba(%, %, %, %)  also with opacity</li>\n #     <li>hsl(, , )  hue, saturation and luminosity values: (<code>hsb(0.5,&nbsp;0.25,&nbsp;0.5)</code>)</li>\n #     <li>hsla(, , , )  also with opacity</li>\n #     <li>hsl(%, %, %)  same as above, but in %</li>\n #     <li>hsla(%, %, %, %)  also with opacity</li>\n # </ul>\n * Note that `%` can be used any time: `rgb(20%, 255, 50%)`.\n = (object) RGB object in the following format:\n o {\n o     r (number) red,\n o     g (number) green,\n o     b (number) blue,\n o     hex (string) color in HTML/CSS format: #,\n o     error (boolean) true if string can't be parsed\n o }\n\\*/\nSnap.getRGB = cacher(function (colour) {\n    if (!colour || !!((colour = Str(colour)).indexOf(\"-\") + 1)) {\n        return {r: -1, g: -1, b: -1, hex: \"none\", error: 1, toString: rgbtoString};\n    }\n    if (colour == \"none\") {\n        return {r: -1, g: -1, b: -1, hex: \"none\", toString: rgbtoString};\n    }\n    !(hsrg[has](colour.toLowerCase().substring(0, 2)) || colour.charAt() == \"#\") && (colour = toHex(colour));\n    if (!colour) {\n        return {r: -1, g: -1, b: -1, hex: \"none\", error: 1, toString: rgbtoString};\n    }\n    var res,\n        red,\n        green,\n        blue,\n        opacity,\n        t,\n        values,\n        rgb = colour.match(colourRegExp);\n    if (rgb) {\n        if (rgb[2]) {\n            blue = toInt(rgb[2].substring(5), 16);\n            green = toInt(rgb[2].substring(3, 5), 16);\n            red = toInt(rgb[2].substring(1, 3), 16);\n        }\n        if (rgb[3]) {\n            blue = toInt((t = rgb[3].charAt(3)) + t, 16);\n            green = toInt((t = rgb[3].charAt(2)) + t, 16);\n            red = toInt((t = rgb[3].charAt(1)) + t, 16);\n        }\n        if (rgb[4]) {\n            values = rgb[4].split(commaSpaces);\n            red = toFloat(values[0]);\n            values[0].slice(-1) == \"%\" && (red *= 2.55);\n            green = toFloat(values[1]);\n            values[1].slice(-1) == \"%\" && (green *= 2.55);\n            blue = toFloat(values[2]);\n            values[2].slice(-1) == \"%\" && (blue *= 2.55);\n            rgb[1].toLowerCase().slice(0, 4) == \"rgba\" && (opacity = toFloat(values[3]));\n            values[3] && values[3].slice(-1) == \"%\" && (opacity /= 100);\n        }\n        if (rgb[5]) {\n            values = rgb[5].split(commaSpaces);\n            red = toFloat(values[0]);\n            values[0].slice(-1) == \"%\" && (red /= 100);\n            green = toFloat(values[1]);\n            values[1].slice(-1) == \"%\" && (green /= 100);\n            blue = toFloat(values[2]);\n            values[2].slice(-1) == \"%\" && (blue /= 100);\n            (values[0].slice(-3) == \"deg\" || values[0].slice(-1) == \"\\xb0\") && (red /= 360);\n            rgb[1].toLowerCase().slice(0, 4) == \"hsba\" && (opacity = toFloat(values[3]));\n            values[3] && values[3].slice(-1) == \"%\" && (opacity /= 100);\n            return Snap.hsb2rgb(red, green, blue, opacity);\n        }\n        if (rgb[6]) {\n            values = rgb[6].split(commaSpaces);\n            red = toFloat(values[0]);\n            values[0].slice(-1) == \"%\" && (red /= 100);\n            green = toFloat(values[1]);\n            values[1].slice(-1) == \"%\" && (green /= 100);\n            blue = toFloat(values[2]);\n            values[2].slice(-1) == \"%\" && (blue /= 100);\n            (values[0].slice(-3) == \"deg\" || values[0].slice(-1) == \"\\xb0\") && (red /= 360);\n            rgb[1].toLowerCase().slice(0, 4) == \"hsla\" && (opacity = toFloat(values[3]));\n            values[3] && values[3].slice(-1) == \"%\" && (opacity /= 100);\n            return Snap.hsl2rgb(red, green, blue, opacity);\n        }\n        red = mmin(math.round(red), 255);\n        green = mmin(math.round(green), 255);\n        blue = mmin(math.round(blue), 255);\n        opacity = mmin(mmax(opacity, 0), 1);\n        rgb = {r: red, g: green, b: blue, toString: rgbtoString};\n        rgb.hex = \"#\" + (16777216 | blue | green << 8 | red << 16).toString(16).slice(1);\n        rgb.opacity = is(opacity, \"finite\") ? opacity : 1;\n        return rgb;\n    }\n    return {r: -1, g: -1, b: -1, hex: \"none\", error: 1, toString: rgbtoString};\n}, Snap);\n/*\\\n * Snap.hsb\n [ method ]\n **\n * Converts HSB values to a hex representation of the color\n - h (number) hue\n - s (number) saturation\n - b (number) value or brightness\n = (string) hex representation of the color\n\\*/\nSnap.hsb = cacher(function (h, s, b) {\n    return Snap.hsb2rgb(h, s, b).hex;\n});\n/*\\\n * Snap.hsl\n [ method ]\n **\n * Converts HSL values to a hex representation of the color\n - h (number) hue\n - s (number) saturation\n - l (number) luminosity\n = (string) hex representation of the color\n\\*/\nSnap.hsl = cacher(function (h, s, l) {\n    return Snap.hsl2rgb(h, s, l).hex;\n});\n/*\\\n * Snap.rgb\n [ method ]\n **\n * Converts RGB values to a hex representation of the color\n - r (number) red\n - g (number) green\n - b (number) blue\n = (string) hex representation of the color\n\\*/\nSnap.rgb = cacher(function (r, g, b, o) {\n    if (is(o, \"finite\")) {\n        var round = math.round;\n        return \"rgba(\" + [round(r), round(g), round(b), +o.toFixed(2)] + \")\";\n    }\n    return \"#\" + (16777216 | b | g << 8 | r << 16).toString(16).slice(1);\n});\nvar toHex = function (color) {\n    var i = glob.doc.getElementsByTagName(\"head\")[0] || glob.doc.getElementsByTagName(\"svg\")[0],\n        red = \"rgb(255, 0, 0)\";\n    toHex = cacher(function (color) {\n        if (color.toLowerCase() == \"red\") {\n            return red;\n        }\n        i.style.color = red;\n        i.style.color = color;\n        var out = glob.doc.defaultView.getComputedStyle(i, E).getPropertyValue(\"color\");\n        return out == red ? null : out;\n    });\n    return toHex(color);\n},\nhsbtoString = function () {\n    return \"hsb(\" + [this.h, this.s, this.b] + \")\";\n},\nhsltoString = function () {\n    return \"hsl(\" + [this.h, this.s, this.l] + \")\";\n},\nrgbtoString = function () {\n    return this.opacity == 1 || this.opacity == null ?\n            this.hex :\n            \"rgba(\" + [this.r, this.g, this.b, this.opacity] + \")\";\n},\nprepareRGB = function (r, g, b) {\n    if (g == null && is(r, \"object\") && \"r\" in r && \"g\" in r && \"b\" in r) {\n        b = r.b;\n        g = r.g;\n        r = r.r;\n    }\n    if (g == null && is(r, string)) {\n        var clr = Snap.getRGB(r);\n        r = clr.r;\n        g = clr.g;\n        b = clr.b;\n    }\n    if (r > 1 || g > 1 || b > 1) {\n        r /= 255;\n        g /= 255;\n        b /= 255;\n    }\n\n    return [r, g, b];\n},\npackageRGB = function (r, g, b, o) {\n    r = math.round(r * 255);\n    g = math.round(g * 255);\n    b = math.round(b * 255);\n    var rgb = {\n        r: r,\n        g: g,\n        b: b,\n        opacity: is(o, \"finite\") ? o : 1,\n        hex: Snap.rgb(r, g, b),\n        toString: rgbtoString\n    };\n    is(o, \"finite\") && (rgb.opacity = o);\n    return rgb;\n};\n/*\\\n * Snap.color\n [ method ]\n **\n * Parses the color string and returns an object featuring the color's component values\n - clr (string) color string in one of the supported formats (see @Snap.getRGB)\n = (object) Combined RGB/HSB object in the following format:\n o {\n o     r (number) red,\n o     g (number) green,\n o     b (number) blue,\n o     hex (string) color in HTML/CSS format: #,\n o     error (boolean) `true` if string can't be parsed,\n o     h (number) hue,\n o     s (number) saturation,\n o     v (number) value (brightness),\n o     l (number) lightness\n o }\n\\*/\nSnap.color = function (clr) {\n    var rgb;\n    if (is(clr, \"object\") && \"h\" in clr && \"s\" in clr && \"b\" in clr) {\n        rgb = Snap.hsb2rgb(clr);\n        clr.r = rgb.r;\n        clr.g = rgb.g;\n        clr.b = rgb.b;\n        clr.opacity = 1;\n        clr.hex = rgb.hex;\n    } else if (is(clr, \"object\") && \"h\" in clr && \"s\" in clr && \"l\" in clr) {\n        rgb = Snap.hsl2rgb(clr);\n        clr.r = rgb.r;\n        clr.g = rgb.g;\n        clr.b = rgb.b;\n        clr.opacity = 1;\n        clr.hex = rgb.hex;\n    } else {\n        if (is(clr, \"string\")) {\n            clr = Snap.getRGB(clr);\n        }\n        if (is(clr, \"object\") && \"r\" in clr && \"g\" in clr && \"b\" in clr && !(\"error\" in clr)) {\n            rgb = Snap.rgb2hsl(clr);\n            clr.h = rgb.h;\n            clr.s = rgb.s;\n            clr.l = rgb.l;\n            rgb = Snap.rgb2hsb(clr);\n            clr.v = rgb.b;\n        } else {\n            clr = {hex: \"none\"};\n            clr.r = clr.g = clr.b = clr.h = clr.s = clr.v = clr.l = -1;\n            clr.error = 1;\n        }\n    }\n    clr.toString = rgbtoString;\n    return clr;\n};\n/*\\\n * Snap.hsb2rgb\n [ method ]\n **\n * Converts HSB values to an RGB object\n - h (number) hue\n - s (number) saturation\n - v (number) value or brightness\n = (object) RGB object in the following format:\n o {\n o     r (number) red,\n o     g (number) green,\n o     b (number) blue,\n o     hex (string) color in HTML/CSS format: #\n o }\n\\*/\nSnap.hsb2rgb = function (h, s, v, o) {\n    if (is(h, \"object\") && \"h\" in h && \"s\" in h && \"b\" in h) {\n        v = h.b;\n        s = h.s;\n        o = h.o;\n        h = h.h;\n    }\n    h *= 360;\n    var R, G, B, X, C;\n    h = h % 360 / 60;\n    C = v * s;\n    X = C * (1 - abs(h % 2 - 1));\n    R = G = B = v - C;\n\n    h = ~~h;\n    R += [C, X, 0, 0, X, C][h];\n    G += [X, C, C, X, 0, 0][h];\n    B += [0, 0, X, C, C, X][h];\n    return packageRGB(R, G, B, o);\n};\n/*\\\n * Snap.hsl2rgb\n [ method ]\n **\n * Converts HSL values to an RGB object\n - h (number) hue\n - s (number) saturation\n - l (number) luminosity\n = (object) RGB object in the following format:\n o {\n o     r (number) red,\n o     g (number) green,\n o     b (number) blue,\n o     hex (string) color in HTML/CSS format: #\n o }\n\\*/\nSnap.hsl2rgb = function (h, s, l, o) {\n    if (is(h, \"object\") && \"h\" in h && \"s\" in h && \"l\" in h) {\n        l = h.l;\n        s = h.s;\n        h = h.h;\n    }\n    if (h > 1 || s > 1 || l > 1) {\n        h /= 360;\n        s /= 100;\n        l /= 100;\n    }\n    h *= 360;\n    var R, G, B, X, C;\n    h = h % 360 / 60;\n    C = 2 * s * (l < .5 ? l : 1 - l);\n    X = C * (1 - abs(h % 2 - 1));\n    R = G = B = l - C / 2;\n\n    h = ~~h;\n    R += [C, X, 0, 0, X, C][h];\n    G += [X, C, C, X, 0, 0][h];\n    B += [0, 0, X, C, C, X][h];\n    return packageRGB(R, G, B, o);\n};\n/*\\\n * Snap.rgb2hsb\n [ method ]\n **\n * Converts RGB values to an HSB object\n - r (number) red\n - g (number) green\n - b (number) blue\n = (object) HSB object in the following format:\n o {\n o     h (number) hue,\n o     s (number) saturation,\n o     b (number) brightness\n o }\n\\*/\nSnap.rgb2hsb = function (r, g, b) {\n    b = prepareRGB(r, g, b);\n    r = b[0];\n    g = b[1];\n    b = b[2];\n\n    var H, S, V, C;\n    V = mmax(r, g, b);\n    C = V - mmin(r, g, b);\n    H = C == 0 ? null :\n        V == r ? (g - b) / C :\n        V == g ? (b - r) / C + 2 :\n                 (r - g) / C + 4;\n    H = (H + 360) % 6 * 60 / 360;\n    S = C == 0 ? 0 : C / V;\n    return {h: H, s: S, b: V, toString: hsbtoString};\n};\n/*\\\n * Snap.rgb2hsl\n [ method ]\n **\n * Converts RGB values to an HSL object\n - r (number) red\n - g (number) green\n - b (number) blue\n = (object) HSL object in the following format:\n o {\n o     h (number) hue,\n o     s (number) saturation,\n o     l (number) luminosity\n o }\n\\*/\nSnap.rgb2hsl = function (r, g, b) {\n    b = prepareRGB(r, g, b);\n    r = b[0];\n    g = b[1];\n    b = b[2];\n\n    var H, S, L, M, m, C;\n    M = mmax(r, g, b);\n    m = mmin(r, g, b);\n    C = M - m;\n    H = C == 0 ? null :\n        M == r ? (g - b) / C :\n        M == g ? (b - r) / C + 2 :\n                 (r - g) / C + 4;\n    H = (H + 360) % 6 * 60 / 360;\n    L = (M + m) / 2;\n    S = C == 0 ? 0 :\n         L < .5 ? C / (2 * L) :\n                  C / (2 - 2 * L);\n    return {h: H, s: S, l: L, toString: hsltoString};\n};\n\n// Transformations\n/*\\\n * Snap.parsePathString\n [ method ]\n **\n * Utility method\n **\n * Parses given path string into an array of arrays of path segments\n - pathString (string|array) path string or array of segments (in the last case it is returned straight away)\n = (array) array of segments\n\\*/\nSnap.parsePathString = function (pathString) {\n    if (!pathString) {\n        return null;\n    }\n    var pth = Snap.path(pathString);\n    if (pth.arr) {\n        return Snap.path.clone(pth.arr);\n    }\n\n    var paramCounts = {a: 7, c: 6, o: 2, h: 1, l: 2, m: 2, r: 4, q: 4, s: 4, t: 2, v: 1, u: 3, z: 0},\n        data = [];\n    if (is(pathString, \"array\") && is(pathString[0], \"array\")) { // rough assumption\n        data = Snap.path.clone(pathString);\n    }\n    if (!data.length) {\n        Str(pathString).replace(pathCommand, function (a, b, c) {\n            var params = [],\n                name = b.toLowerCase();\n            c.replace(pathValues, function (a, b) {\n                b && params.push(+b);\n            });\n            if (name == \"m\" && params.length > 2) {\n                data.push([b].concat(params.splice(0, 2)));\n                name = \"l\";\n                b = b == \"m\" ? \"l\" : \"L\";\n            }\n            if (name == \"o\" && params.length == 1) {\n                data.push([b, params[0]]);\n            }\n            if (name == \"r\") {\n                data.push([b].concat(params));\n            } else while (params.length >= paramCounts[name]) {\n                data.push([b].concat(params.splice(0, paramCounts[name])));\n                if (!paramCounts[name]) {\n                    break;\n                }\n            }\n        });\n    }\n    data.toString = Snap.path.toString;\n    pth.arr = Snap.path.clone(data);\n    return data;\n};\n/*\\\n * Snap.parseTransformString\n [ method ]\n **\n * Utility method\n **\n * Parses given transform string into an array of transformations\n - TString (string|array) transform string or array of transformations (in the last case it is returned straight away)\n = (array) array of transformations\n\\*/\nvar parseTransformString = Snap.parseTransformString = function (TString) {\n    if (!TString) {\n        return null;\n    }\n    var paramCounts = {r: 3, s: 4, t: 2, m: 6},\n        data = [];\n    if (is(TString, \"array\") && is(TString[0], \"array\")) { // rough assumption\n        data = Snap.path.clone(TString);\n    }\n    if (!data.length) {\n        Str(TString).replace(tCommand, function (a, b, c) {\n            var params = [],\n                name = b.toLowerCase();\n            c.replace(pathValues, function (a, b) {\n                b && params.push(+b);\n            });\n            data.push([b].concat(params));\n        });\n    }\n    data.toString = Snap.path.toString;\n    return data;\n};\nfunction svgTransform2string(tstr) {\n    var res = [];\n    tstr = tstr.replace(/(?:^|\\s)(\\w+)\\(([^)]+)\\)/g, function (all, name, params) {\n        params = params.split(/\\s*,\\s*|\\s+/);\n        if (name == \"rotate\" && params.length == 1) {\n            params.push(0, 0);\n        }\n        if (name == \"scale\") {\n            if (params.length > 2) {\n                params = params.slice(0, 2);\n            } else if (params.length == 2) {\n                params.push(0, 0);\n            }\n            if (params.length == 1) {\n                params.push(params[0], 0, 0);\n            }\n        }\n        if (name == \"skewX\") {\n            res.push([\"m\", 1, 0, math.tan(rad(params[0])), 1, 0, 0]);\n        } else if (name == \"skewY\") {\n            res.push([\"m\", 1, math.tan(rad(params[0])), 0, 1, 0, 0]);\n        } else {\n            res.push([name.charAt(0)].concat(params));\n        }\n        return all;\n    });\n    return res;\n}\nSnap._.svgTransform2string = svgTransform2string;\nSnap._.rgTransform = /^[a-z][\\s]*-?\\.?\\d/i;\nfunction transform2matrix(tstr, bbox) {\n    var tdata = parseTransformString(tstr),\n        m = new Snap.Matrix;\n    if (tdata) {\n        for (var i = 0, ii = tdata.length; i < ii; i++) {\n            var t = tdata[i],\n                tlen = t.length,\n                command = Str(t[0]).toLowerCase(),\n                absolute = t[0] != command,\n                inver = absolute ? m.invert() : 0,\n                x1,\n                y1,\n                x2,\n                y2,\n                bb;\n            if (command == \"t\" && tlen == 2){\n                m.translate(t[1], 0);\n            } else if (command == \"t\" && tlen == 3) {\n                if (absolute) {\n                    x1 = inver.x(0, 0);\n                    y1 = inver.y(0, 0);\n                    x2 = inver.x(t[1], t[2]);\n                    y2 = inver.y(t[1], t[2]);\n                    m.translate(x2 - x1, y2 - y1);\n                } else {\n                    m.translate(t[1], t[2]);\n                }\n            } else if (command == \"r\") {\n                if (tlen == 2) {\n                    bb = bb || bbox;\n                    m.rotate(t[1], bb.x + bb.width / 2, bb.y + bb.height / 2);\n                } else if (tlen == 4) {\n                    if (absolute) {\n                        x2 = inver.x(t[2], t[3]);\n                        y2 = inver.y(t[2], t[3]);\n                        m.rotate(t[1], x2, y2);\n                    } else {\n                        m.rotate(t[1], t[2], t[3]);\n                    }\n                }\n            } else if (command == \"s\") {\n                if (tlen == 2 || tlen == 3) {\n                    bb = bb || bbox;\n                    m.scale(t[1], t[tlen - 1], bb.x + bb.width / 2, bb.y + bb.height / 2);\n                } else if (tlen == 4) {\n                    if (absolute) {\n                        x2 = inver.x(t[2], t[3]);\n                        y2 = inver.y(t[2], t[3]);\n                        m.scale(t[1], t[1], x2, y2);\n                    } else {\n                        m.scale(t[1], t[1], t[2], t[3]);\n                    }\n                } else if (tlen == 5) {\n                    if (absolute) {\n                        x2 = inver.x(t[3], t[4]);\n                        y2 = inver.y(t[3], t[4]);\n                        m.scale(t[1], t[2], x2, y2);\n                    } else {\n                        m.scale(t[1], t[2], t[3], t[4]);\n                    }\n                }\n            } else if (command == \"m\" && tlen == 7) {\n                m.add(t[1], t[2], t[3], t[4], t[5], t[6]);\n            }\n        }\n    }\n    return m;\n}\nSnap._.transform2matrix = transform2matrix;\nSnap._unit2px = unit2px;\nvar contains = glob.doc.contains || glob.doc.compareDocumentPosition ?\n    function (a, b) {\n        var adown = a.nodeType == 9 ? a.documentElement : a,\n            bup = b && b.parentNode;\n            return a == bup || !!(bup && bup.nodeType == 1 && (\n                adown.contains ?\n                    adown.contains(bup) :\n                    a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16\n            ));\n    } :\n    function (a, b) {\n        if (b) {\n            while (b) {\n                b = b.parentNode;\n                if (b == a) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\nfunction getSomeDefs(el) {\n    var p = el.node.ownerSVGElement && wrap(el.node.ownerSVGElement) ||\n            el.node.parentNode && wrap(el.node.parentNode) ||\n            Snap.select(\"svg\") ||\n            Snap(0, 0),\n        pdefs = p.select(\"defs\"),\n        defs  = pdefs == null ? false : pdefs.node;\n    if (!defs) {\n        defs = make(\"defs\", p.node).node;\n    }\n    return defs;\n}\nfunction getSomeSVG(el) {\n    return el.node.ownerSVGElement && wrap(el.node.ownerSVGElement) || Snap.select(\"svg\");\n}\nSnap._.getSomeDefs = getSomeDefs;\nSnap._.getSomeSVG = getSomeSVG;\nfunction unit2px(el, name, value) {\n    var svg = getSomeSVG(el).node,\n        out = {},\n        mgr = svg.querySelector(\".svg---mgr\");\n    if (!mgr) {\n        mgr = $(\"rect\");\n        $(mgr, {x: -9e9, y: -9e9, width: 10, height: 10, \"class\": \"svg---mgr\", fill: \"none\"});\n        svg.appendChild(mgr);\n    }\n    function getW(val) {\n        if (val == null) {\n            return E;\n        }\n        if (val == +val) {\n            return val;\n        }\n        $(mgr, {width: val});\n        try {\n            return mgr.getBBox().width;\n        } catch (e) {\n            return 0;\n        }\n    }\n    function getH(val) {\n        if (val == null) {\n            return E;\n        }\n        if (val == +val) {\n            return val;\n        }\n        $(mgr, {height: val});\n        try {\n            return mgr.getBBox().height;\n        } catch (e) {\n            return 0;\n        }\n    }\n    function set(nam, f) {\n        if (name == null) {\n            out[nam] = f(el.attr(nam) || 0);\n        } else if (nam == name) {\n            out = f(value == null ? el.attr(nam) || 0 : value);\n        }\n    }\n    switch (el.type) {\n        case \"rect\":\n            set(\"rx\", getW);\n            set(\"ry\", getH);\n        case \"image\":\n            set(\"width\", getW);\n            set(\"height\", getH);\n        case \"text\":\n            set(\"x\", getW);\n            set(\"y\", getH);\n        break;\n        case \"circle\":\n            set(\"cx\", getW);\n            set(\"cy\", getH);\n            set(\"r\", getW);\n        break;\n        case \"ellipse\":\n            set(\"cx\", getW);\n            set(\"cy\", getH);\n            set(\"rx\", getW);\n            set(\"ry\", getH);\n        break;\n        case \"line\":\n            set(\"x1\", getW);\n            set(\"x2\", getW);\n            set(\"y1\", getH);\n            set(\"y2\", getH);\n        break;\n        case \"marker\":\n            set(\"refX\", getW);\n            set(\"markerWidth\", getW);\n            set(\"refY\", getH);\n            set(\"markerHeight\", getH);\n        break;\n        case \"radialGradient\":\n            set(\"fx\", getW);\n            set(\"fy\", getH);\n        break;\n        case \"tspan\":\n            set(\"dx\", getW);\n            set(\"dy\", getH);\n        break;\n        default:\n            set(name, getW);\n    }\n    svg.removeChild(mgr);\n    return out;\n}\n/*\\\n * Snap.select\n [ method ]\n **\n * Wraps a DOM element specified by CSS selector as @Element\n - query (string) CSS selector of the element\n = (Element) the current element\n\\*/\nSnap.select = function (query) {\n    query = Str(query).replace(/([^\\\\]):/g, \"$1\\\\:\");\n    return wrap(glob.doc.querySelector(query));\n};\n/*\\\n * Snap.selectAll\n [ method ]\n **\n * Wraps DOM elements specified by CSS selector as set or array of @Element\n - query (string) CSS selector of the element\n = (Element) the current element\n\\*/\nSnap.selectAll = function (query) {\n    var nodelist = glob.doc.querySelectorAll(query),\n        set = (Snap.set || Array)();\n    for (var i = 0; i < nodelist.length; i++) {\n        set.push(wrap(nodelist[i]));\n    }\n    return set;\n};\n\nfunction add2group(list) {\n    if (!is(list, \"array\")) {\n        list = Array.prototype.slice.call(arguments, 0);\n    }\n    var i = 0,\n        j = 0,\n        node = this.node;\n    while (this[i]) delete this[i++];\n    for (i = 0; i < list.length; i++) {\n        if (list[i].type == \"set\") {\n            list[i].forEach(function (el) {\n                node.appendChild(el.node);\n            });\n        } else {\n            node.appendChild(list[i].node);\n        }\n    }\n    var children = node.childNodes;\n    for (i = 0; i < children.length; i++) {\n        this[j++] = wrap(children[i]);\n    }\n    return this;\n}\n// Hub garbage collector every 10s\nsetInterval(function () {\n    for (var key in hub) if (hub[has](key)) {\n        var el = hub[key],\n            node = el.node;\n        if (el.type != \"svg\" && !node.ownerSVGElement || el.type == \"svg\" && (!node.parentNode || \"ownerSVGElement\" in node.parentNode && !node.ownerSVGElement)) {\n            delete hub[key];\n        }\n    }\n}, 1e4);\nfunction Element(el) {\n    if (el.snap in hub) {\n        return hub[el.snap];\n    }\n    var svg;\n    try {\n        svg = el.ownerSVGElement;\n    } catch(e) {}\n    /*\\\n     * Element.node\n     [ property (object) ]\n     **\n     * Gives you a reference to the DOM object, so you can assign event handlers or just mess around.\n     > Usage\n     | // draw a circle at coordinate 10,10 with radius of 10\n     | var c = paper.circle(10, 10, 10);\n     | c.node.onclick = function () {\n     |     c.attr(\"fill\", \"red\");\n     | };\n    \\*/\n    this.node = el;\n    if (svg) {\n        this.paper = new Paper(svg);\n    }\n    /*\\\n     * Element.type\n     [ property (string) ]\n     **\n     * SVG tag name of the given element.\n    \\*/\n    this.type = el.tagName || el.nodeName;\n    var id = this.id = ID(this);\n    this.anims = {};\n    this._ = {\n        transform: []\n    };\n    el.snap = id;\n    hub[id] = this;\n    if (this.type == \"g\") {\n        this.add = add2group;\n    }\n    if (this.type in {g: 1, mask: 1, pattern: 1, symbol: 1}) {\n        for (var method in Paper.prototype) if (Paper.prototype[has](method)) {\n            this[method] = Paper.prototype[method];\n        }\n    }\n}\n   /*\\\n     * Element.attr\n     [ method ]\n     **\n     * Gets or sets given attributes of the element.\n     **\n     - params (object) contains key-value pairs of attributes you want to set\n     * or\n     - param (string) name of the attribute\n     = (Element) the current element\n     * or\n     = (string) value of attribute\n     > Usage\n     | el.attr({\n     |     fill: \"#fc0\",\n     |     stroke: \"#000\",\n     |     strokeWidth: 2, // CamelCase...\n     |     \"fill-opacity\": 0.5, // or dash-separated names\n     |     width: \"*=2\" // prefixed values\n     | });\n     | console.log(el.attr(\"fill\")); // #fc0\n     * Prefixed values in format `\"+=10\"` supported. All four operations\n     * (`+`, `-`, `*` and `/`) could be used. Optionally you can use units for `+`\n     * and `-`: `\"+=2em\"`.\n    \\*/\n    Element.prototype.attr = function (params, value) {\n        var el = this,\n            node = el.node;\n        if (!params) {\n            if (node.nodeType != 1) {\n                return {\n                    text: node.nodeValue\n                };\n            }\n            var attr = node.attributes,\n                out = {};\n            for (var i = 0, ii = attr.length; i < ii; i++) {\n                out[attr[i].nodeName] = attr[i].nodeValue;\n            }\n            return out;\n        }\n        if (is(params, \"string\")) {\n            if (arguments.length > 1) {\n                var json = {};\n                json[params] = value;\n                params = json;\n            } else {\n                return eve(\"snap.util.getattr.\" + params, el).firstDefined();\n            }\n        }\n        for (var att in params) {\n            if (params[has](att)) {\n                eve(\"snap.util.attr.\" + att, el, params[att]);\n            }\n        }\n        return el;\n    };\n/*\\\n * Snap.parse\n [ method ]\n **\n * Parses SVG fragment and converts it into a @Fragment\n **\n - svg (string) SVG string\n = (Fragment) the @Fragment\n\\*/\nSnap.parse = function (svg) {\n    var f = glob.doc.createDocumentFragment(),\n        full = true,\n        div = glob.doc.createElement(\"div\");\n    svg = Str(svg);\n    if (!svg.match(/^\\s*<\\s*svg(?:\\s|>)/)) {\n        svg = \"<svg>\" + svg + \"</svg>\";\n        full = false;\n    }\n    div.innerHTML = svg;\n    svg = div.getElementsByTagName(\"svg\")[0];\n    if (svg) {\n        if (full) {\n            f = svg;\n        } else {\n            while (svg.firstChild) {\n                f.appendChild(svg.firstChild);\n            }\n        }\n    }\n    return new Fragment(f);\n};\nfunction Fragment(frag) {\n    this.node = frag;\n}\n/*\\\n * Snap.fragment\n [ method ]\n **\n * Creates a DOM fragment from a given list of elements or strings\n **\n - varargs () SVG string\n = (Fragment) the @Fragment\n\\*/\nSnap.fragment = function () {\n    var args = Array.prototype.slice.call(arguments, 0),\n        f = glob.doc.createDocumentFragment();\n    for (var i = 0, ii = args.length; i < ii; i++) {\n        var item = args[i];\n        if (item.node && item.node.nodeType) {\n            f.appendChild(item.node);\n        }\n        if (item.nodeType) {\n            f.appendChild(item);\n        }\n        if (typeof item == \"string\") {\n            f.appendChild(Snap.parse(item).node);\n        }\n    }\n    return new Fragment(f);\n};\n\nfunction make(name, parent) {\n    var res = $(name);\n    parent.appendChild(res);\n    var el = wrap(res);\n    return el;\n}\nfunction Paper(w, h) {\n    var res,\n        desc,\n        defs,\n        proto = Paper.prototype;\n    if (w && w.tagName && w.tagName.toLowerCase() == \"svg\") {\n        if (w.snap in hub) {\n            return hub[w.snap];\n        }\n        var doc = w.ownerDocument;\n        res = new Element(w);\n        desc = w.getElementsByTagName(\"desc\")[0];\n        defs = w.getElementsByTagName(\"defs\")[0];\n        if (!desc) {\n            desc = $(\"desc\");\n            desc.appendChild(doc.createTextNode(\"Created with Snap\"));\n            res.node.appendChild(desc);\n        }\n        if (!defs) {\n            defs = $(\"defs\");\n            res.node.appendChild(defs);\n        }\n        res.defs = defs;\n        for (var key in proto) if (proto[has](key)) {\n            res[key] = proto[key];\n        }\n        res.paper = res.root = res;\n    } else {\n        res = make(\"svg\", glob.doc.body);\n        $(res.node, {\n            height: h,\n            version: 1.1,\n            width: w,\n            xmlns: xmlns\n        });\n    }\n    return res;\n}\nfunction wrap(dom) {\n    if (!dom) {\n        return dom;\n    }\n    if (dom instanceof Element || dom instanceof Fragment) {\n        return dom;\n    }\n    if (dom.tagName && dom.tagName.toLowerCase() == \"svg\") {\n        return new Paper(dom);\n    }\n    if (dom.tagName && dom.tagName.toLowerCase() == \"object\" && dom.type == \"image/svg+xml\") {\n        return new Paper(dom.contentDocument.getElementsByTagName(\"svg\")[0]);\n    }\n    return new Element(dom);\n}\n\nSnap._.make = make;\nSnap._.wrap = wrap;\n/*\\\n * Paper.el\n [ method ]\n **\n * Creates an element on paper with a given name and no attributes\n **\n - name (string) tag name\n - attr (object) attributes\n = (Element) the current element\n > Usage\n | var c = paper.circle(10, 10, 10); // is the same as...\n | var c = paper.el(\"circle\").attr({\n |     cx: 10,\n |     cy: 10,\n |     r: 10\n | });\n | // and the same as\n | var c = paper.el(\"circle\", {\n |     cx: 10,\n |     cy: 10,\n |     r: 10\n | });\n\\*/\nPaper.prototype.el = function (name, attr) {\n    var el = make(name, this.node);\n    attr && el.attr(attr);\n    return el;\n};\n/*\\\n * Element.children\n [ method ]\n **\n * Returns array of all the children of the element.\n = (array) array of Elements\n\\*/\nElement.prototype.children = function () {\n    var out = [],\n        ch = this.node.childNodes;\n    for (var i = 0, ii = ch.length; i < ii; i++) {\n        out[i] = Snap(ch[i]);\n    }\n    return out;\n};\nfunction jsonFiller(root, o) {\n    for (var i = 0, ii = root.length; i < ii; i++) {\n        var item = {\n                type: root[i].type,\n                attr: root[i].attr()\n            },\n            children = root[i].children();\n        o.push(item);\n        if (children.length) {\n            jsonFiller(children, item.childNodes = []);\n        }\n    }\n}\n/*\\\n * Element.toJSON\n [ method ]\n **\n * Returns object representation of the given element and all its children.\n = (object) in format\n o {\n o     type (string) this.type,\n o     attr (object) attributes map,\n o     childNodes (array) optional array of children in the same format\n o }\n\\*/\nElement.prototype.toJSON = function () {\n    var out = [];\n    jsonFiller([this], out);\n    return out[0];\n};\n// default\neve.on(\"snap.util.getattr\", function () {\n    var att = eve.nt();\n    att = att.substring(att.lastIndexOf(\".\") + 1);\n    var css = att.replace(/[A-Z]/g, function (letter) {\n        return \"-\" + letter.toLowerCase();\n    });\n    if (cssAttr[has](css)) {\n        return this.node.ownerDocument.defaultView.getComputedStyle(this.node, null).getPropertyValue(css);\n    } else {\n        return $(this.node, att);\n    }\n});\nvar cssAttr = {\n    \"alignment-baseline\": 0,\n    \"baseline-shift\": 0,\n    \"clip\": 0,\n    \"clip-path\": 0,\n    \"clip-rule\": 0,\n    \"color\": 0,\n    \"color-interpolation\": 0,\n    \"color-interpolation-filters\": 0,\n    \"color-profile\": 0,\n    \"color-rendering\": 0,\n    \"cursor\": 0,\n    \"direction\": 0,\n    \"display\": 0,\n    \"dominant-baseline\": 0,\n    \"enable-background\": 0,\n    \"fill\": 0,\n    \"fill-opacity\": 0,\n    \"fill-rule\": 0,\n    \"filter\": 0,\n    \"flood-color\": 0,\n    \"flood-opacity\": 0,\n    \"font\": 0,\n    \"font-family\": 0,\n    \"font-size\": 0,\n    \"font-size-adjust\": 0,\n    \"font-stretch\": 0,\n    \"font-style\": 0,\n    \"font-variant\": 0,\n    \"font-weight\": 0,\n    \"glyph-orientation-horizontal\": 0,\n    \"glyph-orientation-vertical\": 0,\n    \"image-rendering\": 0,\n    \"kerning\": 0,\n    \"letter-spacing\": 0,\n    \"lighting-color\": 0,\n    \"marker\": 0,\n    \"marker-end\": 0,\n    \"marker-mid\": 0,\n    \"marker-start\": 0,\n    \"mask\": 0,\n    \"opacity\": 0,\n    \"overflow\": 0,\n    \"pointer-events\": 0,\n    \"shape-rendering\": 0,\n    \"stop-color\": 0,\n    \"stop-opacity\": 0,\n    \"stroke\": 0,\n    \"stroke-dasharray\": 0,\n    \"stroke-dashoffset\": 0,\n    \"stroke-linecap\": 0,\n    \"stroke-linejoin\": 0,\n    \"stroke-miterlimit\": 0,\n    \"stroke-opacity\": 0,\n    \"stroke-width\": 0,\n    \"text-anchor\": 0,\n    \"text-decoration\": 0,\n    \"text-rendering\": 0,\n    \"unicode-bidi\": 0,\n    \"visibility\": 0,\n    \"word-spacing\": 0,\n    \"writing-mode\": 0\n};\n\neve.on(\"snap.util.attr\", function (value) {\n    var att = eve.nt(),\n        attr = {};\n    att = att.substring(att.lastIndexOf(\".\") + 1);\n    attr[att] = value;\n    var style = att.replace(/-(\\w)/gi, function (all, letter) {\n            return letter.toUpperCase();\n        }),\n        css = att.replace(/[A-Z]/g, function (letter) {\n            return \"-\" + letter.toLowerCase();\n        });\n    if (cssAttr[has](css)) {\n        this.node.style[style] = value == null ? E : value;\n    } else {\n        $(this.node, attr);\n    }\n});\n(function (proto) {}(Paper.prototype));\n\n// simple ajax\n/*\\\n * Snap.ajax\n [ method ]\n **\n * Simple implementation of Ajax\n **\n - url (string) URL\n - postData (object|string) data for post request\n - callback (function) callback\n - scope (object) #optional scope of callback\n * or\n - url (string) URL\n - callback (function) callback\n - scope (object) #optional scope of callback\n = (XMLHttpRequest) the XMLHttpRequest object, just in case\n\\*/\nSnap.ajax = function (url, postData, callback, scope){\n    var req = new XMLHttpRequest,\n        id = ID();\n    if (req) {\n        if (is(postData, \"function\")) {\n            scope = callback;\n            callback = postData;\n            postData = null;\n        } else if (is(postData, \"object\")) {\n            var pd = [];\n            for (var key in postData) if (postData.hasOwnProperty(key)) {\n                pd.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(postData[key]));\n            }\n            postData = pd.join(\"&\");\n        }\n        req.open(postData ? \"POST\" : \"GET\", url, true);\n        if (postData) {\n            req.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n            req.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n        }\n        if (callback) {\n            eve.once(\"snap.ajax.\" + id + \".0\", callback);\n            eve.once(\"snap.ajax.\" + id + \".200\", callback);\n            eve.once(\"snap.ajax.\" + id + \".304\", callback);\n        }\n        req.onreadystatechange = function() {\n            if (req.readyState != 4) return;\n            eve(\"snap.ajax.\" + id + \".\" + req.status, scope, req);\n        };\n        if (req.readyState == 4) {\n            return req;\n        }\n        req.send(postData);\n        return req;\n    }\n};\n/*\\\n * Snap.load\n [ method ]\n **\n * Loads external SVG file as a @Fragment (see @Snap.ajax for more advanced AJAX)\n **\n - url (string) URL\n - callback (function) callback\n - scope (object) #optional scope of callback\n\\*/\nSnap.load = function (url, callback, scope) {\n    Snap.ajax(url, function (req) {\n        var f = Snap.parse(req.responseText);\n        scope ? callback.call(scope, f) : callback(f);\n    });\n};\nvar getOffset = function (elem) {\n    var box = elem.getBoundingClientRect(),\n        doc = elem.ownerDocument,\n        body = doc.body,\n        docElem = doc.documentElement,\n        clientTop = docElem.clientTop || body.clientTop || 0, clientLeft = docElem.clientLeft || body.clientLeft || 0,\n        top  = box.top  + (g.win.pageYOffset || docElem.scrollTop || body.scrollTop ) - clientTop,\n        left = box.left + (g.win.pageXOffset || docElem.scrollLeft || body.scrollLeft) - clientLeft;\n    return {\n        y: top,\n        x: left\n    };\n};\n/*\\\n * Snap.getElementByPoint\n [ method ]\n **\n * Returns you topmost element under given point.\n **\n = (object) Snap element object\n - x (number) x coordinate from the top left corner of the window\n - y (number) y coordinate from the top left corner of the window\n > Usage\n | Snap.getElementByPoint(mouseX, mouseY).attr({stroke: \"#f00\"});\n\\*/\nSnap.getElementByPoint = function (x, y) {\n    var paper = this,\n        svg = paper.canvas,\n        target = glob.doc.elementFromPoint(x, y);\n    if (glob.win.opera && target.tagName == \"svg\") {\n        var so = getOffset(target),\n            sr = target.createSVGRect();\n        sr.x = x - so.x;\n        sr.y = y - so.y;\n        sr.width = sr.height = 1;\n        var hits = target.getIntersectionList(sr, null);\n        if (hits.length) {\n            target = hits[hits.length - 1];\n        }\n    }\n    if (!target) {\n        return null;\n    }\n    return wrap(target);\n};\n/*\\\n * Snap.plugin\n [ method ]\n **\n * Let you write plugins. You pass in a function with five arguments, like this:\n | Snap.plugin(function (Snap, Element, Paper, global, Fragment) {\n |     Snap.newmethod = function () {};\n |     Element.prototype.newmethod = function () {};\n |     Paper.prototype.newmethod = function () {};\n | });\n * Inside the function you have access to all main objects (and their\n * prototypes). This allow you to extend anything you want.\n **\n - f (function) your plugin body\n\\*/\nSnap.plugin = function (f) {\n    f(Snap, Element, Paper, glob, Fragment);\n};\nglob.win.Snap = Snap;\nreturn Snap;\n}(window || this));\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var elproto = Element.prototype,\n        is = Snap.is,\n        Str = String,\n        unit2px = Snap._unit2px,\n        $ = Snap._.$,\n        make = Snap._.make,\n        getSomeDefs = Snap._.getSomeDefs,\n        has = \"hasOwnProperty\",\n        wrap = Snap._.wrap;\n    /*\\\n     * Element.getBBox\n     [ method ]\n     **\n     * Returns the bounding box descriptor for the given element\n     **\n     = (object) bounding box descriptor:\n     o {\n     o     cx: (number) x of the center,\n     o     cy: (number) x of the center,\n     o     h: (number) height,\n     o     height: (number) height,\n     o     path: (string) path command for the box,\n     o     r0: (number) radius of a circle that fully encloses the box,\n     o     r1: (number) radius of the smallest circle that can be enclosed,\n     o     r2: (number) radius of the largest circle that can be enclosed,\n     o     vb: (string) box as a viewbox command,\n     o     w: (number) width,\n     o     width: (number) width,\n     o     x2: (number) x of the right side,\n     o     x: (number) x of the left side,\n     o     y2: (number) y of the bottom edge,\n     o     y: (number) y of the top edge\n     o }\n    \\*/\n    elproto.getBBox = function (isWithoutTransform) {\n        if (this.type == \"tspan\") {\n            return Snap._.box(this.node.getClientRects().item(0));\n        }\n        if (!Snap.Matrix || !Snap.path) {\n            return this.node.getBBox();\n        }\n        var el = this,\n            m = new Snap.Matrix;\n        if (el.removed) {\n            return Snap._.box();\n        }\n        while (el.type == \"use\") {\n            if (!isWithoutTransform) {\n                m = m.add(el.transform().localMatrix.translate(el.attr(\"x\") || 0, el.attr(\"y\") || 0));\n            }\n            if (el.original) {\n                el = el.original;\n            } else {\n                var href = el.attr(\"xlink:href\");\n                el = el.original = el.node.ownerDocument.getElementById(href.substring(href.indexOf(\"#\") + 1));\n            }\n        }\n        var _ = el._,\n            pathfinder = Snap.path.get[el.type] || Snap.path.get.deflt;\n        try {\n            if (isWithoutTransform) {\n                _.bboxwt = pathfinder ? Snap.path.getBBox(el.realPath = pathfinder(el)) : Snap._.box(el.node.getBBox());\n                return Snap._.box(_.bboxwt);\n            } else {\n                el.realPath = pathfinder(el);\n                el.matrix = el.transform().localMatrix;\n                _.bbox = Snap.path.getBBox(Snap.path.map(el.realPath, m.add(el.matrix)));\n                return Snap._.box(_.bbox);\n            }\n        } catch (e) {\n            // Firefox doesnt give you bbox of hidden element\n            return Snap._.box();\n        }\n    };\n    var propString = function () {\n        return this.string;\n    };\n    function extractTransform(el, tstr) {\n        if (tstr == null) {\n            var doReturn = true;\n            if (el.type == \"linearGradient\" || el.type == \"radialGradient\") {\n                tstr = el.node.getAttribute(\"gradientTransform\");\n            } else if (el.type == \"pattern\") {\n                tstr = el.node.getAttribute(\"patternTransform\");\n            } else {\n                tstr = el.node.getAttribute(\"transform\");\n            }\n            if (!tstr) {\n                return new Snap.Matrix;\n            }\n            tstr = Snap._.svgTransform2string(tstr);\n        } else {\n            if (!Snap._.rgTransform.test(tstr)) {\n                tstr = Snap._.svgTransform2string(tstr);\n            } else {\n                tstr = Str(tstr).replace(/\\.{3}|\\u2026/g, el._.transform || \"\");\n            }\n            if (is(tstr, \"array\")) {\n                tstr = Snap.path ? Snap.path.toString.call(tstr) : Str(tstr);\n            }\n            el._.transform = tstr;\n        }\n        var m = Snap._.transform2matrix(tstr, el.getBBox(1));\n        if (doReturn) {\n            return m;\n        } else {\n            el.matrix = m;\n        }\n    }\n    /*\\\n     * Element.transform\n     [ method ]\n     **\n     * Gets or sets transformation of the element\n     **\n     - tstr (string) transform string in Snap or SVG format\n     = (Element) the current element\n     * or\n     = (object) transformation descriptor:\n     o {\n     o     string (string) transform string,\n     o     globalMatrix (Matrix) matrix of all transformations applied to element or its parents,\n     o     localMatrix (Matrix) matrix of transformations applied only to the element,\n     o     diffMatrix (Matrix) matrix of difference between global and local transformations,\n     o     global (string) global transformation as string,\n     o     local (string) local transformation as string,\n     o     toString (function) returns `string` property\n     o }\n    \\*/\n    elproto.transform = function (tstr) {\n        var _ = this._;\n        if (tstr == null) {\n            var papa = this,\n                global = new Snap.Matrix(this.node.getCTM()),\n                local = extractTransform(this),\n                ms = [local],\n                m = new Snap.Matrix,\n                i,\n                localString = local.toTransformString(),\n                string = Str(local) == Str(this.matrix) ?\n                            Str(_.transform) : localString;\n            while (papa.type != \"svg\" && (papa = papa.parent())) {\n                ms.push(extractTransform(papa));\n            }\n            i = ms.length;\n            while (i--) {\n                m.add(ms[i]);\n            }\n            return {\n                string: string,\n                globalMatrix: global,\n                totalMatrix: m,\n                localMatrix: local,\n                diffMatrix: global.clone().add(local.invert()),\n                global: global.toTransformString(),\n                total: m.toTransformString(),\n                local: localString,\n                toString: propString\n            };\n        }\n        if (tstr instanceof Snap.Matrix) {\n            this.matrix = tstr;\n            this._.transform = tstr.toTransformString();\n        } else {\n            extractTransform(this, tstr);\n        }\n\n        if (this.node) {\n            if (this.type == \"linearGradient\" || this.type == \"radialGradient\") {\n                $(this.node, {gradientTransform: this.matrix});\n            } else if (this.type == \"pattern\") {\n                $(this.node, {patternTransform: this.matrix});\n            } else {\n                $(this.node, {transform: this.matrix});\n            }\n        }\n\n        return this;\n    };\n    /*\\\n     * Element.parent\n     [ method ]\n     **\n     * Returns the element's parent\n     **\n     = (Element) the parent element\n    \\*/\n    elproto.parent = function () {\n        return wrap(this.node.parentNode);\n    };\n    /*\\\n     * Element.append\n     [ method ]\n     **\n     * Appends the given element to current one\n     **\n     - el (Element|Set) element to append\n     = (Element) the parent element\n    \\*/\n    /*\\\n     * Element.add\n     [ method ]\n     **\n     * See @Element.append\n    \\*/\n    elproto.append = elproto.add = function (el) {\n        if (el) {\n            if (el.type == \"set\") {\n                var it = this;\n                el.forEach(function (el) {\n                    it.add(el);\n                });\n                return this;\n            }\n            el = wrap(el);\n            this.node.appendChild(el.node);\n            el.paper = this.paper;\n        }\n        return this;\n    };\n    /*\\\n     * Element.appendTo\n     [ method ]\n     **\n     * Appends the current element to the given one\n     **\n     - el (Element) parent element to append to\n     = (Element) the child element\n    \\*/\n    elproto.appendTo = function (el) {\n        if (el) {\n            el = wrap(el);\n            el.append(this);\n        }\n        return this;\n    };\n    /*\\\n     * Element.prepend\n     [ method ]\n     **\n     * Prepends the given element to the current one\n     **\n     - el (Element) element to prepend\n     = (Element) the parent element\n    \\*/\n    elproto.prepend = function (el) {\n        if (el) {\n            if (el.type == \"set\") {\n                var it = this,\n                    first;\n                el.forEach(function (el) {\n                    if (first) {\n                        first.after(el);\n                    } else {\n                        it.prepend(el);\n                    }\n                    first = el;\n                });\n                return this;\n            }\n            el = wrap(el);\n            var parent = el.parent();\n            this.node.insertBefore(el.node, this.node.firstChild);\n            this.add && this.add();\n            el.paper = this.paper;\n            this.parent() && this.parent().add();\n            parent && parent.add();\n        }\n        return this;\n    };\n    /*\\\n     * Element.prependTo\n     [ method ]\n     **\n     * Prepends the current element to the given one\n     **\n     - el (Element) parent element to prepend to\n     = (Element) the child element\n    \\*/\n    elproto.prependTo = function (el) {\n        el = wrap(el);\n        el.prepend(this);\n        return this;\n    };\n    /*\\\n     * Element.before\n     [ method ]\n     **\n     * Inserts given element before the current one\n     **\n     - el (Element) element to insert\n     = (Element) the parent element\n    \\*/\n    elproto.before = function (el) {\n        if (el.type == \"set\") {\n            var it = this;\n            el.forEach(function (el) {\n                var parent = el.parent();\n                it.node.parentNode.insertBefore(el.node, it.node);\n                parent && parent.add();\n            });\n            this.parent().add();\n            return this;\n        }\n        el = wrap(el);\n        var parent = el.parent();\n        this.node.parentNode.insertBefore(el.node, this.node);\n        this.parent() && this.parent().add();\n        parent && parent.add();\n        el.paper = this.paper;\n        return this;\n    };\n    /*\\\n     * Element.after\n     [ method ]\n     **\n     * Inserts given element after the current one\n     **\n     - el (Element) element to insert\n     = (Element) the parent element\n    \\*/\n    elproto.after = function (el) {\n        el = wrap(el);\n        var parent = el.parent();\n        if (this.node.nextSibling) {\n            this.node.parentNode.insertBefore(el.node, this.node.nextSibling);\n        } else {\n            this.node.parentNode.appendChild(el.node);\n        }\n        this.parent() && this.parent().add();\n        parent && parent.add();\n        el.paper = this.paper;\n        return this;\n    };\n    /*\\\n     * Element.insertBefore\n     [ method ]\n     **\n     * Inserts the element after the given one\n     **\n     - el (Element) element next to whom insert to\n     = (Element) the parent element\n    \\*/\n    elproto.insertBefore = function (el) {\n        el = wrap(el);\n        var parent = this.parent();\n        el.node.parentNode.insertBefore(this.node, el.node);\n        this.paper = el.paper;\n        parent && parent.add();\n        el.parent() && el.parent().add();\n        return this;\n    };\n    /*\\\n     * Element.insertAfter\n     [ method ]\n     **\n     * Inserts the element after the given one\n     **\n     - el (Element) element next to whom insert to\n     = (Element) the parent element\n    \\*/\n    elproto.insertAfter = function (el) {\n        el = wrap(el);\n        var parent = this.parent();\n        el.node.parentNode.insertBefore(this.node, el.node.nextSibling);\n        this.paper = el.paper;\n        parent && parent.add();\n        el.parent() && el.parent().add();\n        return this;\n    };\n    /*\\\n     * Element.remove\n     [ method ]\n     **\n     * Removes element from the DOM\n     = (Element) the detached element\n    \\*/\n    elproto.remove = function () {\n        var parent = this.parent();\n        this.node.parentNode && this.node.parentNode.removeChild(this.node);\n        delete this.paper;\n        this.removed = true;\n        parent && parent.add();\n        return this;\n    };\n    /*\\\n     * Element.select\n     [ method ]\n     **\n     * Gathers the nested @Element matching the given set of CSS selectors\n     **\n     - query (string) CSS selector\n     = (Element) result of query selection\n    \\*/\n    elproto.select = function (query) {\n        return wrap(this.node.querySelector(query));\n    };\n    /*\\\n     * Element.selectAll\n     [ method ]\n     **\n     * Gathers nested @Element objects matching the given set of CSS selectors\n     **\n     - query (string) CSS selector\n     = (Set|array) result of query selection\n    \\*/\n    elproto.selectAll = function (query) {\n        var nodelist = this.node.querySelectorAll(query),\n            set = (Snap.set || Array)();\n        for (var i = 0; i < nodelist.length; i++) {\n            set.push(wrap(nodelist[i]));\n        }\n        return set;\n    };\n    /*\\\n     * Element.asPX\n     [ method ]\n     **\n     * Returns given attribute of the element as a `px` value (not %, em, etc.)\n     **\n     - attr (string) attribute name\n     - value (string) #optional attribute value\n     = (Element) result of query selection\n    \\*/\n    elproto.asPX = function (attr, value) {\n        if (value == null) {\n            value = this.attr(attr);\n        }\n        return +unit2px(this, attr, value);\n    };\n    // SIERRA Element.use(): I suggest adding a note about how to access the original element the returned <use> instantiates. It's a part of SVG with which ordinary web developers may be least familiar.\n    /*\\\n     * Element.use\n     [ method ]\n     **\n     * Creates a `<use>` element linked to the current element\n     **\n     = (Element) the `<use>` element\n    \\*/\n    elproto.use = function () {\n        var use,\n            id = this.node.id;\n        if (!id) {\n            id = this.id;\n            $(this.node, {\n                id: id\n            });\n        }\n        if (this.type == \"linearGradient\" || this.type == \"radialGradient\" ||\n            this.type == \"pattern\") {\n            use = make(this.type, this.node.parentNode);\n        } else {\n            use = make(\"use\", this.node.parentNode);\n        }\n        $(use.node, {\n            \"xlink:href\": \"#\" + id\n        });\n        use.original = this;\n        return use;\n    };\n    function fixids(el) {\n        var els = el.selectAll(\"*\"),\n            it,\n            url = /^\\s*url\\((\"|'|)(.*)\\1\\)\\s*$/,\n            ids = [],\n            uses = {};\n        function urltest(it, name) {\n            var val = $(it.node, name);\n            val = val && val.match(url);\n            val = val && val[2];\n            if (val && val.charAt() == \"#\") {\n                val = val.substring(1);\n            } else {\n                return;\n            }\n            if (val) {\n                uses[val] = (uses[val] || []).concat(function (id) {\n                    var attr = {};\n                    attr[name] = Snap.url(id);\n                    $(it.node, attr);\n                });\n            }\n        }\n        function linktest(it) {\n            var val = $(it.node, \"xlink:href\");\n            if (val && val.charAt() == \"#\") {\n                val = val.substring(1);\n            } else {\n                return;\n            }\n            if (val) {\n                uses[val] = (uses[val] || []).concat(function (id) {\n                    it.attr(\"xlink:href\", \"#\" + id);\n                });\n            }\n        }\n        for (var i = 0, ii = els.length; i < ii; i++) {\n            it = els[i];\n            urltest(it, \"fill\");\n            urltest(it, \"stroke\");\n            urltest(it, \"filter\");\n            urltest(it, \"mask\");\n            urltest(it, \"clip-path\");\n            linktest(it);\n            var oldid = $(it.node, \"id\");\n            if (oldid) {\n                $(it.node, {id: it.id});\n                ids.push({\n                    old: oldid,\n                    id: it.id\n                });\n            }\n        }\n        for (i = 0, ii = ids.length; i < ii; i++) {\n            var fs = uses[ids[i].old];\n            if (fs) {\n                for (var j = 0, jj = fs.length; j < jj; j++) {\n                    fs[j](ids[i].id);\n                }\n            }\n        }\n    }\n    /*\\\n     * Element.clone\n     [ method ]\n     **\n     * Creates a clone of the element and inserts it after the element\n     **\n     = (Element) the clone\n    \\*/\n    elproto.clone = function () {\n        var clone = wrap(this.node.cloneNode(true));\n        if ($(clone.node, \"id\")) {\n            $(clone.node, {id: clone.id});\n        }\n        fixids(clone);\n        clone.insertAfter(this);\n        return clone;\n    };\n    /*\\\n     * Element.toDefs\n     [ method ]\n     **\n     * Moves element to the shared `<defs>` area\n     **\n     = (Element) the element\n    \\*/\n    elproto.toDefs = function () {\n        var defs = getSomeDefs(this);\n        defs.appendChild(this.node);\n        return this;\n    };\n    /*\\\n     * Element.toPattern\n     [ method ]\n     **\n     * Creates a `<pattern>` element from the current element\n     **\n     * To create a pattern you have to specify the pattern rect:\n     - x (string|number)\n     - y (string|number)\n     - width (string|number)\n     - height (string|number)\n     = (Element) the `<pattern>` element\n     * You can use pattern later on as an argument for `fill` attribute:\n     | var p = paper.path(\"M10-5-10,15M15,0,0,15M0-5-20,15\").attr({\n     |         fill: \"none\",\n     |         stroke: \"#bada55\",\n     |         strokeWidth: 5\n     |     }).pattern(0, 0, 10, 10),\n     |     c = paper.circle(200, 200, 100);\n     | c.attr({\n     |     fill: p\n     | });\n    \\*/\n    elproto.pattern = elproto.toPattern = function (x, y, width, height) {\n        var p = make(\"pattern\", getSomeDefs(this));\n        if (x == null) {\n            x = this.getBBox();\n        }\n        if (is(x, \"object\") && \"x\" in x) {\n            y = x.y;\n            width = x.width;\n            height = x.height;\n            x = x.x;\n        }\n        $(p.node, {\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n            patternUnits: \"userSpaceOnUse\",\n            id: p.id,\n            viewBox: [x, y, width, height].join(\" \")\n        });\n        p.node.appendChild(this.node);\n        return p;\n    };\n// SIERRA Element.marker(): clarify what a reference point is. E.g., helps you offset the object from its edge such as when centering it over a path.\n// SIERRA Element.marker(): I suggest the method should accept default reference point values.  Perhaps centered with (refX = width/2) and (refY = height/2)? Also, couldn't it assume the element's current _width_ and _height_? And please specify what _x_ and _y_ mean: offsets? If so, from where?  Couldn't they also be assigned default values?\n    /*\\\n     * Element.marker\n     [ method ]\n     **\n     * Creates a `<marker>` element from the current element\n     **\n     * To create a marker you have to specify the bounding rect and reference point:\n     - x (number)\n     - y (number)\n     - width (number)\n     - height (number)\n     - refX (number)\n     - refY (number)\n     = (Element) the `<marker>` element\n     * You can specify the marker later as an argument for `marker-start`, `marker-end`, `marker-mid`, and `marker` attributes. The `marker` attribute places the marker at every point along the path, and `marker-mid` places them at every point except the start and end.\n    \\*/\n    // TODO add usage for markers\n    elproto.marker = function (x, y, width, height, refX, refY) {\n        var p = make(\"marker\", getSomeDefs(this));\n        if (x == null) {\n            x = this.getBBox();\n        }\n        if (is(x, \"object\") && \"x\" in x) {\n            y = x.y;\n            width = x.width;\n            height = x.height;\n            refX = x.refX || x.cx;\n            refY = x.refY || x.cy;\n            x = x.x;\n        }\n        $(p.node, {\n            viewBox: [x, y, width, height].join(\" \"),\n            markerWidth: width,\n            markerHeight: height,\n            orient: \"auto\",\n            refX: refX || 0,\n            refY: refY || 0,\n            id: p.id\n        });\n        p.node.appendChild(this.node);\n        return p;\n    };\n    var eldata = {};\n    /*\\\n     * Element.data\n     [ method ]\n     **\n     * Adds or retrieves given value associated with given key. (Dont confuse\n     * with `data-` attributes)\n     *\n     * See also @Element.removeData\n     - key (string) key to store data\n     - value (any) #optional value to store\n     = (object) @Element\n     * or, if value is not specified:\n     = (any) value\n     > Usage\n     | for (var i = 0, i < 5, i++) {\n     |     paper.circle(10 + 15 * i, 10, 10)\n     |          .attr({fill: \"#000\"})\n     |          .data(\"i\", i)\n     |          .click(function () {\n     |             alert(this.data(\"i\"));\n     |          });\n     | }\n    \\*/\n    elproto.data = function (key, value) {\n        var data = eldata[this.id] = eldata[this.id] || {};\n        if (arguments.length == 0){\n            eve(\"snap.data.get.\" + this.id, this, data, null);\n            return data;\n        }\n        if (arguments.length == 1) {\n            if (Snap.is(key, \"object\")) {\n                for (var i in key) if (key[has](i)) {\n                    this.data(i, key[i]);\n                }\n                return this;\n            }\n            eve(\"snap.data.get.\" + this.id, this, data[key], key);\n            return data[key];\n        }\n        data[key] = value;\n        eve(\"snap.data.set.\" + this.id, this, value, key);\n        return this;\n    };\n    /*\\\n     * Element.removeData\n     [ method ]\n     **\n     * Removes value associated with an element by given key.\n     * If key is not provided, removes all the data of the element.\n     - key (string) #optional key\n     = (object) @Element\n    \\*/\n    elproto.removeData = function (key) {\n        if (key == null) {\n            eldata[this.id] = {};\n        } else {\n            eldata[this.id] && delete eldata[this.id][key];\n        }\n        return this;\n    };\n    /*\\\n     * Element.outerSVG\n     [ method ]\n     **\n     * Returns SVG code for the element, equivalent to HTML's `outerHTML`.\n     *\n     * See also @Element.innerSVG\n     = (string) SVG code for the element\n    \\*/\n    /*\\\n     * Element.toString\n     [ method ]\n     **\n     * See @Element.outerSVG\n    \\*/\n    elproto.outerSVG = elproto.toString = toString(1);\n    /*\\\n     * Element.innerSVG\n     [ method ]\n     **\n     * Returns SVG code for the element's contents, equivalent to HTML's `innerHTML`\n     = (string) SVG code for the element\n    \\*/\n    elproto.innerSVG = toString();\n    function toString(type) {\n        return function () {\n            var res = type ? \"<\" + this.type : \"\",\n                attr = this.node.attributes,\n                chld = this.node.childNodes;\n            if (type) {\n                for (var i = 0, ii = attr.length; i < ii; i++) {\n                    res += \" \" + attr[i].name + '=\"' +\n                            attr[i].value.replace(/\"/g, '\\\\\"') + '\"';\n                }\n            }\n            if (chld.length) {\n                type && (res += \">\");\n                for (i = 0, ii = chld.length; i < ii; i++) {\n                    if (chld[i].nodeType == 3) {\n                        res += chld[i].nodeValue;\n                    } else if (chld[i].nodeType == 1) {\n                        res += wrap(chld[i]).toString();\n                    }\n                }\n                type && (res += \"</\" + this.type + \">\");\n            } else {\n                type && (res += \"/>\");\n            }\n            return res;\n        };\n    }\n    elproto.toDataURL = function () {\n        if (window && window.btoa) {\n            var bb = this.getBBox(),\n                svg = Snap.format('<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"{width}\" height=\"{height}\" viewBox=\"{x} {y} {width} {height}\">{contents}</svg>', {\n                x: +bb.x.toFixed(3),\n                y: +bb.y.toFixed(3),\n                width: +bb.width.toFixed(3),\n                height: +bb.height.toFixed(3),\n                contents: this.outerSVG()\n            });\n            return \"data:image/svg+xml;base64,\" + btoa(unescape(encodeURIComponent(svg)));\n        }\n    };\n    /*\\\n     * Fragment.select\n     [ method ]\n     **\n     * See @Element.select\n    \\*/\n    Fragment.prototype.select = elproto.select;\n    /*\\\n     * Fragment.selectAll\n     [ method ]\n     **\n     * See @Element.selectAll\n    \\*/\n    Fragment.prototype.selectAll = elproto.selectAll;\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var objectToString = Object.prototype.toString,\n        Str = String,\n        math = Math,\n        E = \"\";\n    function Matrix(a, b, c, d, e, f) {\n        if (b == null && objectToString.call(a) == \"[object SVGMatrix]\") {\n            this.a = a.a;\n            this.b = a.b;\n            this.c = a.c;\n            this.d = a.d;\n            this.e = a.e;\n            this.f = a.f;\n            return;\n        }\n        if (a != null) {\n            this.a = +a;\n            this.b = +b;\n            this.c = +c;\n            this.d = +d;\n            this.e = +e;\n            this.f = +f;\n        } else {\n            this.a = 1;\n            this.b = 0;\n            this.c = 0;\n            this.d = 1;\n            this.e = 0;\n            this.f = 0;\n        }\n    }\n    (function (matrixproto) {\n        /*\\\n         * Matrix.add\n         [ method ]\n         **\n         * Adds the given matrix to existing one\n         - a (number)\n         - b (number)\n         - c (number)\n         - d (number)\n         - e (number)\n         - f (number)\n         * or\n         - matrix (object) @Matrix\n        \\*/\n        matrixproto.add = function (a, b, c, d, e, f) {\n            if (a && a instanceof Matrix) {\n                return this.add(a.a, a.b, a.c, a.d, a.e, a.f);\n            }\n            var aNew = a * this.a + b * this.c,\n                bNew = a * this.b + b * this.d;\n            this.e += e * this.a + f * this.c;\n            this.f += e * this.b + f * this.d;\n            this.c = c * this.a + d * this.c;\n            this.d = c * this.b + d * this.d;\n\n            this.a = aNew;\n            this.b = bNew;\n            return this;\n        };\n        /*\\\n         * Matrix.multLeft\n         [ method ]\n         **\n         * Multiplies a passed affine transform to the left: M * this.\n         - a (number)\n         - b (number)\n         - c (number)\n         - d (number)\n         - e (number)\n         - f (number)\n         * or\n         - matrix (object) @Matrix\n        \\*/\n        Matrix.prototype.multLeft = function (a, b, c, d, e, f) {\n            if (a && a instanceof Matrix) {\n                return this.multLeft(a.a, a.b, a.c, a.d, a.e, a.f);\n            }\n            var aNew = a * this.a + c * this.b,\n                cNew = a * this.c + c * this.d,\n                eNew = a * this.e + c * this.f + e;\n            this.b = b * this.a + d * this.b;\n            this.d = b * this.c + d * this.d;\n            this.f = b * this.e + d * this.f + f;\n\n            this.a = aNew;\n            this.c = cNew;\n            this.e = eNew;\n            return this;\n        };\n        /*\\\n         * Matrix.invert\n         [ method ]\n         **\n         * Returns an inverted version of the matrix\n         = (object) @Matrix\n        \\*/\n        matrixproto.invert = function () {\n            var me = this,\n                x = me.a * me.d - me.b * me.c;\n            return new Matrix(me.d / x, -me.b / x, -me.c / x, me.a / x, (me.c * me.f - me.d * me.e) / x, (me.b * me.e - me.a * me.f) / x);\n        };\n        /*\\\n         * Matrix.clone\n         [ method ]\n         **\n         * Returns a copy of the matrix\n         = (object) @Matrix\n        \\*/\n        matrixproto.clone = function () {\n            return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);\n        };\n        /*\\\n         * Matrix.translate\n         [ method ]\n         **\n         * Translate the matrix\n         - x (number) horizontal offset distance\n         - y (number) vertical offset distance\n        \\*/\n        matrixproto.translate = function (x, y) {\n            this.e += x * this.a + y * this.c;\n            this.f += x * this.b + y * this.d;\n            return this;\n        };\n        /*\\\n         * Matrix.scale\n         [ method ]\n         **\n         * Scales the matrix\n         - x (number) amount to be scaled, with `1` resulting in no change\n         - y (number) #optional amount to scale along the vertical axis. (Otherwise `x` applies to both axes.)\n         - cx (number) #optional horizontal origin point from which to scale\n         - cy (number) #optional vertical origin point from which to scale\n         * Default cx, cy is the middle point of the element.\n        \\*/\n        matrixproto.scale = function (x, y, cx, cy) {\n            y == null && (y = x);\n            (cx || cy) && this.translate(cx, cy);\n            this.a *= x;\n            this.b *= x;\n            this.c *= y;\n            this.d *= y;\n            (cx || cy) && this.translate(-cx, -cy);\n            return this;\n        };\n        /*\\\n         * Matrix.rotate\n         [ method ]\n         **\n         * Rotates the matrix\n         - a (number) angle of rotation, in degrees\n         - x (number) horizontal origin point from which to rotate\n         - y (number) vertical origin point from which to rotate\n        \\*/\n        matrixproto.rotate = function (a, x, y) {\n            a = Snap.rad(a);\n            x = x || 0;\n            y = y || 0;\n            var cos = +math.cos(a).toFixed(9),\n                sin = +math.sin(a).toFixed(9);\n            this.add(cos, sin, -sin, cos, x, y);\n            return this.add(1, 0, 0, 1, -x, -y);\n        };\n        /*\\\n         * Matrix.skewX\n         [ method ]\n         **\n         * Skews the matrix along the x-axis\n         - x (number) Angle to skew along the x-axis (in degrees).\n        \\*/\n        matrixproto.skewX = function (x) {\n            return this.skew(x, 0);\n        };\n        /*\\\n         * Matrix.skewY\n         [ method ]\n         **\n         * Skews the matrix along the y-axis\n         - y (number) Angle to skew along the y-axis (in degrees).\n        \\*/\n        matrixproto.skewY = function (y) {\n            return this.skew(0, y);\n        };\n        /*\\\n         * Matrix.skew\n         [ method ]\n         **\n         * Skews the matrix\n         - y (number) Angle to skew along the y-axis (in degrees).\n         - x (number) Angle to skew along the x-axis (in degrees).\n        \\*/\n        matrixproto.skew = function (x, y) {\n            x = x || 0;\n            y = y || 0;\n            x = Snap.rad(x);\n            y = Snap.rad(y);\n            var c = math.tan(x).toFixed(9);\n            var b = math.tan(y).toFixed(9);\n            return this.add(1, b, c, 1, 0, 0);\n        };\n        /*\\\n         * Matrix.x\n         [ method ]\n         **\n         * Returns x coordinate for given point after transformation described by the matrix. See also @Matrix.y\n         - x (number)\n         - y (number)\n         = (number) x\n        \\*/\n        matrixproto.x = function (x, y) {\n            return x * this.a + y * this.c + this.e;\n        };\n        /*\\\n         * Matrix.y\n         [ method ]\n         **\n         * Returns y coordinate for given point after transformation described by the matrix. See also @Matrix.x\n         - x (number)\n         - y (number)\n         = (number) y\n        \\*/\n        matrixproto.y = function (x, y) {\n            return x * this.b + y * this.d + this.f;\n        };\n        matrixproto.get = function (i) {\n            return +this[Str.fromCharCode(97 + i)].toFixed(4);\n        };\n        matrixproto.toString = function () {\n            return \"matrix(\" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)].join() + \")\";\n        };\n        matrixproto.offset = function () {\n            return [this.e.toFixed(4), this.f.toFixed(4)];\n        };\n        function norm(a) {\n            return a[0] * a[0] + a[1] * a[1];\n        }\n        function normalize(a) {\n            var mag = math.sqrt(norm(a));\n            a[0] && (a[0] /= mag);\n            a[1] && (a[1] /= mag);\n        }\n        /*\\\n         * Matrix.determinant\n         [ method ]\n         **\n         * Finds determinant of the given matrix.\n         = (number) determinant\n        \\*/\n        matrixproto.determinant = function () {\n            return this.a * this.d - this.b * this.c;\n        };\n        /*\\\n         * Matrix.split\n         [ method ]\n         **\n         * Splits matrix into primitive transformations\n         = (object) in format:\n         o dx (number) translation by x\n         o dy (number) translation by y\n         o scalex (number) scale by x\n         o scaley (number) scale by y\n         o shear (number) shear\n         o rotate (number) rotation in deg\n         o isSimple (boolean) could it be represented via simple transformations\n        \\*/\n        matrixproto.split = function () {\n            var out = {};\n            // translation\n            out.dx = this.e;\n            out.dy = this.f;\n\n            // scale and shear\n            var row = [[this.a, this.b], [this.c, this.d]];\n            out.scalex = math.sqrt(norm(row[0]));\n            normalize(row[0]);\n\n            out.shear = row[0][0] * row[1][0] + row[0][1] * row[1][1];\n            row[1] = [row[1][0] - row[0][0] * out.shear, row[1][1] - row[0][1] * out.shear];\n\n            out.scaley = math.sqrt(norm(row[1]));\n            normalize(row[1]);\n            out.shear /= out.scaley;\n\n            if (this.determinant() < 0) {\n                out.scalex = -out.scalex;\n            }\n\n            // rotation\n            var sin = row[0][1],\n                cos = row[1][1];\n            if (cos < 0) {\n                out.rotate = Snap.deg(math.acos(cos));\n                if (sin < 0) {\n                    out.rotate = 360 - out.rotate;\n                }\n            } else {\n                out.rotate = Snap.deg(math.asin(sin));\n            }\n\n            out.isSimple = !+out.shear.toFixed(9) && (out.scalex.toFixed(9) == out.scaley.toFixed(9) || !out.rotate);\n            out.isSuperSimple = !+out.shear.toFixed(9) && out.scalex.toFixed(9) == out.scaley.toFixed(9) && !out.rotate;\n            out.noRotation = !+out.shear.toFixed(9) && !out.rotate;\n            return out;\n        };\n        /*\\\n         * Matrix.toTransformString\n         [ method ]\n         **\n         * Returns transform string that represents given matrix\n         = (string) transform string\n        \\*/\n        matrixproto.toTransformString = function (shorter) {\n            var s = shorter || this.split();\n            if (!+s.shear.toFixed(9)) {\n                s.scalex = +s.scalex.toFixed(4);\n                s.scaley = +s.scaley.toFixed(4);\n                s.rotate = +s.rotate.toFixed(4);\n                return  (s.dx || s.dy ? \"t\" + [+s.dx.toFixed(4), +s.dy.toFixed(4)] : E) +\n                        (s.rotate ? \"r\" + [+s.rotate.toFixed(4), 0, 0] : E) +\n                        (s.scalex != 1 || s.scaley != 1 ? \"s\" + [s.scalex, s.scaley, 0, 0] : E);\n            } else {\n                return \"m\" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)];\n            }\n        };\n    })(Matrix.prototype);\n    /*\\\n     * Snap.Matrix\n     [ method ]\n     **\n     * Matrix constructor, extend on your own risk.\n     * To create matrices use @Snap.matrix.\n    \\*/\n    Snap.Matrix = Matrix;\n    /*\\\n     * Snap.matrix\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns a matrix based on the given parameters\n     - a (number)\n     - b (number)\n     - c (number)\n     - d (number)\n     - e (number)\n     - f (number)\n     * or\n     - svgMatrix (SVGMatrix)\n     = (object) @Matrix\n    \\*/\n    Snap.matrix = function (a, b, c, d, e, f) {\n        return new Matrix(a, b, c, d, e, f);\n    };\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var has = \"hasOwnProperty\",\n        make = Snap._.make,\n        wrap = Snap._.wrap,\n        is = Snap.is,\n        getSomeDefs = Snap._.getSomeDefs,\n        reURLValue = /^url\\((['\"]?)([^)]+)\\1\\)$/,\n        $ = Snap._.$,\n        URL = Snap.url,\n        Str = String,\n        separator = Snap._.separator,\n        E = \"\";\n    /*\\\n     * Snap.deurl\n     [ method ]\n     **\n     * Unwraps path from `\"url(<path>)\"`.\n     - value (string) url path\n     = (string) unwrapped path\n    \\*/\n    Snap.deurl = function (value) {\n        var res = String(value).match(reURLValue);\n        return res ? res[2] : value;\n    }\n    // Attributes event handlers\n    eve.on(\"snap.util.attr.mask\", function (value) {\n        if (value instanceof Element || value instanceof Fragment) {\n            eve.stop();\n            if (value instanceof Fragment && value.node.childNodes.length == 1) {\n                value = value.node.firstChild;\n                getSomeDefs(this).appendChild(value);\n                value = wrap(value);\n            }\n            if (value.type == \"mask\") {\n                var mask = value;\n            } else {\n                mask = make(\"mask\", getSomeDefs(this));\n                mask.node.appendChild(value.node);\n            }\n            !mask.node.id && $(mask.node, {\n                id: mask.id\n            });\n            $(this.node, {\n                mask: URL(mask.id)\n            });\n        }\n    });\n    (function (clipIt) {\n        eve.on(\"snap.util.attr.clip\", clipIt);\n        eve.on(\"snap.util.attr.clip-path\", clipIt);\n        eve.on(\"snap.util.attr.clipPath\", clipIt);\n    }(function (value) {\n        if (value instanceof Element || value instanceof Fragment) {\n            eve.stop();\n            var clip,\n                node = value.node;\n            while (node) {\n                if (node.nodeName === \"clipPath\") {\n                    clip = new Element(node);\n                    break;\n                }\n                if (node.nodeName === \"svg\") {\n                    clip = undefined;\n                    break;\n                }\n                node = node.parentNode;\n            }\n            if (!clip) {\n                clip = make(\"clipPath\", getSomeDefs(this));\n                clip.node.appendChild(value.node);\n                !clip.node.id && $(clip.node, {\n                    id: clip.id\n                });\n            }\n            $(this.node, {\n                \"clip-path\": URL(clip.node.id || clip.id)\n            });\n        }\n    }));\n    function fillStroke(name) {\n        return function (value) {\n            eve.stop();\n            if (value instanceof Fragment && value.node.childNodes.length == 1 &&\n                (value.node.firstChild.tagName == \"radialGradient\" ||\n                value.node.firstChild.tagName == \"linearGradient\" ||\n                value.node.firstChild.tagName == \"pattern\")) {\n                value = value.node.firstChild;\n                getSomeDefs(this).appendChild(value);\n                value = wrap(value);\n            }\n            if (value instanceof Element) {\n                if (value.type == \"radialGradient\" || value.type == \"linearGradient\"\n                   || value.type == \"pattern\") {\n                    if (!value.node.id) {\n                        $(value.node, {\n                            id: value.id\n                        });\n                    }\n                    var fill = URL(value.node.id);\n                } else {\n                    fill = value.attr(name);\n                }\n            } else {\n                fill = Snap.color(value);\n                if (fill.error) {\n                    var grad = Snap(getSomeDefs(this).ownerSVGElement).gradient(value);\n                    if (grad) {\n                        if (!grad.node.id) {\n                            $(grad.node, {\n                                id: grad.id\n                            });\n                        }\n                        fill = URL(grad.node.id);\n                    } else {\n                        fill = value;\n                    }\n                } else {\n                    fill = Str(fill);\n                }\n            }\n            var attrs = {};\n            attrs[name] = fill;\n            $(this.node, attrs);\n            this.node.style[name] = E;\n        };\n    }\n    eve.on(\"snap.util.attr.fill\", fillStroke(\"fill\"));\n    eve.on(\"snap.util.attr.stroke\", fillStroke(\"stroke\"));\n    var gradrg = /^([lr])(?:\\(([^)]*)\\))?(.*)$/i;\n    eve.on(\"snap.util.grad.parse\", function parseGrad(string) {\n        string = Str(string);\n        var tokens = string.match(gradrg);\n        if (!tokens) {\n            return null;\n        }\n        var type = tokens[1],\n            params = tokens[2],\n            stops = tokens[3];\n        params = params.split(/\\s*,\\s*/).map(function (el) {\n            return +el == el ? +el : el;\n        });\n        if (params.length == 1 && params[0] == 0) {\n            params = [];\n        }\n        stops = stops.split(\"-\");\n        stops = stops.map(function (el) {\n            el = el.split(\":\");\n            var out = {\n                color: el[0]\n            };\n            if (el[1]) {\n                out.offset = parseFloat(el[1]);\n            }\n            return out;\n        });\n        var len = stops.length,\n            start = 0,\n            j = 0;\n        function seed(i, end) {\n            var step = (end - start) / (i - j);\n            for (var k = j; k < i; k++) {\n                stops[k].offset = +(+start + step * (k - j)).toFixed(2);\n            }\n            j = i;\n            start = end;\n        }\n        len--;\n        for (var i = 0; i < len; i++) if (\"offset\" in stops[i]) {\n            seed(i, stops[i].offset);\n        }\n        stops[len].offset = stops[len].offset || 100;\n        seed(len, stops[len].offset);\n        return {\n            type: type,\n            params: params,\n            stops: stops\n        };\n    });\n\n    eve.on(\"snap.util.attr.d\", function (value) {\n        eve.stop();\n        if (is(value, \"array\") && is(value[0], \"array\")) {\n            value = Snap.path.toString.call(value);\n        }\n        value = Str(value);\n        if (value.match(/[ruo]/i)) {\n            value = Snap.path.toAbsolute(value);\n        }\n        $(this.node, {d: value});\n    })(-1);\n    eve.on(\"snap.util.attr.#text\", function (value) {\n        eve.stop();\n        value = Str(value);\n        var txt = glob.doc.createTextNode(value);\n        while (this.node.firstChild) {\n            this.node.removeChild(this.node.firstChild);\n        }\n        this.node.appendChild(txt);\n    })(-1);\n    eve.on(\"snap.util.attr.path\", function (value) {\n        eve.stop();\n        this.attr({d: value});\n    })(-1);\n    eve.on(\"snap.util.attr.class\", function (value) {\n        eve.stop();\n        this.node.className.baseVal = value;\n    })(-1);\n    eve.on(\"snap.util.attr.viewBox\", function (value) {\n        var vb;\n        if (is(value, \"object\") && \"x\" in value) {\n            vb = [value.x, value.y, value.width, value.height].join(\" \");\n        } else if (is(value, \"array\")) {\n            vb = value.join(\" \");\n        } else {\n            vb = value;\n        }\n        $(this.node, {\n            viewBox: vb\n        });\n        eve.stop();\n    })(-1);\n    eve.on(\"snap.util.attr.transform\", function (value) {\n        this.transform(value);\n        eve.stop();\n    })(-1);\n    eve.on(\"snap.util.attr.r\", function (value) {\n        if (this.type == \"rect\") {\n            eve.stop();\n            $(this.node, {\n                rx: value,\n                ry: value\n            });\n        }\n    })(-1);\n    eve.on(\"snap.util.attr.textpath\", function (value) {\n        eve.stop();\n        if (this.type == \"text\") {\n            var id, tp, node;\n            if (!value && this.textPath) {\n                tp = this.textPath;\n                while (tp.node.firstChild) {\n                    this.node.appendChild(tp.node.firstChild);\n                }\n                tp.remove();\n                delete this.textPath;\n                return;\n            }\n            if (is(value, \"string\")) {\n                var defs = getSomeDefs(this),\n                    path = wrap(defs.parentNode).path(value);\n                defs.appendChild(path.node);\n                id = path.id;\n                path.attr({id: id});\n            } else {\n                value = wrap(value);\n                if (value instanceof Element) {\n                    id = value.attr(\"id\");\n                    if (!id) {\n                        id = value.id;\n                        value.attr({id: id});\n                    }\n                }\n            }\n            if (id) {\n                tp = this.textPath;\n                node = this.node;\n                if (tp) {\n                    tp.attr({\"xlink:href\": \"#\" + id});\n                } else {\n                    tp = $(\"textPath\", {\n                        \"xlink:href\": \"#\" + id\n                    });\n                    while (node.firstChild) {\n                        tp.appendChild(node.firstChild);\n                    }\n                    node.appendChild(tp);\n                    this.textPath = wrap(tp);\n                }\n            }\n        }\n    })(-1);\n    eve.on(\"snap.util.attr.text\", function (value) {\n        if (this.type == \"text\") {\n            var i = 0,\n                node = this.node,\n                tuner = function (chunk) {\n                    var out = $(\"tspan\");\n                    if (is(chunk, \"array\")) {\n                        for (var i = 0; i < chunk.length; i++) {\n                            out.appendChild(tuner(chunk[i]));\n                        }\n                    } else {\n                        out.appendChild(glob.doc.createTextNode(chunk));\n                    }\n                    out.normalize && out.normalize();\n                    return out;\n                };\n            while (node.firstChild) {\n                node.removeChild(node.firstChild);\n            }\n            var tuned = tuner(value);\n            while (tuned.firstChild) {\n                node.appendChild(tuned.firstChild);\n            }\n        }\n        eve.stop();\n    })(-1);\n    function setFontSize(value) {\n        eve.stop();\n        if (value == +value) {\n            value += \"px\";\n        }\n        this.node.style.fontSize = value;\n    }\n    eve.on(\"snap.util.attr.fontSize\", setFontSize)(-1);\n    eve.on(\"snap.util.attr.font-size\", setFontSize)(-1);\n\n\n    eve.on(\"snap.util.getattr.transform\", function () {\n        eve.stop();\n        return this.transform();\n    })(-1);\n    eve.on(\"snap.util.getattr.textpath\", function () {\n        eve.stop();\n        return this.textPath;\n    })(-1);\n    // Markers\n    (function () {\n        function getter(end) {\n            return function () {\n                eve.stop();\n                var style = glob.doc.defaultView.getComputedStyle(this.node, null).getPropertyValue(\"marker-\" + end);\n                if (style == \"none\") {\n                    return style;\n                } else {\n                    return Snap(glob.doc.getElementById(style.match(reURLValue)[1]));\n                }\n            };\n        }\n        function setter(end) {\n            return function (value) {\n                eve.stop();\n                var name = \"marker\" + end.charAt(0).toUpperCase() + end.substring(1);\n                if (value == \"\" || !value) {\n                    this.node.style[name] = \"none\";\n                    return;\n                }\n                if (value.type == \"marker\") {\n                    var id = value.node.id;\n                    if (!id) {\n                        $(value.node, {id: value.id});\n                    }\n                    this.node.style[name] = URL(id);\n                    return;\n                }\n            };\n        }\n        eve.on(\"snap.util.getattr.marker-end\", getter(\"end\"))(-1);\n        eve.on(\"snap.util.getattr.markerEnd\", getter(\"end\"))(-1);\n        eve.on(\"snap.util.getattr.marker-start\", getter(\"start\"))(-1);\n        eve.on(\"snap.util.getattr.markerStart\", getter(\"start\"))(-1);\n        eve.on(\"snap.util.getattr.marker-mid\", getter(\"mid\"))(-1);\n        eve.on(\"snap.util.getattr.markerMid\", getter(\"mid\"))(-1);\n        eve.on(\"snap.util.attr.marker-end\", setter(\"end\"))(-1);\n        eve.on(\"snap.util.attr.markerEnd\", setter(\"end\"))(-1);\n        eve.on(\"snap.util.attr.marker-start\", setter(\"start\"))(-1);\n        eve.on(\"snap.util.attr.markerStart\", setter(\"start\"))(-1);\n        eve.on(\"snap.util.attr.marker-mid\", setter(\"mid\"))(-1);\n        eve.on(\"snap.util.attr.markerMid\", setter(\"mid\"))(-1);\n    }());\n    eve.on(\"snap.util.getattr.r\", function () {\n        if (this.type == \"rect\" && $(this.node, \"rx\") == $(this.node, \"ry\")) {\n            eve.stop();\n            return $(this.node, \"rx\");\n        }\n    })(-1);\n    function textExtract(node) {\n        var out = [];\n        var children = node.childNodes;\n        for (var i = 0, ii = children.length; i < ii; i++) {\n            var chi = children[i];\n            if (chi.nodeType == 3) {\n                out.push(chi.nodeValue);\n            }\n            if (chi.tagName == \"tspan\") {\n                if (chi.childNodes.length == 1 && chi.firstChild.nodeType == 3) {\n                    out.push(chi.firstChild.nodeValue);\n                } else {\n                    out.push(textExtract(chi));\n                }\n            }\n        }\n        return out;\n    }\n    eve.on(\"snap.util.getattr.text\", function () {\n        if (this.type == \"text\" || this.type == \"tspan\") {\n            eve.stop();\n            var out = textExtract(this.node);\n            return out.length == 1 ? out[0] : out;\n        }\n    })(-1);\n    eve.on(\"snap.util.getattr.#text\", function () {\n        return this.node.textContent;\n    })(-1);\n    eve.on(\"snap.util.getattr.fill\", function (internal) {\n        if (internal) {\n            return;\n        }\n        eve.stop();\n        var value = eve(\"snap.util.getattr.fill\", this, true).firstDefined();\n        return Snap(Snap.deurl(value)) || value;\n    })(-1);\n    eve.on(\"snap.util.getattr.stroke\", function (internal) {\n        if (internal) {\n            return;\n        }\n        eve.stop();\n        var value = eve(\"snap.util.getattr.stroke\", this, true).firstDefined();\n        return Snap(Snap.deurl(value)) || value;\n    })(-1);\n    eve.on(\"snap.util.getattr.viewBox\", function () {\n        eve.stop();\n        var vb = $(this.node, \"viewBox\");\n        if (vb) {\n            vb = vb.split(separator);\n            return Snap._.box(+vb[0], +vb[1], +vb[2], +vb[3]);\n        } else {\n            return;\n        }\n    })(-1);\n    eve.on(\"snap.util.getattr.points\", function () {\n        var p = $(this.node, \"points\");\n        eve.stop();\n        if (p) {\n            return p.split(separator);\n        } else {\n            return;\n        }\n    })(-1);\n    eve.on(\"snap.util.getattr.path\", function () {\n        var p = $(this.node, \"d\");\n        eve.stop();\n        return p;\n    })(-1);\n    eve.on(\"snap.util.getattr.class\", function () {\n        return this.node.className.baseVal;\n    })(-1);\n    function getFontSize() {\n        eve.stop();\n        return this.node.style.fontSize;\n    }\n    eve.on(\"snap.util.getattr.fontSize\", getFontSize)(-1);\n    eve.on(\"snap.util.getattr.font-size\", getFontSize)(-1);\n});\n\n// Copyright (c) 2014 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var rgNotSpace = /\\S+/g,\n        rgBadSpace = /[\\t\\r\\n\\f]/g,\n        rgTrim = /(^\\s+|\\s+$)/g,\n        Str = String,\n        elproto = Element.prototype;\n    /*\\\n     * Element.addClass\n     [ method ]\n     **\n     * Adds given class name or list of class names to the element.\n     - value (string) class name or space separated list of class names\n     **\n     = (Element) original element.\n    \\*/\n    elproto.addClass = function (value) {\n        var classes = Str(value || \"\").match(rgNotSpace) || [],\n            elem = this.node,\n            className = elem.className.baseVal,\n            curClasses = className.match(rgNotSpace) || [],\n            j,\n            pos,\n            clazz,\n            finalValue;\n\n        if (classes.length) {\n            j = 0;\n            while (clazz = classes[j++]) {\n                pos = curClasses.indexOf(clazz);\n                if (!~pos) {\n                    curClasses.push(clazz);\n                }\n            }\n\n            finalValue = curClasses.join(\" \");\n            if (className != finalValue) {\n                elem.className.baseVal = finalValue;\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Element.removeClass\n     [ method ]\n     **\n     * Removes given class name or list of class names from the element.\n     - value (string) class name or space separated list of class names\n     **\n     = (Element) original element.\n    \\*/\n    elproto.removeClass = function (value) {\n        var classes = Str(value || \"\").match(rgNotSpace) || [],\n            elem = this.node,\n            className = elem.className.baseVal,\n            curClasses = className.match(rgNotSpace) || [],\n            j,\n            pos,\n            clazz,\n            finalValue;\n        if (curClasses.length) {\n            j = 0;\n            while (clazz = classes[j++]) {\n                pos = curClasses.indexOf(clazz);\n                if (~pos) {\n                    curClasses.splice(pos, 1);\n                }\n            }\n\n            finalValue = curClasses.join(\" \");\n            if (className != finalValue) {\n                elem.className.baseVal = finalValue;\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Element.hasClass\n     [ method ]\n     **\n     * Checks if the element has a given class name in the list of class names applied to it.\n     - value (string) class name\n     **\n     = (boolean) `true` if the element has given class\n    \\*/\n    elproto.hasClass = function (value) {\n        var elem = this.node,\n            className = elem.className.baseVal,\n            curClasses = className.match(rgNotSpace) || [];\n        return !!~curClasses.indexOf(value);\n    };\n    /*\\\n     * Element.toggleClass\n     [ method ]\n     **\n     * Add or remove one or more classes from the element, depending on either\n     * the classs presence or the value of the `flag` argument.\n     - value (string) class name or space separated list of class names\n     - flag (boolean) value to determine whether the class should be added or removed\n     **\n     = (Element) original element.\n    \\*/\n    elproto.toggleClass = function (value, flag) {\n        if (flag != null) {\n            if (flag) {\n                return this.addClass(value);\n            } else {\n                return this.removeClass(value);\n            }\n        }\n        var classes = (value || \"\").match(rgNotSpace) || [],\n            elem = this.node,\n            className = elem.className.baseVal,\n            curClasses = className.match(rgNotSpace) || [],\n            j,\n            pos,\n            clazz,\n            finalValue;\n        j = 0;\n        while (clazz = classes[j++]) {\n            pos = curClasses.indexOf(clazz);\n            if (~pos) {\n                curClasses.splice(pos, 1);\n            } else {\n                curClasses.push(clazz);\n            }\n        }\n\n        finalValue = curClasses.join(\" \");\n        if (className != finalValue) {\n            elem.className.baseVal = finalValue;\n        }\n        return this;\n    };\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var operators = {\n            \"+\": function (x, y) {\n                    return x + y;\n                },\n            \"-\": function (x, y) {\n                    return x - y;\n                },\n            \"/\": function (x, y) {\n                    return x / y;\n                },\n            \"*\": function (x, y) {\n                    return x * y;\n                }\n        },\n        Str = String,\n        reUnit = /[a-z]+$/i,\n        reAddon = /^\\s*([+\\-\\/*])\\s*=\\s*([\\d.eE+\\-]+)\\s*([^\\d\\s]+)?\\s*$/;\n    function getNumber(val) {\n        return val;\n    }\n    function getUnit(unit) {\n        return function (val) {\n            return +val.toFixed(3) + unit;\n        };\n    }\n    eve.on(\"snap.util.attr\", function (val) {\n        var plus = Str(val).match(reAddon);\n        if (plus) {\n            var evnt = eve.nt(),\n                name = evnt.substring(evnt.lastIndexOf(\".\") + 1),\n                a = this.attr(name),\n                atr = {};\n            eve.stop();\n            var unit = plus[3] || \"\",\n                aUnit = a.match(reUnit),\n                op = operators[plus[1]];\n            if (aUnit && aUnit == unit) {\n                val = op(parseFloat(a), +plus[2]);\n            } else {\n                a = this.asPX(name);\n                val = op(this.asPX(name), this.asPX(name, plus[2] + unit));\n            }\n            if (isNaN(a) || isNaN(val)) {\n                return;\n            }\n            atr[name] = val;\n            this.attr(atr);\n        }\n    })(-10);\n    eve.on(\"snap.util.equal\", function (name, b) {\n        var A, B, a = Str(this.attr(name) || \"\"),\n            el = this,\n            bplus = Str(b).match(reAddon);\n        if (bplus) {\n            eve.stop();\n            var unit = bplus[3] || \"\",\n                aUnit = a.match(reUnit),\n                op = operators[bplus[1]];\n            if (aUnit && aUnit == unit) {\n                return {\n                    from: parseFloat(a),\n                    to: op(parseFloat(a), +bplus[2]),\n                    f: getUnit(aUnit)\n                };\n            } else {\n                a = this.asPX(name);\n                return {\n                    from: a,\n                    to: op(a, this.asPX(name, bplus[2] + unit)),\n                    f: getNumber\n                };\n            }\n        }\n    })(-10);\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var proto = Paper.prototype,\n        is = Snap.is;\n    /*\\\n     * Paper.rect\n     [ method ]\n     *\n     * Draws a rectangle\n     **\n     - x (number) x coordinate of the top left corner\n     - y (number) y coordinate of the top left corner\n     - width (number) width\n     - height (number) height\n     - rx (number) #optional horizontal radius for rounded corners, default is 0\n     - ry (number) #optional vertical radius for rounded corners, default is rx or 0\n     = (object) the `rect` element\n     **\n     > Usage\n     | // regular rectangle\n     | var c = paper.rect(10, 10, 50, 50);\n     | // rectangle with rounded corners\n     | var c = paper.rect(40, 40, 50, 50, 10);\n    \\*/\n    proto.rect = function (x, y, w, h, rx, ry) {\n        var attr;\n        if (ry == null) {\n            ry = rx;\n        }\n        if (is(x, \"object\") && x == \"[object Object]\") {\n            attr = x;\n        } else if (x != null) {\n            attr = {\n                x: x,\n                y: y,\n                width: w,\n                height: h\n            };\n            if (rx != null) {\n                attr.rx = rx;\n                attr.ry = ry;\n            }\n        }\n        return this.el(\"rect\", attr);\n    };\n    /*\\\n     * Paper.circle\n     [ method ]\n     **\n     * Draws a circle\n     **\n     - x (number) x coordinate of the centre\n     - y (number) y coordinate of the centre\n     - r (number) radius\n     = (object) the `circle` element\n     **\n     > Usage\n     | var c = paper.circle(50, 50, 40);\n    \\*/\n    proto.circle = function (cx, cy, r) {\n        var attr;\n        if (is(cx, \"object\") && cx == \"[object Object]\") {\n            attr = cx;\n        } else if (cx != null) {\n            attr = {\n                cx: cx,\n                cy: cy,\n                r: r\n            };\n        }\n        return this.el(\"circle\", attr);\n    };\n\n    var preload = (function () {\n        function onerror() {\n            this.parentNode.removeChild(this);\n        }\n        return function (src, f) {\n            var img = glob.doc.createElement(\"img\"),\n                body = glob.doc.body;\n            img.style.cssText = \"position:absolute;left:-9999em;top:-9999em\";\n            img.onload = function () {\n                f.call(img);\n                img.onload = img.onerror = null;\n                body.removeChild(img);\n            };\n            img.onerror = onerror;\n            body.appendChild(img);\n            img.src = src;\n        };\n    }());\n\n    /*\\\n     * Paper.image\n     [ method ]\n     **\n     * Places an image on the surface\n     **\n     - src (string) URI of the source image\n     - x (number) x offset position\n     - y (number) y offset position\n     - width (number) width of the image\n     - height (number) height of the image\n     = (object) the `image` element\n     * or\n     = (object) Snap element object with type `image`\n     **\n     > Usage\n     | var c = paper.image(\"apple.png\", 10, 10, 80, 80);\n    \\*/\n    proto.image = function (src, x, y, width, height) {\n        var el = this.el(\"image\");\n        if (is(src, \"object\") && \"src\" in src) {\n            el.attr(src);\n        } else if (src != null) {\n            var set = {\n                \"xlink:href\": src,\n                preserveAspectRatio: \"none\"\n            };\n            if (x != null && y != null) {\n                set.x = x;\n                set.y = y;\n            }\n            if (width != null && height != null) {\n                set.width = width;\n                set.height = height;\n            } else {\n                preload(src, function () {\n                    Snap._.$(el.node, {\n                        width: this.offsetWidth,\n                        height: this.offsetHeight\n                    });\n                });\n            }\n            Snap._.$(el.node, set);\n        }\n        return el;\n    };\n    /*\\\n     * Paper.ellipse\n     [ method ]\n     **\n     * Draws an ellipse\n     **\n     - x (number) x coordinate of the centre\n     - y (number) y coordinate of the centre\n     - rx (number) horizontal radius\n     - ry (number) vertical radius\n     = (object) the `ellipse` element\n     **\n     > Usage\n     | var c = paper.ellipse(50, 50, 40, 20);\n    \\*/\n    proto.ellipse = function (cx, cy, rx, ry) {\n        var attr;\n        if (is(cx, \"object\") && cx == \"[object Object]\") {\n            attr = cx;\n        } else if (cx != null) {\n            attr ={\n                cx: cx,\n                cy: cy,\n                rx: rx,\n                ry: ry\n            };\n        }\n        return this.el(\"ellipse\", attr);\n    };\n    // SIERRA Paper.path(): Unclear from the link what a Catmull-Rom curveto is, and why it would make life any easier.\n    /*\\\n     * Paper.path\n     [ method ]\n     **\n     * Creates a `<path>` element using the given string as the path's definition\n     - pathString (string) #optional path string in SVG format\n     * Path string consists of one-letter commands, followed by comma seprarated arguments in numerical form. Example:\n     | \"M10,20L30,40\"\n     * This example features two commands: `M`, with arguments `(10, 20)` and `L` with arguments `(30, 40)`. Uppercase letter commands express coordinates in absolute terms, while lowercase commands express them in relative terms from the most recently declared coordinates.\n     *\n     # <p>Here is short list of commands available, for more details see <a href=\"http://www.w3.org/TR/SVG/paths.html#PathData\" title=\"Details of a path's data attribute's format are described in the SVG specification.\">SVG path string format</a> or <a href=\"https://developer.mozilla.org/en/SVG/Tutorial/Paths\">article about path strings at MDN</a>.</p>\n     # <table><thead><tr><th>Command</th><th>Name</th><th>Parameters</th></tr></thead><tbody>\n     # <tr><td>M</td><td>moveto</td><td>(x y)+</td></tr>\n     # <tr><td>Z</td><td>closepath</td><td>(none)</td></tr>\n     # <tr><td>L</td><td>lineto</td><td>(x y)+</td></tr>\n     # <tr><td>H</td><td>horizontal lineto</td><td>x+</td></tr>\n     # <tr><td>V</td><td>vertical lineto</td><td>y+</td></tr>\n     # <tr><td>C</td><td>curveto</td><td>(x1 y1 x2 y2 x y)+</td></tr>\n     # <tr><td>S</td><td>smooth curveto</td><td>(x2 y2 x y)+</td></tr>\n     # <tr><td>Q</td><td>quadratic Bzier curveto</td><td>(x1 y1 x y)+</td></tr>\n     # <tr><td>T</td><td>smooth quadratic Bzier curveto</td><td>(x y)+</td></tr>\n     # <tr><td>A</td><td>elliptical arc</td><td>(rx ry x-axis-rotation large-arc-flag sweep-flag x y)+</td></tr>\n     # <tr><td>R</td><td><a href=\"http://en.wikipedia.org/wiki/CatmullRom_spline#Catmull.E2.80.93Rom_spline\">Catmull-Rom curveto</a>*</td><td>x1 y1 (x y)+</td></tr></tbody></table>\n     * * _Catmull-Rom curveto_ is a not standard SVG command and added to make life easier.\n     * Note: there is a special case when a path consists of only three commands: `M10,10Rz`. In this case the path connects back to its starting point.\n     > Usage\n     | var c = paper.path(\"M10 10L90 90\");\n     | // draw a diagonal line:\n     | // move to 10,10, line to 90,90\n    \\*/\n    proto.path = function (d) {\n        var attr;\n        if (is(d, \"object\") && !is(d, \"array\")) {\n            attr = d;\n        } else if (d) {\n            attr = {d: d};\n        }\n        return this.el(\"path\", attr);\n    };\n    /*\\\n     * Paper.g\n     [ method ]\n     **\n     * Creates a group element\n     **\n     - varargs () #optional elements to nest within the group\n     = (object) the `g` element\n     **\n     > Usage\n     | var c1 = paper.circle(),\n     |     c2 = paper.rect(),\n     |     g = paper.g(c2, c1); // note that the order of elements is different\n     * or\n     | var c1 = paper.circle(),\n     |     c2 = paper.rect(),\n     |     g = paper.g();\n     | g.add(c2, c1);\n    \\*/\n    /*\\\n     * Paper.group\n     [ method ]\n     **\n     * See @Paper.g\n    \\*/\n    proto.group = proto.g = function (first) {\n        var attr,\n            el = this.el(\"g\");\n        if (arguments.length == 1 && first && !first.type) {\n            el.attr(first);\n        } else if (arguments.length) {\n            el.add(Array.prototype.slice.call(arguments, 0));\n        }\n        return el;\n    };\n    /*\\\n     * Paper.svg\n     [ method ]\n     **\n     * Creates a nested SVG element.\n     - x (number) @optional X of the element\n     - y (number) @optional Y of the element\n     - width (number) @optional width of the element\n     - height (number) @optional height of the element\n     - vbx (number) @optional viewbox X\n     - vby (number) @optional viewbox Y\n     - vbw (number) @optional viewbox width\n     - vbh (number) @optional viewbox height\n     **\n     = (object) the `svg` element\n     **\n    \\*/\n    proto.svg = function (x, y, width, height, vbx, vby, vbw, vbh) {\n        var attrs = {};\n        if (is(x, \"object\") && y == null) {\n            attrs = x;\n        } else {\n            if (x != null) {\n                attrs.x = x;\n            }\n            if (y != null) {\n                attrs.y = y;\n            }\n            if (width != null) {\n                attrs.width = width;\n            }\n            if (height != null) {\n                attrs.height = height;\n            }\n            if (vbx != null && vby != null && vbw != null && vbh != null) {\n                attrs.viewBox = [vbx, vby, vbw, vbh];\n            }\n        }\n        return this.el(\"svg\", attrs);\n    };\n    /*\\\n     * Paper.mask\n     [ method ]\n     **\n     * Equivalent in behaviour to @Paper.g, except its a mask.\n     **\n     = (object) the `mask` element\n     **\n    \\*/\n    proto.mask = function (first) {\n        var attr,\n            el = this.el(\"mask\");\n        if (arguments.length == 1 && first && !first.type) {\n            el.attr(first);\n        } else if (arguments.length) {\n            el.add(Array.prototype.slice.call(arguments, 0));\n        }\n        return el;\n    };\n    /*\\\n     * Paper.ptrn\n     [ method ]\n     **\n     * Equivalent in behaviour to @Paper.g, except its a pattern.\n     - x (number) @optional X of the element\n     - y (number) @optional Y of the element\n     - width (number) @optional width of the element\n     - height (number) @optional height of the element\n     - vbx (number) @optional viewbox X\n     - vby (number) @optional viewbox Y\n     - vbw (number) @optional viewbox width\n     - vbh (number) @optional viewbox height\n     **\n     = (object) the `pattern` element\n     **\n    \\*/\n    proto.ptrn = function (x, y, width, height, vx, vy, vw, vh) {\n        if (is(x, \"object\")) {\n            var attr = x;\n        } else {\n            attr = {patternUnits: \"userSpaceOnUse\"};\n            if (x) {\n                attr.x = x;\n            }\n            if (y) {\n                attr.y = y;\n            }\n            if (width != null) {\n                attr.width = width;\n            }\n            if (height != null) {\n                attr.height = height;\n            }\n            if (vx != null && vy != null && vw != null && vh != null) {\n                attr.viewBox = [vx, vy, vw, vh];\n            } else {\n                attr.viewBox = [x || 0, y || 0, width || 0, height || 0];\n            }\n        }\n        return this.el(\"pattern\", attr);\n    };\n    /*\\\n     * Paper.use\n     [ method ]\n     **\n     * Creates a <use> element.\n     - id (string) @optional id of element to link\n     * or\n     - id (Element) @optional element to link\n     **\n     = (object) the `use` element\n     **\n    \\*/\n    proto.use = function (id) {\n        if (id != null) {\n            if (id instanceof Element) {\n                if (!id.attr(\"id\")) {\n                    id.attr({id: Snap._.id(id)});\n                }\n                id = id.attr(\"id\");\n            }\n            if (String(id).charAt() == \"#\") {\n                id = id.substring(1);\n            }\n            return this.el(\"use\", {\"xlink:href\": \"#\" + id});\n        } else {\n            return Element.prototype.use.call(this);\n        }\n    };\n    /*\\\n     * Paper.symbol\n     [ method ]\n     **\n     * Creates a <symbol> element.\n     - vbx (number) @optional viewbox X\n     - vby (number) @optional viewbox Y\n     - vbw (number) @optional viewbox width\n     - vbh (number) @optional viewbox height\n     = (object) the `symbol` element\n     **\n    \\*/\n    proto.symbol = function (vx, vy, vw, vh) {\n        var attr = {};\n        if (vx != null && vy != null && vw != null && vh != null) {\n            attr.viewBox = [vx, vy, vw, vh];\n        }\n\n        return this.el(\"symbol\", attr);\n    };\n    /*\\\n     * Paper.text\n     [ method ]\n     **\n     * Draws a text string\n     **\n     - x (number) x coordinate position\n     - y (number) y coordinate position\n     - text (string|array) The text string to draw or array of strings to nest within separate `<tspan>` elements\n     = (object) the `text` element\n     **\n     > Usage\n     | var t1 = paper.text(50, 50, \"Snap\");\n     | var t2 = paper.text(50, 50, [\"S\",\"n\",\"a\",\"p\"]);\n     | // Text path usage\n     | t1.attr({textpath: \"M10,10L100,100\"});\n     | // or\n     | var pth = paper.path(\"M10,10L100,100\");\n     | t1.attr({textpath: pth});\n    \\*/\n    proto.text = function (x, y, text) {\n        var attr = {};\n        if (is(x, \"object\")) {\n            attr = x;\n        } else if (x != null) {\n            attr = {\n                x: x,\n                y: y,\n                text: text || \"\"\n            };\n        }\n        return this.el(\"text\", attr);\n    };\n    /*\\\n     * Paper.line\n     [ method ]\n     **\n     * Draws a line\n     **\n     - x1 (number) x coordinate position of the start\n     - y1 (number) y coordinate position of the start\n     - x2 (number) x coordinate position of the end\n     - y2 (number) y coordinate position of the end\n     = (object) the `line` element\n     **\n     > Usage\n     | var t1 = paper.line(50, 50, 100, 100);\n    \\*/\n    proto.line = function (x1, y1, x2, y2) {\n        var attr = {};\n        if (is(x1, \"object\")) {\n            attr = x1;\n        } else if (x1 != null) {\n            attr = {\n                x1: x1,\n                x2: x2,\n                y1: y1,\n                y2: y2\n            };\n        }\n        return this.el(\"line\", attr);\n    };\n    /*\\\n     * Paper.polyline\n     [ method ]\n     **\n     * Draws a polyline\n     **\n     - points (array) array of points\n     * or\n     - varargs () points\n     = (object) the `polyline` element\n     **\n     > Usage\n     | var p1 = paper.polyline([10, 10, 100, 100]);\n     | var p2 = paper.polyline(10, 10, 100, 100);\n    \\*/\n    proto.polyline = function (points) {\n        if (arguments.length > 1) {\n            points = Array.prototype.slice.call(arguments, 0);\n        }\n        var attr = {};\n        if (is(points, \"object\") && !is(points, \"array\")) {\n            attr = points;\n        } else if (points != null) {\n            attr = {points: points};\n        }\n        return this.el(\"polyline\", attr);\n    };\n    /*\\\n     * Paper.polygon\n     [ method ]\n     **\n     * Draws a polygon. See @Paper.polyline\n    \\*/\n    proto.polygon = function (points) {\n        if (arguments.length > 1) {\n            points = Array.prototype.slice.call(arguments, 0);\n        }\n        var attr = {};\n        if (is(points, \"object\") && !is(points, \"array\")) {\n            attr = points;\n        } else if (points != null) {\n            attr = {points: points};\n        }\n        return this.el(\"polygon\", attr);\n    };\n    // gradients\n    (function () {\n        var $ = Snap._.$;\n        // gradients' helpers\n        /*\\\n         * Element.stops\n         [ method ]\n         **\n         * Only for gradients!\n         * Returns array of gradient stops elements.\n         = (array) the stops array.\n        \\*/\n        function Gstops() {\n            return this.selectAll(\"stop\");\n        }\n        /*\\\n         * Element.addStop\n         [ method ]\n         **\n         * Only for gradients!\n         * Adds another stop to the gradient.\n         - color (string) stops color\n         - offset (number) stops offset 0..100\n         = (object) gradient element\n        \\*/\n        function GaddStop(color, offset) {\n            var stop = $(\"stop\"),\n                attr = {\n                    offset: +offset + \"%\"\n                };\n            color = Snap.color(color);\n            attr[\"stop-color\"] = color.hex;\n            if (color.opacity < 1) {\n                attr[\"stop-opacity\"] = color.opacity;\n            }\n            $(stop, attr);\n            var stops = this.stops(),\n                inserted;\n            for (var i = 0; i < stops.length; i++) {\n                var stopOffset = parseFloat(stops[i].attr(\"offset\"));\n                if (stopOffset > offset) {\n                    this.node.insertBefore(stop, stops[i].node);\n                    inserted = true;\n                    break;\n                }\n            }\n            if (!inserted) {\n                this.node.appendChild(stop);\n            }\n            return this;\n        }\n        function GgetBBox() {\n            if (this.type == \"linearGradient\") {\n                var x1 = $(this.node, \"x1\") || 0,\n                    x2 = $(this.node, \"x2\") || 1,\n                    y1 = $(this.node, \"y1\") || 0,\n                    y2 = $(this.node, \"y2\") || 0;\n                return Snap._.box(x1, y1, math.abs(x2 - x1), math.abs(y2 - y1));\n            } else {\n                var cx = this.node.cx || .5,\n                    cy = this.node.cy || .5,\n                    r = this.node.r || 0;\n                return Snap._.box(cx - r, cy - r, r * 2, r * 2);\n            }\n        }\n        /*\\\n         * Element.setStops\n         [ method ]\n         **\n         * Only for gradients!\n         * Updates stops of the gradient based on passed gradient descriptor. See @Ppaer.gradient\n         - str (string) gradient descriptor part after `()`.\n         = (object) gradient element\n         | var g = paper.gradient(\"l(0, 0, 1, 1)#000-#f00-#fff\");\n         | g.setStops(\"#fff-#000-#f00-#fc0\");\n        \\*/\n        function GsetStops(str) {\n            var grad = str,\n                stops = this.stops();\n            if (typeof str == \"string\") {\n                grad = eve(\"snap.util.grad.parse\", null, \"l(0,0,0,1)\" + str).firstDefined().stops;\n            }\n            if (!Snap.is(grad, \"array\")) {\n                return;\n            }\n            for (var i = 0; i < stops.length; i++) {\n                if (grad[i]) {\n                    var color = Snap.color(grad[i].color),\n                        attr = {\"offset\": grad[i].offset + \"%\"};\n                    attr[\"stop-color\"] = color.hex;\n                    if (color.opacity < 1) {\n                        attr[\"stop-opacity\"] = color.opacity;\n                    }\n                    stops[i].attr(attr);\n                } else {\n                    stops[i].remove();\n                }\n            }\n            for (i = stops.length; i < grad.length; i++) {\n                this.addStop(grad[i].color, grad[i].offset);\n            }\n            return this;\n        }\n        function gradient(defs, str) {\n            var grad = eve(\"snap.util.grad.parse\", null, str).firstDefined(),\n                el;\n            if (!grad) {\n                return null;\n            }\n            grad.params.unshift(defs);\n            if (grad.type.toLowerCase() == \"l\") {\n                el = gradientLinear.apply(0, grad.params);\n            } else {\n                el = gradientRadial.apply(0, grad.params);\n            }\n            if (grad.type != grad.type.toLowerCase()) {\n                $(el.node, {\n                    gradientUnits: \"userSpaceOnUse\"\n                });\n            }\n            var stops = grad.stops,\n                len = stops.length;\n            for (var i = 0; i < len; i++) {\n                var stop = stops[i];\n                el.addStop(stop.color, stop.offset);\n            }\n            return el;\n        }\n        function gradientLinear(defs, x1, y1, x2, y2) {\n            var el = Snap._.make(\"linearGradient\", defs);\n            el.stops = Gstops;\n            el.addStop = GaddStop;\n            el.getBBox = GgetBBox;\n            el.setStops = GsetStops;\n            if (x1 != null) {\n                $(el.node, {\n                    x1: x1,\n                    y1: y1,\n                    x2: x2,\n                    y2: y2\n                });\n            }\n            return el;\n        }\n        function gradientRadial(defs, cx, cy, r, fx, fy) {\n            var el = Snap._.make(\"radialGradient\", defs);\n            el.stops = Gstops;\n            el.addStop = GaddStop;\n            el.getBBox = GgetBBox;\n            if (cx != null) {\n                $(el.node, {\n                    cx: cx,\n                    cy: cy,\n                    r: r\n                });\n            }\n            if (fx != null && fy != null) {\n                $(el.node, {\n                    fx: fx,\n                    fy: fy\n                });\n            }\n            return el;\n        }\n        /*\\\n         * Paper.gradient\n         [ method ]\n         **\n         * Creates a gradient element\n         **\n         - gradient (string) gradient descriptor\n         > Gradient Descriptor\n         * The gradient descriptor is an expression formatted as\n         * follows: `<type>(<coords>)<colors>`.  The `<type>` can be\n         * either linear or radial.  The uppercase `L` or `R` letters\n         * indicate absolute coordinates offset from the SVG surface.\n         * Lowercase `l` or `r` letters indicate coordinates\n         * calculated relative to the element to which the gradient is\n         * applied.  Coordinates specify a linear gradient vector as\n         * `x1`, `y1`, `x2`, `y2`, or a radial gradient as `cx`, `cy`,\n         * `r` and optional `fx`, `fy` specifying a focal point away\n         * from the center of the circle. Specify `<colors>` as a list\n         * of dash-separated CSS color values.  Each color may be\n         * followed by a custom offset value, separated with a colon\n         * character.\n         > Examples\n         * Linear gradient, relative from top-left corner to bottom-right\n         * corner, from black through red to white:\n         | var g = paper.gradient(\"l(0, 0, 1, 1)#000-#f00-#fff\");\n         * Linear gradient, absolute from (0, 0) to (100, 100), from black\n         * through red at 25% to white:\n         | var g = paper.gradient(\"L(0, 0, 100, 100)#000-#f00:25-#fff\");\n         * Radial gradient, relative from the center of the element with radius\n         * half the width, from black to white:\n         | var g = paper.gradient(\"r(0.5, 0.5, 0.5)#000-#fff\");\n         * To apply the gradient:\n         | paper.circle(50, 50, 40).attr({\n         |     fill: g\n         | });\n         = (object) the `gradient` element\n        \\*/\n        proto.gradient = function (str) {\n            return gradient(this.defs, str);\n        };\n        proto.gradientLinear = function (x1, y1, x2, y2) {\n            return gradientLinear(this.defs, x1, y1, x2, y2);\n        };\n        proto.gradientRadial = function (cx, cy, r, fx, fy) {\n            return gradientRadial(this.defs, cx, cy, r, fx, fy);\n        };\n        /*\\\n         * Paper.toString\n         [ method ]\n         **\n         * Returns SVG code for the @Paper\n         = (string) SVG code for the @Paper\n        \\*/\n        proto.toString = function () {\n            var doc = this.node.ownerDocument,\n                f = doc.createDocumentFragment(),\n                d = doc.createElement(\"div\"),\n                svg = this.node.cloneNode(true),\n                res;\n            f.appendChild(d);\n            d.appendChild(svg);\n            Snap._.$(svg, {xmlns: \"http://www.w3.org/2000/svg\"});\n            res = d.innerHTML;\n            f.removeChild(f.firstChild);\n            return res;\n        };\n        /*\\\n         * Paper.toDataURL\n         [ method ]\n         **\n         * Returns SVG code for the @Paper as Data URI string.\n         = (string) Data URI string\n        \\*/\n        proto.toDataURL = function () {\n            if (window && window.btoa) {\n                return \"data:image/svg+xml;base64,\" + btoa(unescape(encodeURIComponent(this)));\n            }\n        };\n        /*\\\n         * Paper.clear\n         [ method ]\n         **\n         * Removes all child nodes of the paper, except <defs>.\n        \\*/\n        proto.clear = function () {\n            var node = this.node.firstChild,\n                next;\n            while (node) {\n                next = node.nextSibling;\n                if (node.tagName != \"defs\") {\n                    node.parentNode.removeChild(node);\n                } else {\n                    proto.clear.call({node: node});\n                }\n                node = next;\n            }\n        };\n    }());\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var elproto = Element.prototype,\n        is = Snap.is,\n        clone = Snap._.clone,\n        has = \"hasOwnProperty\",\n        p2s = /,?([a-z]),?/gi,\n        toFloat = parseFloat,\n        math = Math,\n        PI = math.PI,\n        mmin = math.min,\n        mmax = math.max,\n        pow = math.pow,\n        abs = math.abs;\n    function paths(ps) {\n        var p = paths.ps = paths.ps || {};\n        if (p[ps]) {\n            p[ps].sleep = 100;\n        } else {\n            p[ps] = {\n                sleep: 100\n            };\n        }\n        setTimeout(function () {\n            for (var key in p) if (p[has](key) && key != ps) {\n                p[key].sleep--;\n                !p[key].sleep && delete p[key];\n            }\n        });\n        return p[ps];\n    }\n    function box(x, y, width, height) {\n        if (x == null) {\n            x = y = width = height = 0;\n        }\n        if (y == null) {\n            y = x.y;\n            width = x.width;\n            height = x.height;\n            x = x.x;\n        }\n        return {\n            x: x,\n            y: y,\n            width: width,\n            w: width,\n            height: height,\n            h: height,\n            x2: x + width,\n            y2: y + height,\n            cx: x + width / 2,\n            cy: y + height / 2,\n            r1: math.min(width, height) / 2,\n            r2: math.max(width, height) / 2,\n            r0: math.sqrt(width * width + height * height) / 2,\n            path: rectPath(x, y, width, height),\n            vb: [x, y, width, height].join(\" \")\n        };\n    }\n    function toString() {\n        return this.join(\",\").replace(p2s, \"$1\");\n    }\n    function pathClone(pathArray) {\n        var res = clone(pathArray);\n        res.toString = toString;\n        return res;\n    }\n    function getPointAtSegmentLength(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length) {\n        if (length == null) {\n            return bezlen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y);\n        } else {\n            return findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y,\n                getTotLen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length));\n        }\n    }\n    function getLengthFactory(istotal, subpath) {\n        function O(val) {\n            return +(+val).toFixed(3);\n        }\n        return Snap._.cacher(function (path, length, onlystart) {\n            if (path instanceof Element) {\n                path = path.attr(\"d\");\n            }\n            path = path2curve(path);\n            var x, y, p, l, sp = \"\", subpaths = {}, point,\n                len = 0;\n            for (var i = 0, ii = path.length; i < ii; i++) {\n                p = path[i];\n                if (p[0] == \"M\") {\n                    x = +p[1];\n                    y = +p[2];\n                } else {\n                    l = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);\n                    if (len + l > length) {\n                        if (subpath && !subpaths.start) {\n                            point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);\n                            sp += [\n                                \"C\" + O(point.start.x),\n                                O(point.start.y),\n                                O(point.m.x),\n                                O(point.m.y),\n                                O(point.x),\n                                O(point.y)\n                            ];\n                            if (onlystart) {return sp;}\n                            subpaths.start = sp;\n                            sp = [\n                                \"M\" + O(point.x),\n                                O(point.y) + \"C\" + O(point.n.x),\n                                O(point.n.y),\n                                O(point.end.x),\n                                O(point.end.y),\n                                O(p[5]),\n                                O(p[6])\n                            ].join();\n                            len += l;\n                            x = +p[5];\n                            y = +p[6];\n                            continue;\n                        }\n                        if (!istotal && !subpath) {\n                            point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);\n                            return point;\n                        }\n                    }\n                    len += l;\n                    x = +p[5];\n                    y = +p[6];\n                }\n                sp += p.shift() + p;\n            }\n            subpaths.end = sp;\n            point = istotal ? len : subpath ? subpaths : findDotsAtSegment(x, y, p[0], p[1], p[2], p[3], p[4], p[5], 1);\n            return point;\n        }, null, Snap._.clone);\n    }\n    var getTotalLength = getLengthFactory(1),\n        getPointAtLength = getLengthFactory(),\n        getSubpathsAtLength = getLengthFactory(0, 1);\n    function findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n        var t1 = 1 - t,\n            t13 = pow(t1, 3),\n            t12 = pow(t1, 2),\n            t2 = t * t,\n            t3 = t2 * t,\n            x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x,\n            y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y,\n            mx = p1x + 2 * t * (c1x - p1x) + t2 * (c2x - 2 * c1x + p1x),\n            my = p1y + 2 * t * (c1y - p1y) + t2 * (c2y - 2 * c1y + p1y),\n            nx = c1x + 2 * t * (c2x - c1x) + t2 * (p2x - 2 * c2x + c1x),\n            ny = c1y + 2 * t * (c2y - c1y) + t2 * (p2y - 2 * c2y + c1y),\n            ax = t1 * p1x + t * c1x,\n            ay = t1 * p1y + t * c1y,\n            cx = t1 * c2x + t * p2x,\n            cy = t1 * c2y + t * p2y,\n            alpha = 90 - math.atan2(mx - nx, my - ny) * 180 / PI;\n        // (mx > nx || my < ny) && (alpha += 180);\n        return {\n            x: x,\n            y: y,\n            m: {x: mx, y: my},\n            n: {x: nx, y: ny},\n            start: {x: ax, y: ay},\n            end: {x: cx, y: cy},\n            alpha: alpha\n        };\n    }\n    function bezierBBox(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\n        if (!Snap.is(p1x, \"array\")) {\n            p1x = [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y];\n        }\n        var bbox = curveDim.apply(null, p1x);\n        return box(\n            bbox.min.x,\n            bbox.min.y,\n            bbox.max.x - bbox.min.x,\n            bbox.max.y - bbox.min.y\n        );\n    }\n    function isPointInsideBBox(bbox, x, y) {\n        return  x >= bbox.x &&\n                x <= bbox.x + bbox.width &&\n                y >= bbox.y &&\n                y <= bbox.y + bbox.height;\n    }\n    function isBBoxIntersect(bbox1, bbox2) {\n        bbox1 = box(bbox1);\n        bbox2 = box(bbox2);\n        return isPointInsideBBox(bbox2, bbox1.x, bbox1.y)\n            || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y)\n            || isPointInsideBBox(bbox2, bbox1.x, bbox1.y2)\n            || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y2)\n            || isPointInsideBBox(bbox1, bbox2.x, bbox2.y)\n            || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y)\n            || isPointInsideBBox(bbox1, bbox2.x, bbox2.y2)\n            || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y2)\n            || (bbox1.x < bbox2.x2 && bbox1.x > bbox2.x\n                || bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)\n            && (bbox1.y < bbox2.y2 && bbox1.y > bbox2.y\n                || bbox2.y < bbox1.y2 && bbox2.y > bbox1.y);\n    }\n    function base3(t, p1, p2, p3, p4) {\n        var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4,\n            t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n        return t * t2 - 3 * p1 + 3 * p2;\n    }\n    function bezlen(x1, y1, x2, y2, x3, y3, x4, y4, z) {\n        if (z == null) {\n            z = 1;\n        }\n        z = z > 1 ? 1 : z < 0 ? 0 : z;\n        var z2 = z / 2,\n            n = 12,\n            Tvalues = [-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],\n            Cvalues = [0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],\n            sum = 0;\n        for (var i = 0; i < n; i++) {\n            var ct = z2 * Tvalues[i] + z2,\n                xbase = base3(ct, x1, x2, x3, x4),\n                ybase = base3(ct, y1, y2, y3, y4),\n                comb = xbase * xbase + ybase * ybase;\n            sum += Cvalues[i] * math.sqrt(comb);\n        }\n        return z2 * sum;\n    }\n    function getTotLen(x1, y1, x2, y2, x3, y3, x4, y4, ll) {\n        if (ll < 0 || bezlen(x1, y1, x2, y2, x3, y3, x4, y4) < ll) {\n            return;\n        }\n        var t = 1,\n            step = t / 2,\n            t2 = t - step,\n            l,\n            e = .01;\n        l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);\n        while (abs(l - ll) > e) {\n            step /= 2;\n            t2 += (l < ll ? 1 : -1) * step;\n            l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);\n        }\n        return t2;\n    }\n    function intersect(x1, y1, x2, y2, x3, y3, x4, y4) {\n        if (\n            mmax(x1, x2) < mmin(x3, x4) ||\n            mmin(x1, x2) > mmax(x3, x4) ||\n            mmax(y1, y2) < mmin(y3, y4) ||\n            mmin(y1, y2) > mmax(y3, y4)\n        ) {\n            return;\n        }\n        var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\n            ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\n            denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n\n        if (!denominator) {\n            return;\n        }\n        var px = nx / denominator,\n            py = ny / denominator,\n            px2 = +px.toFixed(2),\n            py2 = +py.toFixed(2);\n        if (\n            px2 < +mmin(x1, x2).toFixed(2) ||\n            px2 > +mmax(x1, x2).toFixed(2) ||\n            px2 < +mmin(x3, x4).toFixed(2) ||\n            px2 > +mmax(x3, x4).toFixed(2) ||\n            py2 < +mmin(y1, y2).toFixed(2) ||\n            py2 > +mmax(y1, y2).toFixed(2) ||\n            py2 < +mmin(y3, y4).toFixed(2) ||\n            py2 > +mmax(y3, y4).toFixed(2)\n        ) {\n            return;\n        }\n        return {x: px, y: py};\n    }\n    function inter(bez1, bez2) {\n        return interHelper(bez1, bez2);\n    }\n    function interCount(bez1, bez2) {\n        return interHelper(bez1, bez2, 1);\n    }\n    function interHelper(bez1, bez2, justCount) {\n        var bbox1 = bezierBBox(bez1),\n            bbox2 = bezierBBox(bez2);\n        if (!isBBoxIntersect(bbox1, bbox2)) {\n            return justCount ? 0 : [];\n        }\n        var l1 = bezlen.apply(0, bez1),\n            l2 = bezlen.apply(0, bez2),\n            n1 = ~~(l1 / 8),\n            n2 = ~~(l2 / 8),\n            dots1 = [],\n            dots2 = [],\n            xy = {},\n            res = justCount ? 0 : [];\n        for (var i = 0; i < n1 + 1; i++) {\n            var p = findDotsAtSegment.apply(0, bez1.concat(i / n1));\n            dots1.push({x: p.x, y: p.y, t: i / n1});\n        }\n        for (i = 0; i < n2 + 1; i++) {\n            p = findDotsAtSegment.apply(0, bez2.concat(i / n2));\n            dots2.push({x: p.x, y: p.y, t: i / n2});\n        }\n        for (i = 0; i < n1; i++) {\n            for (var j = 0; j < n2; j++) {\n                var di = dots1[i],\n                    di1 = dots1[i + 1],\n                    dj = dots2[j],\n                    dj1 = dots2[j + 1],\n                    ci = abs(di1.x - di.x) < .001 ? \"y\" : \"x\",\n                    cj = abs(dj1.x - dj.x) < .001 ? \"y\" : \"x\",\n                    is = intersect(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y);\n                if (is) {\n                    if (xy[is.x.toFixed(4)] == is.y.toFixed(4)) {\n                        continue;\n                    }\n                    xy[is.x.toFixed(4)] = is.y.toFixed(4);\n                    var t1 = di.t + abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t),\n                        t2 = dj.t + abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n                    if (t1 >= 0 && t1 <= 1 && t2 >= 0 && t2 <= 1) {\n                        if (justCount) {\n                            res++;\n                        } else {\n                            res.push({\n                                x: is.x,\n                                y: is.y,\n                                t1: t1,\n                                t2: t2\n                            });\n                        }\n                    }\n                }\n            }\n        }\n        return res;\n    }\n    function pathIntersection(path1, path2) {\n        return interPathHelper(path1, path2);\n    }\n    function pathIntersectionNumber(path1, path2) {\n        return interPathHelper(path1, path2, 1);\n    }\n    function interPathHelper(path1, path2, justCount) {\n        path1 = path2curve(path1);\n        path2 = path2curve(path2);\n        var x1, y1, x2, y2, x1m, y1m, x2m, y2m, bez1, bez2,\n            res = justCount ? 0 : [];\n        for (var i = 0, ii = path1.length; i < ii; i++) {\n            var pi = path1[i];\n            if (pi[0] == \"M\") {\n                x1 = x1m = pi[1];\n                y1 = y1m = pi[2];\n            } else {\n                if (pi[0] == \"C\") {\n                    bez1 = [x1, y1].concat(pi.slice(1));\n                    x1 = bez1[6];\n                    y1 = bez1[7];\n                } else {\n                    bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\n                    x1 = x1m;\n                    y1 = y1m;\n                }\n                for (var j = 0, jj = path2.length; j < jj; j++) {\n                    var pj = path2[j];\n                    if (pj[0] == \"M\") {\n                        x2 = x2m = pj[1];\n                        y2 = y2m = pj[2];\n                    } else {\n                        if (pj[0] == \"C\") {\n                            bez2 = [x2, y2].concat(pj.slice(1));\n                            x2 = bez2[6];\n                            y2 = bez2[7];\n                        } else {\n                            bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\n                            x2 = x2m;\n                            y2 = y2m;\n                        }\n                        var intr = interHelper(bez1, bez2, justCount);\n                        if (justCount) {\n                            res += intr;\n                        } else {\n                            for (var k = 0, kk = intr.length; k < kk; k++) {\n                                intr[k].segment1 = i;\n                                intr[k].segment2 = j;\n                                intr[k].bez1 = bez1;\n                                intr[k].bez2 = bez2;\n                            }\n                            res = res.concat(intr);\n                        }\n                    }\n                }\n            }\n        }\n        return res;\n    }\n    function isPointInsidePath(path, x, y) {\n        var bbox = pathBBox(path);\n        return isPointInsideBBox(bbox, x, y) &&\n               interPathHelper(path, [[\"M\", x, y], [\"H\", bbox.x2 + 10]], 1) % 2 == 1;\n    }\n    function pathBBox(path) {\n        var pth = paths(path);\n        if (pth.bbox) {\n            return clone(pth.bbox);\n        }\n        if (!path) {\n            return box();\n        }\n        path = path2curve(path);\n        var x = 0,\n            y = 0,\n            X = [],\n            Y = [],\n            p;\n        for (var i = 0, ii = path.length; i < ii; i++) {\n            p = path[i];\n            if (p[0] == \"M\") {\n                x = p[1];\n                y = p[2];\n                X.push(x);\n                Y.push(y);\n            } else {\n                var dim = curveDim(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);\n                X = X.concat(dim.min.x, dim.max.x);\n                Y = Y.concat(dim.min.y, dim.max.y);\n                x = p[5];\n                y = p[6];\n            }\n        }\n        var xmin = mmin.apply(0, X),\n            ymin = mmin.apply(0, Y),\n            xmax = mmax.apply(0, X),\n            ymax = mmax.apply(0, Y),\n            bb = box(xmin, ymin, xmax - xmin, ymax - ymin);\n        pth.bbox = clone(bb);\n        return bb;\n    }\n    function rectPath(x, y, w, h, r) {\n        if (r) {\n            return [\n                [\"M\", +x + +r, y],\n                [\"l\", w - r * 2, 0],\n                [\"a\", r, r, 0, 0, 1, r, r],\n                [\"l\", 0, h - r * 2],\n                [\"a\", r, r, 0, 0, 1, -r, r],\n                [\"l\", r * 2 - w, 0],\n                [\"a\", r, r, 0, 0, 1, -r, -r],\n                [\"l\", 0, r * 2 - h],\n                [\"a\", r, r, 0, 0, 1, r, -r],\n                [\"z\"]\n            ];\n        }\n        var res = [[\"M\", x, y], [\"l\", w, 0], [\"l\", 0, h], [\"l\", -w, 0], [\"z\"]];\n        res.toString = toString;\n        return res;\n    }\n    function ellipsePath(x, y, rx, ry, a) {\n        if (a == null && ry == null) {\n            ry = rx;\n        }\n        x = +x;\n        y = +y;\n        rx = +rx;\n        ry = +ry;\n        if (a != null) {\n            var rad = Math.PI / 180,\n                x1 = x + rx * Math.cos(-ry * rad),\n                x2 = x + rx * Math.cos(-a * rad),\n                y1 = y + rx * Math.sin(-ry * rad),\n                y2 = y + rx * Math.sin(-a * rad),\n                res = [[\"M\", x1, y1], [\"A\", rx, rx, 0, +(a - ry > 180), 0, x2, y2]];\n        } else {\n            res = [\n                [\"M\", x, y],\n                [\"m\", 0, -ry],\n                [\"a\", rx, ry, 0, 1, 1, 0, 2 * ry],\n                [\"a\", rx, ry, 0, 1, 1, 0, -2 * ry],\n                [\"z\"]\n            ];\n        }\n        res.toString = toString;\n        return res;\n    }\n    var unit2px = Snap._unit2px,\n        getPath = {\n        path: function (el) {\n            return el.attr(\"path\");\n        },\n        circle: function (el) {\n            var attr = unit2px(el);\n            return ellipsePath(attr.cx, attr.cy, attr.r);\n        },\n        ellipse: function (el) {\n            var attr = unit2px(el);\n            return ellipsePath(attr.cx || 0, attr.cy || 0, attr.rx, attr.ry);\n        },\n        rect: function (el) {\n            var attr = unit2px(el);\n            return rectPath(attr.x || 0, attr.y || 0, attr.width, attr.height, attr.rx, attr.ry);\n        },\n        image: function (el) {\n            var attr = unit2px(el);\n            return rectPath(attr.x || 0, attr.y || 0, attr.width, attr.height);\n        },\n        line: function (el) {\n            return \"M\" + [el.attr(\"x1\") || 0, el.attr(\"y1\") || 0, el.attr(\"x2\"), el.attr(\"y2\")];\n        },\n        polyline: function (el) {\n            return \"M\" + el.attr(\"points\");\n        },\n        polygon: function (el) {\n            return \"M\" + el.attr(\"points\") + \"z\";\n        },\n        deflt: function (el) {\n            var bbox = el.node.getBBox();\n            return rectPath(bbox.x, bbox.y, bbox.width, bbox.height);\n        }\n    };\n    function pathToRelative(pathArray) {\n        var pth = paths(pathArray),\n            lowerCase = String.prototype.toLowerCase;\n        if (pth.rel) {\n            return pathClone(pth.rel);\n        }\n        if (!Snap.is(pathArray, \"array\") || !Snap.is(pathArray && pathArray[0], \"array\")) {\n            pathArray = Snap.parsePathString(pathArray);\n        }\n        var res = [],\n            x = 0,\n            y = 0,\n            mx = 0,\n            my = 0,\n            start = 0;\n        if (pathArray[0][0] == \"M\") {\n            x = pathArray[0][1];\n            y = pathArray[0][2];\n            mx = x;\n            my = y;\n            start++;\n            res.push([\"M\", x, y]);\n        }\n        for (var i = start, ii = pathArray.length; i < ii; i++) {\n            var r = res[i] = [],\n                pa = pathArray[i];\n            if (pa[0] != lowerCase.call(pa[0])) {\n                r[0] = lowerCase.call(pa[0]);\n                switch (r[0]) {\n                    case \"a\":\n                        r[1] = pa[1];\n                        r[2] = pa[2];\n                        r[3] = pa[3];\n                        r[4] = pa[4];\n                        r[5] = pa[5];\n                        r[6] = +(pa[6] - x).toFixed(3);\n                        r[7] = +(pa[7] - y).toFixed(3);\n                        break;\n                    case \"v\":\n                        r[1] = +(pa[1] - y).toFixed(3);\n                        break;\n                    case \"m\":\n                        mx = pa[1];\n                        my = pa[2];\n                    default:\n                        for (var j = 1, jj = pa.length; j < jj; j++) {\n                            r[j] = +(pa[j] - (j % 2 ? x : y)).toFixed(3);\n                        }\n                }\n            } else {\n                r = res[i] = [];\n                if (pa[0] == \"m\") {\n                    mx = pa[1] + x;\n                    my = pa[2] + y;\n                }\n                for (var k = 0, kk = pa.length; k < kk; k++) {\n                    res[i][k] = pa[k];\n                }\n            }\n            var len = res[i].length;\n            switch (res[i][0]) {\n                case \"z\":\n                    x = mx;\n                    y = my;\n                    break;\n                case \"h\":\n                    x += +res[i][len - 1];\n                    break;\n                case \"v\":\n                    y += +res[i][len - 1];\n                    break;\n                default:\n                    x += +res[i][len - 2];\n                    y += +res[i][len - 1];\n            }\n        }\n        res.toString = toString;\n        pth.rel = pathClone(res);\n        return res;\n    }\n    function pathToAbsolute(pathArray) {\n        var pth = paths(pathArray);\n        if (pth.abs) {\n            return pathClone(pth.abs);\n        }\n        if (!is(pathArray, \"array\") || !is(pathArray && pathArray[0], \"array\")) { // rough assumption\n            pathArray = Snap.parsePathString(pathArray);\n        }\n        if (!pathArray || !pathArray.length) {\n            return [[\"M\", 0, 0]];\n        }\n        var res = [],\n            x = 0,\n            y = 0,\n            mx = 0,\n            my = 0,\n            start = 0,\n            pa0;\n        if (pathArray[0][0] == \"M\") {\n            x = +pathArray[0][1];\n            y = +pathArray[0][2];\n            mx = x;\n            my = y;\n            start++;\n            res[0] = [\"M\", x, y];\n        }\n        var crz = pathArray.length == 3 &&\n            pathArray[0][0] == \"M\" &&\n            pathArray[1][0].toUpperCase() == \"R\" &&\n            pathArray[2][0].toUpperCase() == \"Z\";\n        for (var r, pa, i = start, ii = pathArray.length; i < ii; i++) {\n            res.push(r = []);\n            pa = pathArray[i];\n            pa0 = pa[0];\n            if (pa0 != pa0.toUpperCase()) {\n                r[0] = pa0.toUpperCase();\n                switch (r[0]) {\n                    case \"A\":\n                        r[1] = pa[1];\n                        r[2] = pa[2];\n                        r[3] = pa[3];\n                        r[4] = pa[4];\n                        r[5] = pa[5];\n                        r[6] = +pa[6] + x;\n                        r[7] = +pa[7] + y;\n                        break;\n                    case \"V\":\n                        r[1] = +pa[1] + y;\n                        break;\n                    case \"H\":\n                        r[1] = +pa[1] + x;\n                        break;\n                    case \"R\":\n                        var dots = [x, y].concat(pa.slice(1));\n                        for (var j = 2, jj = dots.length; j < jj; j++) {\n                            dots[j] = +dots[j] + x;\n                            dots[++j] = +dots[j] + y;\n                        }\n                        res.pop();\n                        res = res.concat(catmullRom2bezier(dots, crz));\n                        break;\n                    case \"O\":\n                        res.pop();\n                        dots = ellipsePath(x, y, pa[1], pa[2]);\n                        dots.push(dots[0]);\n                        res = res.concat(dots);\n                        break;\n                    case \"U\":\n                        res.pop();\n                        res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n                        r = [\"U\"].concat(res[res.length - 1].slice(-2));\n                        break;\n                    case \"M\":\n                        mx = +pa[1] + x;\n                        my = +pa[2] + y;\n                    default:\n                        for (j = 1, jj = pa.length; j < jj; j++) {\n                            r[j] = +pa[j] + (j % 2 ? x : y);\n                        }\n                }\n            } else if (pa0 == \"R\") {\n                dots = [x, y].concat(pa.slice(1));\n                res.pop();\n                res = res.concat(catmullRom2bezier(dots, crz));\n                r = [\"R\"].concat(pa.slice(-2));\n            } else if (pa0 == \"O\") {\n                res.pop();\n                dots = ellipsePath(x, y, pa[1], pa[2]);\n                dots.push(dots[0]);\n                res = res.concat(dots);\n            } else if (pa0 == \"U\") {\n                res.pop();\n                res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n                r = [\"U\"].concat(res[res.length - 1].slice(-2));\n            } else {\n                for (var k = 0, kk = pa.length; k < kk; k++) {\n                    r[k] = pa[k];\n                }\n            }\n            pa0 = pa0.toUpperCase();\n            if (pa0 != \"O\") {\n                switch (r[0]) {\n                    case \"Z\":\n                        x = +mx;\n                        y = +my;\n                        break;\n                    case \"H\":\n                        x = r[1];\n                        break;\n                    case \"V\":\n                        y = r[1];\n                        break;\n                    case \"M\":\n                        mx = r[r.length - 2];\n                        my = r[r.length - 1];\n                    default:\n                        x = r[r.length - 2];\n                        y = r[r.length - 1];\n                }\n            }\n        }\n        res.toString = toString;\n        pth.abs = pathClone(res);\n        return res;\n    }\n    function l2c(x1, y1, x2, y2) {\n        return [x1, y1, x2, y2, x2, y2];\n    }\n    function q2c(x1, y1, ax, ay, x2, y2) {\n        var _13 = 1 / 3,\n            _23 = 2 / 3;\n        return [\n                _13 * x1 + _23 * ax,\n                _13 * y1 + _23 * ay,\n                _13 * x2 + _23 * ax,\n                _13 * y2 + _23 * ay,\n                x2,\n                y2\n            ];\n    }\n    function a2c(x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n        // for more information of where this math came from visit:\n        // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n        var _120 = PI * 120 / 180,\n            rad = PI / 180 * (+angle || 0),\n            res = [],\n            xy,\n            rotate = Snap._.cacher(function (x, y, rad) {\n                var X = x * math.cos(rad) - y * math.sin(rad),\n                    Y = x * math.sin(rad) + y * math.cos(rad);\n                return {x: X, y: Y};\n            });\n        if (!rx || !ry) {\n            return [x1, y1, x2, y2, x2, y2];\n        }\n        if (!recursive) {\n            xy = rotate(x1, y1, -rad);\n            x1 = xy.x;\n            y1 = xy.y;\n            xy = rotate(x2, y2, -rad);\n            x2 = xy.x;\n            y2 = xy.y;\n            var cos = math.cos(PI / 180 * angle),\n                sin = math.sin(PI / 180 * angle),\n                x = (x1 - x2) / 2,\n                y = (y1 - y2) / 2;\n            var h = x * x / (rx * rx) + y * y / (ry * ry);\n            if (h > 1) {\n                h = math.sqrt(h);\n                rx = h * rx;\n                ry = h * ry;\n            }\n            var rx2 = rx * rx,\n                ry2 = ry * ry,\n                k = (large_arc_flag == sweep_flag ? -1 : 1) *\n                    math.sqrt(abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x))),\n                cx = k * rx * y / ry + (x1 + x2) / 2,\n                cy = k * -ry * x / rx + (y1 + y2) / 2,\n                f1 = math.asin(((y1 - cy) / ry).toFixed(9)),\n                f2 = math.asin(((y2 - cy) / ry).toFixed(9));\n\n            f1 = x1 < cx ? PI - f1 : f1;\n            f2 = x2 < cx ? PI - f2 : f2;\n            f1 < 0 && (f1 = PI * 2 + f1);\n            f2 < 0 && (f2 = PI * 2 + f2);\n            if (sweep_flag && f1 > f2) {\n                f1 = f1 - PI * 2;\n            }\n            if (!sweep_flag && f2 > f1) {\n                f2 = f2 - PI * 2;\n            }\n        } else {\n            f1 = recursive[0];\n            f2 = recursive[1];\n            cx = recursive[2];\n            cy = recursive[3];\n        }\n        var df = f2 - f1;\n        if (abs(df) > _120) {\n            var f2old = f2,\n                x2old = x2,\n                y2old = y2;\n            f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n            x2 = cx + rx * math.cos(f2);\n            y2 = cy + ry * math.sin(f2);\n            res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n        }\n        df = f2 - f1;\n        var c1 = math.cos(f1),\n            s1 = math.sin(f1),\n            c2 = math.cos(f2),\n            s2 = math.sin(f2),\n            t = math.tan(df / 4),\n            hx = 4 / 3 * rx * t,\n            hy = 4 / 3 * ry * t,\n            m1 = [x1, y1],\n            m2 = [x1 + hx * s1, y1 - hy * c1],\n            m3 = [x2 + hx * s2, y2 - hy * c2],\n            m4 = [x2, y2];\n        m2[0] = 2 * m1[0] - m2[0];\n        m2[1] = 2 * m1[1] - m2[1];\n        if (recursive) {\n            return [m2, m3, m4].concat(res);\n        } else {\n            res = [m2, m3, m4].concat(res).join().split(\",\");\n            var newres = [];\n            for (var i = 0, ii = res.length; i < ii; i++) {\n                newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n            }\n            return newres;\n        }\n    }\n    function findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n        var t1 = 1 - t;\n        return {\n            x: pow(t1, 3) * p1x + pow(t1, 2) * 3 * t * c1x + t1 * 3 * t * t * c2x + pow(t, 3) * p2x,\n            y: pow(t1, 3) * p1y + pow(t1, 2) * 3 * t * c1y + t1 * 3 * t * t * c2y + pow(t, 3) * p2y\n        };\n    }\n\n    // Returns bounding box of cubic bezier curve.\n    // Source: http://blog.hackers-cafe.net/2009/06/how-to-calculate-bezier-curves-bounding.html\n    // Original version: NISHIO Hirokazu\n    // Modifications: https://github.com/timo22345\n    function curveDim(x0, y0, x1, y1, x2, y2, x3, y3) {\n        var tvalues = [],\n            bounds = [[], []],\n            a, b, c, t, t1, t2, b2ac, sqrtb2ac;\n        for (var i = 0; i < 2; ++i) {\n            if (i == 0) {\n                b = 6 * x0 - 12 * x1 + 6 * x2;\n                a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n                c = 3 * x1 - 3 * x0;\n            } else {\n                b = 6 * y0 - 12 * y1 + 6 * y2;\n                a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n                c = 3 * y1 - 3 * y0;\n            }\n            if (abs(a) < 1e-12) {\n                if (abs(b) < 1e-12) {\n                    continue;\n                }\n                t = -c / b;\n                if (0 < t && t < 1) {\n                    tvalues.push(t);\n                }\n                continue;\n            }\n            b2ac = b * b - 4 * c * a;\n            sqrtb2ac = math.sqrt(b2ac);\n            if (b2ac < 0) {\n                continue;\n            }\n            t1 = (-b + sqrtb2ac) / (2 * a);\n            if (0 < t1 && t1 < 1) {\n                tvalues.push(t1);\n            }\n            t2 = (-b - sqrtb2ac) / (2 * a);\n            if (0 < t2 && t2 < 1) {\n                tvalues.push(t2);\n            }\n        }\n\n        var x, y, j = tvalues.length,\n            jlen = j,\n            mt;\n        while (j--) {\n            t = tvalues[j];\n            mt = 1 - t;\n            bounds[0][j] = mt * mt * mt * x0 + 3 * mt * mt * t * x1 + 3 * mt * t * t * x2 + t * t * t * x3;\n            bounds[1][j] = mt * mt * mt * y0 + 3 * mt * mt * t * y1 + 3 * mt * t * t * y2 + t * t * t * y3;\n        }\n\n        bounds[0][jlen] = x0;\n        bounds[1][jlen] = y0;\n        bounds[0][jlen + 1] = x3;\n        bounds[1][jlen + 1] = y3;\n        bounds[0].length = bounds[1].length = jlen + 2;\n\n\n        return {\n          min: {x: mmin.apply(0, bounds[0]), y: mmin.apply(0, bounds[1])},\n          max: {x: mmax.apply(0, bounds[0]), y: mmax.apply(0, bounds[1])}\n        };\n    }\n\n    function path2curve(path, path2) {\n        var pth = !path2 && paths(path);\n        if (!path2 && pth.curve) {\n            return pathClone(pth.curve);\n        }\n        var p = pathToAbsolute(path),\n            p2 = path2 && pathToAbsolute(path2),\n            attrs = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null},\n            attrs2 = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null},\n            processPath = function (path, d, pcom) {\n                var nx, ny;\n                if (!path) {\n                    return [\"C\", d.x, d.y, d.x, d.y, d.x, d.y];\n                }\n                !(path[0] in {T: 1, Q: 1}) && (d.qx = d.qy = null);\n                switch (path[0]) {\n                    case \"M\":\n                        d.X = path[1];\n                        d.Y = path[2];\n                        break;\n                    case \"A\":\n                        path = [\"C\"].concat(a2c.apply(0, [d.x, d.y].concat(path.slice(1))));\n                        break;\n                    case \"S\":\n                        if (pcom == \"C\" || pcom == \"S\") { // In \"S\" case we have to take into account, if the previous command is C/S.\n                            nx = d.x * 2 - d.bx;          // And reflect the previous\n                            ny = d.y * 2 - d.by;          // command's control point relative to the current point.\n                        }\n                        else {                            // or some else or nothing\n                            nx = d.x;\n                            ny = d.y;\n                        }\n                        path = [\"C\", nx, ny].concat(path.slice(1));\n                        break;\n                    case \"T\":\n                        if (pcom == \"Q\" || pcom == \"T\") { // In \"T\" case we have to take into account, if the previous command is Q/T.\n                            d.qx = d.x * 2 - d.qx;        // And make a reflection similar\n                            d.qy = d.y * 2 - d.qy;        // to case \"S\".\n                        }\n                        else {                            // or something else or nothing\n                            d.qx = d.x;\n                            d.qy = d.y;\n                        }\n                        path = [\"C\"].concat(q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n                        break;\n                    case \"Q\":\n                        d.qx = path[1];\n                        d.qy = path[2];\n                        path = [\"C\"].concat(q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\n                        break;\n                    case \"L\":\n                        path = [\"C\"].concat(l2c(d.x, d.y, path[1], path[2]));\n                        break;\n                    case \"H\":\n                        path = [\"C\"].concat(l2c(d.x, d.y, path[1], d.y));\n                        break;\n                    case \"V\":\n                        path = [\"C\"].concat(l2c(d.x, d.y, d.x, path[1]));\n                        break;\n                    case \"Z\":\n                        path = [\"C\"].concat(l2c(d.x, d.y, d.X, d.Y));\n                        break;\n                }\n                return path;\n            },\n            fixArc = function (pp, i) {\n                if (pp[i].length > 7) {\n                    pp[i].shift();\n                    var pi = pp[i];\n                    while (pi.length) {\n                        pcoms1[i] = \"A\"; // if created multiple C:s, their original seg is saved\n                        p2 && (pcoms2[i] = \"A\"); // the same as above\n                        pp.splice(i++, 0, [\"C\"].concat(pi.splice(0, 6)));\n                    }\n                    pp.splice(i, 1);\n                    ii = mmax(p.length, p2 && p2.length || 0);\n                }\n            },\n            fixM = function (path1, path2, a1, a2, i) {\n                if (path1 && path2 && path1[i][0] == \"M\" && path2[i][0] != \"M\") {\n                    path2.splice(i, 0, [\"M\", a2.x, a2.y]);\n                    a1.bx = 0;\n                    a1.by = 0;\n                    a1.x = path1[i][1];\n                    a1.y = path1[i][2];\n                    ii = mmax(p.length, p2 && p2.length || 0);\n                }\n            },\n            pcoms1 = [], // path commands of original path p\n            pcoms2 = [], // path commands of original path p2\n            pfirst = \"\", // temporary holder for original path command\n            pcom = \"\"; // holder for previous path command of original path\n        for (var i = 0, ii = mmax(p.length, p2 && p2.length || 0); i < ii; i++) {\n            p[i] && (pfirst = p[i][0]); // save current path command\n\n            if (pfirst != \"C\") // C is not saved yet, because it may be result of conversion\n            {\n                pcoms1[i] = pfirst; // Save current path command\n                i && ( pcom = pcoms1[i - 1]); // Get previous path command pcom\n            }\n            p[i] = processPath(p[i], attrs, pcom); // Previous path command is inputted to processPath\n\n            if (pcoms1[i] != \"A\" && pfirst == \"C\") pcoms1[i] = \"C\"; // A is the only command\n            // which may produce multiple C:s\n            // so we have to make sure that C is also C in original path\n\n            fixArc(p, i); // fixArc adds also the right amount of A:s to pcoms1\n\n            if (p2) { // the same procedures is done to p2\n                p2[i] && (pfirst = p2[i][0]);\n                if (pfirst != \"C\") {\n                    pcoms2[i] = pfirst;\n                    i && (pcom = pcoms2[i - 1]);\n                }\n                p2[i] = processPath(p2[i], attrs2, pcom);\n\n                if (pcoms2[i] != \"A\" && pfirst == \"C\") {\n                    pcoms2[i] = \"C\";\n                }\n\n                fixArc(p2, i);\n            }\n            fixM(p, p2, attrs, attrs2, i);\n            fixM(p2, p, attrs2, attrs, i);\n            var seg = p[i],\n                seg2 = p2 && p2[i],\n                seglen = seg.length,\n                seg2len = p2 && seg2.length;\n            attrs.x = seg[seglen - 2];\n            attrs.y = seg[seglen - 1];\n            attrs.bx = toFloat(seg[seglen - 4]) || attrs.x;\n            attrs.by = toFloat(seg[seglen - 3]) || attrs.y;\n            attrs2.bx = p2 && (toFloat(seg2[seg2len - 4]) || attrs2.x);\n            attrs2.by = p2 && (toFloat(seg2[seg2len - 3]) || attrs2.y);\n            attrs2.x = p2 && seg2[seg2len - 2];\n            attrs2.y = p2 && seg2[seg2len - 1];\n        }\n        if (!p2) {\n            pth.curve = pathClone(p);\n        }\n        return p2 ? [p, p2] : p;\n    }\n    function mapPath(path, matrix) {\n        if (!matrix) {\n            return path;\n        }\n        var x, y, i, j, ii, jj, pathi;\n        path = path2curve(path);\n        for (i = 0, ii = path.length; i < ii; i++) {\n            pathi = path[i];\n            for (j = 1, jj = pathi.length; j < jj; j += 2) {\n                x = matrix.x(pathi[j], pathi[j + 1]);\n                y = matrix.y(pathi[j], pathi[j + 1]);\n                pathi[j] = x;\n                pathi[j + 1] = y;\n            }\n        }\n        return path;\n    }\n\n    // http://schepers.cc/getting-to-the-point\n    function catmullRom2bezier(crp, z) {\n        var d = [];\n        for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n            var p = [\n                        {x: +crp[i - 2], y: +crp[i - 1]},\n                        {x: +crp[i],     y: +crp[i + 1]},\n                        {x: +crp[i + 2], y: +crp[i + 3]},\n                        {x: +crp[i + 4], y: +crp[i + 5]}\n                    ];\n            if (z) {\n                if (!i) {\n                    p[0] = {x: +crp[iLen - 2], y: +crp[iLen - 1]};\n                } else if (iLen - 4 == i) {\n                    p[3] = {x: +crp[0], y: +crp[1]};\n                } else if (iLen - 2 == i) {\n                    p[2] = {x: +crp[0], y: +crp[1]};\n                    p[3] = {x: +crp[2], y: +crp[3]};\n                }\n            } else {\n                if (iLen - 4 == i) {\n                    p[3] = p[2];\n                } else if (!i) {\n                    p[0] = {x: +crp[i], y: +crp[i + 1]};\n                }\n            }\n            d.push([\"C\",\n                  (-p[0].x + 6 * p[1].x + p[2].x) / 6,\n                  (-p[0].y + 6 * p[1].y + p[2].y) / 6,\n                  (p[1].x + 6 * p[2].x - p[3].x) / 6,\n                  (p[1].y + 6*p[2].y - p[3].y) / 6,\n                  p[2].x,\n                  p[2].y\n            ]);\n        }\n\n        return d;\n    }\n\n    // export\n    Snap.path = paths;\n\n    /*\\\n     * Snap.path.getTotalLength\n     [ method ]\n     **\n     * Returns the length of the given path in pixels\n     **\n     - path (string) SVG path string\n     **\n     = (number) length\n    \\*/\n    Snap.path.getTotalLength = getTotalLength;\n    /*\\\n     * Snap.path.getPointAtLength\n     [ method ]\n     **\n     * Returns the coordinates of the point located at the given length along the given path\n     **\n     - path (string) SVG path string\n     - length (number) length, in pixels, from the start of the path, excluding non-rendering jumps\n     **\n     = (object) representation of the point:\n     o {\n     o     x: (number) x coordinate,\n     o     y: (number) y coordinate,\n     o     alpha: (number) angle of derivative\n     o }\n    \\*/\n    Snap.path.getPointAtLength = getPointAtLength;\n    /*\\\n     * Snap.path.getSubpath\n     [ method ]\n     **\n     * Returns the subpath of a given path between given start and end lengths\n     **\n     - path (string) SVG path string\n     - from (number) length, in pixels, from the start of the path to the start of the segment\n     - to (number) length, in pixels, from the start of the path to the end of the segment\n     **\n     = (string) path string definition for the segment\n    \\*/\n    Snap.path.getSubpath = function (path, from, to) {\n        if (this.getTotalLength(path) - to < 1e-6) {\n            return getSubpathsAtLength(path, from).end;\n        }\n        var a = getSubpathsAtLength(path, to, 1);\n        return from ? getSubpathsAtLength(a, from).end : a;\n    };\n    /*\\\n     * Element.getTotalLength\n     [ method ]\n     **\n     * Returns the length of the path in pixels (only works for `path` elements)\n     = (number) length\n    \\*/\n    elproto.getTotalLength = function () {\n        if (this.node.getTotalLength) {\n            return this.node.getTotalLength();\n        }\n    };\n    // SIERRA Element.getPointAtLength()/Element.getTotalLength(): If a <path> is broken into different segments, is the jump distance to the new coordinates set by the _M_ or _m_ commands calculated as part of the path's total length?\n    /*\\\n     * Element.getPointAtLength\n     [ method ]\n     **\n     * Returns coordinates of the point located at the given length on the given path (only works for `path` elements)\n     **\n     - length (number) length, in pixels, from the start of the path, excluding non-rendering jumps\n     **\n     = (object) representation of the point:\n     o {\n     o     x: (number) x coordinate,\n     o     y: (number) y coordinate,\n     o     alpha: (number) angle of derivative\n     o }\n    \\*/\n    elproto.getPointAtLength = function (length) {\n        return getPointAtLength(this.attr(\"d\"), length);\n    };\n    // SIERRA Element.getSubpath(): Similar to the problem for Element.getPointAtLength(). Unclear how this would work for a segmented path. Overall, the concept of _subpath_ and what I'm calling a _segment_ (series of non-_M_ or _Z_ commands) is unclear.\n    /*\\\n     * Element.getSubpath\n     [ method ]\n     **\n     * Returns subpath of a given element from given start and end lengths (only works for `path` elements)\n     **\n     - from (number) length, in pixels, from the start of the path to the start of the segment\n     - to (number) length, in pixels, from the start of the path to the end of the segment\n     **\n     = (string) path string definition for the segment\n    \\*/\n    elproto.getSubpath = function (from, to) {\n        return Snap.path.getSubpath(this.attr(\"d\"), from, to);\n    };\n    Snap._.box = box;\n    /*\\\n     * Snap.path.findDotsAtSegment\n     [ method ]\n     **\n     * Utility method\n     **\n     * Finds dot coordinates on the given cubic bezir curve at the given t\n     - p1x (number) x of the first point of the curve\n     - p1y (number) y of the first point of the curve\n     - c1x (number) x of the first anchor of the curve\n     - c1y (number) y of the first anchor of the curve\n     - c2x (number) x of the second anchor of the curve\n     - c2y (number) y of the second anchor of the curve\n     - p2x (number) x of the second point of the curve\n     - p2y (number) y of the second point of the curve\n     - t (number) position on the curve (0..1)\n     = (object) point information in format:\n     o {\n     o     x: (number) x coordinate of the point,\n     o     y: (number) y coordinate of the point,\n     o     m: {\n     o         x: (number) x coordinate of the left anchor,\n     o         y: (number) y coordinate of the left anchor\n     o     },\n     o     n: {\n     o         x: (number) x coordinate of the right anchor,\n     o         y: (number) y coordinate of the right anchor\n     o     },\n     o     start: {\n     o         x: (number) x coordinate of the start of the curve,\n     o         y: (number) y coordinate of the start of the curve\n     o     },\n     o     end: {\n     o         x: (number) x coordinate of the end of the curve,\n     o         y: (number) y coordinate of the end of the curve\n     o     },\n     o     alpha: (number) angle of the curve derivative at the point\n     o }\n    \\*/\n    Snap.path.findDotsAtSegment = findDotsAtSegment;\n    /*\\\n     * Snap.path.bezierBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns the bounding box of a given cubic bezir curve\n     - p1x (number) x of the first point of the curve\n     - p1y (number) y of the first point of the curve\n     - c1x (number) x of the first anchor of the curve\n     - c1y (number) y of the first anchor of the curve\n     - c2x (number) x of the second anchor of the curve\n     - c2y (number) y of the second anchor of the curve\n     - p2x (number) x of the second point of the curve\n     - p2y (number) y of the second point of the curve\n     * or\n     - bez (array) array of six points for bezir curve\n     = (object) bounding box\n     o {\n     o     x: (number) x coordinate of the left top point of the box,\n     o     y: (number) y coordinate of the left top point of the box,\n     o     x2: (number) x coordinate of the right bottom point of the box,\n     o     y2: (number) y coordinate of the right bottom point of the box,\n     o     width: (number) width of the box,\n     o     height: (number) height of the box\n     o }\n    \\*/\n    Snap.path.bezierBBox = bezierBBox;\n    /*\\\n     * Snap.path.isPointInsideBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if given point is inside bounding box\n     - bbox (string) bounding box\n     - x (string) x coordinate of the point\n     - y (string) y coordinate of the point\n     = (boolean) `true` if point is inside\n    \\*/\n    Snap.path.isPointInsideBBox = isPointInsideBBox;\n    Snap.closest = function (x, y, X, Y) {\n        var r = 100,\n            b = box(x - r / 2, y - r / 2, r, r),\n            inside = [],\n            getter = X[0].hasOwnProperty(\"x\") ? function (i) {\n                return {\n                    x: X[i].x,\n                    y: X[i].y\n                };\n            } : function (i) {\n                return {\n                    x: X[i],\n                    y: Y[i]\n                };\n            },\n            found = 0;\n        while (r <= 1e6 && !found) {\n            for (var i = 0, ii = X.length; i < ii; i++) {\n                var xy = getter(i);\n                if (isPointInsideBBox(b, xy.x, xy.y)) {\n                    found++;\n                    inside.push(xy);\n                    break;\n                }\n            }\n            if (!found) {\n                r *= 2;\n                b = box(x - r / 2, y - r / 2, r, r)\n            }\n        }\n        if (r == 1e6) {\n            return;\n        }\n        var len = Infinity,\n            res;\n        for (i = 0, ii = inside.length; i < ii; i++) {\n            var l = Snap.len(x, y, inside[i].x, inside[i].y);\n            if (len > l) {\n                len = l;\n                inside[i].len = l;\n                res = inside[i];\n            }\n        }\n        return res;\n    };\n    /*\\\n     * Snap.path.isBBoxIntersect\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if two bounding boxes intersect\n     - bbox1 (string) first bounding box\n     - bbox2 (string) second bounding box\n     = (boolean) `true` if bounding boxes intersect\n    \\*/\n    Snap.path.isBBoxIntersect = isBBoxIntersect;\n    /*\\\n     * Snap.path.intersection\n     [ method ]\n     **\n     * Utility method\n     **\n     * Finds intersections of two paths\n     - path1 (string) path string\n     - path2 (string) path string\n     = (array) dots of intersection\n     o [\n     o     {\n     o         x: (number) x coordinate of the point,\n     o         y: (number) y coordinate of the point,\n     o         t1: (number) t value for segment of path1,\n     o         t2: (number) t value for segment of path2,\n     o         segment1: (number) order number for segment of path1,\n     o         segment2: (number) order number for segment of path2,\n     o         bez1: (array) eight coordinates representing bezir curve for the segment of path1,\n     o         bez2: (array) eight coordinates representing bezir curve for the segment of path2\n     o     }\n     o ]\n    \\*/\n    Snap.path.intersection = pathIntersection;\n    Snap.path.intersectionNumber = pathIntersectionNumber;\n    /*\\\n     * Snap.path.isPointInside\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if given point is inside a given closed path.\n     *\n     * Note: fill mode doesnt affect the result of this method.\n     - path (string) path string\n     - x (number) x of the point\n     - y (number) y of the point\n     = (boolean) `true` if point is inside the path\n    \\*/\n    Snap.path.isPointInside = isPointInsidePath;\n    /*\\\n     * Snap.path.getBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns the bounding box of a given path\n     - path (string) path string\n     = (object) bounding box\n     o {\n     o     x: (number) x coordinate of the left top point of the box,\n     o     y: (number) y coordinate of the left top point of the box,\n     o     x2: (number) x coordinate of the right bottom point of the box,\n     o     y2: (number) y coordinate of the right bottom point of the box,\n     o     width: (number) width of the box,\n     o     height: (number) height of the box\n     o }\n    \\*/\n    Snap.path.getBBox = pathBBox;\n    Snap.path.get = getPath;\n    /*\\\n     * Snap.path.toRelative\n     [ method ]\n     **\n     * Utility method\n     **\n     * Converts path coordinates into relative values\n     - path (string) path string\n     = (array) path string\n    \\*/\n    Snap.path.toRelative = pathToRelative;\n    /*\\\n     * Snap.path.toAbsolute\n     [ method ]\n     **\n     * Utility method\n     **\n     * Converts path coordinates into absolute values\n     - path (string) path string\n     = (array) path string\n    \\*/\n    Snap.path.toAbsolute = pathToAbsolute;\n    /*\\\n     * Snap.path.toCubic\n     [ method ]\n     **\n     * Utility method\n     **\n     * Converts path to a new path where all segments are cubic bezir curves\n     - pathString (string|array) path string or array of segments\n     = (array) array of segments\n    \\*/\n    Snap.path.toCubic = path2curve;\n    /*\\\n     * Snap.path.map\n     [ method ]\n     **\n     * Transform the path string with the given matrix\n     - path (string) path string\n     - matrix (object) see @Matrix\n     = (string) transformed path string\n    \\*/\n    Snap.path.map = mapPath;\n    Snap.path.toString = toString;\n    Snap.path.clone = pathClone;\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var mmax = Math.max,\n        mmin = Math.min;\n\n    // Set\n    var Set = function (items) {\n        this.items = [];\n\tthis.bindings = {};\n        this.length = 0;\n        this.type = \"set\";\n        if (items) {\n            for (var i = 0, ii = items.length; i < ii; i++) {\n                if (items[i]) {\n                    this[this.items.length] = this.items[this.items.length] = items[i];\n                    this.length++;\n                }\n            }\n        }\n    },\n    setproto = Set.prototype;\n    /*\\\n     * Set.push\n     [ method ]\n     **\n     * Adds each argument to the current set\n     = (object) original element\n    \\*/\n    setproto.push = function () {\n        var item,\n            len;\n        for (var i = 0, ii = arguments.length; i < ii; i++) {\n            item = arguments[i];\n            if (item) {\n                len = this.items.length;\n                this[len] = this.items[len] = item;\n                this.length++;\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Set.pop\n     [ method ]\n     **\n     * Removes last element and returns it\n     = (object) element\n    \\*/\n    setproto.pop = function () {\n        this.length && delete this[this.length--];\n        return this.items.pop();\n    };\n    /*\\\n     * Set.forEach\n     [ method ]\n     **\n     * Executes given function for each element in the set\n     *\n     * If the function returns `false`, the loop stops running.\n     **\n     - callback (function) function to run\n     - thisArg (object) context object for the callback\n     = (object) Set object\n    \\*/\n    setproto.forEach = function (callback, thisArg) {\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\n            if (callback.call(thisArg, this.items[i], i) === false) {\n                return this;\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Set.animate\n     [ method ]\n     **\n     * Animates each element in set in sync.\n     *\n     **\n     - attrs (object) key-value pairs of destination attributes\n     - duration (number) duration of the animation in milliseconds\n     - easing (function) #optional easing function from @mina or custom\n     - callback (function) #optional callback function that executes when the animation ends\n     * or\n     - animation (array) array of animation parameter for each element in set in format `[attrs, duration, easing, callback]`\n     > Usage\n     | // animate all elements in set to radius 10\n     | set.animate({r: 10}, 500, mina.easein);\n     | // or\n     | // animate first element to radius 10, but second to radius 20 and in different time\n     | set.animate([{r: 10}, 500, mina.easein], [{r: 20}, 1500, mina.easein]);\n     = (Element) the current element\n    \\*/\n    setproto.animate = function (attrs, ms, easing, callback) {\n        if (typeof easing == \"function\" && !easing.length) {\n            callback = easing;\n            easing = mina.linear;\n        }\n        if (attrs instanceof Snap._.Animation) {\n            callback = attrs.callback;\n            easing = attrs.easing;\n            ms = easing.dur;\n            attrs = attrs.attr;\n        }\n        var args = arguments;\n        if (Snap.is(attrs, \"array\") && Snap.is(args[args.length - 1], \"array\")) {\n            var each = true;\n        }\n        var begin,\n            handler = function () {\n                if (begin) {\n                    this.b = begin;\n                } else {\n                    begin = this.b;\n                }\n            },\n            cb = 0,\n            set = this,\n            callbacker = callback && function () {\n                if (++cb == set.length) {\n                    callback.call(this);\n                }\n            };\n        return this.forEach(function (el, i) {\n            eve.once(\"snap.animcreated.\" + el.id, handler);\n            if (each) {\n                args[i] && el.animate.apply(el, args[i]);\n            } else {\n                el.animate(attrs, ms, easing, callbacker);\n            }\n        });\n    };\n    /*\\\n     * Set.remove\n     [ method ]\n     **\n     * Removes all children of the set.\n     *\n     = (object) Set object\n    \\*/\n    setproto.remove = function () {\n        while (this.length) {\n            this.pop().remove();\n        }\n        return this;\n    };\n    /*\\\n     * Set.bind\n     [ method ]\n     **\n     * Specifies how to handle a specific attribute when applied\n     * to a set.\n     *\n     **\n     - attr (string) attribute name\n     - callback (function) function to run\n     * or\n     - attr (string) attribute name\n     - element (Element) specific element in the set to apply the attribute to\n     * or\n     - attr (string) attribute name\n     - element (Element) specific element in the set to apply the attribute to\n     - eattr (string) attribute on the element to bind the attribute to\n     = (object) Set object\n    \\*/\n    setproto.bind = function (attr, a, b) {\n        var data = {};\n        if (typeof a == \"function\") {\n            this.bindings[attr] = a;\n        } else {\n            var aname = b || attr;\n            this.bindings[attr] = function (v) {\n                data[aname] = v;\n                a.attr(data);\n            };\n        }\n        return this;\n    };\n    /*\\\n     * Set.attr\n     [ method ]\n     **\n     * Equivalent of @Element.attr.\n     = (object) Set object\n    \\*/\n    setproto.attr = function (value) {\n        var unbound = {};\n        for (var k in value) {\n            if (this.bindings[k]) {\n                this.bindings[k](value[k]);\n            } else {\n                unbound[k] = value[k];\n            }\n        }\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\n            this.items[i].attr(unbound);\n        }\n        return this;\n    };\n    /*\\\n     * Set.clear\n     [ method ]\n     **\n     * Removes all elements from the set\n    \\*/\n    setproto.clear = function () {\n        while (this.length) {\n            this.pop();\n        }\n    };\n    /*\\\n     * Set.splice\n     [ method ]\n     **\n     * Removes range of elements from the set\n     **\n     - index (number) position of the deletion\n     - count (number) number of element to remove\n     - insertion (object) #optional elements to insert\n     = (object) set elements that were deleted\n    \\*/\n    setproto.splice = function (index, count, insertion) {\n        index = index < 0 ? mmax(this.length + index, 0) : index;\n        count = mmax(0, mmin(this.length - index, count));\n        var tail = [],\n            todel = [],\n            args = [],\n            i;\n        for (i = 2; i < arguments.length; i++) {\n            args.push(arguments[i]);\n        }\n        for (i = 0; i < count; i++) {\n            todel.push(this[index + i]);\n        }\n        for (; i < this.length - index; i++) {\n            tail.push(this[index + i]);\n        }\n        var arglen = args.length;\n        for (i = 0; i < arglen + tail.length; i++) {\n            this.items[index + i] = this[index + i] = i < arglen ? args[i] : tail[i - arglen];\n        }\n        i = this.items.length = this.length -= count - arglen;\n        while (this[i]) {\n            delete this[i++];\n        }\n        return new Set(todel);\n    };\n    /*\\\n     * Set.exclude\n     [ method ]\n     **\n     * Removes given element from the set\n     **\n     - element (object) element to remove\n     = (boolean) `true` if object was found and removed from the set\n    \\*/\n    setproto.exclude = function (el) {\n        for (var i = 0, ii = this.length; i < ii; i++) if (this[i] == el) {\n            this.splice(i, 1);\n            return true;\n        }\n        return false;\n    };\n    /*\\\n     * Set.insertAfter\n     [ method ]\n     **\n     * Inserts set elements after given element.\n     **\n     - element (object) set will be inserted after this element\n     = (object) Set object\n    \\*/\n    setproto.insertAfter = function (el) {\n        var i = this.items.length;\n        while (i--) {\n            this.items[i].insertAfter(el);\n        }\n        return this;\n    };\n    /*\\\n     * Set.getBBox\n     [ method ]\n     **\n     * Union of all bboxes of the set. See @Element.getBBox.\n     = (object) bounding box descriptor. See @Element.getBBox.\n    \\*/\n    setproto.getBBox = function () {\n        var x = [],\n            y = [],\n            x2 = [],\n            y2 = [];\n        for (var i = this.items.length; i--;) if (!this.items[i].removed) {\n            var box = this.items[i].getBBox();\n            x.push(box.x);\n            y.push(box.y);\n            x2.push(box.x + box.width);\n            y2.push(box.y + box.height);\n        }\n        x = mmin.apply(0, x);\n        y = mmin.apply(0, y);\n        x2 = mmax.apply(0, x2);\n        y2 = mmax.apply(0, y2);\n        return {\n            x: x,\n            y: y,\n            x2: x2,\n            y2: y2,\n            width: x2 - x,\n            height: y2 - y,\n            cx: x + (x2 - x) / 2,\n            cy: y + (y2 - y) / 2\n        };\n    };\n    /*\\\n     * Set.insertAfter\n     [ method ]\n     **\n     * Creates a clone of the set.\n     **\n     = (object) New Set object\n    \\*/\n    setproto.clone = function (s) {\n        s = new Set;\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\n            s.push(this.items[i].clone());\n        }\n        return s;\n    };\n    setproto.toString = function () {\n        return \"Snap\\u2018s set\";\n    };\n    setproto.type = \"set\";\n    // export\n    /*\\\n     * Snap.Set\n     [ property ]\n     **\n     * Set constructor.\n    \\*/\n    Snap.Set = Set;\n    /*\\\n     * Snap.set\n     [ method ]\n     **\n     * Creates a set and fills it with list of arguments.\n     **\n     = (object) New Set object\n     | var r = paper.rect(0, 0, 10, 10),\n     |     s1 = Snap.set(), // empty set\n     |     s2 = Snap.set(r, paper.circle(100, 100, 20)); // prefilled set\n    \\*/\n    Snap.set = function () {\n        var set = new Set;\n        if (arguments.length) {\n            set.push.apply(set, Array.prototype.slice.call(arguments, 0));\n        }\n        return set;\n    };\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var names = {},\n        reUnit = /[%a-z]+$/i,\n        Str = String;\n    names.stroke = names.fill = \"colour\";\n    function getEmpty(item) {\n        var l = item[0];\n        switch (l.toLowerCase()) {\n            case \"t\": return [l, 0, 0];\n            case \"m\": return [l, 1, 0, 0, 1, 0, 0];\n            case \"r\": if (item.length == 4) {\n                return [l, 0, item[2], item[3]];\n            } else {\n                return [l, 0];\n            }\n            case \"s\": if (item.length == 5) {\n                return [l, 1, 1, item[3], item[4]];\n            } else if (item.length == 3) {\n                return [l, 1, 1];\n            } else {\n                return [l, 1];\n            }\n        }\n    }\n    function equaliseTransform(t1, t2, getBBox) {\n        t1 = t1 || new Snap.Matrix;\n        t2 = t2 || new Snap.Matrix;\n        t1 = Snap.parseTransformString(t1.toTransformString()) || [];\n        t2 = Snap.parseTransformString(t2.toTransformString()) || [];\n        var maxlength = Math.max(t1.length, t2.length),\n            from = [],\n            to = [],\n            i = 0, j, jj,\n            tt1, tt2;\n        for (; i < maxlength; i++) {\n            tt1 = t1[i] || getEmpty(t2[i]);\n            tt2 = t2[i] || getEmpty(tt1);\n            if (tt1[0] != tt2[0] ||\n                tt1[0].toLowerCase() == \"r\" && (tt1[2] != tt2[2] || tt1[3] != tt2[3]) ||\n                tt1[0].toLowerCase() == \"s\" && (tt1[3] != tt2[3] || tt1[4] != tt2[4])\n                ) {\n                    t1 = Snap._.transform2matrix(t1, getBBox());\n                    t2 = Snap._.transform2matrix(t2, getBBox());\n                    from = [[\"m\", t1.a, t1.b, t1.c, t1.d, t1.e, t1.f]];\n                    to = [[\"m\", t2.a, t2.b, t2.c, t2.d, t2.e, t2.f]];\n                    break;\n            }\n            from[i] = [];\n            to[i] = [];\n            for (j = 0, jj = Math.max(tt1.length, tt2.length); j < jj; j++) {\n                j in tt1 && (from[i][j] = tt1[j]);\n                j in tt2 && (to[i][j] = tt2[j]);\n            }\n        }\n        return {\n            from: path2array(from),\n            to: path2array(to),\n            f: getPath(from)\n        };\n    }\n    function getNumber(val) {\n        return val;\n    }\n    function getUnit(unit) {\n        return function (val) {\n            return +val.toFixed(3) + unit;\n        };\n    }\n    function getViewBox(val) {\n        return val.join(\" \");\n    }\n    function getColour(clr) {\n        return Snap.rgb(clr[0], clr[1], clr[2], clr[3]);\n    }\n    function getPath(path) {\n        var k = 0, i, ii, j, jj, out, a, b = [];\n        for (i = 0, ii = path.length; i < ii; i++) {\n            out = \"[\";\n            a = ['\"' + path[i][0] + '\"'];\n            for (j = 1, jj = path[i].length; j < jj; j++) {\n                a[j] = \"val[\" + k++ + \"]\";\n            }\n            out += a + \"]\";\n            b[i] = out;\n        }\n        return Function(\"val\", \"return Snap.path.toString.call([\" + b + \"])\");\n    }\n    function path2array(path) {\n        var out = [];\n        for (var i = 0, ii = path.length; i < ii; i++) {\n            for (var j = 1, jj = path[i].length; j < jj; j++) {\n                out.push(path[i][j]);\n            }\n        }\n        return out;\n    }\n    function isNumeric(obj) {\n        return isFinite(obj);\n    }\n    function arrayEqual(arr1, arr2) {\n        if (!Snap.is(arr1, \"array\") || !Snap.is(arr2, \"array\")) {\n            return false;\n        }\n        return arr1.toString() == arr2.toString();\n    }\n    Element.prototype.equal = function (name, b) {\n        return eve(\"snap.util.equal\", this, name, b).firstDefined();\n    };\n    eve.on(\"snap.util.equal\", function (name, b) {\n        var A, B, a = Str(this.attr(name) || \"\"),\n            el = this;\n        if (names[name] == \"colour\") {\n            A = Snap.color(a);\n            B = Snap.color(b);\n            return {\n                from: [A.r, A.g, A.b, A.opacity],\n                to: [B.r, B.g, B.b, B.opacity],\n                f: getColour\n            };\n        }\n        if (name == \"viewBox\") {\n            A = this.attr(name).vb.split(\" \").map(Number);\n            B = b.split(\" \").map(Number);\n            return {\n                from: A,\n                to: B,\n                f: getViewBox\n            };\n        }\n        if (name == \"transform\" || name == \"gradientTransform\" || name == \"patternTransform\") {\n            if (typeof b == \"string\") {\n                b = Str(b).replace(/\\.{3}|\\u2026/g, a);\n            }\n            a = this.matrix;\n            if (!Snap._.rgTransform.test(b)) {\n                b = Snap._.transform2matrix(Snap._.svgTransform2string(b), this.getBBox());\n            } else {\n                b = Snap._.transform2matrix(b, this.getBBox());\n            }\n            return equaliseTransform(a, b, function () {\n                return el.getBBox(1);\n            });\n        }\n        if (name == \"d\" || name == \"path\") {\n            A = Snap.path.toCubic(a, b);\n            return {\n                from: path2array(A[0]),\n                to: path2array(A[1]),\n                f: getPath(A[0])\n            };\n        }\n        if (name == \"points\") {\n            A = Str(a).split(Snap._.separator);\n            B = Str(b).split(Snap._.separator);\n            return {\n                from: A,\n                to: B,\n                f: function (val) { return val; }\n            };\n        }\n        if (isNumeric(a) && isNumeric(b)) {\n            return {\n                from: parseFloat(a),\n                to: parseFloat(b),\n                f: getNumber\n            };\n        }\n        var aUnit = a.match(reUnit),\n            bUnit = Str(b).match(reUnit);\n        if (aUnit && arrayEqual(aUnit, bUnit)) {\n            return {\n                from: parseFloat(a),\n                to: parseFloat(b),\n                f: getUnit(aUnit)\n            };\n        } else {\n            return {\n                from: this.asPX(name),\n                to: this.asPX(name, b),\n                f: getNumber\n            };\n        }\n    });\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var elproto = Element.prototype,\n    has = \"hasOwnProperty\",\n    supportsTouch = \"createTouch\" in glob.doc,\n    events = [\n        \"click\", \"dblclick\", \"mousedown\", \"mousemove\", \"mouseout\",\n        \"mouseover\", \"mouseup\", \"touchstart\", \"touchmove\", \"touchend\",\n        \"touchcancel\"\n    ],\n    touchMap = {\n        mousedown: \"touchstart\",\n        mousemove: \"touchmove\",\n        mouseup: \"touchend\"\n    },\n    getScroll = function (xy, el) {\n        var name = xy == \"y\" ? \"scrollTop\" : \"scrollLeft\",\n            doc = el && el.node ? el.node.ownerDocument : glob.doc;\n        return doc[name in doc.documentElement ? \"documentElement\" : \"body\"][name];\n    },\n    preventDefault = function () {\n        this.returnValue = false;\n    },\n    preventTouch = function () {\n        return this.originalEvent.preventDefault();\n    },\n    stopPropagation = function () {\n        this.cancelBubble = true;\n    },\n    stopTouch = function () {\n        return this.originalEvent.stopPropagation();\n    },\n    addEvent = function (obj, type, fn, element) {\n        var realName = supportsTouch && touchMap[type] ? touchMap[type] : type,\n            f = function (e) {\n                var scrollY = getScroll(\"y\", element),\n                    scrollX = getScroll(\"x\", element);\n                if (supportsTouch && touchMap[has](type)) {\n                    for (var i = 0, ii = e.targetTouches && e.targetTouches.length; i < ii; i++) {\n                        if (e.targetTouches[i].target == obj || obj.contains(e.targetTouches[i].target)) {\n                            var olde = e;\n                            e = e.targetTouches[i];\n                            e.originalEvent = olde;\n                            e.preventDefault = preventTouch;\n                            e.stopPropagation = stopTouch;\n                            break;\n                        }\n                    }\n                }\n                var x = e.clientX + scrollX,\n                    y = e.clientY + scrollY;\n                return fn.call(element, e, x, y);\n            };\n\n        if (type !== realName) {\n            obj.addEventListener(type, f, false);\n        }\n\n        obj.addEventListener(realName, f, false);\n\n        return function () {\n            if (type !== realName) {\n                obj.removeEventListener(type, f, false);\n            }\n\n            obj.removeEventListener(realName, f, false);\n            return true;\n        };\n    },\n    drag = [],\n    dragMove = function (e) {\n        var x = e.clientX,\n            y = e.clientY,\n            scrollY = getScroll(\"y\"),\n            scrollX = getScroll(\"x\"),\n            dragi,\n            j = drag.length;\n        while (j--) {\n            dragi = drag[j];\n            if (supportsTouch) {\n                var i = e.touches && e.touches.length,\n                    touch;\n                while (i--) {\n                    touch = e.touches[i];\n                    if (touch.identifier == dragi.el._drag.id || dragi.el.node.contains(touch.target)) {\n                        x = touch.clientX;\n                        y = touch.clientY;\n                        (e.originalEvent ? e.originalEvent : e).preventDefault();\n                        break;\n                    }\n                }\n            } else {\n                e.preventDefault();\n            }\n            var node = dragi.el.node,\n                o,\n                next = node.nextSibling,\n                parent = node.parentNode,\n                display = node.style.display;\n            // glob.win.opera && parent.removeChild(node);\n            // node.style.display = \"none\";\n            // o = dragi.el.paper.getElementByPoint(x, y);\n            // node.style.display = display;\n            // glob.win.opera && (next ? parent.insertBefore(node, next) : parent.appendChild(node));\n            // o && eve(\"snap.drag.over.\" + dragi.el.id, dragi.el, o);\n            x += scrollX;\n            y += scrollY;\n            eve(\"snap.drag.move.\" + dragi.el.id, dragi.move_scope || dragi.el, x - dragi.el._drag.x, y - dragi.el._drag.y, x, y, e);\n        }\n    },\n    dragUp = function (e) {\n        Snap.unmousemove(dragMove).unmouseup(dragUp);\n        var i = drag.length,\n            dragi;\n        while (i--) {\n            dragi = drag[i];\n            dragi.el._drag = {};\n            eve(\"snap.drag.end.\" + dragi.el.id, dragi.end_scope || dragi.start_scope || dragi.move_scope || dragi.el, e);\n            eve.off(\"snap.drag.*.\" + dragi.el.id);\n        }\n        drag = [];\n    };\n    /*\\\n     * Element.click\n     [ method ]\n     **\n     * Adds a click event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unclick\n     [ method ]\n     **\n     * Removes a click event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.dblclick\n     [ method ]\n     **\n     * Adds a double click event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.undblclick\n     [ method ]\n     **\n     * Removes a double click event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mousedown\n     [ method ]\n     **\n     * Adds a mousedown event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmousedown\n     [ method ]\n     **\n     * Removes a mousedown event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mousemove\n     [ method ]\n     **\n     * Adds a mousemove event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmousemove\n     [ method ]\n     **\n     * Removes a mousemove event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mouseout\n     [ method ]\n     **\n     * Adds a mouseout event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseout\n     [ method ]\n     **\n     * Removes a mouseout event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mouseover\n     [ method ]\n     **\n     * Adds a mouseover event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseover\n     [ method ]\n     **\n     * Removes a mouseover event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mouseup\n     [ method ]\n     **\n     * Adds a mouseup event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseup\n     [ method ]\n     **\n     * Removes a mouseup event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.touchstart\n     [ method ]\n     **\n     * Adds a touchstart event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchstart\n     [ method ]\n     **\n     * Removes a touchstart event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.touchmove\n     [ method ]\n     **\n     * Adds a touchmove event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchmove\n     [ method ]\n     **\n     * Removes a touchmove event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.touchend\n     [ method ]\n     **\n     * Adds a touchend event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchend\n     [ method ]\n     **\n     * Removes a touchend event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.touchcancel\n     [ method ]\n     **\n     * Adds a touchcancel event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchcancel\n     [ method ]\n     **\n     * Removes a touchcancel event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    for (var i = events.length; i--;) {\n        (function (eventName) {\n            Snap[eventName] = elproto[eventName] = function (fn, scope) {\n                if (Snap.is(fn, \"function\")) {\n                    this.events = this.events || [];\n                    this.events.push({\n                        name: eventName,\n                        f: fn,\n                        unbind: addEvent(this.node || document, eventName, fn, scope || this)\n                    });\n                } else {\n                    for (var i = 0, ii = this.events.length; i < ii; i++) if (this.events[i].name == eventName) {\n                        try {\n                            this.events[i].f.call(this);\n                        } catch (e) {}\n                    }\n                }\n                return this;\n            };\n            Snap[\"un\" + eventName] =\n            elproto[\"un\" + eventName] = function (fn) {\n                var events = this.events || [],\n                    l = events.length;\n                while (l--) if (events[l].name == eventName &&\n                               (events[l].f == fn || !fn)) {\n                    events[l].unbind();\n                    events.splice(l, 1);\n                    !events.length && delete this.events;\n                    return this;\n                }\n                return this;\n            };\n        })(events[i]);\n    }\n    /*\\\n     * Element.hover\n     [ method ]\n     **\n     * Adds hover event handlers to the element\n     - f_in (function) handler for hover in\n     - f_out (function) handler for hover out\n     - icontext (object) #optional context for hover in handler\n     - ocontext (object) #optional context for hover out handler\n     = (object) @Element\n    \\*/\n    elproto.hover = function (f_in, f_out, scope_in, scope_out) {\n        return this.mouseover(f_in, scope_in).mouseout(f_out, scope_out || scope_in);\n    };\n    /*\\\n     * Element.unhover\n     [ method ]\n     **\n     * Removes hover event handlers from the element\n     - f_in (function) handler for hover in\n     - f_out (function) handler for hover out\n     = (object) @Element\n    \\*/\n    elproto.unhover = function (f_in, f_out) {\n        return this.unmouseover(f_in).unmouseout(f_out);\n    };\n    var draggable = [];\n    // SIERRA unclear what _context_ refers to for starting, ending, moving the drag gesture.\n    // SIERRA Element.drag(): _x position of the mouse_: Where are the x/y values offset from?\n    // SIERRA Element.drag(): much of this member's doc appears to be duplicated for some reason.\n    // SIERRA Unclear about this sentence: _Additionally following drag events will be triggered: drag.start.<id> on start, drag.end.<id> on end and drag.move.<id> on every move._ Is there a global _drag_ object to which you can assign handlers keyed by an element's ID?\n    /*\\\n     * Element.drag\n     [ method ]\n     **\n     * Adds event handlers for an element's drag gesture\n     **\n     - onmove (function) handler for moving\n     - onstart (function) handler for drag start\n     - onend (function) handler for drag end\n     - mcontext (object) #optional context for moving handler\n     - scontext (object) #optional context for drag start handler\n     - econtext (object) #optional context for drag end handler\n     * Additionaly following `drag` events are triggered: `drag.start.<id>` on start, \n     * `drag.end.<id>` on end and `drag.move.<id>` on every move. When element is dragged over another element \n     * `drag.over.<id>` fires as well.\n     *\n     * Start event and start handler are called in specified context or in context of the element with following parameters:\n     o x (number) x position of the mouse\n     o y (number) y position of the mouse\n     o event (object) DOM event object\n     * Move event and move handler are called in specified context or in context of the element with following parameters:\n     o dx (number) shift by x from the start point\n     o dy (number) shift by y from the start point\n     o x (number) x position of the mouse\n     o y (number) y position of the mouse\n     o event (object) DOM event object\n     * End event and end handler are called in specified context or in context of the element with following parameters:\n     o event (object) DOM event object\n     = (object) @Element\n    \\*/\n    elproto.drag = function (onmove, onstart, onend, move_scope, start_scope, end_scope) {\n        var el = this;\n        if (!arguments.length) {\n            var origTransform;\n            return el.drag(function (dx, dy) {\n                this.attr({\n                    transform: origTransform + (origTransform ? \"T\" : \"t\") + [dx, dy]\n                });\n            }, function () {\n                origTransform = this.transform().local;\n            });\n        }\n        function start(e, x, y) {\n            (e.originalEvent || e).preventDefault();\n            el._drag.x = x;\n            el._drag.y = y;\n            el._drag.id = e.identifier;\n            !drag.length && Snap.mousemove(dragMove).mouseup(dragUp);\n            drag.push({el: el, move_scope: move_scope, start_scope: start_scope, end_scope: end_scope});\n            onstart && eve.on(\"snap.drag.start.\" + el.id, onstart);\n            onmove && eve.on(\"snap.drag.move.\" + el.id, onmove);\n            onend && eve.on(\"snap.drag.end.\" + el.id, onend);\n            eve(\"snap.drag.start.\" + el.id, start_scope || move_scope || el, x, y, e);\n        }\n        function init(e, x, y) {\n            eve(\"snap.draginit.\" + el.id, el, e, x, y);\n        }\n        eve.on(\"snap.draginit.\" + el.id, start);\n        el._drag = {};\n        draggable.push({el: el, start: start, init: init});\n        el.mousedown(init);\n        return el;\n    };\n    /*\n     * Element.onDragOver\n     [ method ]\n     **\n     * Shortcut to assign event handler for `drag.over.<id>` event, where `id` is the element's `id` (see @Element.id)\n     - f (function) handler for event, first argument would be the element you are dragging over\n    \\*/\n    // elproto.onDragOver = function (f) {\n    //     f ? eve.on(\"snap.drag.over.\" + this.id, f) : eve.unbind(\"snap.drag.over.\" + this.id);\n    // };\n    /*\\\n     * Element.undrag\n     [ method ]\n     **\n     * Removes all drag event handlers from the given element\n    \\*/\n    elproto.undrag = function () {\n        var i = draggable.length;\n        while (i--) if (draggable[i].el == this) {\n            this.unmousedown(draggable[i].init);\n            draggable.splice(i, 1);\n            eve.unbind(\"snap.drag.*.\" + this.id);\n            eve.unbind(\"snap.draginit.\" + this.id);\n        }\n        !draggable.length && Snap.unmousemove(dragMove).unmouseup(dragUp);\n        return this;\n    };\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var elproto = Element.prototype,\n        pproto = Paper.prototype,\n        rgurl = /^\\s*url\\((.+)\\)/,\n        Str = String,\n        $ = Snap._.$;\n    Snap.filter = {};\n    /*\\\n     * Paper.filter\n     [ method ]\n     **\n     * Creates a `<filter>` element\n     **\n     - filstr (string) SVG fragment of filter provided as a string\n     = (object) @Element\n     * Note: It is recommended to use filters embedded into the page inside an empty SVG element.\n     > Usage\n     | var f = paper.filter('<feGaussianBlur stdDeviation=\"2\"/>'),\n     |     c = paper.circle(10, 10, 10).attr({\n     |         filter: f\n     |     });\n    \\*/\n    pproto.filter = function (filstr) {\n        var paper = this;\n        if (paper.type != \"svg\") {\n            paper = paper.paper;\n        }\n        var f = Snap.parse(Str(filstr)),\n            id = Snap._.id(),\n            width = paper.node.offsetWidth,\n            height = paper.node.offsetHeight,\n            filter = $(\"filter\");\n        $(filter, {\n            id: id,\n            filterUnits: \"userSpaceOnUse\"\n        });\n        filter.appendChild(f.node);\n        paper.defs.appendChild(filter);\n        return new Element(filter);\n    };\n\n    eve.on(\"snap.util.getattr.filter\", function () {\n        eve.stop();\n        var p = $(this.node, \"filter\");\n        if (p) {\n            var match = Str(p).match(rgurl);\n            return match && Snap.select(match[1]);\n        }\n    });\n    eve.on(\"snap.util.attr.filter\", function (value) {\n        if (value instanceof Element && value.type == \"filter\") {\n            eve.stop();\n            var id = value.node.id;\n            if (!id) {\n                $(value.node, {id: value.id});\n                id = value.id;\n            }\n            $(this.node, {\n                filter: Snap.url(id)\n            });\n        }\n        if (!value || value == \"none\") {\n            eve.stop();\n            this.node.removeAttribute(\"filter\");\n        }\n    });\n    /*\\\n     * Snap.filter.blur\n     [ method ]\n     **\n     * Returns an SVG markup string for the blur filter\n     **\n     - x (number) amount of horizontal blur, in pixels\n     - y (number) #optional amount of vertical blur, in pixels\n     = (string) filter representation\n     > Usage\n     | var f = paper.filter(Snap.filter.blur(5, 10)),\n     |     c = paper.circle(10, 10, 10).attr({\n     |         filter: f\n     |     });\n    \\*/\n    Snap.filter.blur = function (x, y) {\n        if (x == null) {\n            x = 2;\n        }\n        var def = y == null ? x : [x, y];\n        return Snap.format('\\<feGaussianBlur stdDeviation=\"{def}\"/>', {\n            def: def\n        });\n    };\n    Snap.filter.blur.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.shadow\n     [ method ]\n     **\n     * Returns an SVG markup string for the shadow filter\n     **\n     - dx (number) #optional horizontal shift of the shadow, in pixels\n     - dy (number) #optional vertical shift of the shadow, in pixels\n     - blur (number) #optional amount of blur\n     - color (string) #optional color of the shadow\n     - opacity (number) #optional `0..1` opacity of the shadow\n     * or\n     - dx (number) #optional horizontal shift of the shadow, in pixels\n     - dy (number) #optional vertical shift of the shadow, in pixels\n     - color (string) #optional color of the shadow\n     - opacity (number) #optional `0..1` opacity of the shadow\n     * which makes blur default to `4`. Or\n     - dx (number) #optional horizontal shift of the shadow, in pixels\n     - dy (number) #optional vertical shift of the shadow, in pixels\n     - opacity (number) #optional `0..1` opacity of the shadow\n     = (string) filter representation\n     > Usage\n     | var f = paper.filter(Snap.filter.shadow(0, 2, .3)),\n     |     c = paper.circle(10, 10, 10).attr({\n     |         filter: f\n     |     });\n    \\*/\n    Snap.filter.shadow = function (dx, dy, blur, color, opacity) {\n        if (opacity == null) {\n            if (color == null) {\n                opacity = blur;\n                blur = 4;\n                color = \"#000\";\n            } else {\n                opacity = color;\n                color = blur;\n                blur = 4;\n            }\n        }\n        if (blur == null) {\n            blur = 4;\n        }\n        if (opacity == null) {\n            opacity = 1;\n        }\n        if (dx == null) {\n            dx = 0;\n            dy = 2;\n        }\n        if (dy == null) {\n            dy = dx;\n        }\n        color = Snap.color(color);\n        return Snap.format('<feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"{blur}\"/><feOffset dx=\"{dx}\" dy=\"{dy}\" result=\"offsetblur\"/><feFlood flood-color=\"{color}\"/><feComposite in2=\"offsetblur\" operator=\"in\"/><feComponentTransfer><feFuncA type=\"linear\" slope=\"{opacity}\"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in=\"SourceGraphic\"/></feMerge>', {\n            color: color,\n            dx: dx,\n            dy: dy,\n            blur: blur,\n            opacity: opacity\n        });\n    };\n    Snap.filter.shadow.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.grayscale\n     [ method ]\n     **\n     * Returns an SVG markup string for the grayscale filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.grayscale = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format('<feColorMatrix type=\"matrix\" values=\"{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0\"/>', {\n            a: 0.2126 + 0.7874 * (1 - amount),\n            b: 0.7152 - 0.7152 * (1 - amount),\n            c: 0.0722 - 0.0722 * (1 - amount),\n            d: 0.2126 - 0.2126 * (1 - amount),\n            e: 0.7152 + 0.2848 * (1 - amount),\n            f: 0.0722 - 0.0722 * (1 - amount),\n            g: 0.2126 - 0.2126 * (1 - amount),\n            h: 0.0722 + 0.9278 * (1 - amount)\n        });\n    };\n    Snap.filter.grayscale.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.sepia\n     [ method ]\n     **\n     * Returns an SVG markup string for the sepia filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.sepia = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format('<feColorMatrix type=\"matrix\" values=\"{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0\"/>', {\n            a: 0.393 + 0.607 * (1 - amount),\n            b: 0.769 - 0.769 * (1 - amount),\n            c: 0.189 - 0.189 * (1 - amount),\n            d: 0.349 - 0.349 * (1 - amount),\n            e: 0.686 + 0.314 * (1 - amount),\n            f: 0.168 - 0.168 * (1 - amount),\n            g: 0.272 - 0.272 * (1 - amount),\n            h: 0.534 - 0.534 * (1 - amount),\n            i: 0.131 + 0.869 * (1 - amount)\n        });\n    };\n    Snap.filter.sepia.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.saturate\n     [ method ]\n     **\n     * Returns an SVG markup string for the saturate filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.saturate = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format('<feColorMatrix type=\"saturate\" values=\"{amount}\"/>', {\n            amount: 1 - amount\n        });\n    };\n    Snap.filter.saturate.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.hueRotate\n     [ method ]\n     **\n     * Returns an SVG markup string for the hue-rotate filter\n     **\n     - angle (number) angle of rotation\n     = (string) filter representation\n    \\*/\n    Snap.filter.hueRotate = function (angle) {\n        angle = angle || 0;\n        return Snap.format('<feColorMatrix type=\"hueRotate\" values=\"{angle}\"/>', {\n            angle: angle\n        });\n    };\n    Snap.filter.hueRotate.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.invert\n     [ method ]\n     **\n     * Returns an SVG markup string for the invert filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.invert = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n//        <feColorMatrix type=\"matrix\" values=\"-1 0 0 0 1  0 -1 0 0 1  0 0 -1 0 1  0 0 0 1 0\" color-interpolation-filters=\"sRGB\"/>\n        return Snap.format('<feComponentTransfer><feFuncR type=\"table\" tableValues=\"{amount} {amount2}\"/><feFuncG type=\"table\" tableValues=\"{amount} {amount2}\"/><feFuncB type=\"table\" tableValues=\"{amount} {amount2}\"/></feComponentTransfer>', {\n            amount: amount,\n            amount2: 1 - amount\n        });\n    };\n    Snap.filter.invert.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.brightness\n     [ method ]\n     **\n     * Returns an SVG markup string for the brightness filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.brightness = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format('<feComponentTransfer><feFuncR type=\"linear\" slope=\"{amount}\"/><feFuncG type=\"linear\" slope=\"{amount}\"/><feFuncB type=\"linear\" slope=\"{amount}\"/></feComponentTransfer>', {\n            amount: amount\n        });\n    };\n    Snap.filter.brightness.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.contrast\n     [ method ]\n     **\n     * Returns an SVG markup string for the contrast filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.contrast = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format('<feComponentTransfer><feFuncR type=\"linear\" slope=\"{amount}\" intercept=\"{amount2}\"/><feFuncG type=\"linear\" slope=\"{amount}\" intercept=\"{amount2}\"/><feFuncB type=\"linear\" slope=\"{amount}\" intercept=\"{amount2}\"/></feComponentTransfer>', {\n            amount: amount,\n            amount2: .5 - amount / 2\n        });\n    };\n    Snap.filter.contrast.toString = function () {\n        return this();\n    };\n});\n\n// Copyright (c) 2014 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var box = Snap._.box,\n        is = Snap.is,\n        firstLetter = /^[^a-z]*([tbmlrc])/i,\n        toString = function () {\n            return \"T\" + this.dx + \",\" + this.dy;\n        };\n    /*\\\n     * Element.getAlign\n     [ method ]\n     **\n     * Returns shift needed to align the element relatively to given element.\n     * If no elements specified, parent `<svg>` container will be used.\n     - el (object) @optional alignment element\n     - way (string) one of six values: `\"top\"`, `\"middle\"`, `\"bottom\"`, `\"left\"`, `\"center\"`, `\"right\"`\n     = (object|string) Object in format `{dx: , dy: }` also has a string representation as a transformation string\n     > Usage\n     | el.transform(el.getAlign(el2, \"top\"));\n     * or\n     | var dy = el.getAlign(el2, \"top\").dy;\n    \\*/\n    Element.prototype.getAlign = function (el, way) {\n        if (way == null && is(el, \"string\")) {\n            way = el;\n            el = null;\n        }\n        el = el || this.paper;\n        var bx = el.getBBox ? el.getBBox() : box(el),\n            bb = this.getBBox(),\n            out = {};\n        way = way && way.match(firstLetter);\n        way = way ? way[1].toLowerCase() : \"c\";\n        switch (way) {\n            case \"t\":\n                out.dx = 0;\n                out.dy = bx.y - bb.y;\n            break;\n            case \"b\":\n                out.dx = 0;\n                out.dy = bx.y2 - bb.y2;\n            break;\n            case \"m\":\n                out.dx = 0;\n                out.dy = bx.cy - bb.cy;\n            break;\n            case \"l\":\n                out.dx = bx.x - bb.x;\n                out.dy = 0;\n            break;\n            case \"r\":\n                out.dx = bx.x2 - bb.x2;\n                out.dy = 0;\n            break;\n            default:\n                out.dx = bx.cx - bb.cx;\n                out.dy = 0;\n            break;\n        }\n        out.toString = toString;\n        return out;\n    };\n    /*\\\n     * Element.align\n     [ method ]\n     **\n     * Aligns the element relatively to given one via transformation.\n     * If no elements specified, parent `<svg>` container will be used.\n     - el (object) @optional alignment element\n     - way (string) one of six values: `\"top\"`, `\"middle\"`, `\"bottom\"`, `\"left\"`, `\"center\"`, `\"right\"`\n     = (object) this element\n     > Usage\n     | el.align(el2, \"top\");\n     * or\n     | el.align(\"middle\");\n    \\*/\n    Element.prototype.align = function (el, way) {\n        return this.transform(\"...\" + this.getAlign(el, way));\n    };\n});\n\n// Copyright (c) 2016 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var elproto = Element.prototype,\n        is = Snap.is,\n        Str = String,\n        has = \"hasOwnProperty\";\n    function slice(from, to, f) {\n        return function (arr) {\n            var res = arr.slice(from, to);\n            if (res.length == 1) {\n                res = res[0];\n            }\n            return f ? f(res) : res;\n        };\n    }\n    var Animation = function (attr, ms, easing, callback) {\n        if (typeof easing == \"function\" && !easing.length) {\n            callback = easing;\n            easing = mina.linear;\n        }\n        this.attr = attr;\n        this.dur = ms;\n        easing && (this.easing = easing);\n        callback && (this.callback = callback);\n    };\n    Snap._.Animation = Animation;\n    /*\\\n     * Snap.animation\n     [ method ]\n     **\n     * Creates an animation object\n     **\n     - attr (object) attributes of final destination\n     - duration (number) duration of the animation, in milliseconds\n     - easing (function) #optional one of easing functions of @mina or custom one\n     - callback (function) #optional callback function that fires when animation ends\n     = (object) animation object\n    \\*/\n    Snap.animation = function (attr, ms, easing, callback) {\n        return new Animation(attr, ms, easing, callback);\n    };\n    /*\\\n     * Element.inAnim\n     [ method ]\n     **\n     * Returns a set of animations that may be able to manipulate the current element\n     **\n     = (object) in format:\n     o {\n     o     anim (object) animation object,\n     o     mina (object) @mina object,\n     o     curStatus (number) 0..1  status of the animation: 0  just started, 1  just finished,\n     o     status (function) gets or sets the status of the animation,\n     o     stop (function) stops the animation\n     o }\n    \\*/\n    elproto.inAnim = function () {\n        var el = this,\n            res = [];\n        for (var id in el.anims) if (el.anims[has](id)) {\n            (function (a) {\n                res.push({\n                    anim: new Animation(a._attrs, a.dur, a.easing, a._callback),\n                    mina: a,\n                    curStatus: a.status(),\n                    status: function (val) {\n                        return a.status(val);\n                    },\n                    stop: function () {\n                        a.stop();\n                    }\n                });\n            }(el.anims[id]));\n        }\n        return res;\n    };\n    /*\\\n     * Snap.animate\n     [ method ]\n     **\n     * Runs generic animation of one number into another with a caring function\n     **\n     - from (number|array) number or array of numbers\n     - to (number|array) number or array of numbers\n     - setter (function) caring function that accepts one number argument\n     - duration (number) duration, in milliseconds\n     - easing (function) #optional easing function from @mina or custom\n     - callback (function) #optional callback function to execute when animation ends\n     = (object) animation object in @mina format\n     o {\n     o     id (string) animation id, consider it read-only,\n     o     duration (function) gets or sets the duration of the animation,\n     o     easing (function) easing,\n     o     speed (function) gets or sets the speed of the animation,\n     o     status (function) gets or sets the status of the animation,\n     o     stop (function) stops the animation\n     o }\n     | var rect = Snap().rect(0, 0, 10, 10);\n     | Snap.animate(0, 10, function (val) {\n     |     rect.attr({\n     |         x: val\n     |     });\n     | }, 1000);\n     | // in given context is equivalent to\n     | rect.animate({x: 10}, 1000);\n    \\*/\n    Snap.animate = function (from, to, setter, ms, easing, callback) {\n        if (typeof easing == \"function\" && !easing.length) {\n            callback = easing;\n            easing = mina.linear;\n        }\n        var now = mina.time(),\n            anim = mina(from, to, now, now + ms, mina.time, setter, easing);\n        callback && eve.once(\"mina.finish.\" + anim.id, callback);\n        return anim;\n    };\n    /*\\\n     * Element.stop\n     [ method ]\n     **\n     * Stops all the animations for the current element\n     **\n     = (Element) the current element\n    \\*/\n    elproto.stop = function () {\n        var anims = this.inAnim();\n        for (var i = 0, ii = anims.length; i < ii; i++) {\n            anims[i].stop();\n        }\n        return this;\n    };\n    /*\\\n     * Element.animate\n     [ method ]\n     **\n     * Animates the given attributes of the element\n     **\n     - attrs (object) key-value pairs of destination attributes\n     - duration (number) duration of the animation in milliseconds\n     - easing (function) #optional easing function from @mina or custom\n     - callback (function) #optional callback function that executes when the animation ends\n     = (Element) the current element\n    \\*/\n    elproto.animate = function (attrs, ms, easing, callback) {\n        if (typeof easing == \"function\" && !easing.length) {\n            callback = easing;\n            easing = mina.linear;\n        }\n        if (attrs instanceof Animation) {\n            callback = attrs.callback;\n            easing = attrs.easing;\n            ms = attrs.dur;\n            attrs = attrs.attr;\n        }\n        var fkeys = [], tkeys = [], keys = {}, from, to, f, eq,\n            el = this;\n        for (var key in attrs) if (attrs[has](key)) {\n            if (el.equal) {\n                eq = el.equal(key, Str(attrs[key]));\n                from = eq.from;\n                to = eq.to;\n                f = eq.f;\n            } else {\n                from = +el.attr(key);\n                to = +attrs[key];\n            }\n            var len = is(from, \"array\") ? from.length : 1;\n            keys[key] = slice(fkeys.length, fkeys.length + len, f);\n            fkeys = fkeys.concat(from);\n            tkeys = tkeys.concat(to);\n        }\n        var now = mina.time(),\n            anim = mina(fkeys, tkeys, now, now + ms, mina.time, function (val) {\n                var attr = {};\n                for (var key in keys) if (keys[has](key)) {\n                    attr[key] = keys[key](val);\n                }\n                el.attr(attr);\n            }, easing);\n        el.anims[anim.id] = anim;\n        anim._attrs = attrs;\n        anim._callback = callback;\n        eve(\"snap.animcreated.\" + el.id, anim);\n        eve.once(\"mina.finish.\" + anim.id, function () {\n            eve.off(\"mina.*.\" + anim.id);\n            delete el.anims[anim.id];\n            callback && callback.call(el);\n        });\n        eve.once(\"mina.stop.\" + anim.id, function () {\n            eve.off(\"mina.*.\" + anim.id);\n            delete el.anims[anim.id];\n        });\n        return el;\n    };\n});\n\n// Copyright (c) 2017 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    // Colours are from https://www.materialui.co\n    var red         = \"#ffebee#ffcdd2#ef9a9a#e57373#ef5350#f44336#e53935#d32f2f#c62828#b71c1c#ff8a80#ff5252#ff1744#d50000\",\n        pink        = \"#FCE4EC#F8BBD0#F48FB1#F06292#EC407A#E91E63#D81B60#C2185B#AD1457#880E4F#FF80AB#FF4081#F50057#C51162\",\n        purple      = \"#F3E5F5#E1BEE7#CE93D8#BA68C8#AB47BC#9C27B0#8E24AA#7B1FA2#6A1B9A#4A148C#EA80FC#E040FB#D500F9#AA00FF\",\n        deeppurple  = \"#EDE7F6#D1C4E9#B39DDB#9575CD#7E57C2#673AB7#5E35B1#512DA8#4527A0#311B92#B388FF#7C4DFF#651FFF#6200EA\",\n        indigo      = \"#E8EAF6#C5CAE9#9FA8DA#7986CB#5C6BC0#3F51B5#3949AB#303F9F#283593#1A237E#8C9EFF#536DFE#3D5AFE#304FFE\",\n        blue        = \"#E3F2FD#BBDEFB#90CAF9#64B5F6#64B5F6#2196F3#1E88E5#1976D2#1565C0#0D47A1#82B1FF#448AFF#2979FF#2962FF\",\n        lightblue   = \"#E1F5FE#B3E5FC#81D4FA#4FC3F7#29B6F6#03A9F4#039BE5#0288D1#0277BD#01579B#80D8FF#40C4FF#00B0FF#0091EA\",\n        cyan        = \"#E0F7FA#B2EBF2#80DEEA#4DD0E1#26C6DA#00BCD4#00ACC1#0097A7#00838F#006064#84FFFF#18FFFF#00E5FF#00B8D4\",\n        teal        = \"#E0F2F1#B2DFDB#80CBC4#4DB6AC#26A69A#009688#00897B#00796B#00695C#004D40#A7FFEB#64FFDA#1DE9B6#00BFA5\",\n        green       = \"#E8F5E9#C8E6C9#A5D6A7#81C784#66BB6A#4CAF50#43A047#388E3C#2E7D32#1B5E20#B9F6CA#69F0AE#00E676#00C853\",\n        lightgreen  = \"#F1F8E9#DCEDC8#C5E1A5#AED581#9CCC65#8BC34A#7CB342#689F38#558B2F#33691E#CCFF90#B2FF59#76FF03#64DD17\",\n        lime        = \"#F9FBE7#F0F4C3#E6EE9C#DCE775#D4E157#CDDC39#C0CA33#AFB42B#9E9D24#827717#F4FF81#EEFF41#C6FF00#AEEA00\",\n        yellow      = \"#FFFDE7#FFF9C4#FFF59D#FFF176#FFEE58#FFEB3B#FDD835#FBC02D#F9A825#F57F17#FFFF8D#FFFF00#FFEA00#FFD600\",\n        amber       = \"#FFF8E1#FFECB3#FFE082#FFD54F#FFCA28#FFC107#FFB300#FFA000#FF8F00#FF6F00#FFE57F#FFD740#FFC400#FFAB00\",\n        orange      = \"#FFF3E0#FFE0B2#FFCC80#FFB74D#FFA726#FF9800#FB8C00#F57C00#EF6C00#E65100#FFD180#FFAB40#FF9100#FF6D00\",\n        deeporange  = \"#FBE9E7#FFCCBC#FFAB91#FF8A65#FF7043#FF5722#F4511E#E64A19#D84315#BF360C#FF9E80#FF6E40#FF3D00#DD2C00\",\n        brown       = \"#EFEBE9#D7CCC8#BCAAA4#A1887F#8D6E63#795548#6D4C41#5D4037#4E342E#3E2723\",\n        grey        = \"#FAFAFA#F5F5F5#EEEEEE#E0E0E0#BDBDBD#9E9E9E#757575#616161#424242#212121\",\n        bluegrey    = \"#ECEFF1#CFD8DC#B0BEC5#90A4AE#78909C#607D8B#546E7A#455A64#37474F#263238\";\n    /*\\\n     * Snap.mui\n     [ property ]\n     **\n     * Contain Material UI colours.\n     | Snap().rect(0, 0, 10, 10).attr({fill: Snap.mui.deeppurple, stroke: Snap.mui.amber[600]});\n     # For colour reference: <a href=\"https://www.materialui.co\">https://www.materialui.co</a>.\n    \\*/\n    Snap.mui = {};\n    /*\\\n     * Snap.flat\n     [ property ]\n     **\n     * Contain Flat UI colours.\n     | Snap().rect(0, 0, 10, 10).attr({fill: Snap.flat.carrot, stroke: Snap.flat.wetasphalt});\n     # For colour reference: <a href=\"https://www.materialui.co\">https://www.materialui.co</a>.\n    \\*/\n    Snap.flat = {};\n    function saveColor(colors) {\n        colors = colors.split(/(?=#)/);\n        var color = new String(colors[5]);\n        color[50] = colors[0];\n        color[100] = colors[1];\n        color[200] = colors[2];\n        color[300] = colors[3];\n        color[400] = colors[4];\n        color[500] = colors[5];\n        color[600] = colors[6];\n        color[700] = colors[7];\n        color[800] = colors[8];\n        color[900] = colors[9];\n        if (colors[10]) {\n            color.A100 = colors[10];\n            color.A200 = colors[11];\n            color.A400 = colors[12];\n            color.A700 = colors[13];\n        }\n        return color;\n    }\n    Snap.mui.red = saveColor(red);\n    Snap.mui.pink = saveColor(pink);\n    Snap.mui.purple = saveColor(purple);\n    Snap.mui.deeppurple = saveColor(deeppurple);\n    Snap.mui.indigo = saveColor(indigo);\n    Snap.mui.blue = saveColor(blue);\n    Snap.mui.lightblue = saveColor(lightblue);\n    Snap.mui.cyan = saveColor(cyan);\n    Snap.mui.teal = saveColor(teal);\n    Snap.mui.green = saveColor(green);\n    Snap.mui.lightgreen = saveColor(lightgreen);\n    Snap.mui.lime = saveColor(lime);\n    Snap.mui.yellow = saveColor(yellow);\n    Snap.mui.amber = saveColor(amber);\n    Snap.mui.orange = saveColor(orange);\n    Snap.mui.deeporange = saveColor(deeporange);\n    Snap.mui.brown = saveColor(brown);\n    Snap.mui.grey = saveColor(grey);\n    Snap.mui.bluegrey = saveColor(bluegrey);\n    Snap.flat.turquoise = \"#1abc9c\";\n    Snap.flat.greensea = \"#16a085\";\n    Snap.flat.sunflower = \"#f1c40f\";\n    Snap.flat.orange = \"#f39c12\";\n    Snap.flat.emerland = \"#2ecc71\";\n    Snap.flat.nephritis = \"#27ae60\";\n    Snap.flat.carrot = \"#e67e22\";\n    Snap.flat.pumpkin = \"#d35400\";\n    Snap.flat.peterriver = \"#3498db\";\n    Snap.flat.belizehole = \"#2980b9\";\n    Snap.flat.alizarin = \"#e74c3c\";\n    Snap.flat.pomegranate = \"#c0392b\";\n    Snap.flat.amethyst = \"#9b59b6\";\n    Snap.flat.wisteria = \"#8e44ad\";\n    Snap.flat.clouds = \"#ecf0f1\";\n    Snap.flat.silver = \"#bdc3c7\";\n    Snap.flat.wetasphalt = \"#34495e\";\n    Snap.flat.midnightblue = \"#2c3e50\";\n    Snap.flat.concrete = \"#95a5a6\";\n    Snap.flat.asbestos = \"#7f8c8d\";\n    /*\\\n     * Snap.importMUIColors\n     [ method ]\n     **\n     * Imports Material UI colours into global object.\n     | Snap.importMUIColors();\n     | Snap().rect(0, 0, 10, 10).attr({fill: deeppurple, stroke: amber[600]});\n     # For colour reference: <a href=\"https://www.materialui.co\">https://www.materialui.co</a>.\n    \\*/\n    Snap.importMUIColors = function () {\n        for (var color in Snap.mui) {\n            if (Snap.mui.hasOwnProperty(color)) {\n                window[color] = Snap.mui[color];\n            }\n        }\n    };\n});\n\nmodule.exports = Snap\n","// Copyright (c) 2017 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//  \\\\\n//  Eve 0.5.4 - JavaScript Events Library                       \\\\\n//  \\\\\n//  Author Dmitry Baranovskiy (http://dmitry.baranovskiy.com/)  \\\\\n//  \\\\\n\n(function (glob) {\n    var version = \"0.5.4\",\n        has = \"hasOwnProperty\",\n        separator = /[\\.\\/]/,\n        comaseparator = /\\s*,\\s*/,\n        wildcard = \"*\",\n        numsort = function (a, b) {\n            return a - b;\n        },\n        current_event,\n        stop,\n        events = {n: {}},\n        firstDefined = function () {\n            for (var i = 0, ii = this.length; i < ii; i++) {\n                if (typeof this[i] != \"undefined\") {\n                    return this[i];\n                }\n            }\n        },\n        lastDefined = function () {\n            var i = this.length;\n            while (--i) {\n                if (typeof this[i] != \"undefined\") {\n                    return this[i];\n                }\n            }\n        },\n        objtos = Object.prototype.toString,\n        Str = String,\n        isArray = Array.isArray || function (ar) {\n            return ar instanceof Array || objtos.call(ar) == \"[object Array]\";\n        },\n    /*\\\n     * eve\n     [ method ]\n\n     * Fires event with given `name`, given scope and other parameters.\n\n     - name (string) name of the *event*, dot (`.`) or slash (`/`) separated\n     - scope (object) context for the event handlers\n     - varargs (...) the rest of arguments will be sent to event handlers\n\n     = (object) array of returned values from the listeners. Array has two methods `.firstDefined()` and `.lastDefined()` to get first or last not `undefined` value.\n    \\*/\n        eve = function (name, scope) {\n            var oldstop = stop,\n                args = Array.prototype.slice.call(arguments, 2),\n                listeners = eve.listeners(name),\n                z = 0,\n                l,\n                indexed = [],\n                queue = {},\n                out = [],\n                ce = current_event;\n            out.firstDefined = firstDefined;\n            out.lastDefined = lastDefined;\n            current_event = name;\n            stop = 0;\n            for (var i = 0, ii = listeners.length; i < ii; i++) if (\"zIndex\" in listeners[i]) {\n                indexed.push(listeners[i].zIndex);\n                if (listeners[i].zIndex < 0) {\n                    queue[listeners[i].zIndex] = listeners[i];\n                }\n            }\n            indexed.sort(numsort);\n            while (indexed[z] < 0) {\n                l = queue[indexed[z++]];\n                out.push(l.apply(scope, args));\n                if (stop) {\n                    stop = oldstop;\n                    return out;\n                }\n            }\n            for (i = 0; i < ii; i++) {\n                l = listeners[i];\n                if (\"zIndex\" in l) {\n                    if (l.zIndex == indexed[z]) {\n                        out.push(l.apply(scope, args));\n                        if (stop) {\n                            break;\n                        }\n                        do {\n                            z++;\n                            l = queue[indexed[z]];\n                            l && out.push(l.apply(scope, args));\n                            if (stop) {\n                                break;\n                            }\n                        } while (l)\n                    } else {\n                        queue[l.zIndex] = l;\n                    }\n                } else {\n                    out.push(l.apply(scope, args));\n                    if (stop) {\n                        break;\n                    }\n                }\n            }\n            stop = oldstop;\n            current_event = ce;\n            return out;\n        };\n    // Undocumented. Debug only.\n    eve._events = events;\n    /*\\\n     * eve.listeners\n     [ method ]\n\n     * Internal method which gives you array of all event handlers that will be triggered by the given `name`.\n\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated\n\n     = (array) array of event handlers\n    \\*/\n    eve.listeners = function (name) {\n        var names = isArray(name) ? name : name.split(separator),\n            e = events,\n            item,\n            items,\n            k,\n            i,\n            ii,\n            j,\n            jj,\n            nes,\n            es = [e],\n            out = [];\n        for (i = 0, ii = names.length; i < ii; i++) {\n            nes = [];\n            for (j = 0, jj = es.length; j < jj; j++) {\n                e = es[j].n;\n                items = [e[names[i]], e[wildcard]];\n                k = 2;\n                while (k--) {\n                    item = items[k];\n                    if (item) {\n                        nes.push(item);\n                        out = out.concat(item.f || []);\n                    }\n                }\n            }\n            es = nes;\n        }\n        return out;\n    };\n    /*\\\n     * eve.separator\n     [ method ]\n\n     * If for some reasons you dont like default separators (`.` or `/`) you can specify yours\n     * here. Be aware that if you pass a string longer than one character it will be treated as\n     * a list of characters.\n\n     - separator (string) new separator. Empty string resets to default: `.` or `/`.\n    \\*/\n    eve.separator = function (sep) {\n        if (sep) {\n            sep = Str(sep).replace(/(?=[\\.\\^\\]\\[\\-])/g, \"\\\\\");\n            sep = \"[\" + sep + \"]\";\n            separator = new RegExp(sep);\n        } else {\n            separator = /[\\.\\/]/;\n        }\n    };\n    /*\\\n     * eve.on\n     [ method ]\n     **\n     * Binds given event handler with a given name. You can use wildcards `*` for the names:\n     | eve.on(\"*.under.*\", f);\n     | eve(\"mouse.under.floor\"); // triggers f\n     * Use @eve to trigger the listener.\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n     **\n     - name (array) if you dont want to use separators, you can use array of strings\n     - f (function) event handler function\n     **\n     = (function) returned function accepts a single numeric parameter that represents z-index of the handler. It is an optional feature and only used when you need to ensure that some subset of handlers will be invoked in a given order, despite of the order of assignment.\n     > Example:\n     | eve.on(\"mouse\", eatIt)(2);\n     | eve.on(\"mouse\", scream);\n     | eve.on(\"mouse\", catchIt)(1);\n     * This will ensure that `catchIt` function will be called before `eatIt`.\n     *\n     * If you want to put your handler before non-indexed handlers, specify a negative value.\n     * Note: I assume most of the time you dont need to worry about z-index, but its nice to have this feature just in case.\n    \\*/\n    eve.on = function (name, f) {\n        if (typeof f != \"function\") {\n            return function () {};\n        }\n        var names = isArray(name) ? isArray(name[0]) ? name : [name] : Str(name).split(comaseparator);\n        for (var i = 0, ii = names.length; i < ii; i++) {\n            (function (name) {\n                var names = isArray(name) ? name : Str(name).split(separator),\n                    e = events,\n                    exist;\n                for (var i = 0, ii = names.length; i < ii; i++) {\n                    e = e.n;\n                    e = e.hasOwnProperty(names[i]) && e[names[i]] || (e[names[i]] = {n: {}});\n                }\n                e.f = e.f || [];\n                for (i = 0, ii = e.f.length; i < ii; i++) if (e.f[i] == f) {\n                    exist = true;\n                    break;\n                }\n                !exist && e.f.push(f);\n            }(names[i]));\n        }\n        return function (zIndex) {\n            if (+zIndex == +zIndex) {\n                f.zIndex = +zIndex;\n            }\n        };\n    };\n    /*\\\n     * eve.f\n     [ method ]\n     **\n     * Returns function that will fire given event with optional arguments.\n     * Arguments that will be passed to the result function will be also\n     * concated to the list of final arguments.\n     | el.onclick = eve.f(\"click\", 1, 2);\n     | eve.on(\"click\", function (a, b, c) {\n     |     console.log(a, b, c); // 1, 2, [event object]\n     | });\n     - event (string) event name\n     - varargs () and any other arguments\n     = (function) possible event handler function\n    \\*/\n    eve.f = function (event) {\n        var attrs = [].slice.call(arguments, 1);\n        return function () {\n            eve.apply(null, [event, null].concat(attrs).concat([].slice.call(arguments, 0)));\n        };\n    };\n    /*\\\n     * eve.stop\n     [ method ]\n     **\n     * Is used inside an event handler to stop the event, preventing any subsequent listeners from firing.\n    \\*/\n    eve.stop = function () {\n        stop = 1;\n    };\n    /*\\\n     * eve.nt\n     [ method ]\n     **\n     * Could be used inside event handler to figure out actual name of the event.\n     **\n     - subname (string) #optional subname of the event\n     **\n     = (string) name of the event, if `subname` is not specified\n     * or\n     = (boolean) `true`, if current events name contains `subname`\n    \\*/\n    eve.nt = function (subname) {\n        var cur = isArray(current_event) ? current_event.join(\".\") : current_event;\n        if (subname) {\n            return new RegExp(\"(?:\\\\.|\\\\/|^)\" + subname + \"(?:\\\\.|\\\\/|$)\").test(cur);\n        }\n        return cur;\n    };\n    /*\\\n     * eve.nts\n     [ method ]\n     **\n     * Could be used inside event handler to figure out actual name of the event.\n     **\n     **\n     = (array) names of the event\n    \\*/\n    eve.nts = function () {\n        return isArray(current_event) ? current_event : current_event.split(separator);\n    };\n    /*\\\n     * eve.off\n     [ method ]\n     **\n     * Removes given function from the list of event listeners assigned to given name.\n     * If no arguments specified all the events will be cleared.\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n    \\*/\n    /*\\\n     * eve.unbind\n     [ method ]\n     **\n     * See @eve.off\n    \\*/\n    eve.off = eve.unbind = function (name, f) {\n        if (!name) {\n            eve._events = events = {n: {}};\n            return;\n        }\n        var names = isArray(name) ? isArray(name[0]) ? name : [name] : Str(name).split(comaseparator);\n        if (names.length > 1) {\n            for (var i = 0, ii = names.length; i < ii; i++) {\n                eve.off(names[i], f);\n            }\n            return;\n        }\n        names = isArray(name) ? name : Str(name).split(separator);\n        var e,\n            key,\n            splice,\n            i, ii, j, jj,\n            cur = [events],\n            inodes = [];\n        for (i = 0, ii = names.length; i < ii; i++) {\n            for (j = 0; j < cur.length; j += splice.length - 2) {\n                splice = [j, 1];\n                e = cur[j].n;\n                if (names[i] != wildcard) {\n                    if (e[names[i]]) {\n                        splice.push(e[names[i]]);\n                        inodes.unshift({\n                            n: e,\n                            name: names[i]\n                        });\n                    }\n                } else {\n                    for (key in e) if (e[has](key)) {\n                        splice.push(e[key]);\n                        inodes.unshift({\n                            n: e,\n                            name: key\n                        });\n                    }\n                }\n                cur.splice.apply(cur, splice);\n            }\n        }\n        for (i = 0, ii = cur.length; i < ii; i++) {\n            e = cur[i];\n            while (e.n) {\n                if (f) {\n                    if (e.f) {\n                        for (j = 0, jj = e.f.length; j < jj; j++) if (e.f[j] == f) {\n                            e.f.splice(j, 1);\n                            break;\n                        }\n                        !e.f.length && delete e.f;\n                    }\n                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {\n                        var funcs = e.n[key].f;\n                        for (j = 0, jj = funcs.length; j < jj; j++) if (funcs[j] == f) {\n                            funcs.splice(j, 1);\n                            break;\n                        }\n                        !funcs.length && delete e.n[key].f;\n                    }\n                } else {\n                    delete e.f;\n                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {\n                        delete e.n[key].f;\n                    }\n                }\n                e = e.n;\n            }\n        }\n        // prune inner nodes in path\n        prune: for (i = 0, ii = inodes.length; i < ii; i++) {\n            e = inodes[i];\n            for (key in e.n[e.name].f) {\n                // not empty (has listeners)\n                continue prune;\n            }\n            for (key in e.n[e.name].n) {\n                // not empty (has children)\n                continue prune;\n            }\n            // is empty\n            delete e.n[e.name];\n        }\n    };\n    /*\\\n     * eve.once\n     [ method ]\n     **\n     * Binds given event handler with a given name to only run once then unbind itself.\n     | eve.once(\"login\", f);\n     | eve(\"login\"); // triggers f\n     | eve(\"login\"); // no listeners\n     * Use @eve to trigger the listener.\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n     **\n     = (function) same return function as @eve.on\n    \\*/\n    eve.once = function (name, f) {\n        var f2 = function () {\n            eve.off(name, f2);\n            return f.apply(this, arguments);\n        };\n        return eve.on(name, f2);\n    };\n    /*\\\n     * eve.version\n     [ property (string) ]\n     **\n     * Current version of the library.\n    \\*/\n    eve.version = version;\n    eve.toString = function () {\n        return \"You are running Eve \" + version;\n    };\n    glob.eve = eve;\n    typeof module != \"undefined\" && module.exports ? module.exports = eve : typeof define === \"function\" && define.amd ? define(\"eve\", [], function () { return eve; }) : glob.eve = eve;\n})(typeof window != \"undefined\" ? window : this);\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _snapsvgImporter = require('../snapsvgImporter');\n\nvar _snapsvgImporter2 = _interopRequireDefault(_snapsvgImporter);\n\nvar _menuFactory = require('../menuFactory');\n\nvar _menuFactory2 = _interopRequireDefault(_menuFactory);\n\nvar _utils = require('../utils');\n\nvar BUBBLE_WIDTH = 140;\n\nvar styles = {\n  svg: {\n    lib: _snapsvgImporter2['default'],\n    pathInitial: 'M-7.312,0H0c0,0,0,113.839,0,400c0,264.506,0,400,0,400h-7.312V0z',\n    pathOpen: 'M-7.312,0H15c0,0,66,113.339,66,399.5C81,664.006,15,800,15,800H-7.312V0z;M-7.312,0H100c0,0,0,113.839,0,400c0,264.506,0,400,0,400H-7.312V0z',\n    animate: function animate(path) {\n      var pos = 0;\n      var steps = this.pathOpen.split(';');\n      var stepsTotal = steps.length;\n      var mina = window.mina;\n\n      var nextStep = function nextStep() {\n        if (pos > stepsTotal - 1) return;\n\n        path.animate({ path: steps[pos] }, pos === 0 ? 400 : 500, pos === 0 ? mina.easein : mina.elastic, function () {\n          nextStep();\n        });\n\n        pos++;\n      };\n\n      nextStep();\n    }\n  },\n\n  morphShape: function morphShape(isOpen, width, right) {\n    return {\n      position: 'absolute',\n      width: '100%',\n      height: '100%',\n      right: right ? 'inherit' : 0,\n      left: right ? 0 : 'inherit',\n      MozTransform: right ? 'rotateY(180deg)' : 'rotateY(0deg)',\n      MsTransform: right ? 'rotateY(180deg)' : 'rotateY(0deg)',\n      OTransform: right ? 'rotateY(180deg)' : 'rotateY(0deg)',\n      WebkitTransform: right ? 'rotateY(180deg)' : 'rotateY(0deg)',\n      transform: right ? 'rotateY(180deg)' : 'rotateY(0deg)'\n    };\n  },\n\n  menuWrap: function menuWrap(isOpen, width, right) {\n    return {\n      MozTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      MsTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      OTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      WebkitTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      transform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      transition: isOpen ? 'transform 0.4s 0s' : 'transform 0.4s'\n    };\n  },\n\n  menu: function menu(isOpen, width, right) {\n    var finalWidth = (0, _utils.pxToNum)(width) - BUBBLE_WIDTH;\n    return {\n      position: 'fixed',\n      MozTransform: isOpen ? '' : right ? 'translate3d(' + finalWidth + ', 0, 0)' : 'translate3d(-' + finalWidth + ', 0, 0)',\n      MsTransform: isOpen ? '' : right ? 'translate3d(' + finalWidth + ', 0, 0)' : 'translate3d(-' + finalWidth + ', 0, 0)',\n      OTransform: isOpen ? '' : right ? 'translate3d(' + finalWidth + ', 0, 0)' : 'translate3d(-' + finalWidth + ', 0, 0)',\n      WebkitTransform: isOpen ? '' : right ? 'translate3d(' + finalWidth + ', 0, 0)' : 'translate3d(-' + finalWidth + ', 0, 0)',\n      transform: isOpen ? '' : right ? 'translate3d(' + finalWidth + ', 0, 0)' : 'translate3d(-' + finalWidth + ', 0, 0)',\n      transition: isOpen ? 'opacity 0.1s 0.4s cubic-bezier(.17, .67, .1, 1.27), transform 0.1s 0.4s cubic-bezier(.17, .67, .1, 1.27)' : 'opacity 0s 0.3s cubic-bezier(.17, .67, .1, 1.27), transform 0s 0.3s cubic-bezier(.17, .67, .1, 1.27)',\n      opacity: isOpen ? 1 : 0\n    };\n  },\n\n  item: function item(isOpen, width, right, nthChild) {\n    var finalWidth = (0, _utils.pxToNum)(width) - BUBBLE_WIDTH;\n    return {\n      MozTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(' + finalWidth + ', 0, 0)' : 'translate3d(-' + finalWidth + ', 0, 0)',\n      MsTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(' + finalWidth + ', 0, 0)' : 'translate3d(-' + finalWidth + ', 0, 0)',\n      OTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(' + finalWidth + ', 0, 0)' : 'translate3d(-' + finalWidth + ', 0, 0)',\n      WebkitTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(' + finalWidth + ', 0, 0)' : 'translate3d(-' + finalWidth + ', 0, 0)',\n      transform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(' + finalWidth + ', 0, 0)' : 'translate3d(-' + finalWidth + ', 0, 0)',\n      transition: isOpen ? 'opacity 0.3s 0.4s, transform 0.3s 0.4s' : 'opacity 0s 0.3s cubic-bezier(.17, .67, .1, 1.27), transform 0s 0.3s cubic-bezier(.17, .67, .1, 1.27)',\n      opacity: isOpen ? 1 : 0\n    };\n  },\n\n  closeButton: function closeButton(isOpen, width, right) {\n    var finalWidth = (0, _utils.pxToNum)(width) - BUBBLE_WIDTH;\n    return {\n      MozTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(' + finalWidth + ', 0, 0)' : 'translate3d(-' + finalWidth + ', 0, 0)',\n      MsTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(' + finalWidth + ', 0, 0)' : 'translate3d(-' + finalWidth + ', 0, 0)',\n      OTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(' + finalWidth + ', 0, 0)' : 'translate3d(-' + finalWidth + ', 0, 0)',\n      WebkitTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(' + finalWidth + ', 0, 0)' : 'translate3d(-' + finalWidth + ', 0, 0)',\n      transform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(' + finalWidth + ', 0, 0)' : 'translate3d(-' + finalWidth + ', 0, 0)',\n      transition: isOpen ? 'opacity 0.3s 0.4s cubic-bezier(.17, .67, .1, 1.27), transform 0.3s 0.4s cubic-bezier(.17, .67, .1, 1.27)' : 'opacity 0s 0.3s cubic-bezier(.17, .67, .1, 1.27), transform 0s 0.3s cubic-bezier(.17, .67, .1, 1.27)',\n      opacity: isOpen ? 1 : 0\n    };\n  }\n};\n\nexports['default'] = (0, _menuFactory2['default'])(styles);\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _menuFactory = require('../menuFactory');\n\nvar _menuFactory2 = _interopRequireDefault(_menuFactory);\n\nvar styles = {\n  pageWrap: function pageWrap(isOpen, width, right) {\n    return {\n      MozTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      MsTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      OTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      WebkitTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      transform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      transition: 'all 0.5s'\n    };\n  },\n\n  outerContainer: function outerContainer(isOpen) {\n    return {\n      overflow: isOpen ? '' : 'hidden'\n    };\n  }\n};\n\nexports['default'] = (0, _menuFactory2['default'])(styles);\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _menuFactory = require('../menuFactory');\n\nvar _menuFactory2 = _interopRequireDefault(_menuFactory);\n\nvar styles = {\n  pageWrap: function pageWrap(isOpen, width, right) {\n    return {\n      MozTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0) rotateY(15deg)' : 'translate3d(' + width + ', 0, 0) rotateY(-15deg)',\n      MsTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0) rotateY(15deg)' : 'translate3d(' + width + ', 0, 0) rotateY(-15deg)',\n      OTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0) rotateY(15deg)' : 'translate3d(' + width + ', 0, 0) rotateY(-15deg)',\n      WebkitTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0) rotateY(15deg)' : 'translate3d(' + width + ', 0, 0) rotateY(-15deg)',\n      transform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0) rotateY(15deg)' : 'translate3d(' + width + ', 0, 0) rotateY(-15deg)',\n      transformOrigin: right ? '100% 50%' : '0% 50%',\n      transformStyle: 'preserve-3d',\n      transition: 'all 0.5s'\n    };\n  },\n\n  outerContainer: function outerContainer(isOpen) {\n    return {\n      perspective: '1500px',\n      overflow: isOpen ? '' : 'hidden'\n    };\n  }\n};\n\nexports['default'] = (0, _menuFactory2['default'])(styles);\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _menuFactory = require('../menuFactory');\n\nvar _menuFactory2 = _interopRequireDefault(_menuFactory);\n\nvar styles = {\n  pageWrap: function pageWrap(isOpen, width) {\n    return {\n      MozTransform: isOpen ? '' : 'translate3d(0, 0, -' + width + ')',\n      MsTransform: isOpen ? '' : 'translate3d(0, 0, -' + width + ')',\n      OTransform: isOpen ? '' : 'translate3d(0, 0, -' + width + ')',\n      WebkitTransform: isOpen ? '' : 'translate3d(0, 0, -' + width + ')',\n      transform: isOpen ? '' : 'translate3d(0, 0, -' + width + ')',\n      transformOrigin: '100%',\n      transformStyle: 'preserve-3d',\n      transition: 'all 0.5s'\n    };\n  },\n\n  outerContainer: function outerContainer() {\n    return {\n      perspective: '1500px'\n    };\n  }\n};\n\nexports['default'] = (0, _menuFactory2['default'])(styles);\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _menuFactory = require('../menuFactory');\n\nvar _menuFactory2 = _interopRequireDefault(_menuFactory);\n\nvar styles = {\n  pageWrap: function pageWrap(isOpen, width, right) {\n    return {\n      MozTransform: isOpen ? '' : right ? 'translate3d(-100px, 0, -600px) rotateY(20deg)' : 'translate3d(100px, 0, -600px) rotateY(-20deg)',\n      MsTransform: isOpen ? '' : right ? 'translate3d(-100px, 0, -600px) rotateY(20deg)' : 'translate3d(100px, 0, -600px) rotateY(-20deg)',\n      OTransform: isOpen ? '' : right ? 'translate3d(-100px, 0, -600px) rotateY(20deg)' : 'translate3d(100px, 0, -600px) rotateY(-20deg)',\n      WebkitTransform: isOpen ? '' : right ? 'translate3d(-100px, 0, -600px) rotateY(20deg)' : 'translate3d(100px, 0, -600px) rotateY(-20deg)',\n      transform: isOpen ? '' : right ? 'translate3d(-100px, 0, -600px) rotateY(20deg)' : 'translate3d(100px, 0, -600px) rotateY(-20deg)',\n      transformStyle: 'preserve-3d',\n      transition: 'all 0.5s',\n      overflow: isOpen ? '' : 'hidden'\n    };\n  },\n\n  outerContainer: function outerContainer(isOpen) {\n    return {\n      perspective: '1500px',\n      overflow: isOpen ? '' : 'hidden'\n    };\n  }\n};\n\nexports['default'] = (0, _menuFactory2['default'])(styles);\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _menuFactory = require('../menuFactory');\n\nvar _menuFactory2 = _interopRequireDefault(_menuFactory);\n\nvar styles = {\n  menuWrap: function menuWrap(isOpen) {\n    return {\n      MozTransform: isOpen ? '' : 'translate3d(0, -100%, 0)',\n      MsTransform: isOpen ? '' : 'translate3d(0, -100%, 0)',\n      OTransform: isOpen ? '' : 'translate3d(0, -100%, 0)',\n      WebkitTransform: isOpen ? '' : 'translate3d(0, -100%, 0)',\n      transform: isOpen ? '' : 'translate3d(0, -100%, 0)',\n      transition: 'all 0.5s ease-in-out'\n    };\n  },\n\n  pageWrap: function pageWrap(isOpen, width, right) {\n    return {\n      MozTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      MsTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      OTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      WebkitTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      transform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      transition: 'all 0.5s'\n    };\n  },\n\n  outerContainer: function outerContainer(isOpen) {\n    return {\n      perspective: '1500px',\n      perspectiveOrigin: '0% 50%',\n      overflow: isOpen ? '' : 'hidden'\n    };\n  }\n};\n\nexports['default'] = (0, _menuFactory2['default'])(styles);\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _menuFactory = require('../menuFactory');\n\nvar _menuFactory2 = _interopRequireDefault(_menuFactory);\n\nvar styles = {\n  menuWrap: function menuWrap(isOpen, width, right) {\n    return {\n      MozTransform: 'translate3d(0, 0, 0)',\n      MsTransform: 'translate3d(0, 0, 0)',\n      OTransform: 'translate3d(0, 0, 0)',\n      WebkitTransform: 'translate3d(0, 0, 0)',\n      transform: 'translate3d(0, 0, 0)',\n      zIndex: isOpen ? 1000 : -1\n    };\n  },\n\n  overlay: function overlay(isOpen, width, right) {\n    return {\n      zIndex: 1400,\n      MozTransform: isOpen ? right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)' : 'translate3d(0, 0, 0)',\n      MsTransform: isOpen ? right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)' : 'translate3d(0, 0, 0)',\n      OTransform: isOpen ? right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)' : 'translate3d(0, 0, 0)',\n      WebkitTransform: isOpen ? right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)' : 'translate3d(0, 0, 0)',\n      transform: isOpen ? right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)' : 'translate3d(0, 0, 0)',\n      transition: 'all 0.5s',\n      visibility: isOpen ? 'visible' : 'hidden'\n    };\n  },\n\n  pageWrap: function pageWrap(isOpen, width, right) {\n    return {\n      MozTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      MsTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      OTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      WebkitTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      transform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      transition: 'all 0.5s',\n      zIndex: 1200,\n      position: 'relative'\n    };\n  },\n\n  burgerIcon: function burgerIcon(isOpen, width, right) {\n    return {\n      MozTransform: isOpen ? right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)' : 'translate3d(0, 0, 0)',\n      MsTransform: isOpen ? right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)' : 'translate3d(0, 0, 0)',\n      OTransform: isOpen ? right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)' : 'translate3d(0, 0, 0)',\n      WebkitTransform: isOpen ? right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)' : 'translate3d(0, 0, 0)',\n      transform: isOpen ? right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)' : 'translate3d(0, 0, 0)',\n      transition: 'all 0.1s',\n      position: 'relative',\n      zIndex: 1300\n    };\n  },\n\n  outerContainer: function outerContainer(isOpen) {\n    return {\n      overflow: isOpen ? '' : 'hidden'\n    };\n  }\n};\n\nexports['default'] = (0, _menuFactory2['default'])(styles);\nmodule.exports = exports['default'];","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {toByteArray} from 'base64-js';\n\n/**\n * The Download component opens a download dialog when the data property (dict of filename, content, and type) changes.\n */\nexport default class Download extends Component {\n\n    componentDidUpdate(prevProps) {\n        const {data} = this.props;\n        if(data && data !== prevProps.data){\n            const mime_type = data.mime_type? data.mime_type : this.props.mime_type;\n            const base64 = data.base64? data.base64 : this.props.base64;\n            const content = base64? toByteArray(data.content) : data.content;\n            // Construct the blob.\n            const blob = new Blob([content], {type: mime_type});\n            const filename = data.filename;\n            // Save file function, from https://stackoverflow.com/questions/19327749/javascript-blob-filename-without-link\n            if (window.navigator.msSaveOrOpenBlob) {\n                window.navigator.msSaveOrOpenBlob(blob, filename);\n            } else {\n                const a = document.createElement('a');\n                document.body.appendChild(a);\n                const url = window.URL.createObjectURL(blob);\n                a.href = url;\n                a.download = filename;\n                a.click();\n                setTimeout(() => {\n                    window.URL.revokeObjectURL(url);\n                    document.body.removeChild(a);\n                }, 0)\n            }\n        }\n    }\n\n    render() {\n        return (null);\n    }\n}\n\nDownload.defaultProps = {\n    mime_type: \"text/plain\",\n    base64: false,\n};\n\nDownload.propTypes = {\n    /**\n     * The ID used to identify this component in Dash callbacks.\n     */\n    id: PropTypes.string,\n\n    /**\n     * When set, a download is invoked using a Blob.\n     */\n    data: PropTypes.shape({\n        filename: PropTypes.string.isRequired,\n        content: PropTypes.any.isRequired,\n        base64: PropTypes.bool,\n        mime_type: PropTypes.string,\n    }),\n\n    /**\n     * Default value for base64.\n     */\n    base64: PropTypes.bool,\n\n    /**\n     * Default value for mime_type.\n     */\n    mime_type: PropTypes.string,\n\n    /**\n     * Dash-assigned callback that should be called to report property changes\n     * to Dash, to make them available for callbacks.\n     */\n    setProps: PropTypes.func\n};\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\nimport L from 'react-lottie';\n\n/**\n * Light wrapper of the react Lottie component for Dash.\n */\nexport default class Lottie extends Component {\n\n    constructor(props) {\n        super(props);\n        this.myRef = React.createRef();\n        this.el = null;\n    }\n\n    componentDidMount() {\n        this.el.ref.current.componentDidUpdate();\n    }\n\n    shouldComponentUpdate(nextProps){\n        // On speed change, don't re-render.\n        if(this.props.speed && nextProps.speed !== this.props.speed){\n            // Update speed prop of animation.\n            const nProps = Object.assign({}, this.el.ref.current.props);\n            nProps.speed = nextProps.speed;\n            this.el.ref.current.props = nProps;\n            // Refresh the animation.\n            this.el.ref.current.componentDidUpdate();\n            // Don't recreate the animation.\n            return false;\n        }\n        // Do re-render if anything but loading_state has changed.\n        for(const prop in nextProps) {\n            if(prop === \"loading_state\"){\n                continue;\n            }\n            if(this.props[prop] !== nextProps[prop]){\n                return true;\n            }\n        }\n        // If no prop has changes, don't re-render.\n        return false;\n    }\n\n    render() {\n        // Get data from url.\n        if (this.props.url) {\n            var Httpreq = new XMLHttpRequest();\n            Httpreq.open(\"GET\", this.props.url, false);\n            Httpreq.send(null);\n            this.props.options.animationData = JSON.parse(Httpreq.responseText);\n        }\n        // TODO: Add eventListeners (see https://www.npmjs.com/package/react-lottie)\n        this.el = <L {...this.props} ref={this.myRef}/>;\n        return this.el\n    }\n}\n\nLottie.propTypes = {\n\n    /**\n     * The ID used to identify this component in Dash callbacks\n     */\n    id: PropTypes.string,\n\n    /**\n     * The children of this component\n     */\n    children: PropTypes.node,\n\n    /**\n     * The class of the component\n     */\n    className: PropTypes.string,\n\n    /**\n     * Options passed to the Lottie animation (see https://www.npmjs.com/package/react-lottie for details)\n     */\n    options: PropTypes.object,\n\n    /**\n     * If set, data will be downloaded from this url.\n     */\n    url: PropTypes.string,\n\n    /**\n     * Pixel value for containers width.\n     */\n    width: PropTypes.string,\n\n    /**\n     * Pixel value for containers height.\n     */\n    height: PropTypes.string,\n\n    // Additional properties.\n    isStopped: PropTypes.bool,\n    isPaused: PropTypes.bool,\n    speed: PropTypes.number,\n    segments: PropTypes.arrayOf(PropTypes.number),\n    direction: PropTypes.number,\n    ariaRole: PropTypes.string,\n    ariaLabel: PropTypes.string,\n    isClickToPauseDisabled: PropTypes.bool,\n    title: PropTypes.string,\n    style: PropTypes.string,\n\n};\n\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * The Keyboard component listens for keyboard events.\n */\nexport default class Keyboard extends Component {\n\n    constructor(props) {\n        super(props);\n        this.keydownHandler = this.keydownHandler.bind(this);\n        this.keyupHandler = this.keyupHandler.bind(this);\n    }\n\n    keydownHandler(event) {\n        if(!this.props.captureKeys || this.props.captureKeys.indexOf(event.key) > -1){\n            const keydown = this.props.eventProps.reduce(\n                function(o, k) { o[k] = event[k]; return o; }, {})\n            this.props.setProps({keydown: keydown})\n            this.props.setProps({n_keydowns: this.props.n_keydowns + 1})\n            if(keydown.key){\n                const keys_pressed = Object.assign(this.props.keys_pressed, {})\n                keys_pressed[keydown.key] = keydown\n                this.props.setProps({keys_pressed: keys_pressed})\n            }\n        }\n    }\n\n    keyupHandler(event) {\n        if(!this.props.captureKeys || this.props.captureKeys.indexOf(event.key) > -1){\n            const keyup = this.props.eventProps.reduce(\n            function(o, k) { o[k] = event[k]; return o; }, {})\n            this.props.setProps({keyup: keyup})\n            this.props.setProps({n_keyups: this.props.n_keyups + 1})\n            if(keyup.key){\n                const keys_pressed = Object.assign(this.props.keys_pressed, {})\n                delete keys_pressed[event.key];\n                this.props.setProps({keys_pressed: keys_pressed})\n            }\n        }\n    }\n\n    componentDidMount() {\n        document.addEventListener(\"keydown\", this.keydownHandler, false);\n        document.addEventListener(\"keyup\", this.keyupHandler, false);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener(\"keydown\", this.keydownHandler, false);\n        document.removeEventListener(\"keyup\", this.keyupHandler, false);\n    }\n\n    render() {\n        return (null);\n    }\n};\n\nKeyboard.defaultProps = {\n    eventProps: [\"key\", \"altKey\", \"ctrlKey\", \"shiftKey\",\"metaKey\", \"repeat\"],\n    n_keydowns: 0,\n    n_keyups: 0,\n    keys_pressed: {}\n};\n\n\nKeyboard.propTypes = {\n    /**\n     * The ID used to identify this component in Dash callbacks.\n     */\n    id: PropTypes.string,\n\n    /**\n     * The event properties to forward to dash, see https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent.\n     */\n    eventProps: PropTypes.arrayOf(PropTypes.string),\n\n    /**\n     * The keys to capture. Defaults to all keys.\n     */\n    captureKeys: PropTypes.arrayOf(PropTypes.string),\n\n    /**\n     * Dash-assigned callback that should be called to report property changes\n     * to Dash, to make them available for callbacks.\n     */\n    setProps: PropTypes.func,\n\n     /**\n     * keydown (dict) the object that holds the result of the key down event. It is a dictionary with the following keys:\n     *      \"key\", \"altKey\", \"ctrlKey\", \"shiftKey\",\"metaKey\", \"repeat\". Those keys have the following values:\n     *\n     *    - key (str) which key is pressed\n     *    - altKey (bool) whether the Alt key is pressed\n     *    - ctrlKey (bool) Ctrl key is pressed\n     *    - shiftKey (bool) Shift key is pressed\n     *    - metaKey (bool) Meta key is pressed (Mac: Command key or PC: Windows key)\n     *    - repeat (bool) whether the key is held down\n     */\n    keydown: PropTypes.object,\n\n     /**\n     * keyup (dict) the object that holds the result of the key up event. Structure like keydown.\n     */\n    keyup: PropTypes.object,\n\n    /**\n     * keys_pressed (dict) is a dict of objects like keydown for all keys currently pressed.\n     */\n    keys_pressed: PropTypes.object,\n\n     /**\n     * A counter, which is incremented on each key down event, similar to n_clicks for buttons.\n     */\n     n_keydowns: PropTypes.number,\n\n     /**\n     * A counter, which is incremented on each key up event, similar to n_clicks for buttons.\n     */\n    n_keyups: PropTypes.number\n\n\n};\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\n\n/**\n * The Sync component makes it possible to synchronize states between components.\n */\nexport default class Monitor extends Component {\n\n    constructor(props) {\n        // Call super.\n        super(props);\n        // For caching of the monitored data.\n        this.data = {};\n    }\n\n    // region Getting values\n\n    _loop_children_recursively(children, apply) {\n        // No children, just return.\n        if (!children) {\n            return\n        }\n        // Single child, look at it.\n        if (!children.length) {\n            this._loop_children_recursively_inner(children, apply);\n            return\n        }\n        // Multiple children, loop them.\n        for (let i = 0; i < children.length; i++) {\n            this._loop_children_recursively_inner(children[i], apply);\n        }\n    }\n\n    _loop_children_recursively_inner(child, apply) {\n        if (!child.props) {\n            return\n        }\n        apply(child);\n        this._loop_children_recursively(child.props.children, apply)\n    }\n\n    _monitor(key, props) {\n        if (!props) {\n            return\n        }\n        const elements = this.props.probes[key];\n        for (let i = 0; i < elements.length; i++) {\n            let id = elements[i].id ? elements[i].id : elements[i][0]\n            const prop = elements[i].prop ? elements[i].prop : elements[i][1]\n            let compare_id = props.id\n\n            // If ids are objects, convert them to strings\n            if (typeof id === 'object'){id = JSON.stringify(id)}\n            if (typeof compare_id === 'object'){compare_id = JSON.stringify(compare_id)}\n\n            // Check if there is a match.\n            if (compare_id !== id || !(prop in props)) {\n                continue\n            }\n\n\n            // Check if value has changed.\n            if (this.data[key] && this.data[key][id] && this.data[key][id][prop] &&\n                this.data[key][id][prop].value === props[prop]) {\n                continue\n            }\n            // Do update.\n            this.data[key] = this.data[key] || {};\n            this.data[key][id] = this.data[key][id] || {};\n            this.data[key][id][prop] = {value: props[prop], time: new Date().getTime()}\n        }\n    }\n\n    // endregion\n\n    render() {\n        // Update data.\n        React.Children.map(this.props.children, (child) => {\n            for (const key in this.props.probes) {\n                const dlp = child.props._dashprivate_layout;\n                const children = dlp.props.children;\n                this._monitor(key, dlp.props)\n                this._loop_children_recursively(children, (child) => this._monitor(key, child.props))\n            }\n        })\n        // Derive the data to be passed to Dash.\n        const newData = {}\n        for (const key in this.props.probes) {\n            let time = 0;\n            for (const id in this.data[key]){\n                for (const prop in this.data[key][id]){\n                    const elem = this.data[key][id][prop];\n                    if(elem.time > time){\n                        time = elem.time;\n                        newData[key] = {value: elem.value, trigger: {id:id, prop:prop}}\n                    }\n                }\n            }\n        }\n        this.props.setProps({data: newData})\n        // Render as-is.\n        return <div className={this.props.className} style={this.props.style}>{this.props.children}</div>\n    }\n\n};\n\nMonitor.defaultProps = {\n};\nMonitor.propTypes = {\n\n    /**\n     * List of probes. Each link is a list of dicts that specify which properties each probe records.\n     */\n    probes: PropTypes.objectOf(\n        PropTypes.arrayOf(\n            PropTypes.oneOfType([\n                // tuple notation, i.e. (id, prop)\n                PropTypes.arrayOf(PropTypes.string),\n                // object notation, i.e. {\"id\": id, \"prop\": prop}\n                PropTypes.shape({\n                    id: PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.object.isRequired]),\n                    prop: PropTypes.any.isRequired,\n                })\n            ])\n        ),\n    ),\n\n    // TODO: Add structure\n    data: PropTypes.object,\n\n    /**\n     * The ID used to identify this component in Dash callbacks.\n     */\n    id: PropTypes.string,\n\n    /**\n     * Dash-assigned callback that should be called to report property changes\n     * to Dash, to make them available for callbacks.\n     */\n    setProps: PropTypes.func,\n\n    /**\n     * The children of this component. Must be a list of components with length > 1.\n     */\n    children: PropTypes.arrayOf(PropTypes.node),\n\n    /**\n     * The CSS style of the component.\n     */\n    style: PropTypes.object,\n\n    /**\n     * A custom class name.\n     */\n    className: PropTypes.string,\n\n};\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport * as rbm from 'react-burger-menu';\n\n/**\n * A light wrapper of BurgerMenu.\n */\nexport default class BurgerMenu extends Component {\n\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        const {width, height, pageWrapId, outerContainerId, right, disableCloseOnEsc, noOverlay, disableOverlayClick,\n            noTransition, customBurgerIcon, customCrossIcon, disableAutoFocus, style, id, className, effect, children}\n            = this.props;\n        const props = {\n            width: width, height: height, pageWrapId: pageWrapId, outerContainerId: outerContainerId, right: right,\n            disableCloseOnEsc: disableCloseOnEsc, noOverlay: noOverlay, disableOverlayClick: disableOverlayClick,\n            noTransition: noTransition, customBurgerIcon: customBurgerIcon, customCrossIcon: customCrossIcon,\n            disableAutoFocus: disableAutoFocus, style: style, id:id, className: className}\n        const Menu = rbm.default[effect]\n        return (\n            <Menu {...props}>\n                {children}\n            </Menu>\n        );\n    }\n\n}\n\nBurgerMenu.defaultProps = {\n    width: \"300px\",\n    height: \"100%\",\n    effect: \"slide\"\n};\n\nBurgerMenu.propTypes = {\n\n    width: PropTypes.string,\n\n    height: PropTypes.string,\n\n    effect: PropTypes.oneOf([\"slide\", \"stack\", \"elastic\", \"bubble\", \"push\", \"pushRotate\", \"scaleDown\",\n        \"scaleRotate\", \"fallDown\", \"reveal\"]),\n\n    pageWrapId: PropTypes.string,\n\n    outerContainerId: PropTypes.string,\n\n    right: PropTypes.bool,\n\n    disableCloseOnEsc: PropTypes.bool,\n\n    noOverlay: PropTypes.bool,\n\n    disableOverlayClick: PropTypes.bool,\n\n    noTransition: PropTypes.bool,\n\n    customBurgerIcon: PropTypes.bool,\n\n    customCrossIcon: PropTypes.bool,\n\n    disableAutoFocus: PropTypes.bool,\n\n    style: PropTypes.object,\n\n    // State props.\n\n    isOpen: PropTypes.bool,\n\n    // Dash props.\n\n    /**\n     * The ID used to identify this component in Dash callbacks\n     */\n    id: PropTypes.string,\n\n    /**\n     * The children of this component\n     */\n    children: PropTypes.node,\n\n    /**\n     * The class of the component\n     */\n    className: PropTypes.string,\n\n};","import React from 'react';\nimport { bool, func, node, number, object, oneOfType, string } from 'prop-types';\n\nvar debounce = function debounce(fn, time) {\n  var timeout = void 0;\n\n  return function () {\n    var _this = this,\n        _arguments = arguments;\n\n    var functionCall = function functionCall() {\n      return fn.apply(_this, _arguments);\n    };\n\n    clearTimeout(timeout);\n    timeout = setTimeout(functionCall, time);\n  };\n};\n\n// https://stackoverflow.com/questions/6860853/generate-random-string-for-div-id#6860916\n\nvar guidGenerator = (function () {\n  var S4 = function S4() {\n    return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);\n  };\n  return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + S4() + S4() + S4();\n});\n\nfunction getHighest(elements) {\n  var highest = 0;\n  elements.forEach(function (el) {\n    if (el.rect.height > highest) {\n      highest = el.rect.height;\n    }\n  });\n  return highest;\n}\n\nfunction nextTriggerOnMount(_ref) {\n  var rect = _ref.rect,\n      mode = _ref.mode,\n      prevOffset = _ref.prevOffset,\n      position = _ref.position,\n      direction = _ref.direction,\n      width = _ref.width;\n\n  if (mode !== 'chain') return false;\n  switch (direction) {\n    case 'toRight':\n      return position.from > 0;\n    case 'toLeft':\n    default:\n      return rect.width + position.from <= width;\n  }\n}\n\nfunction getFromOffset(_ref) {\n  var rect = _ref.rect,\n      offset = _ref.offset,\n      direction = _ref.direction;\n\n  switch (direction) {\n    case 'toRight':\n      return offset - rect.width;\n    case 'toLeft':\n    default:\n      return offset;\n  }\n}\n\nfunction getFrom(_ref2) {\n  var index = _ref2.index,\n      rect = _ref2.rect,\n      offset = _ref2.offset,\n      width = _ref2.width,\n      direction = _ref2.direction;\n\n  if (index === 0) return offset;\n\n  if (typeof offset === 'number') {\n    return getFromOffset({ rect: rect, offset: offset, direction: direction });\n  }\n\n  switch (direction) {\n    case 'toRight':\n      return -rect.width;\n    case 'toLeft':\n    default:\n      return width;\n  }\n}\n\nfunction getTo(_ref3) {\n  var rect = _ref3.rect,\n      width = _ref3.width,\n      direction = _ref3.direction;\n\n  switch (direction) {\n    case 'toRight':\n      return width;\n    case 'toLeft':\n    default:\n      return -rect.width;\n  }\n}\n\nfunction getNext(_ref4) {\n  var mode = _ref4.mode,\n      from = _ref4.from,\n      direction = _ref4.direction,\n      rect = _ref4.rect,\n      width = _ref4.width;\n\n  var start = from || 0;\n\n  switch (mode) {\n    case 'await':\n      switch (direction) {\n        case 'toRight':\n          return width;\n        case 'toLeft':\n        default:\n          return -rect.width;\n      }\n    case 'smooth':\n      switch (direction) {\n        case 'toRight':\n          return rect.width > width ? 0 : width - rect.width;\n        case 'toLeft':\n        default:\n          return rect.width > width ? width - rect.width : 0;\n      }\n    case 'chain':\n    default:\n      switch (direction) {\n        case 'toRight':\n          return 0;\n        case 'toLeft':\n        default:\n          return rect.width + start > width ? width - rect.width : width - rect.left - rect.width;\n      }\n  }\n}\n\nvar getPosition = (function (_ref5) {\n  var mode = _ref5.mode,\n      index = _ref5.index,\n      rect = _ref5.rect,\n      offset = _ref5.offset,\n      width = _ref5.width,\n      direction = _ref5.direction;\n\n  var from = getFrom({ index: index, rect: rect, offset: offset, width: width, direction: direction });\n  var to = getTo({ rect: rect, width: width, direction: direction });\n  return {\n    from: from,\n    to: to,\n    next: getNext({ mode: mode, from: from, direction: direction, rect: rect, width: width })\n  };\n});\n\nfunction getNextOffset(_ref) {\n  var from = _ref.from,\n      rect = _ref.rect,\n      direction = _ref.direction;\n\n  switch (direction) {\n    case 'toRight':\n      {\n        return from;\n      }\n    case 'toLeft':\n    default:\n      {\n        return from + rect.width;\n      }\n  }\n}\n\nfunction getStartOffset(_ref) {\n  var offset = _ref.offset,\n      rect = _ref.rect,\n      direction = _ref.direction,\n      width = _ref.width;\n\n  if (offset === 'run-in') {\n    switch (direction) {\n      case 'toRight':\n        return -rect.width;\n      case 'toLeft':\n      default:\n        return width;\n    }\n  }\n  if (typeof offset === 'string') {\n    var offsetRelative = Number(offset.replace('%', ''));\n    if (offsetRelative) return width / 100 * offsetRelative;\n  }\n  return offset;\n}\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\nvar TickerElement = function (_React$Component) {\n  inherits(TickerElement, _React$Component);\n\n  function TickerElement() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, TickerElement);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = TickerElement.__proto__ || Object.getPrototypeOf(TickerElement)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      children: _this.props.children({\n        index: _this.props.index\n      }),\n      move: _this.props.move,\n      position: { from: undefined, to: undefined, next: undefined },\n      offset: _this.props.offset,\n      rect: null\n    }, _this.x = 0, _this.isMoving = false, _this.nextTriggered = false, _this.elementRef = React.createRef(), _this.componentDidMount = function () {\n      _this.setPosition(true);\n      _this.observer = new MutationObserver(_this.onMutation);\n      _this.observer.observe(_this.elementRef.current, { characterData: true, childList: true, subtree: true });\n    }, _this.componentWillUnmount = function () {\n      _this.observer.disconnect();\n    }, _this.onMutation = function () {\n      _this.setPosition();\n    }, _this.componentDidUpdate = function (prevProps, prevState) {\n      if (!_this.x && prevState.position.from !== _this.state.position.from) {\n        _this.x = _this.state.position.from;\n        _this.elementRef.current.style.transform = 'translate3d(' + _this.x + 'px, 0, 0)';\n      }\n      if (_this.x !== _this.state.position.from && prevProps.prevRect && _this.props.prevRect && prevProps.prevRect.width !== _this.props.prevRect.width) {\n        if (_this.props.offset) {\n          _this.x = _this.x + (_this.props.offset - prevProps.offset);\n        } else {\n          _this.x = _this.x + (_this.props.prevRect.width - prevProps.prevRect.width);\n        }\n        _this.elementRef.current.style.transform = 'translate3d(' + _this.x + 'px, 0, 0)';\n      }\n      if (_this.props.move && !prevProps.start && _this.props.start) {\n        _this.animate();\n      }\n      if (_this.props.start && !prevProps.move && _this.props.move) {\n        _this.animate();\n      }\n      if (prevProps.move && !_this.props.move) {\n        _this.isMoving = false;\n      }\n    }, _this.setPosition = function (isMount) {\n      var _this$props = _this.props,\n          mode = _this$props.mode,\n          width = _this$props.width,\n          id = _this$props.id,\n          onNext = _this$props.onNext,\n          direction = _this$props.direction,\n          index = _this$props.index,\n          setRect = _this$props.setRect;\n\n\n      var rect = _this.elementRef.current.getBoundingClientRect();\n      if (rect.width === 0) return;\n\n      var offset = _this.props.index === 0 ? getStartOffset({ offset: _this.props.offset, rect: rect, direction: direction, width: width }) : _this.props.offset;\n\n      var position = getPosition({ mode: mode, rect: rect, index: index, offset: offset, width: width, direction: direction });\n\n      setRect({\n        index: _this.props.index,\n        rect: rect,\n        offset: offset,\n        nextOffset: getNextOffset({ from: position.from, rect: rect, direction: direction })\n      });\n\n      if (isMount) {\n        var nextTriggerOnMount$$1 = nextTriggerOnMount({ mode: mode, rect: rect, position: position, offset: offset, direction: direction, width: width });\n        if (nextTriggerOnMount$$1) {\n          onNext({\n            id: id,\n            index: index,\n            rect: rect,\n            nextOffset: getNextOffset({ from: position.from, rect: rect, direction: direction })\n          });\n        }\n        if (!nextTriggerOnMount$$1 && (offset || index === 0)) {\n          onNext({ id: id, index: index, rect: rect });\n        }\n        _this.nextTriggered = nextTriggerOnMount$$1;\n      }\n\n      _this.setState({\n        rect: rect,\n        offset: offset,\n        position: position\n      });\n    }, _this.shouldTriggerNext = function () {\n      if (_this.nextTriggered) return false;\n      return _this.props.direction === 'toLeft' ? _this.x <= _this.state.position.next : _this.x >= _this.state.position.next;\n    }, _this.triggerNext = function () {\n      if (_this.shouldTriggerNext()) {\n        // if (this.props.index === 5) console.log(this.x)\n        _this.nextTriggered = true;\n        _this.props.onNext({\n          id: _this.props.id,\n          index: _this.props.index,\n          rect: _this.state.rect\n        });\n      }\n    }, _this.shouldFinish = function () {\n      switch (_this.props.direction) {\n        case 'toRight':\n          return _this.x >= _this.state.position.to;\n        case 'toLeft':\n        default:\n          return _this.x <= _this.state.position.to;\n      }\n    }, _this.animate = function () {\n      if (_this.isMoving) return;\n      _this.isMoving = true;\n\n      var prevTimestamp = null;\n\n      var step = function step(timestamp) {\n        if (!_this.isMoving) return;\n        if (!_this.elementRef.current) return;\n\n        var progress = prevTimestamp ? timestamp - prevTimestamp : 0;\n\n        _this.x = _this.props.direction === 'toLeft' ? _this.x - progress / 100 * _this.props.speed : _this.x + progress / 100 * _this.props.speed;\n        _this.elementRef.current.style.transform = 'translate3d(' + _this.x + 'px, 0, 0)';\n        _this.triggerNext();\n\n        if (_this.shouldFinish()) {\n          _this.isMoving = false;\n          prevTimestamp = null;\n          _this.props.onFinish(_this.props.id);\n        } else {\n          prevTimestamp = timestamp;\n          window.requestAnimationFrame(step);\n        }\n      };\n      window.requestAnimationFrame(step);\n    }, _this.render = function () {\n      return React.createElement(\n        'div',\n        {\n          className: 'ticker__element',\n          style: {\n            willChange: 'transform',\n            position: 'absolute',\n            left: 0,\n            top: 0,\n            transform: 'translate3d(' + _this.x + 'px, 0, 0)'\n          },\n          ref: _this.elementRef\n        },\n        _this.state.children\n      );\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  return TickerElement;\n}(React.Component);\n\nTickerElement.propTypes = {\n  children: oneOfType([node, func]).isRequired,\n  direction: string.isRequired,\n  speed: number.isRequired,\n  id: string.isRequired,\n  index: number.isRequired,\n  mode: string.isRequired,\n  move: bool.isRequired,\n  onNext: func.isRequired,\n  onFinish: func.isRequired,\n  setRect: func.isRequired,\n  start: bool.isRequired,\n\n  offset: oneOfType([number, string]),\n  prevRect: object,\n  width: number\n};\nTickerElement.defaultProps = {\n  offset: undefined,\n  width: undefined,\n  prevRect: null\n};\n\nvar getDefaultState = function getDefaultState(offset, width) {\n  return {\n    elements: [{\n      id: guidGenerator(),\n      index: 0,\n      height: 0,\n      start: false,\n      offset: offset,\n      rect: null,\n      prevRect: null\n    }],\n    width: width,\n    height: 0\n  };\n};\n\nvar Ticker = function (_React$Component) {\n  inherits(Ticker, _React$Component);\n\n  function Ticker() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, Ticker);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = Ticker.__proto__ || Object.getPrototypeOf(Ticker)).call.apply(_ref, [this].concat(args))), _this), _this.next = null, _this.state = getDefaultState(_this.props.offset), _this.tickerRef = React.createRef(), _this.dOnResize = debounce(function () {\n      return _this.onResize();\n    }, 150), _this.componentDidMount = function () {\n      _this.setState({\n        width: _this.tickerRef.current.offsetWidth,\n        height: _this.props.height\n      });\n      window.addEventListener('resize', _this.dOnResize);\n    }, _this.componentWillUnmount = function () {\n      window.removeEventListener('resize', _this.dOnResize);\n    }, _this.setRect = function (_ref2) {\n      var index = _ref2.index,\n          rect = _ref2.rect,\n          offset = _ref2.offset,\n          nextOffset = _ref2.nextOffset;\n\n      _this.setState(function (prevState) {\n        var elements = prevState.elements.map(function (el) {\n          var newEl = el;\n          if (el.index === index) newEl.rect = rect;\n          // next element\n          if (el.index === index + 1) {\n            newEl.prevRect = rect;\n            if (newEl.offset) {\n              newEl.offset = nextOffset;\n            }\n          }\n          return newEl;\n        });\n        return {\n          elements: elements,\n          height: _this.props.height ? prevState.height : getHighest(elements)\n        };\n      });\n    }, _this.onResize = function () {\n      if (!_this.tickerRef.current || _this.tickerRef.current.offsetWidth === _this.state.width) return;\n      _this.setState(_extends({}, getDefaultState(_this.props.offset, _this.tickerRef.current.offsetWidth), {\n        height: _this.props.height\n      }));\n    }, _this.onFinish = function (id) {\n      _this.setState(function (prevState) {\n        return {\n          elements: prevState.elements.filter(function (el) {\n            return el.id !== id;\n          })\n        };\n      });\n    }, _this.onNext = function (_ref3) {\n      var id = _ref3.id,\n          index = _ref3.index,\n          rect = _ref3.rect,\n          nextOffset = _ref3.nextOffset;\n\n      _this.setState(function (prevState) {\n        return {\n          elements: [].concat(toConsumableArray(prevState.elements.map(function (el) {\n            var newEl = el;\n            if (el.index === index) newEl.rect = rect;\n            if (el.index === 0 || el.offset || newEl.index === index + 1) {\n              newEl.start = true;\n            }\n            return newEl;\n            // create new element\n          })), [{\n            id: guidGenerator(),\n            index: prevState.elements[prevState.elements.length - 1].index + 1,\n            height: 0,\n            start: false,\n            offset: nextOffset,\n            rect: null,\n            prevRect: rect\n          }])\n        };\n      });\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(Ticker, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\n        'div',\n        {\n          className: 'ticker',\n          ref: this.tickerRef,\n          style: {\n            position: 'relative',\n            overflow: 'hidden',\n            height: this.state.height && this.state.height + 'px'\n          }\n        },\n        this.state.width && this.state.elements.map(function (el) {\n          return React.createElement(\n            TickerElement,\n            {\n              key: el.id,\n              id: el.id,\n              index: el.index,\n              start: el.start,\n              offset: el.offset,\n              prevRect: el.prevRect,\n\n              direction: _this2.props.direction,\n              mode: _this2.props.mode,\n              move: _this2.props.move,\n              speed: _this2.props.speed,\n\n              onFinish: _this2.onFinish,\n              onNext: _this2.onNext,\n              setRect: _this2.setRect,\n              width: _this2.state.width\n            },\n            _this2.props.children\n          );\n        })\n      );\n    }\n  }]);\n  return Ticker;\n}(React.Component);\n\nTicker.propTypes = {\n  children: oneOfType([node, func]).isRequired,\n\n  direction: string,\n  mode: string,\n  move: bool,\n  offset: oneOfType([number, string]),\n  speed: number,\n  height: oneOfType([number, string])\n};\nTicker.defaultProps = {\n  offset: 0,\n  speed: 5,\n  direction: 'toLeft',\n  mode: 'chain',\n  move: true,\n  height: undefined\n};\n\nexport default Ticker;\n//# sourceMappingURL=index.es.js.map\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport ReactTicker from 'react-ticker';\n\n/**\n * A light wrapper of ReactTicker.\n */\nexport default class Ticker extends Component {\n\n    render() {\n        return (\n            <ReactTicker {...this.props}>\n                {({index}) => (\n                    <>\n                        {this.props.children}\n                    </>\n                )}\n            </ReactTicker>\n        );\n    }\n\n}\n\nTicker.propTypes = {\n\n    direction: PropTypes.oneOf([\"toRight\", \"toLeft\"]),\n\n    mode: PropTypes.oneOf([\"chain\", \"await\", \"smooth\"]),\n\n    move: PropTypes.bool,\n\n    offset: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n    speed: PropTypes.number,\n\n    height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n    // Dash props.\n\n    /**\n     * The ID used to identify this component in Dash callbacks\n     */\n    id: PropTypes.string,\n\n    /**\n     * The children of this component\n     */\n    children: PropTypes.node,\n\n    /**\n     * The class of the component\n     */\n    className: PropTypes.string,\n\n};","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * A simple interface to\n */\nexport default class DashWebSocket extends Component {\n\n    _init_client() {\n        // Create a new client.\n        let {url} = this.props;\n        const {protocols} = this.props;\n        url = url? url : \"ws://\" + location.host + \"/ws\";\n        this.client = new WebSocket(url, protocols);\n        // Listen for events.\n        this.client.onopen = (e) => {\n            // TODO: Add more properties here?\n            this.props.setProps({\n                state: {\n                    // Mandatory props.\n                    readyState: WebSocket.OPEN,\n                    isTrusted: e.isTrusted,\n                    timeStamp: e.timeStamp,\n                    // Extra props.\n                    origin: e.origin,\n                }\n            })\n        }\n        this.client.onmessage = (e) => {\n            // TODO: Add more properties here?\n            this.props.setProps({\n                message: {\n                    data: e.data,\n                    isTrusted: e.isTrusted,\n                    origin: e.origin,\n                    timeStamp: e.timeStamp\n                }\n            })\n        }\n        this.client.onerror = (e) => {\n            // TODO: Implement error handling.\n            this.props.setProps({error: JSON.stringify(e)})\n        }\n        this.client.onclose = (e) => {\n            // TODO: Add more properties here?\n            this.props.setProps({\n                state: {\n                    // Mandatory props.\n                    readyState: WebSocket.CLOSED,\n                    isTrusted: e.isTrusted,\n                    timeStamp: e.timeStamp,\n                    // Extra props.\n                    code: e.code,\n                    reason: e.reason,\n                    wasClean: e.wasClean,\n                }\n            })\n        }\n    }\n\n    componentDidMount() {\n        this._init_client()\n    }\n\n    componentDidUpdate(prevProps) {\n        const {send} = this.props;\n        // Send messages.\n        if (send && send !== prevProps.send) {\n            if (this.props.state.readyState === WebSocket.OPEN) {\n                this.client.send(send)\n            }\n        }\n        // TODO: Maybe add support for changing the url?\n    }\n\n    componentWillUnmount() {\n        // Clean up (close the connection).\n        this.client.close();\n    }\n\n    render() {\n        return (null);\n    }\n\n}\n\nDashWebSocket.defaultProps = {\n    state: {readyState: WebSocket.CONNECTING}\n}\n\nDashWebSocket.propTypes = {\n\n    /**\n     * This websocket state (in the readyState prop) and associated information.\n     */\n    state: PropTypes.object,\n\n    /**\n     * When messages are received, this property is updated with the message content.\n     */\n    message: PropTypes.object,\n\n    /**\n     * This property is set with the content of the onerror event.\n     */\n    error: PropTypes.object,\n\n    /**\n     * When this property is set, a message is sent with its content.\n     */\n    send: PropTypes.object,\n\n    /**\n     * The websocket endpoint (e.g. wss://echo.websocket.org).\n     */\n    url: PropTypes.string,\n\n    /**\n     * Supported websocket protocols (optional).\n     */\n    protocols: PropTypes.arrayOf(PropTypes.string),\n\n    /**\n     * The ID used to identify this component in Dash callbacks.\n     */\n    id: PropTypes.string,\n\n    /**\n     * Dash-assigned callback that should be called to report property changes\n     * to Dash, to make them available for callbacks.\n     */\n    setProps: PropTypes.func\n\n}","import React, { PureComponent, Component } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar classnames = createCommonjsModule(function (module) {\n/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (module.exports) {\n\t\tmodule.exports = classNames;\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n});\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n/**\n * @class BlockImage\n *\n * Component that displays a div with background-image instead of an img for\n * more control. Also allows for specifying an optional fallback image and\n * loading component.\n */\n\nvar BlockImage = function (_PureComponent) {\n  inherits(BlockImage, _PureComponent);\n\n  function BlockImage() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, BlockImage);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = BlockImage.__proto__ || Object.getPrototypeOf(BlockImage)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      status: 'loading'\n    }, _this._isMounted = false, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(BlockImage, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      this._isMounted = true;\n      this._reload(this.props);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(props) {\n      if (this.props.src !== props.src || this.props.fallback !== props.fallback && this.state.status === 'error') {\n        this._reload(props);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          src = _props.src,\n          fallback = _props.fallback,\n          showPreview = _props.showPreview,\n          loader = _props.loader,\n          backgroundPosition = _props.backgroundPosition,\n          backgroundRepeat = _props.backgroundRepeat,\n          backgroundSize = _props.backgroundSize,\n          children = _props.children,\n          style = _props.style,\n          rest = objectWithoutProperties(_props, ['src', 'fallback', 'showPreview', 'loader', 'backgroundPosition', 'backgroundRepeat', 'backgroundSize', 'children', 'style']);\n      var status = this.state.status;\n\n\n      var bgImageStyles = {};\n      var loadingAndShowPreview = status === 'loading' && showPreview;\n\n      var url = src || fallback;\n\n      if (fallback && (status === 'error' || loadingAndShowPreview)) {\n        url = fallback;\n      }\n\n      if (url) {\n        var backgroundImage = 'url(' + url + ')';\n        bgImageStyles.backgroundImage = backgroundImage;\n        bgImageStyles.backgroundPosition = backgroundPosition;\n        bgImageStyles.backgroundRepeat = backgroundRepeat;\n        bgImageStyles.backgroundSize = backgroundSize;\n      }\n\n      var rootStyle = Object.assign(bgImageStyles, style);\n\n      return React.createElement(\n        'div',\n        _extends({\n          style: rootStyle\n        }, rest),\n        children,\n        loadingAndShowPreview && loader\n      );\n    }\n  }, {\n    key: '_reload',\n    value: function _reload(props) {\n      var _this2 = this;\n\n      var src = props.src;\n\n\n      if (!src) {\n        this.setState({ status: 'error' });\n      } else {\n        var img = new Image();\n\n        img.onload = function () {\n          if (_this2._isMounted) {\n            _this2.setState({ status: 'success' });\n          }\n        };\n\n        img.onerror = img.onabort = function (event) {\n          if (_this2._isMounted) {\n            _this2.setState({ status: 'error' });\n          }\n        };\n\n        this.setState({ status: 'loading' });\n        img.src = src;\n      }\n    }\n  }]);\n  return BlockImage;\n}(PureComponent);\n\nBlockImage.propTypes = {\n  // preferred image source url\n  src: PropTypes.string,\n\n  // fallback image source url\n  fallback: PropTypes.string,\n\n  // optional children\n  children: PropTypes.node,\n\n  // whether or not to show fallback while preferred src is loading\n  showPreview: PropTypes.bool,\n\n  // node to show while image is loading\n  loader: PropTypes.node,\n\n  // optionally control css background-size\n  backgroundSize: PropTypes.string,\n\n  // optionally control css background-position\n  backgroundPosition: PropTypes.string,\n\n  // optionally control css background-repeat\n  backgroundRepeat: PropTypes.string,\n\n  // optional style override\n  style: PropTypes.object\n};\nBlockImage.defaultProps = {\n  showPreview: false,\n  backgroundPosition: 'center center',\n  backgroundRepeat: 'no-repeat',\n  backgroundSize: 'cover'\n};\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".styles_container__2pRR5 {\\n  position: relative;\\n}\\n\\n.styles_wrapper__3KXDn {\\n  position: absolute;\\n  width: 120%;\\n  height: 100%;\\n  top: -10%;\\n  left: -10%;\\n}\\n\\n.styles_content__1Phom {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  cursor: col-resize;\\n}\\n\\n.styles_content__1Phom, .styles_before__2pu1e, .styles_after__OMQap {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.styles_afterWrapper__24Cdm {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  bottom: 0;\\n  width: 50%;\\n  overflow: hidden;\\n}\\n\\n.styles_handle__33IZp {\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  margin-left: -1px;\\n  width: 2px;\\n  background: #fff;\\n}\\n\";\nvar styles = { \"container\": \"styles_container__2pRR5\", \"wrapper\": \"styles_wrapper__3KXDn\", \"content\": \"styles_content__1Phom\", \"before\": \"styles_before__2pu1e\", \"after\": \"styles_after__OMQap\", \"afterWrapper\": \"styles_afterWrapper__24Cdm\", \"handle\": \"styles_handle__33IZp\" };\nstyleInject(css);\n\nvar classCallCheck$1 = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass$1 = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends$1 = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits$1 = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties$1 = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn$1 = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n/**\n * @class BeforeAfterSlider\n */\n\nvar BeforeAfterSlider = function (_Component) {\n  inherits$1(BeforeAfterSlider, _Component);\n\n  function BeforeAfterSlider() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck$1(this, BeforeAfterSlider);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn$1(this, (_ref = BeforeAfterSlider.__proto__ || Object.getPrototypeOf(BeforeAfterSlider)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      progress: _this.props.defaultProgress\n    }, _this._contentRef = function (ref) {\n      _this._content = ref;\n    }, _this._onMoveWrapper = function (event) {\n      event.preventDefault();\n      var offsetX = event.nativeEvent.offsetX;\n\n      if (!offsetX) {\n        var rect = event.target.getBoundingClientRect();\n        offsetX = event.targetTouches[0].pageX - rect.left;\n      }\n      var width = _this.props.width;\n\n      var progress = Math.max(0, Math.min(1, (offsetX - width / 10) / width));\n      _this.setState({ progress: progress });\n    }, _this._onMoveContent = function (event) {\n      event.preventDefault();\n      var offsetX = event.nativeEvent.offsetX;\n\n      if (!offsetX) {\n        var rect = event.target.getBoundingClientRect();\n        offsetX = event.targetTouches[0].pageX - rect.left;\n      }\n      var width = _this.props.width;\n\n      var progress = Math.max(0, Math.min(1, offsetX / width));\n      _this.setState({ progress: progress });\n    }, _temp), possibleConstructorReturn$1(_this, _ret);\n  }\n\n  createClass$1(BeforeAfterSlider, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          before = _props.before,\n          after = _props.after,\n          className = _props.className,\n          defaultProgress = _props.defaultProgress,\n          beforeClassName = _props.beforeClassName,\n          afterClassName = _props.afterClassName,\n          beforeProps = _props.beforeProps,\n          afterProps = _props.afterProps,\n          width = _props.width,\n          height = _props.height,\n          rest = objectWithoutProperties$1(_props, ['before', 'after', 'className', 'defaultProgress', 'beforeClassName', 'afterClassName', 'beforeProps', 'afterProps', 'width', 'height']);\n      var progress = this.state.progress;\n\n\n      return React.createElement(\n        'div',\n        _extends$1({\n          className: classnames(styles.container, className),\n          style: {\n            width: width,\n            height: height\n          }\n        }, rest),\n        React.createElement(\n          'div',\n          {\n            className: styles.afterWrapper,\n            style: {\n              width: 100 * progress + '%'\n            }\n          },\n          React.createElement(BlockImage, _extends$1({\n            src: after,\n            className: classnames(styles.after, afterClassName),\n            style: { width: width }\n          }, afterProps))\n        ),\n        React.createElement(BlockImage, _extends$1({\n          src: before,\n          className: classnames(styles.before, beforeClassName)\n        }, beforeProps)),\n        React.createElement('div', {\n          className: styles.handle,\n          style: {\n            left: 100 * progress + '%'\n          }\n        }),\n        React.createElement('div', {\n          className: styles.wrapper,\n          ref: this._contentRef,\n          onTouchMove: this._onMoveWrapper,\n          onMouseMove: this._onMoveWrapper\n        }),\n        React.createElement('div', {\n          className: styles.content,\n          onTouchMove: this._onMoveContent,\n          onMouseMove: this._onMoveContent\n        })\n      );\n    }\n  }]);\n  return BeforeAfterSlider;\n}(Component);\n\nBeforeAfterSlider.propTypes = {\n  before: PropTypes.string.isRequired,\n  after: PropTypes.string.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  defaultProgress: PropTypes.number,\n  className: PropTypes.string,\n  beforeClassName: PropTypes.string,\n  afterClassName: PropTypes.string,\n  beforeProps: PropTypes.object,\n  afterProps: PropTypes.object\n};\nBeforeAfterSlider.defaultProps = {\n  defaultProgress: 0.5,\n  beforeProps: {},\n  afterProps: {}\n};\n\nexport default BeforeAfterSlider;\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport BeforeAfterSlider from 'react-before-after-slider';\n\n/**\n * A light wrapper of BeforeAfterSlider.\n */\nexport default class BeforeAfter extends Component {\n\n    render() {\n        return (\n            <BeforeAfterSlider {...this.props}/>\n        );\n    }\n\n}\n\nBeforeAfter.propTypes = {\n\n    before: PropTypes.string,\n\n    after: PropTypes.string,\n\n    width: PropTypes.number,\n\n    height: PropTypes.number,\n\n    defaultProgress: PropTypes.number,\n\n    beforeClassName: PropTypes.string,\n\n    afterClassName: PropTypes.string,\n\n    beforeProps: PropTypes.object,\n\n    afterProps: PropTypes.object,\n\n    // Dash props.\n\n    /**\n     * The ID used to identify this component in Dash callbacks\n     */\n    id: PropTypes.string,\n\n    /**\n     * The children of this component\n     */\n    children: PropTypes.node,\n\n    /**\n     * The class of the component\n     */\n    className: PropTypes.string,\n\n};","/* eslint-disable import/prefer-default-export */\nimport Download from './components/Download.react';\nimport Lottie from './components/Lottie.react';\nimport Keyboard from './components/Keyboard.react';\nimport Monitor from './components/Monitor.react';\nimport Burger from './components/Burger.react';\nimport Ticker from './components/Ticker.react';\nimport WebSocket from './components/WebSocket.react';\nimport BeforeAfter from './components/BeforeAfter.react';\n\nexport {\n    Download,\n    Lottie,\n    Keyboard,\n    Monitor,\n    Burger,\n    WebSocket,\n    Ticker,\n    BeforeAfter\n};\n"],"sourceRoot":""}